import * as rpc from "vscode-jsonrpc"

/* eslint-disable @typescript-eslint/no-unsafe-call */
const connection = rpc.createMessageConnection(
  // @ts-ignore
  new rpc.StreamMessageReader(process.stdin),
  // @ts-ignore
  new rpc.StreamMessageWriter(process.stdout)
)
/* eslint-enable @typescript-eslint/no-unsafe-call */

const request = new rpc.RequestType<string, string, void>("test")
connection.onRequest(request, (param) => {
  return param
})

connection.listen()
