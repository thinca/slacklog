=================================================================
==19692==ERROR: AddressSanitizer: heap-use-after-free on address 0x61300002da28 at pc 0x5604ebd6e8a0 bp 0x7ffedd2da0c0 sp 0x7ffedd2da0b0
READ of size 4 at 0x61300002da28 thread T0
    #0 0x5604ebd6e89f in hash_lock /home/who/Workspace/vim/src/hashtab.c:286
    #1 0x5604ebbba664 in dict_free_contents /home/who/Workspace/vim/src/dict.c:113
    #2 0x5604ebbba987 in dict_free /home/who/Workspace/vim/src/dict.c:150
    #3 0x5604ebbbcd4c in dict_get_tv /home/who/Workspace/vim/src/dict.c:815
    #4 0x5604ebc06423 in eval7 /home/who/Workspace/vim/src/eval.c:4561
    #5 0x5604ebc04d65 in eval6 /home/who/Workspace/vim/src/eval.c:4237
    #6 0x5604ebc03dd5 in eval5 /home/who/Workspace/vim/src/eval.c:4028
    #7 0x5604ebc03531 in eval4 /home/who/Workspace/vim/src/eval.c:3910
    #8 0x5604ebc030c5 in eval3 /home/who/Workspace/vim/src/eval.c:3830
    #9 0x5604ebc02c23 in eval2 /home/who/Workspace/vim/src/eval.c:3762
    #10 0x5604ebc026b4 in eval1 /home/who/Workspace/vim/src/eval.c:3690
    #11 0x5604ec0bcb75 in get_func_tv /home/who/Workspace/vim/src/userfunc.c:460
    #12 0x5604ebc06acf in eval7 /home/who/Workspace/vim/src/eval.c:4642
    #13 0x5604ebc04d65 in eval6 /home/who/Workspace/vim/src/eval.c:4237
    #14 0x5604ebc03dd5 in eval5 /home/who/Workspace/vim/src/eval.c:4028
    #15 0x5604ebc03531 in eval4 /home/who/Workspace/vim/src/eval.c:3910
    #16 0x5604ebc030c5 in eval3 /home/who/Workspace/vim/src/eval.c:3830
    #17 0x5604ebc02c23 in eval2 /home/who/Workspace/vim/src/eval.c:3762
    #18 0x5604ebc026b4 in eval1 /home/who/Workspace/vim/src/eval.c:3690
    #19 0x5604ebc023c4 in eval0 /home/who/Workspace/vim/src/eval.c:3648
    #20 0x5604ebbf5577 in ex_let_const /home/who/Workspace/vim/src/eval.c:1447
    #21 0x5604ebbf4921 in ex_let /home/who/Workspace/vim/src/eval.c:1348
    #22 0x5604ebcb41a6 in do_one_cmd /home/who/Workspace/vim/src/ex_docmd.c:2500
    #23 0x5604ebcab4c3 in do_cmdline /home/who/Workspace/vim/src/ex_docmd.c:995
    #24 0x5604ec0bfdf3 in call_user_func /home/who/Workspace/vim/src/userfunc.c:1063
    #25 0x5604ec0c278b in call_func /home/who/Workspace/vim/src/userfunc.c:1621
    #26 0x5604ec0c19b9 in call_callback /home/who/Workspace/vim/src/userfunc.c:1465
    #27 0x5604ebc94bfe in timer_callback /home/who/Workspace/vim/src/ex_cmds2.c:328
    #28 0x5604ebc954a6 in check_due_timer /home/who/Workspace/vim/src/ex_cmds2.c:390
    #29 0x5604ec099c6d in ui_wait_for_chars_or_timer /home/who/Workspace/vim/src/ui.c:454
    #30 0x5604ebec3031 in WaitForChar /home/who/Workspace/vim/src/os_unix.c:5940
    #31 0x5604ec099a55 in inchar_loop /home/who/Workspace/vim/src/ui.c:383
    #32 0x5604ebeb65e2 in mch_inchar /home/who/Workspace/vim/src/os_unix.c:388
    #33 0x5604ec099503 in ui_inchar /home/who/Workspace/vim/src/ui.c:231
	#34 0x5604ebd592ca in inchar /home/who/Workspace/vim/src/getchar.c:3092
    #35 0x5604ebd58466 in vgetorpeek /home/who/Workspace/vim/src/getchar.c:2870
    #36 0x5604ebd52549 in vgetc /home/who/Workspace/vim/src/getchar.c:1602
    #37 0x5604ebd52fee in safe_vgetc /home/who/Workspace/vim/src/getchar.c:1821
    #38 0x5604ebe1b618 in normal_cmd /home/who/Workspace/vim/src/normal.c:596
    #39 0x5604ec16ba09 in main_loop /home/who/Workspace/vim/src/main.c:1370
    #40 0x5604ec16acc2 in vim_main2 /home/who/Workspace/vim/src/main.c:903
    #41 0x5604ec16a3a2 in main /home/who/Workspace/vim/src/main.c:444
    #42 0x7fc671557b96 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21b96)
    #43 0x5604ebb736b9 in _start (/home/who/Workspace/vim/src/vim+0xf86b9)

0x61300002da28 is located 40 bytes inside of 336-byte region [0x61300002da00,0x61300002db50)
freed by thread T0 here:
    #0 0x7fc6723e37b8 in __interceptor_free (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xde7b8)
    #1 0x5604ebdf0f5e in vim_free /home/who/Workspace/vim/src/misc2.c:1805
    #2 0x5604ebbba928 in dict_free_dict /home/who/Workspace/vim/src/dict.c:142
    #3 0x5604ebbbab6f in dict_free_items /home/who/Workspace/vim/src/dict.c:197
    #4 0x5604ebc0c92e in free_unref_items /home/who/Workspace/vim/src/eval.c:5778
    #5 0x5604ebc0c83b in garbage_collect /home/who/Workspace/vim/src/eval.c:5725
    #6 0x5604ebd5211c in before_blocking /home/who/Workspace/vim/src/getchar.c:1520
    #7 0x5604ec0999eb in inchar_loop /home/who/Workspace/vim/src/ui.c:354
    #8 0x5604ebeb65e2 in mch_inchar /home/who/Workspace/vim/src/os_unix.c:388
    #9 0x5604ec099503 in ui_inchar /home/who/Workspace/vim/src/ui.c:231
    #10 0x5604ebd592ca in inchar /home/who/Workspace/vim/src/getchar.c:3092
    #11 0x5604ebd58466 in vgetorpeek /home/who/Workspace/vim/src/getchar.c:2870
    #12 0x5604ebd52549 in vgetc /home/who/Workspace/vim/src/getchar.c:1602
    #13 0x5604ebd52fee in safe_vgetc /home/who/Workspace/vim/src/getchar.c:1821
    #14 0x5604ec17bff6 in wait_return /home/who/Workspace/vim/src/message.c:1098
    #15 0x5604ec185de5 in msg_end /home/who/Workspace/vim/src/message.c:3290
    #16 0x5604ec178549 in msg_attr_keep /home/who/Workspace/vim/src/message.c:182
    #17 0x5604ec1782dc in msg_attr /home/who/Workspace/vim/src/message.c:122
    #18 0x5604ec17a6c7 in emsg_core /home/who/Workspace/vim/src/message.c:701
    #19 0x5604ec17a8de in semsg /home/who/Workspace/vim/src/message.c:737
    #20 0x5604ebbbc802 in dict_get_tv /home/who/Workspace/vim/src/dict.c:757
    #21 0x5604ebc06423 in eval7 /home/who/Workspace/vim/src/eval.c:4561
    #22 0x5604ebc04d65 in eval6 /home/who/Workspace/vim/src/eval.c:4237
    #23 0x5604ebc03dd5 in eval5 /home/who/Workspace/vim/src/eval.c:4028
	#24 0x5604ebc03531 in eval4 /home/who/Workspace/vim/src/eval.c:3910
    #25 0x5604ebc030c5 in eval3 /home/who/Workspace/vim/src/eval.c:3830
    #26 0x5604ebc02c23 in eval2 /home/who/Workspace/vim/src/eval.c:3762
    #27 0x5604ebc026b4 in eval1 /home/who/Workspace/vim/src/eval.c:3690
    #28 0x5604ec0bcb75 in get_func_tv /home/who/Workspace/vim/src/userfunc.c:460
    #29 0x5604ebc06acf in eval7 /home/who/Workspace/vim/src/eval.c:4642

previously allocated by thread T0 here:
    #0 0x7fc6723e3b50 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb50)
    #1 0x5604ebdeebf2 in lalloc /home/who/Workspace/vim/src/misc2.c:924
    #2 0x5604ebdee9f7 in alloc /home/who/Workspace/vim/src/misc2.c:827
    #3 0x5604ebbba293 in dict_alloc /home/who/Workspace/vim/src/dict.c:31
    #4 0x5604ebbbc651 in dict_get_tv /home/who/Workspace/vim/src/dict.c:743
    #5 0x5604ebc06423 in eval7 /home/who/Workspace/vim/src/eval.c:4561
    #6 0x5604ebc04d65 in eval6 /home/who/Workspace/vim/src/eval.c:4237
    #7 0x5604ebc03dd5 in eval5 /home/who/Workspace/vim/src/eval.c:4028
    #8 0x5604ebc03531 in eval4 /home/who/Workspace/vim/src/eval.c:3910
    #9 0x5604ebc030c5 in eval3 /home/who/Workspace/vim/src/eval.c:3830
    #10 0x5604ebc02c23 in eval2 /home/who/Workspace/vim/src/eval.c:3762
    #11 0x5604ebc026b4 in eval1 /home/who/Workspace/vim/src/eval.c:3690
    #12 0x5604ec0bcb75 in get_func_tv /home/who/Workspace/vim/src/userfunc.c:460
    #13 0x5604ebc06acf in eval7 /home/who/Workspace/vim/src/eval.c:4642
    #14 0x5604ebc04d65 in eval6 /home/who/Workspace/vim/src/eval.c:4237
    #15 0x5604ebc03dd5 in eval5 /home/who/Workspace/vim/src/eval.c:4028
    #16 0x5604ebc03531 in eval4 /home/who/Workspace/vim/src/eval.c:3910
    #17 0x5604ebc030c5 in eval3 /home/who/Workspace/vim/src/eval.c:3830
    #18 0x5604ebc02c23 in eval2 /home/who/Workspace/vim/src/eval.c:3762
    #19 0x5604ebc026b4 in eval1 /home/who/Workspace/vim/src/eval.c:3690
    #20 0x5604ebc023c4 in eval0 /home/who/Workspace/vim/src/eval.c:3648
    #21 0x5604ebbf5577 in ex_let_const /home/who/Workspace/vim/src/eval.c:1447
    #22 0x5604ebbf4921 in ex_let /home/who/Workspace/vim/src/eval.c:1348
    #23 0x5604ebcb41a6 in do_one_cmd /home/who/Workspace/vim/src/ex_docmd.c:2500
    #24 0x5604ebcab4c3 in do_cmdline /home/who/Workspace/vim/src/ex_docmd.c:995
    #25 0x5604ec0bfdf3 in call_user_func /home/who/Workspace/vim/src/userfunc.c:1063
    #26 0x5604ec0c278b in call_func /home/who/Workspace/vim/src/userfunc.c:1621
    #27 0x5604ec0c19b9 in call_callback /home/who/Workspace/vim/src/userfunc.c:1465
    #28 0x5604ebc94bfe in timer_callback /home/who/Workspace/vim/src/ex_cmds2.c:328
	#29 0x5604ebc954a6 in check_due_timer /home/who/Workspace/vim/src/ex_cmds2.c:390

SUMMARY: AddressSanitizer: heap-use-after-free /home/who/Workspace/vim/src/hashtab.c:286 in hash_lock
Shadow bytes around the buggy address:
  0x0c267fffdaf0: 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa
  0x0c267fffdb00: fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd
  0x0c267fffdb10: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c267fffdb20: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c267fffdb30: fd fd fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=>0x0c267fffdb40: fd fd fd fd fd[fd]fd fd fd fd fd fd fd fd fd fd
  0x0c267fffdb50: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c267fffdb60: fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa
  0x0c267fffdb70: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c267fffdb80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0c267fffdb90: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==19692==ABORTING