type OpenCommand = "edit" | "split" | "vsplit" | "tabedit"

const openFile = (openCommand: OpenCommand, line: string) => {
  pluginCommand(`execute 'silent ${openCommand} ${line}'`)
}

const createEachProcess = <P>(params: P) => (process: (p: P, line: string) => void) => async (lines: Array<string>) => {
  for await (const line of lines) {
    process(params, line)
  }
}

export const editProcess = createEachProcess("edit" as OpenCommand)(openFile)
