type OpenCommand = "edit" | "split" | "vsplit" | "tabedit"

const createOpenFile = (openCommand: OpenCommand) => (line: string) => {
  pluginCommand(`execute 'silent ${openCommand} ${line}'`)
}

const createEachProcess = (process: (line: string) => void) => async (lines: Array<string>) => {
  for await (const line of lines) {
    process(line)
  }
}

export const editProcess = createEachProcess(createOpenFile("edit"))
export const splitProcess = createEachProcess(createOpenFile("split"))
export const vsplitProcess = createEachProcess(createOpenFile("vsplit"))
export const tabeditProcess = createEachProcess(createOpenFile("tabedit"))
