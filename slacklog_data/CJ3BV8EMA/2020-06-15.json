[{"client_msg_id":"b4d7f81b-6307-45f7-b57c-55c4371e1039","type":"message","user":"U7JL1UKKL","text":"neosnippetのnvim-lsp対応を実装しました","ts":"1592221101.328000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CHC6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"24da82b3-f117-4c71-89be-d51aeedbcec6","type":"message","user":"U7JL1UKKL","text":"これで便利になるはずです","ts":"1592221112.328400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Jbt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b80e499d-d8b3-4c96-9d40-fa0e69cb85f3","type":"message","user":"U7JL1UKKL","text":"既存の実装を整理するのが面倒であった","ts":"1592221128.328800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PCIp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8d6decb5-ef59-4da8-9cef-6d98ccdc4aab","type":"message","user":"U7JL1UKKL","text":"現在、neovim-lspのスニペットをneosnippetで認識できるようにする作業をしています","ts":"1592192480.273100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eC7VS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"89d8bce2-49d1-4ebb-8561-a745cb050dd8","type":"message","user":"U7JL1UKKL","text":"nvim-lspこれまでまともに触ってこなかったけどなるほどねー","ts":"1592192617.273700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ea22"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7619c9a7-d975-4897-9aa6-ae14f16d93ad","type":"message","user":"UEB17JJJE","text":"久しぶりにLua書いてるんすね","ts":"1592192786.274000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Vb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"499de51d-940d-4b1c-95f6-3b42664f7ea9","type":"message","user":"U7JL1UKKL","text":"いや、Luaは書いてないですね","ts":"1592193337.274400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MFiX3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"62e80ebd-4bd9-42a2-ae25-cee6a4284215","type":"message","user":"U7JL1UKKL","text":"デフォルト設定でLSPの動作確認をしているだけ","ts":"1592193351.275000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qjnsW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cfea73d7-7ebb-44ea-86ab-5dd4b35affc2","type":"message","user":"UEB17JJJE","text":"neosnippet側ですか","ts":"1592193416.275200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zaiq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ea126ee5-85f2-4bba-be73-90ab07145eaa","type":"message","user":"U7JL1UKKL","text":"はい。今まではvim-lspにしか対応していなかった","ts":"1592193448.275800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L8t8e"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a99e600c-71bb-4ff8-8910-135624c03525","type":"message","user":"U7JL1UKKL","text":"解析ルーチンの調整をしています","ts":"1592193462.276300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4sq0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c0e483b7-50a2-4af4-b88d-d1c8656d6424","type":"message","user":"UEB17JJJE","text":"snippet使わないから未だにVimのsnippet周りよくわからない","ts":"1592193529.276800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I892"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6e88f055-5b63-4fd9-9667-a7ed09bb271a","type":"message","user":"U8R597E9H","text":"CompleteDone 時に v:completed_item の中身をチェックして、スニペット展開可能であれば行う。というものです。","ts":"1592193615.278000","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UEB17JJJE"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"z/Ph"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c1bbd7b-84ac-41ec-b0bd-6e1c386ca156","type":"message","user":"U8R597E9H","text":"なので、v:completed_item.user_data.lspitem があれば、場合によっては展開可能ということです。","ts":"1592193651.279100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SS0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5606f653-673e-47f4-9b98-207173022eb1","type":"message","user":"U7JL1UKKL","text":"イエス","ts":"1592194014.279700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sNr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6ae6bd05-2ff9-480e-b084-39e76adfda54","type":"message","user":"UEB17JJJE","text":"<@U8R597E9H> これってlspの仕様的には本当は必要ないけど現実もんだい一度ここで実行しないとな〜って感じですよね？\n<https://github.com/prabirshrestha/vim-lsp/blob/master/autoload/lsp.vim#L398>","ts":"1592194188.280800","attachments":[{"fallback":"GitHub: prabirshrestha/vim-lsp","id":1,"title":"prabirshrestha/vim-lsp","title_link":"https://github.com/prabirshrestha/vim-lsp/blob/master/autoload/lsp.vim#L398","text":"async language server protocol plugin for vim and neovim - prabirshrestha/vim-lsp","thumb_url":"https://avatars1.githubusercontent.com/u/287744?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/prabirshrestha/vim-lsp/blob/master/autoload/lsp.vim#L398","original_url":"https://github.com/prabirshrestha/vim-lsp/blob/master/autoload/lsp.vim#L398"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZLM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"df0637b8-0a43-4904-b2cf-1431afa696b5","type":"message","user":"UEB17JJJE","text":"`initialize` のinitOptionではなく `workspace/didChangeConfiguration` でないと設定変更できないlanguage serverがあるのがつらい。\n（本来的にはそういうLanguage Serverは`workspace/configuration` を絶対呼び出してほしいのだがそうでもないきがする…）","ts":"1592194306.283500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tO+OR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"55ce0ac3-fd30-4625-a6d9-9f08eddf05b7","type":"message","user":"U8R597E9H","text":"自分の理解では違います。","ts":"1592194315.283700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IK/U5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bfad4c7f-73d3-45c7-a036-25531af531a5","type":"message","user":"U8R597E9H","text":"今の vim-lsp の設計上そうなっているということですね。戻ったら PC から長文書きます。","ts":"1592194349.284800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ju7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"24882651-c5ff-4cc8-9e94-b37c3d1861d6","type":"message","user":"UEB17JJJE","text":"rlsの場合initOptionとconfigurationは別れてるけど,","ts":"1592194418.286200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"faY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"628e2ee1-869b-4676-8fd1-bb7efcd8fd31","type":"message","user":"UEB17JJJE","text":"rust-analyzerは同じなんですよね…","ts":"1592194427.286700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dtb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d1590804-b29b-4099-a95f-25c1b209374c","type":"message","user":"U8R597E9H","text":"まず、VSCode は workspace の設定は LS 毎ではなく、ワークスペースに対して行うものだという前提があると認識してます。","ts":"1592194428.286900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JefWH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f70d7b81-dd03-40f6-b575-91b3a3d0317a","type":"message","user":"UEB17JJJE","text":"<https://github.com/rust-lang/rls/blob/master/rls/src/lsp_data.rs#L263>\n<https://github.com/rust-lang/rls/blob/master/rls/src/config.rs#L124>\n<https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/config.rs#L19>\n<https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/bin/main.rs#L107>\n<https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/main_loop.rs#L622>","ts":"1592194447.287400","attachments":[{"fallback":"GitHub: rust-lang/rls","id":1,"title":"rust-lang/rls","title_link":"https://github.com/rust-lang/rls/blob/master/rls/src/lsp_data.rs#L263","text":"Repository for the Rust Language Server (aka RLS). Contribute to rust-lang/rls development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/5430905?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/rust-lang/rls/blob/master/rls/src/lsp_data.rs#L263","original_url":"https://github.com/rust-lang/rls/blob/master/rls/src/lsp_data.rs#L263"},{"fallback":"GitHub: rust-lang/rls","id":2,"title":"rust-lang/rls","title_link":"https://github.com/rust-lang/rls/blob/master/rls/src/config.rs#L124","text":"Repository for the Rust Language Server (aka RLS). Contribute to rust-lang/rls development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/5430905?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/rust-lang/rls/blob/master/rls/src/config.rs#L124","original_url":"https://github.com/rust-lang/rls/blob/master/rls/src/config.rs#L124"},{"fallback":"GitHub: rust-analyzer/rust-analyzer","id":3,"title":"rust-analyzer/rust-analyzer","title_link":"https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/config.rs#L19","text":"An experimental Rust compiler front-end for IDEs. Contribute to rust-analyzer/rust-analyzer development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/43985197?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/config.rs#L19","original_url":"https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/config.rs#L19"},{"fallback":"GitHub: rust-analyzer/rust-analyzer","id":4,"title":"rust-analyzer/rust-analyzer","title_link":"https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/bin/main.rs#L107","text":"An experimental Rust compiler front-end for IDEs. Contribute to rust-analyzer/rust-analyzer development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/43985197?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/bin/main.rs#L107","original_url":"https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/bin/main.rs#L107"},{"fallback":"GitHub: rust-analyzer/rust-analyzer","id":5,"title":"rust-analyzer/rust-analyzer","title_link":"https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/main_loop.rs#L622","text":"An experimental Rust compiler front-end for IDEs. Contribute to rust-analyzer/rust-analyzer development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/43985197?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/main_loop.rs#L622","original_url":"https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/main_loop.rs#L622"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sly"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dc5dc817-4ca0-4ad1-86cd-c5775fab927d","type":"message","user":"U8R597E9H","text":"ですが、vim-lsp は LS ごとに設定を持たせている。","ts":"1592194457.287900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WK+/f"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4a784708-6348-4c6d-ac00-af02f466c430","type":"message","user":"UEB17JJJE","text":"あぁ、うんなんていうかしいていうなら `workspace/initConfiguration` みたいなのがあってほしい","ts":"1592194527.289800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Dty"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"93b68a97-5a5d-441b-81c8-a12d3ca536c1","type":"message","user":"U8R597E9H","text":"そして、vim-lsp は workspace_config を更新する API を最初は提供してなかったので、毎度送るようになっている。","ts":"1592194533.289900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q0yq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c81491ad-bdd4-410b-9c92-22fd3c621643","type":"message","user":"U8R597E9H","text":"ああ。そういうことですか。","ts":"1592194543.290200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"m/="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aac7dc56-5eab-4f7e-8fbb-a78c37dbf2b7","type":"message","user":"U8R597E9H","text":"それでいうと、現実問題初期化時に一度 didChange しないといけないという認識あります。","ts":"1592194572.291500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MlOTB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"72c90087-516d-4b0e-8375-70a2a3932853","type":"message","user":"UEB17JJJE","text":"Language serverによって `workspace/configurations` が必要そうなのにpullしにきてくれてなさそうなものもあるというか。","ts":"1592194604.292000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JY1uz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1de7b8c0-53d4-49d6-8f3b-2265c93fb96b","type":"message","user":"U8R597E9H","text":"ですです。","ts":"1592194611.292200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O70u="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9d1b9128-3e07-41e9-bebf-63dfbc6c1c7d","type":"message","user":"U8R597E9H","text":"didChange が最初にくるのを期待してる LS のために最初は必要ですね。","ts":"1592194644.293100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IrZz/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1597a6ee-14e6-4c42-8e55-3490a12aeaad","type":"message","user":"UEB17JJJE","text":"それが Language Serverの実装がわるいのかLSPの仕様の不備なのかがはっきりしないのでこのあたりすごくわかりにくい。","ts":"1592194688.294400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c3N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2bda328-fa2f-47ee-b2fe-c7c4ca1e6bf0","type":"message","user":"U8R597E9H","text":"workspace configure という API がクライアントにあれば、毎回送る必要はないだろうな。くらいですかね。","ts":"1592194716.295500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DLL1V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e75c1164-6e71-4680-96b3-a4fab65422c3","type":"message","user":"UEB17JJJE","text":"VSCodeはこのあたりどうしているかというとextension側にmiddlewareのAPIを提供してextensionにやらせてるっぽいんですよね。","ts":"1592194748.296200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i2Nt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e2595b56-f7cb-4b49-b620-7e25d6889509","type":"message","user":"UEB17JJJE","text":"このissueで結構このあたりげんなりしてい。\n<https://github.com/microsoft/language-server-protocol/issues/972>","ts":"1592194782.297000","attachments":[{"fallback":"GitHub: `workspace/configuration` is impossible to implement on the client side · Issue #972 · microsoft/language-server-protocol","id":1,"title":"`workspace/configuration` is impossible to implement on the client side · Issue #972 · microsoft/language-server-protocol","title_link":"https://github.com/microsoft/language-server-protocol/issues/972","text":"For reference: <https://microsoft.github.io/language-server-protocol/specifications/specification-3-15/#workspace_configuration> The configuration section ask for is defined by the server and doesn’t...","thumb_url":"https://avatars2.githubusercontent.com/u/6154722?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/microsoft/language-server-protocol/issues/972","original_url":"https://github.com/microsoft/language-server-protocol/issues/972"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zFBu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bf4854af-05bb-48aa-9823-cefa7c36638e","type":"message","user":"U8R597E9H","text":"v:lua.workspace.configure({\n   ...\n})","ts":"1592194811.297600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZUa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7d382950-8a39-4829-a164-bad969f5bc8d","type":"message","user":"UEB17JJJE","text":"vim-lspもnvimのlspもこの仕様があるとconfigを中央集権的に管理するのちょっと限界あるなっていうのが最近の感想なんですよね。","ts":"1592194849.299300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dCL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f12e1931-fd94-4c35-9893-38c08c02dbc7","type":"message","user":"U8R597E9H","text":"こんな感じの API があれば、そのタイミングで didChange させる。\nさらに、初期化時には明示的に didChange で通達する。","ts":"1592194873.300000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dh7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6200c255-dbf0-4284-b103-863e1756f066","type":"message","user":"U8R597E9H","text":"そもそも、設定項目のスキーマを LS から返して欲しい。。。","ts":"1592194938.301400","thread_ts":"1592194938.301400","reply_count":1,"replies":[{"user":"UEB17JJJE","ts":"1592195004.303600"}],"team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["UEB17JJJE"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tjV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e56893f9-0318-4fce-b64a-66d235499f5d","type":"message","user":"UEB17JJJE","text":"これに関しての悩みがlspの仕様（と対象のlanguage serverの仕様）を熟知していない人は\n何をinitOptionにわたして何をworkspace configurationに渡していいのかわからないことなんですよね。","ts":"1592194967.302000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"clx6u"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"14b7f0e0-874a-41c6-8604-503295175344","type":"message","user":"U8R597E9H","text":"ですね。","ts":"1592194976.302300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Bbt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7f073313-46b2-4ffb-9388-aa958fb85d1e","type":"message","user":"UEB17JJJE","text":"これ自分もおもっててやっぱりLSPにRFC出してみようかな。","ts":"1592195004.303600","thread_ts":"1592194938.301400","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=Fuw0"}],"root":{"client_msg_id":"6200c255-dbf0-4284-b103-863e1756f066","type":"message","user":"U8R597E9H","text":"そもそも、設定項目のスキーマを LS から返して欲しい。。。","ts":"1592194938.301400","thread_ts":"1592194938.301400","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tjV"}]}},{"client_msg_id":"6352db9a-9b4f-4ea3-9500-d7f4723fa4ff","type":"message","user":"U8R597E9H","text":"VSCode は package.json に書いてあるから UI 出せる…","ts":"1592195022.304500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HLO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c6ad4009-5018-4f7d-a49b-4f13830aaf33","type":"message","user":"UEB17JJJE","text":"VSCodeでこれがあまり問題になっていないのはextensionごとにメンテナーがユーザーにわかりやすい設定画面を作れてるだけなんですよね〜","ts":"1592195044.305000","edited":{"user":"UEB17JJJE","ts":"1592195048.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DeC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97c34bd8-5867-4bb9-8a51-8a0719208604","type":"message","user":"UEB17JJJE","text":"Emacsはvscodeのエコシステムに乗っかる実装になっているのでこのあたり苦しんでるのは実はVimだけなのではという疑惑が。","ts":"1592195130.305900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OVu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"51811f75-c246-4ed5-99fc-6b05ea68cd38","type":"message","user":"U8R597E9H","text":"emacs って、VSCode のそのへん考慮してなくないですか？見てるのかな。","ts":"1592195163.306600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wfN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b62dc688-e8b2-496f-998b-dbd5157859ab","type":"message","user":"UEB17JJJE","text":"あぁもしかしたらdap-modeのほうだったかもしれません。","ts":"1592195270.306900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oypOj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"82f1b4ea-7d04-4d58-a5fa-d140f59c50d4","type":"message","user":"UEB17JJJE","text":"（nvimチャンネルなので他になにかあればあっちで相談します :pray: ）","ts":"1592195296.307500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Uxqc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7410193d-e32f-49b1-8497-0f1609a60463","type":"message","user":"U8R597E9H","text":"戻りました。\n\n1. VSCode は workspace/configuration の内容を「LS 毎」ではなく、「workspace 毎」に保持させている（vim-lsp, coc.nvim etc は LS 毎にしている）\n2. LS の起動時に一度「workspace/didChangeConfiguration」を明示的に叩かないと、LS によっては設定が効かない可能性がある（workspace/configuration を LS 側から叩いてもらえればこんなことしなくていいのだが、LS によりそう）\n3. workspace/configuration の設定項目は VSCode においては、拡張機能の package.json に記載されている（これによって、設定 UI を構築している）\n4. workspace/configuration の設定項目を「設定が変化した時に」通知するためには `v:lua.workspace.configure({})` みたいな API を用意して、それが叩かれたらすべての LS に didChange を送るようにしないといけない\n\nこんな世界観の理解です。","ts":"1592195501.311300","thread_ts":"1592195501.311300","reply_count":18,"replies":[{"user":"U80CX6XDZ","ts":"1592196116.321600"},{"user":"UEB17JJJE","ts":"1592196185.321900"},{"user":"U8R597E9H","ts":"1592196233.322500"},{"user":"U8R597E9H","ts":"1592196277.322700"},{"user":"UEB17JJJE","ts":"1592196305.322900"},{"user":"U8R597E9H","ts":"1592196313.323100"},{"user":"U8R597E9H","ts":"1592196326.323300"},{"user":"UEB17JJJE","ts":"1592196375.323500"},{"user":"UEB17JJJE","ts":"1592198226.324800"},{"user":"U8R597E9H","ts":"1592198328.325100"},{"user":"UEB17JJJE","ts":"1592198384.325300"},{"user":"U8R597E9H","ts":"1592198581.325500"},{"user":"UEB17JJJE","ts":"1592198638.325800"},{"user":"U8R597E9H","ts":"1592198804.326000"},{"user":"UEB17JJJE","ts":"1592198935.326200"},{"user":"U8R597E9H","ts":"1592199056.326400"},{"user":"UEB17JJJE","ts":"1592199277.326600"},{"user":"UEB17JJJE","ts":"1592200829.327400"}],"team":"T03C4RC8V","reactions":[{"name":"yosasou","count":2,"users":["UEB17JJJE","U7JL1UKKL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e2y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9eb060c0-6147-452b-a99a-d7bdcff6cd58","type":"message","user":"UEB17JJJE","text":"話はかわってNvimのHEAD（head以外まだためしていない）がclangでbuildできなくなった…","ts":"1592195721.312100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/QdI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2a4b146f-a800-4e86-9701-0b3b5496552b","type":"message","user":"U8R597E9H","text":"(T_T)","ts":"1592195746.312300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ef="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99888e54-41a8-474b-8e79-728b5517b46a","type":"message","user":"U8R597E9H","text":"ちなみに自分も一個 nvim builtin lsp で質問があるんですよね","ts":"1592195762.312800","team":"T03C4RC8V","reactions":[{"name":"ok_hand","count":1,"users":["UEB17JJJE"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uxgE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"972101e5-9259-4143-afb5-95ac197013f2","type":"message","user":"U8R597E9H","text":"neovim builtin lsp って、メソッドに対するコールバックの部分をカスタム可能にしている印象ですが、\n例えば、filetype vim に対して「vim-language-server」「efm-langserver」をどっちも設定している場合に codeAction なんかを叩いたら 2 回コールバックされるんでしょうか？","ts":"1592195839.314200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IGwL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"57476ab3-2c40-4aef-988f-e04c97f6642a","type":"message","user":"U8R597E9H","text":"ここがもにょってるんですよね。。。あのコールバックのカスタムの仕組み。。。","ts":"1592195876.314700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OQ1kd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3192ad7a-cad3-4ba9-b87f-ebf479977a71","type":"message","user":"UEB17JJJE","text":"あぁ今そうなりそう","ts":"1592195894.315000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xK7Pr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9c609a6-18c2-4fd6-8bda-961ea09eb82b","type":"message","user":"UEB17JJJE","text":"callbackにclient_idが入ってるのでそれでかき分けはできるけど。","ts":"1592195914.315500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RJfnE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2af69ef3-60df-40ed-95cb-83498e03ab45","type":"message","user":"U8R597E9H","text":"_現実的にはほとんど問題は起きないんですが、潔癖症のせいか気になってしまっているｗ_","ts":"1592195970.317100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hJ4Qy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fdf7377d-482b-4146-95c8-dc0d65d0baa6","type":"message","user":"UEB17JJJE","text":"buffer has many language serversだけどそのあたりがねぇという。","ts":"1592196024.318900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UUG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"95628ce4-4b19-4fac-876a-89853b3af925","type":"message","user":"U9S4G0LJW","text":":thinking_face:\n```NVIM v0.5.0-562-g6613ab6bc\nBuild type: Debug\nLuaJIT 2.0.5\nCompilation: /usr/bin/clang -g -Wall -Wextra -pedantic -Wno-unused-parameter -Wstrict-prototypes -std=gnu99 -Wshadow -Wconversion -Wmissing-prototypes -Wimplicit-fallthrough -Wvla -fstack-protector-strong -fno-common -fdiagnostics-color=auto -DINCLUDE_GENERATED_DECLARATIONS -D_GNU_SOURCE -DNVIM_MSGPACK_HAS_FLOAT32 -DNVIM_UNIBI_HAS_VAR_FROM -DMIN_LOG_LEVEL=1 -I/u/git/neovim/build/config -I/u/git/neovim/src -I/usr/include -I/u/git/neovim/build/src/nvim/auto -I/u/git/neovim/build/include\n\nclang version 10.0.0 \nTarget: x86_64-pc-linux-gnu\nThread model: posix\nInstalledDir: /usr/bin```","ts":"1592196028.319000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sjW+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"abd4316d-ae0e-44f4-8218-0c7ef274863e","type":"message","user":"U8R597E9H","text":"```v:lua.lsp.api.get_definitions(function(responses)\n  — 全 LS のレスポンスが { client_id, response } 形式で配列で手に入る\nend)```\nこんな感じだともにょらないのかしらとか考えています。","ts":"1592196035.319300","thread_ts":"1592196035.319300","edited":{"user":"U8R597E9H","ts":"1592196055.000000"},"reply_count":6,"replies":[{"user":"UEB17JJJE","ts":"1592196224.322200"},{"user":"U8R597E9H","ts":"1592196404.323700"},{"user":"U8R597E9H","ts":"1592196469.323900"},{"user":"UEB17JJJE","ts":"1592196629.324100"},{"user":"U8R597E9H","ts":"1592196678.324300"},{"user":"UEB17JJJE","ts":"1592265033.328900"}],"team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UEB17JJJE"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M5mI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ee003cca-1414-4b40-9a4d-cb36cce2201f","type":"message","user":"U9S4G0LJW","text":"普通にビルド通った","ts":"1592196045.319500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U+4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e17313bb-0c17-4906-943b-ea533c043fb9","type":"message","user":"UEB17JJJE","text":"あ、Macでという枕詞が抜けていました。","ts":"1592196060.320000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OWg5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8C6F97DB-8B1B-4349-87A9-3570FEE1CA34","type":"message","user":"U80CX6XDZ","text":"LSから workspace/configuration 叩いて欲しいの凄く同意です","ts":"1592196116.321600","thread_ts":"1592195501.311300","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KmH"}],"root":{"client_msg_id":"7410193d-e32f-49b1-8497-0f1609a60463","type":"message","user":"U8R597E9H","text":"戻りました。\n\n1. VSCode は workspace/configuration の内容を「LS 毎」ではなく、「workspace 毎」に保持させている（vim-lsp, coc.nvim etc は LS 毎にしている）\n2. LS の起動時に一度「workspace/didChangeConfiguration」を明示的に叩かないと、LS によっては設定が効かない可能性がある（workspace/configuration を LS 側から叩いてもらえればこんなことしなくていいのだが、LS によりそう）\n3. workspace/configuration の設定項目は VSCode においては、拡張機能の package.json に記載されている（これによって、設定 UI を構築している）\n4. workspace/configuration の設定項目を「設定が変化した時に」通知するためには `v:lua.workspace.configure({})` みたいな API を用意して、それが叩かれたらすべての LS に didChange を送るようにしないといけない\n\nこんな世界観の理解です。","ts":"1592195501.311300","thread_ts":"1592195501.311300","reply_count":18,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e2y"}]}},{"client_msg_id":"9d32717a-cfb0-4695-97c0-901124981ea4","type":"message","user":"UEB17JJJE","text":"スレッドなら話し続けてもいいかな？\nこのあたりでもう結構いやになってしまった。\n<https://github.com/microsoft/language-server-protocol/issues/567>\n<https://github.com/microsoft/language-server-protocol/issues/972>","ts":"1592196185.321900","thread_ts":"1592195501.311300","attachments":[{"fallback":"GitHub: Spec should discourage abuse of initializationOptions and didChangeConfiguration · Issue #567 · microsoft/language-server-protocol","id":1,"title":"Spec should discourage abuse of initializationOptions and didChangeConfiguration · Issue #567 · microsoft/language-server-protocol","title_link":"https://github.com/microsoft/language-server-protocol/issues/567","text":"I&amp;#39;m working on having Eclipse IDE adopting some language servers. I see a possible bad trend for Language Servers to heavily rely on initializationOptions and didChangeConfigurations to enable/...","thumb_url":"https://avatars2.githubusercontent.com/u/6154722?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/microsoft/language-server-protocol/issues/567","original_url":"https://github.com/microsoft/language-server-protocol/issues/567"}],"parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vLF+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d7fdc81d-2b44-4f82-ae5d-0e17d8135719","type":"message","user":"UEB17JJJE","text":"v0.5.0切るまでは全然変更入れれるのでissue出してもいいかもしれません。","ts":"1592196224.322200","thread_ts":"1592196035.319300","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jt=j"}],"root":{"client_msg_id":"abd4316d-ae0e-44f4-8218-0c7ef274863e","type":"message","user":"U8R597E9H","text":"```v:lua.lsp.api.get_definitions(function(responses)\n  — 全 LS のレスポンスが { client_id, response } 形式で配列で手に入る\nend)```\nこんな感じだともにょらないのかしらとか考えています。","ts":"1592196035.319300","thread_ts":"1592196035.319300","edited":{"user":"U8R597E9H","ts":"1592196055.000000"},"reply_count":6,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M5mI"}]}},{"client_msg_id":"15ab2447-0463-44f2-9218-8cd5759afd66","type":"message","user":"U8R597E9H","text":"現在の LSP では、当該の LS が\n\n- なんのコマンドに対応しているのか？そのコマンドの引数はなんなのか？\n- workspace/configuration の設定項目の一覧は？\n- initOptions の設定項目の一覧は？\n\nが手に入らないので、VSCode の package.json みたいなのが必須になってしまっている。","ts":"1592196233.322500","thread_ts":"1592195501.311300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IaLb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"64366e5d-4e6a-4b60-8518-b065538cd619","type":"message","user":"U8R597E9H","text":"initOptions のほうはタイミング的に、初回起動時に知ることができないのでぐんにゃりしますが、ユーザに対して「設定を変更して再起動」させることができるのでやはり有用。","ts":"1592196277.322700","thread_ts":"1592195501.311300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"atjli"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33482de8-015a-461f-8345-0cb0875056bb","type":"message","user":"UEB17JJJE","text":"しかもあのpackage.json LSの設定とextensionの設定がごちゃまぜになっていてさらにつらいことになっている。","ts":"1592196305.322900","thread_ts":"1592195501.311300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EUSKq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"09df04e7-6487-4872-8b62-5612402ccb18","type":"message","user":"U8R597E9H","text":"わかりますｗ","ts":"1592196313.323100","thread_ts":"1592195501.311300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tnZl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8513438e-0439-4d43-b4ac-ce73f4a17a2f","type":"message","user":"U8R597E9H","text":"どれが LS の設定やねんってなりますよねあれ。。。","ts":"1592196326.323300","thread_ts":"1592195501.311300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C2C9="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"972fab83-2bf5-4c4d-8280-a04621412b9e","type":"message","user":"UEB17JJJE","text":"結局LSPってVSCodeがよければえぇやんみたいなところを時折感じるところがあってつらい気持ちになってしまう。","ts":"1592196375.323500","thread_ts":"1592195501.311300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":2,"users":["U8R597E9H","U7B4ZD49X"]},{"name":"totemoturai","count":1,"users":["U8R597E9H"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lcXy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4259b95c-9fb3-418f-8e5d-59db39e7a760","type":"message","user":"U8R597E9H","text":"これが解決したら、プラグイン製作者側としては便利だと思うんですよね。nvim 本体は LS のライフサイクルの管理やコアな実装に注力して、UI 部分は外で組むことができる。\n\nでも、意外と他にも考慮事項があって、例えば「フォーマッティング」とかどの LS にやらせるんだ？という。","ts":"1592196404.323700","thread_ts":"1592196035.319300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"t39qy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eac35393-c113-4cd0-81ad-20ee801ec6de","type":"message","user":"U8R597E9H","text":"一番、推せるユースケースとしては `typescript-language-server` + `eslint-language-server` の両用のケースかなあ。。。","ts":"1592196469.323900","thread_ts":"1592196035.319300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QW2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4954ede0-de83-4a3d-8dad-e0bcbe8993fe","type":"message","user":"UEB17JJJE","text":"あと最近angular-language-serverの組み合わせもくせものっぽいことがわかってきました。","ts":"1592196629.324100","thread_ts":"1592196035.319300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EWjTW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8c65cb83-94df-4f7d-8923-0fbf48637120","type":"message","user":"U8R597E9H","text":"やっぱり js 界隈はツール自体乱立していて、どれもかなり使われているので複数 LS が割とあるんですよね。","ts":"1592196678.324300","thread_ts":"1592196035.319300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K/e"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"41cae602-a243-4cca-8af6-1e5d94258357","type":"message","user":"UEB17JJJE","text":"RFC書き出したのだけれどこれのschema定義がどこにあるのか知りたい。\n<https://code.visualstudio.com/api/references/contribution-points#contributes.configuration>","ts":"1592198226.324800","thread_ts":"1592195501.311300","attachments":[{"fallback":"Contribution Points","id":1,"title":"Contribution Points","title_link":"https://code.visualstudio.com/api/references/contribution-points#contributes.configuration","text":"To extend Visual Studio Code, your extension (plug-in) declares which of the various Contribution Points it is using in its package.json Extension Manifest file.","image_url":"https://code.visualstudio.com/opengraphimg/opengraph-docs.png","blocks":null,"service_name":"code.visualstudio.com","service_icon":"https://code.visualstudio.com/apple-touch-icon.png","from_url":"https://code.visualstudio.com/api/references/contribution-points#contributes.configuration","original_url":"https://code.visualstudio.com/api/references/contribution-points#contributes.configuration"}],"parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Pcux"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1dc6e900-1448-4f37-bba1-a31732a0a27a","type":"message","user":"U8R597E9H","text":"この contributes.configuration がそれだと思っていました。","ts":"1592198328.325100","thread_ts":"1592195501.311300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xo5ze"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a86aab10-b3cd-4fca-903a-a352f48e8840","type":"message","user":"UEB17JJJE","text":"あ、これの口語解説でなく型定義かschemaがほしくて","ts":"1592198384.325300","thread_ts":"1592195501.311300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"76/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3975b34a-efed-40ec-9aff-95cf41078c1f","type":"message","user":"U8R597E9H","text":"すいません。あまり理解が追いついてないかもしれないです。\n例えば intelephense はここに設定が書かれていて、これを workspace/configuration 相当に入れると動くという認識です。\n<https://github.com/bmewburn/vscode-intelephense/blob/master/package.json#L103>","ts":"1592198581.325500","thread_ts":"1592195501.311300","attachments":[{"fallback":"GitHub: bmewburn/vscode-intelephense","id":1,"title":"bmewburn/vscode-intelephense","title_link":"https://github.com/bmewburn/vscode-intelephense/blob/master/package.json#L103","text":"PHP intellisense for Visual Studio Code. Contribute to bmewburn/vscode-intelephense development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/5885195?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/bmewburn/vscode-intelephense/blob/master/package.json#L103","original_url":"https://github.com/bmewburn/vscode-intelephense/blob/master/package.json#L103"}],"parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7sY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d137a28-d752-4d83-82d4-b7f1c71f0a88","type":"message","user":"UEB17JJJE","text":"あ、こいつらをLSからfetchするRPCを追加するissueを書いていてそのためのschemaを今書いていた感じです。\nわかりにくくてすみません :pray:","ts":"1592198638.325800","thread_ts":"1592195501.311300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W5IMA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6f860b2b-3c6c-413c-8396-b3f913d4ed66","type":"message","user":"U8R597E9H","text":"なるほど。これは json schema 記法なので、それを参照して RFC 用のサンプル設定を書く感じになるのだろうか。。。お手数おかけします＞＜","ts":"1592198804.326000","thread_ts":"1592195501.311300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"whC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"02a2c765-e70d-41fc-9376-586e0183b453","type":"message","user":"UEB17JJJE","text":"あとでRFCのレビューお願いしますｗ","ts":"1592198935.326200","thread_ts":"1592195501.311300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+OeXx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4f6b3f29-5f23-44f5-9805-bd1ad0fa7a18","type":"message","user":"U8R597E9H","text":"見ます！","ts":"1592199056.326400","thread_ts":"1592195501.311300","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EWdFz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f1c1d216-0508-4d64-8df1-0ebc8d03d794","type":"message","user":"UEB17JJJE","text":"それっぽい定義を発見しました。\n<https://github.com/Microsoft/vscode/blob/master/src/vs/base/common/jsonSchema.ts#L8-L69>","ts":"1592199277.326600","thread_ts":"1592195501.311300","attachments":[{"fallback":"GitHub: microsoft/vscode","id":1,"title":"microsoft/vscode","title_link":"https://github.com/Microsoft/vscode/blob/master/src/vs/base/common/jsonSchema.ts#L8-L69","text":"Visual Studio Code. Contribute to microsoft/vscode development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/6154722?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/Microsoft/vscode/blob/master/src/vs/base/common/jsonSchema.ts#L8-L69","original_url":"https://github.com/Microsoft/vscode/blob/master/src/vs/base/common/jsonSchema.ts#L8-L69"}],"parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eC0V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4491e560-996a-4ad5-a884-a3ff7d870ff1","type":"message","user":"UEB17JJJE","text":"<https://vim-jp.slack.com/archives/CQ57P4XU4/p1592200626311100>","ts":"1592200829.327400","thread_ts":"1592195501.311300","attachments":[{"fallback":"[June 14th, 2020 10:57 PM] h.hata.ai.t: LSPの初期化時のinitializationOptionsのschemaをサーバーのソースを読む以外で正しいものを知るすべがないのが問題だと思っていて以下のようなRFCを出してみようと思うのですが、issue作る前にここでブラッシュアップさせていただけたらなと思うのでご意見ください。","id":1,"author_id":"UEB17JJJE","author_name":"h-michael","author_subname":"h-michael","author_link":"https://vim-jp.slack.com/team/UEB17JJJE","author_icon":"https://secure.gravatar.com/avatar/c83c988365a0fabc4c83cdb600268d59.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-48.png","text":"LSPの初期化時のinitializationOptionsのschemaをサーバーのソースを読む以外で正しいものを知るすべがないのが問題だと思っていて以下のようなRFCを出してみようと思うのですが、issue作る前にここでブラッシュアップさせていただけたらなと思うのでご意見ください。","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #tech-lsp","ts":1592200626.311100,"from_url":"https://vim-jp.slack.com/archives/CQ57P4XU4/p1592200626311100","original_url":"https://vim-jp.slack.com/archives/CQ57P4XU4/p1592200626311100"}],"parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V2Jy0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
