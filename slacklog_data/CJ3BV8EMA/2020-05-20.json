[{"type":"message","user":"UGJG6S9JM","text":"<@UGJG6S9JM> has joined the channel","ts":"1589939709.146900","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U014B342RCZ","text":"<@U014B342RCZ> has joined the channel","ts":"1589940438.147200","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UJV04G927","text":"<@UJV04G927> has joined the channel","ts":"1589953111.147500","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"9c7aaa5c-0053-476a-a1e3-99896ff968f7","type":"message","user":"UJV04G927","text":"Neovimのbuitin LSP使ってる方まだあまり居ないかとは思うんですが、vim-lspでいうところの、`:LspDocumentDiagnostics`のような、diagnosticsをquickfixにまとめて出すことって可能か、ご存知の方いらっしゃいますか？","ts":"1589953975.147700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pCFFq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c6e31db1-0f26-4acd-95ec-3b176cf4512f","type":"message","user":"UEB17JJJE","text":"これとか\n<https://github.com/haorenW1025/diagnostic-nvim|https://github.com/haorenW1025/diagnostic-nvim>","ts":"1589954194.148100","attachments":[{"fallback":"GitHub: haorenW1025/diagnostic-nvim","id":1,"title":"haorenW1025/diagnostic-nvim","title_link":"https://github.com/haorenW1025/diagnostic-nvim","text":"A wrapper for neovim built in LSP diagnosis config - haorenW1025/diagnostic-nvim","thumb_url":"https://avatars3.githubusercontent.com/u/35623968?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":420,"thumb_height":420,"from_url":"https://github.com/haorenW1025/diagnostic-nvim","original_url":"https://github.com/haorenW1025/diagnostic-nvim"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q9H/N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"661d3f91-093e-44da-8ce3-28cc2ae73cc3","type":"message","user":"UJV04G927","text":"ありがとうございます！試してみます。\nすいません、もう一つ質問なのですが、undoで戻った時にdiagnosticsが発生しないんですが、デフォルトではそういう動きなんでしょうか。","ts":"1589954672.150400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4wXG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"009030b0-9331-4f04-af59-1bca774f281e","type":"message","user":"UEB17JJJE","text":"仮にls側でなくclient側のバグだとするもbuffer_attachのchangedtrickがundoで発行されてないといくことになります。","ts":"1589955004.152500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VAW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f81c9620-b2b9-4404-a73b-ef8b6e6d355a","type":"message","user":"UEB17JJJE","text":"あとでみてみます","ts":"1589955458.155900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"z0y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de922423-f8b7-457a-a054-9331fafc3e15","type":"message","user":"UEB17JJJE","text":"昨日丁度buffer_attachのコード読んでたので","ts":"1589955476.156700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3/l"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"366fe138-c087-4734-951a-ab5c19270501","type":"message","user":"UJV04G927","text":"ありがとうございます。\n一応やってることを書いておきますと、goplsで試してるんですが、\n```package main\n\nimport \"fmt\"\n\nfunc main() {\n\treturn\n\tfmt.Println(\"hoge\")\n}```\nこんなコードで`fmt.Println(“hoge”)`がunreachableでWarningがでてる状態からスタートして、いったんreturnを消すと、Warningが消えます。\nでundoでreturnを戻すと、コード上はWarningがあるコードですが、保存してみても、Warningは出てきません。insert modeに入って、適当に文字打つとWarningが出てきます。","ts":"1589955534.157600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Dkai"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"553f9c3a-6c8e-4f44-840f-48ee0e588a5b","type":"message","user":"UJV04G927","text":"ちなみに、vim-lspで同じことやると、undo後しばらくするとWarning返ってきて、保存するとすぐに返ってきます。","ts":"1589955592.158600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NkHH5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0336b5a8-5ca0-4825-9498-2a367b43ed30","type":"message","user":"UEB17JJJE","text":"ちなみにさっきのプラグイン使わない素の状態でもそうですか？","ts":"1589955692.159300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Gd2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f5c176d6-71d4-45bf-8ae4-df90da855817","type":"message","user":"UJV04G927","text":"そうです。","ts":"1589955759.159800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yb+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99259f42-f772-4436-9238-32837c237f9b","type":"message","user":"UJV04G927","text":"実はこの問題を解決したくて、コマンドでdiagnosticsの一覧とりたかった、というのがあります。今さっきのプラグイン入れて一覧出そうとしても出てこないですね。。","ts":"1589955813.161200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D/ZU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d580a741-76b3-4da9-849e-3e022bf80c95","type":"message","user":"UEB17JJJE","text":"もし可能でしたらlspのログをみてもらえると嬉しいです。","ts":"1589955829.161600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LJD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49af8d78-73d6-4be2-99ac-c1cd02797e99","type":"message","user":"UEB17JJJE","text":"undoしたときにtextDocument/didChange のnotificationを出しているかどうかがわかると嬉しいです","ts":"1589955884.163000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eJH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f1d98253-2495-45e4-ac16-79964d18e83d","type":"message","user":"UEB17JJJE","text":"あぁ原因わかったっんですがちょっと直し方それで大丈夫か考えてからPRだします","ts":"1589957325.163900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jZc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b12b3aa4-07c6-4de8-81cb-0d458c6a992d","type":"message","user":"UJV04G927","text":"あ、すいません。ありがとうございます。","ts":"1589959400.165100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aBDV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7882497d-3714-4226-8ddc-241741bce68c","type":"message","user":"UEB17JJJE","text":"Lua側じゃなくてC側っぽいです","ts":"1589959723.165700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xfo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eae96a59-9cbb-4a7e-a299-a914cb9f9914","type":"message","user":"UJV04G927","text":"なるほど。。\n最近neovim使い始めてて、lua難しいなと思いながら頑張ってたんですが、luaではなかったんですね","ts":"1589959842.167100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Eksl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8bc45f0e-9dc1-45ca-8009-f79229f768d2","type":"message","user":"UEB17JJJE","text":"挙動がへんだったのでC側と推測したんですがそうでもなかったです。。。\nvim-lspだと大丈夫なんですよね？ちょっと帰ったら詳しく見てみます。","ts":"1589961135.168400","team":"T03C4RC8V","reactions":[{"name":"man-bowing","count":1,"users":["UJV04G927"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sKP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d3a7097-cd73-45e8-9ad4-675f0a53c792","type":"message","user":"U8R597E9H","text":"vim-lsp は TextChanged/TextChangedI/TextChangedP で diff 計算する方式なので\nnvim_buf_attach からの diff ではないんですよね。","ts":"1589961227.169100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3JkZo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8520f34e-26ff-4cac-bba9-68ab2d557933","type":"message","user":"U8R597E9H","text":"_ところで、nvim_buf_attach は nvim_buf_flush がほしい。。。_","ts":"1589961241.169500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gMhok"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"017d29f2-d744-45e6-9755-96c31a6ba7d8","type":"message","user":"UEB17JJJE","text":"flushってどのタイミング指してますか？","ts":"1589964248.170000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aqu/4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a516a6dd-5b81-4c05-be63-0182651e97ea","type":"message","user":"U8R597E9H","text":"vim にもバッファの変更を event ベースで手に入れる方法として listener_add という関数があるのですが、listener_add は行が変わるまで変更をバッファリングするんですよね。\nですが、listener_flush を叩くと、明示的に「そのタイミングで差分チェック」してコールバックしてくれるんです。\n\nnvim_buf_attach は、変更をバッファしているのか、はたまたキー入力の度にコールバックされるのか、というのがわからず少し不安だな。。と。。。","ts":"1589964690.171800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+7X4Q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6c92c1cc-0884-4ef7-b297-0249b65977ab","type":"message","user":"UEB17JJJE","text":"キー入力ですよね、だからinsertですべて拾いたくないときはeventからmode拾って取捨選択みたいなコードたまにみますね","ts":"1589965159.173600","edited":{"user":"UEB17JJJE","ts":"1589965170.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9+8C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8388401e-5aad-4163-9004-3ffa3ef8e0ad","type":"message","user":"U8R597E9H","text":"あ、neovim のものはキー入力毎なんですかね。であればそこまで心配はいらないか。。。ありがとうございます。","ts":"1589965329.174400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zPURV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"798b5dc9-82c8-4ef5-9408-b109fb1b8873","type":"message","user":"UEB17JJJE","text":"あーキー入力というと語弊があるかも","ts":"1589965366.174800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0fJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1000576f-2ac6-49c4-8795-736e05159989","type":"message","user":"UEB17JJJE","text":"1イベントループ内の変更単位な気がします","ts":"1589965392.175300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NNU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f5e52836-61ee-4f97-b273-8c2f6e994121","type":"message","user":"U8R597E9H","text":"なるほど。ということは、やはり高速にキー入力している間は、入力の度に x 行に変更があったと通知してくれるというイメージですかね。\n便利","ts":"1589965445.176000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TV6C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3aa095c-1286-4bc9-a69b-77bba8b297a9","type":"message","user":"UEB17JJJE","text":"さっき雑にコードおった感じだとそんな感じでした","ts":"1589965536.176900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1aWn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dee87b79-da1b-4ac9-8bda-16c060299ed3","type":"message","user":"UEB17JJJE","text":"（change event発行してるところが点在していてなかなか辛かった。めちゃでかくなったJavaScript front end見てるみたいな気分）","ts":"1589965611.178500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KAvKQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"73c86b71-dead-4be9-84ff-5847014bbfa6","type":"message","user":"UEB17JJJE","text":"buffering機能あるのいいなー","ts":"1589967105.179100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bcw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
