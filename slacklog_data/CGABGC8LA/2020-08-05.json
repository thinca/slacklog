[{"client_msg_id":"d811da21-ce5f-4a3b-8fda-3d3d3521a5ec","type":"message","user":"UNJ2DANJC","text":"寝る前に仕事のコードをふと思い返していたらgoroutineリークしてそうだなと気づいてしまい、不安になって眠れなくなってメトリクスを見たらビンゴだった... tickerのStop漏れ明日直そう...","ts":"1596562051.389500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5/5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"85186ada-e635-4ad9-88ac-91f1adbed781","type":"message","user":"UGJG6S9JM","text":"寝る前とかにふと思い出す現象に名前がいる","ts":"1596567238.390000","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tYcI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"911a999d-22ba-4125-ac98-83f0a2838722","type":"message","user":"UGJG6S9JM","text":"帰る時とか","ts":"1596567249.390300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p24"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d8687099-12e2-4f2f-b0ca-d7536c21bbbd","type":"message","user":"U06BRP8VD","text":"go製\n<https://twitter.com/kaoriya/status/1290835380288118784>","ts":"1596594211.390600","attachments":[{"fallback":"<https://twitter.com/kaoriya|@kaoriya>: HTTPリクエストの内容をJSONで返すだけのサーバ。ちょっとデバッグに必要になったので書いた。 <https://github.com/koron/httpreqinfo>","id":1,"author_name":"MURAOKA Taro","author_subname":"@kaoriya","author_link":"https://twitter.com/kaoriya/status/1290835380288118784","author_icon":"https://pbs.twimg.com/profile_images/1196794099/avatar_normal.JPEG","text":"HTTPリクエストの内容をJSONで返すだけのサーバ。ちょっとデバッグに必要になったので書いた。 <https://github.com/koron/httpreqinfo>","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1596594111,"service_name":"twitter","from_url":"https://twitter.com/kaoriya/status/1290835380288118784","original_url":"https://twitter.com/kaoriya/status/1290835380288118784"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"G=i4p"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c637c96-3702-48fd-9e42-d3278d86e45f","type":"message","user":"U06BRP8VD","text":"既製品(httpbin.orgとか)あるんじゃないかなーと思いつつも、bodyの内容をハッシュで出してほしいという要求のため、書いちゃってもええやろとの判断で。","ts":"1596594294.391800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nIlV3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ae614fcb-a409-4a12-b1aa-e5924296d366","type":"message","user":"U06ECBRTJ","text":"koron-go 以下じゃないんですね","ts":"1596594859.392100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cuB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4472b129-d303-43df-a839-625adac1df61","type":"message","user":"UNJ2DANJC","text":"k8sでhttpヘッダーの付き方がよくわからなかったので、似たようなの書いたことある","ts":"1596595294.395500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D/0W="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d54e619b-9c4f-488f-a54d-54cfaee73a21","type":"message","user":"U06BRP8VD","text":"koron-go以下はpackage用って感じ。importして使うような奴だけ","ts":"1596595389.396000","edited":{"user":"U06BRP8VD","ts":"1596595403.000000"},"team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["U06ECBRTJ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BOdk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b6b90fa5-395f-4780-8880-8b977d95d8b4","type":"message","user":"UEA8SS1RN","text":"A Tour of Goの日本語版が消えている。<https://go-tour-jp.appspot.com/>","ts":"1596595956.396500","team":"T03C4RC8V","reactions":[{"name":"totemoturai","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ptz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8CC7MDCL","text":"> Go 1.9 is no longer available.  Please refer to <https://goo.gl/aESk5L> for more information.\ngo 1.9製だったのか…","ts":"1596596236.397200","files":[{"id":"F018G931DGC","created":1596596204,"timestamp":1596596204,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":0,"filetype":"png","pretty_type":"PNG","user":"U8CC7MDCL","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":21728,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F018G931DGC/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F018G931DGC/download/image.png","original_h":100,"original_w":871,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F018G931DGC-12e8a2287a/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F018G931DGC-12e8a2287a/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F018G931DGC-12e8a2287a/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F018G931DGC-12e8a2287a/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":41,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-F018G931DGC-12e8a2287a/image_480.png","thumb_480_w":480,"thumb_480_h":55,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-F018G931DGC-12e8a2287a/image_720.png","thumb_720_w":720,"thumb_720_h":83,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U8CC7MDCL/F018G931DGC/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-F018G931DGC-9330aba03e","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-F018G931DGC-12e8a2287a/image_800.png","thumb_800_h":92,"thumb_800_w":800,"thumb_tiny":"AwAFADCpk0ZxikooAXdRu9qSigBd3sKCSaSigD//2Q==","username":""}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0fsr="}]},{"client_msg_id":"ea4fc132-fa67-44d6-8744-177d70c3ee9d","type":"message","user":"U9S4G0LJW","text":"tour確かどこかでgetできたはず(ただtourやるような人にそれをやれというのは酷)","ts":"1596597328.398500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"G4pR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"51a4ff30-efa7-4b76-acc7-f50eb07e46e2","type":"message","user":"U9S4G0LJW","text":"<https://github.com/atotto/go-tour-jp|https://github.com/atotto/go-tour-jp>","ts":"1596597382.398700","attachments":[{"fallback":"GitHub: atotto/go-tour-jp","id":1,"title":"atotto/go-tour-jp","title_link":"https://github.com/atotto/go-tour-jp","text":"A Tour of Go 日本語版（PRお気軽にどうぞ）. Contribute to atotto/go-tour-jp development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/644501?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/atotto/go-tour-jp","original_url":"https://github.com/atotto/go-tour-jp"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iDHuF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0b6faf9e-6dcf-48f0-839d-3a99a4fa7bce","type":"message","user":"U9S4G0LJW","text":"~英語が読めれば何の問題もない~","ts":"1596597524.399300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4oN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"62f63b97-c2d9-4a66-9d1c-660938249eae","type":"message","user":"U03C6TEAZ","text":"そんな難しい英語じゃなかったはす。","ts":"1596602888.399800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x19s"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3898566d-768a-4b20-a6e5-4089e07643cd","type":"message","user":"UDDCM376D","text":"xclipをexec.Commandで実行すると標準入力待ちになってしまうんだけど、\n渡している配列をそのままシェルで実行するとファイルから読んでくれる\nなんでだろう…\n```\t\tcmd := exec.Command(\"xclip\", \"-selection\", \"clipboard\", \"-t\", \"image/png\", file)\n\t\tb, err := cmd.CombinedOutput()\n\t\tif err != nil {\n\t\t\treturn fmt.Errorf(\"%s: %s\", err, string(b))\n\t\t}```","ts":"1596634246.402600","edited":{"user":"UDDCM376D","ts":"1596634498.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vxfjM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"38adcb5d-3009-45df-bae9-f2311e2c932a","type":"message","user":"UG6DF6W87","text":"xclip が isatty で処理を分岐してるんですかね","ts":"1596636806.403800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=s7V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"09ba318a-9b5d-4d57-a53b-7a7e74de5ac0","type":"message","user":"U06ECBRTJ","text":"<https://github.com/mattn/go-tty>\nこれを使うと、tty を開いてくれそう","ts":"1596638429.404200","attachments":[{"fallback":"GitHub: mattn/go-tty","id":1,"title":"mattn/go-tty","title_link":"https://github.com/mattn/go-tty","text":"Contribute to mattn/go-tty development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/go-tty","original_url":"https://github.com/mattn/go-tty"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cw6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2422A14B-DB8B-426F-8838-8796A78495F6","type":"message","user":"UDDCM376D","text":"一応標準入力渡せば動きますが、なんで入力待ちになるのかがわからないんすよね","ts":"1596639129.405300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ns89"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"88291538-aaa5-4c1c-b202-2048f7d21a40","type":"message","user":"UDDCM376D","text":"↓で動きます\n```\t\tf, err := os.Open(file)\n\t\tif err != nil {\n\t\t\treturn err\n\t\t}\n\t\tdefer f.Close()\n\n\t\tcmd := exec.Command(\"xclip\", \"-selection\", \"clipboard\", \"-t\", \"image/png\")\n\t\tin, err := cmd.StdinPipe()\n\t\tif err != nil {\n\t\t\treturn err\n\t\t}\n\n\t\tif err := cmd.Start(); err != nil {\n\t\t\treturn err\n\t\t}\n\n\t\tif _, err := io.Copy(in, f); err != nil {\n\t\t\treturn err\n\t\t}\n\n\t\tif err := in.Close(); err != nil {\n\t\t\treturn err\n\t\t}\n\n\t\treturn cmd.Wait()```","ts":"1596639233.406100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R9c"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"94e6012c-3534-43ce-8516-cc3e2b56c38e","type":"message","user":"U03C6TEAZ","text":"`-out` 付ければいいだけな気がする。","ts":"1596639236.406300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ia/76"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"43147bd8-1492-491e-b807-7a5680221a4e","type":"message","user":"U03C6TEAZ","text":"`xclip -out -selection clipboard -t image/png`","ts":"1596639264.406900","edited":{"user":"U03C6TEAZ","ts":"1596639275.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W0e6B"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4b215f5a-1d75-4156-9a4d-7754321e4cc0","type":"message","user":"UDDCM376D","text":"クリップボードに画像をコピーするのに -out が必要ってことですか？","ts":"1596639281.407300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vgo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac6778e9-98ec-4002-9af7-3ec345a858c5","type":"message","user":"U03C6TEAZ","text":"引数にファイル名渡さないのは意図的ですか？","ts":"1596639325.407800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hPh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1deb180f-9929-435c-8389-79399155234d","type":"message","user":"UDDCM376D","text":"引数にファイル名を渡したいんですが、入力待ちになるので渡さず stdin pipe で中身を標準入力に渡すようにしました","ts":"1596639370.408900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MOu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97c42a4e-ec3c-4d01-b723-8935d85f9222","type":"message","user":"UDDCM376D","text":"↓をシェルで実行すると動くけど、exec.Command で実行すると入力待ちになりました\n```xclip -selection clipboard -t image/png out.png```\n","ts":"1596639461.409900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z8Ts"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6c48fe69-9803-4cb6-abc4-6792c3a3fa4e","type":"message","user":"U03C6TEAZ","text":"なるほど xclip は `-i` がデフォルトなんですね。","ts":"1596639462.410000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VANCT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb1344c2-b539-4130-953a-77e551d51f5d","type":"message","user":"UDDCM376D","text":"そうです","ts":"1596639467.410200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6c2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a1a3b107-c52e-4328-882d-ca7be32ddcd4","type":"message","user":"UDDCM376D","text":"```  -i, -in          read text into X selection from standard input or files\n                   (default)```","ts":"1596639478.410700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6VY4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"116a5e44-9c3a-49bc-b113-b49a675c5441","type":"message","user":"U03C6TEAZ","text":"`cmd.Stdin = f` でいいのでは。","ts":"1596639511.411000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0Mz/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d37e85fa-e5e9-407b-a9f1-32568c67dba3","type":"message","user":"UDDCM376D","text":"それだと動かなかったんすよね","ts":"1596639583.411200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lLTH="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"53e514fd-8faf-46ef-b0e2-22e2cde2c450","type":"message","user":"UDDCM376D","text":"入力待ちになります","ts":"1596639587.411400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NmrMv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"426c3223-5159-4dc0-af10-3f58cf251a63","type":"message","user":"UDDCM376D","text":"<https://github.com/atotto/clipboard/blob/579379fa8ff8a6d3fa979cec107f8f6d7f8fde90/clipboard_unix.go#L109-L129>","ts":"1596639593.411600","attachments":[{"fallback":"GitHub: atotto/clipboard","id":1,"title":"atotto/clipboard","title_link":"https://github.com/atotto/clipboard/blob/579379fa8ff8a6d3fa979cec107f8f6d7f8fde90/clipboard_unix.go#L109-L129","text":"clipboard for golang. Contribute to atotto/clipboard development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/644501?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/atotto/clipboard/blob/579379fa8ff8a6d3fa979cec107f8f6d7f8fde90/clipboard_unix.go#L109-L129","original_url":"https://github.com/atotto/clipboard/blob/579379fa8ff8a6d3fa979cec107f8f6d7f8fde90/clipboard_unix.go#L109-L129"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pvUfv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
