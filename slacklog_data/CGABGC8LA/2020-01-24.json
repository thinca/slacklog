[{"client_msg_id":"987e3acb-815d-4dfa-bb04-8b86ad313154","type":"message","user":"UNJ2DANJC","text":"github actionsの検証がてら作りました。github actionsのクロスビルドすごい楽。\n<https://github.com/johejo/fakeuuid>","ts":"1579864346.275800","attachments":[{"fallback":"GitHub: johejo/fakeuuid","id":1,"title":"johejo/fakeuuid","title_link":"https://github.com/johejo/fakeuuid","text":"Mockable uuid.New().String(). Contribute to johejo/fakeuuid development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/25817501?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":133,"thumb_height":133,"from_url":"https://github.com/johejo/fakeuuid","original_url":"https://github.com/johejo/fakeuuid"}],"team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["UGXMRNBUM"]},{"name":"goodpoem","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/dZa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4bc62c63-dbd4-4bd5-ae9d-54c9063cf619","type":"message","user":"U06BRP8VD","text":"`[]T` でループ回すと、ループの第2変数へ実体のコピーが走るでしょ。","ts":"1579801658.244600","team":"T03C4RC8V","reactions":[{"name":"hai-small","count":2,"users":["U0M7GCBPD","UNJ2DANJC"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"87t"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"85063867-6858-4894-8522-1cdfaf306e04","type":"message","user":"U03C6TEAZ","text":"Go で壊れたファイル名を扱うべきだろうか。 <https://github.com/golang/go/issues/32334>","ts":"1579831434.245500","attachments":[{"fallback":"GitHub: syscall: Windows filenames with unpaired surrogates are not handled correctly · Issue #32334 · golang/go","id":1,"title":"syscall: Windows filenames with unpaired surrogates are not handled correctly · Issue #32334 · golang/go","title_link":"https://github.com/golang/go/issues/32334","text":"There is a well-known issue with Windows/NTFS (see rust-lang/rust#12056 and <https://lwn.net/Articles/684181/>) where filenames are treated as UTF-16 but are allowed to contain unpaired surrogates. B...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/issues/32334","original_url":"https://github.com/golang/go/issues/32334"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GZ1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f676e4b1-64cf-49d0-b61d-390941bfb740","type":"message","user":"U03C6TEAZ","text":"DC 00 ってサロゲート下位、つまり壊れたペアなのだけど Windows だと DC 00 なファイル名は作れるので、存在しうるけど Go で開けないという事になる。","ts":"1579831480.246400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HiC="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e61d55ec-6b56-46d5-a11e-ff81f0b40bcf","type":"message","user":"U03C6TEAZ","text":"現状は `utf16.Decode` した時点で replace char に置き換えられるからエラーになってるんだけど、これを通そうと思うと utf-8 の許可するレンジを無視しないといけない。","ts":"1579831534.247500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R0k"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f8599b0b-1f69-4f6d-99dd-55d1f512ae70","type":"message","user":"UAZ33BKV2","text":"OSの動作仕様に依存しそうな案件っぽい気が...(go言語として、というルールレイヤじゃない感)","ts":"1579831686.248200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K5x"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66216299-f09e-4c60-bcf6-35f06f293499","type":"message","user":"U03C6TEAZ","text":"Windows で例えば `&lt;DC00&gt;.txt` というファイルを作って msys2 で ls すると\n```$ ls | xxd\n00000000: edb0 802e 7478 740a```\nになるし\n```cat �.txt```\nすると動くんだけど msys2 は ANSI だけで扱ってるんだろうか。","ts":"1579831941.250000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iJw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"87bf3a64-f852-463c-9202-fd60f8b12078","type":"message","user":"U03C6TEAZ","text":"Windows API 呼ぶために MultiByteToWideChar 使ってると思うけど、MultiByteToWideChar も壊れたサロゲートは動かなかった気がする。","ts":"1579831985.250800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sb8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d5fd8d72-9513-4b05-bd39-7a3c0b47204d","type":"message","user":"UAZ33BKV2","text":"そのときのコンソールコードページに依存?","ts":"1579831992.251000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lRnMC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"98f2b140-c35a-43df-bbf9-582e5e724ae0","type":"message","user":"U03C6TEAZ","text":"MultiByteToWideChar を CP_UTF8 (65001) にしてもダメなんですよね。","ts":"1579832014.251500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BAB6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"91947635-a698-447c-995b-96d356a355a3","type":"message","user":"UAZ33BKV2","text":"うーん、どうやってるんだろう?\nとりあえず、(自分の作る)goでは無視しますよ、でもいい気がしますが","ts":"1579832053.252600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q9gPv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f32ebc75-70bf-4749-865d-7269f5561229","type":"message","user":"U03C6TEAZ","text":"開けないファイルがあるのはさすがに良くないと思うんですよね。","ts":"1579832132.253400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xvdPC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7b32c3af-921c-4121-81aa-14dd3a201969","type":"message","user":"UAZ33BKV2","text":"まあ、イリーガルなファイルではない、というのもあるのはたしかですが...、なんか他の人の作ったgoプロダクトで、開けてる例からどうやってるのか考える、という2流プログラマ作法を思いつきましたが","ts":"1579832263.254700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J2=Q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"01cf4251-e9e1-40d5-b5f3-dc9b7a0ee6c6","type":"message","user":"U03C6TEAZ","text":"rust は開ける様に対応しちゃってるんですよね。","ts":"1579832494.255100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4SI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5b8860fe-69a9-4da8-8ebe-aee6717002b1","type":"message","user":"U03C6TEAZ","text":"ただ安直にやると security issue になる。","ts":"1579832537.255400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fQx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd024ec8-3f2a-4558-a30c-aa1446728a64","type":"message","user":"US90LD360","text":"vsplitとかで他のプロジェクトのコード見ながらvim-lspの定義ジャンプ使いたいときがあるんですけど、なにかいい方法ありますかね？\nこれ <https://github.com/mattn/vim-findroot> 使ったら動くかと思ったけどだめだった...","ts":"1579842307.260200","attachments":[{"fallback":"GitHub: mattn/vim-findroot","id":1,"title":"mattn/vim-findroot","title_link":"https://github.com/mattn/vim-findroot","text":"Find project root directory of the file. Contribute to mattn/vim-findroot development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/vim-findroot","original_url":"https://github.com/mattn/vim-findroot"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=NFF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0474b5f4-85ab-42ed-bb1f-cf9eeba9143f","type":"message","user":"U03C6TEAZ","text":"あー、あまり考えた事が無かったですね。","ts":"1579843178.260600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"425Zu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de0d8114-aa49-4470-96ae-57c42762b96e","type":"message","user":"U06BRP8VD","text":"goplsのcwdで動作=解決できる範囲が変わっちゃうかんじ?","ts":"1579843297.262000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cqE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76d63ae8-554e-416d-bbb9-cc66b931d107","type":"message","user":"U03C6TEAZ","text":"LS に送ってる root_uri で変わるんですよね。","ts":"1579843393.262300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TB4C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6fb47e04-7815-4d75-b13a-ad2fdf70208c","type":"message","user":"US90LD360","text":"起動時点で範囲が固定されちゃう感じですかね","ts":"1579843601.263100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gdjr3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b56b7ec3-9822-4251-86ff-b1667853fb6b","type":"message","user":"U03C6TEAZ","text":"はい。この場合(ほんとは)2個起動すべきなんでしょうけどね。","ts":"1579843637.263600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a3p6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76052d8e-1d7a-4732-9083-76648f9b411c","type":"message","user":"U03C6TEAZ","text":"あれ、でも split した標準パッケージでジャンプできた事がある記憶が。","ts":"1579843671.264000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p4/i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3a5feda9-7912-45ff-896b-5f51a3ea0ef3","type":"message","user":"U06BRP8VD","text":"そうなんですよね。他プロジェクトがGOPATH外にあるとか、go.modがないとかだと(goplsが)混乱するとは思うんですけど。","ts":"1579843848.265500","edited":{"user":"U06BRP8VD","ts":"1579844052.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Smff"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de290968-50ef-4470-bbee-d4b37f38c848","type":"message","user":"US90LD360","text":"試してたら標準じゃなくても読み込み専用でジャンプできるケースがありますね:thinking_face:","ts":"1579843914.265700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M+mR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66d27ec8-f044-4a01-ba32-54ebbd880aa2","type":"message","user":"US90LD360","text":"あ、`go/pkg/mod` にあった","ts":"1579843998.266300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ipwS0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e164f9d-5322-4119-8d24-365554a39d75","type":"message","user":"U03C6TEAZ","text":"はい。そこに `go get` したものがわんさかあるはず。","ts":"1579844036.267000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+E9Tp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4e9e8e6e-6465-4fbf-bd76-f815058943ff","type":"message","user":"U03C6TEAZ","text":"`ro` なんですよね。","ts":"1579844065.267800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NEi1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d7d6081-048d-4fdd-84c2-43eb2ddfbe69","type":"message","user":"US90LD360","text":"参照したいプロジェクトをgo getしておけば参照だけならいけそうですね","ts":"1579844096.268600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nECr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e111b814-1278-413f-b72d-362cb78f1a91","type":"message","user":"U03C6TEAZ","text":"実はそこ何度か強制で書き換えた事があるので週末に教会行って懺悔しようと思ってる。（無宗教だけど）","ts":"1579844108.268900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d4ahR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"59ef1094-8200-4195-9cad-bf643c04c18a","type":"message","user":"U03C6TEAZ","text":"windows だけ cgo のパスが変なプロジェクトがあって「ごめんなさい、PR 送ってる時間ねぇ」言いながら書き換えた。","ts":"1579844141.269500","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":1,"users":["US90LD360"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DNUJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f220d794-0642-410e-afbd-56038b08773c","type":"message","user":"U8R597E9H","text":"当該の挙動の実現には workspaceFolders 対応を gopls が要求している気がするんですよね。。。まだ深掘りできてないので、そのうち試してうまくいったら vim-lsp に投げると思います。","ts":"1579844267.270600","team":"T03C4RC8V","reactions":[{"name":"yossya","count":2,"users":["US90LD360","UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Oc8n"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8291d6a4-c425-495f-9ec4-4b626b9802e1","type":"message","user":"U03C6TEAZ","text":"gocv って言うんですけどね。cgo のパスが直書きなのが許せなくて出来心だった。 <https://github.com/hybridgroup/gocv/blob/master/cgo.go#L11>","ts":"1579844364.271300","attachments":[{"fallback":"GitHub: hybridgroup/gocv","id":1,"title":"hybridgroup/gocv","title_link":"https://github.com/hybridgroup/gocv/blob/master/cgo.go#L11","text":"Go package for computer vision using OpenCV 4 and beyond. - hybridgroup/gocv","thumb_url":"https://avatars2.githubusercontent.com/u/212109?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":215,"thumb_height":216,"from_url":"https://github.com/hybridgroup/gocv/blob/master/cgo.go#L11","original_url":"https://github.com/hybridgroup/gocv/blob/master/cgo.go#L11"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"niTI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"605333f9-2b79-4454-a314-b15aad640f97","type":"message","user":"U03C6TEAZ","text":"Windows には pkg-config が一般的に配られてないからって理由で修正してくれないんですよね。作者さん。","ts":"1579844438.272600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U8gfz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6c7e1137-0857-4a46-b94f-8e0117ae23a3","type":"message","user":"UAZ33BKV2","text":"(gopherくんが)むしゃむしゃしてやった、(こんどはPRを)やる","ts":"1579844446.272900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6FSx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cbd57caf-e05d-4782-ba78-1a80d9ab08c9","type":"message","user":"UAZ33BKV2","text":"うけとってくんないかー","ts":"1579844458.273300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"H5l"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a96e0a0f-ed9a-47c8-a78e-2cbb01a55805","type":"message","user":"U03C6TEAZ","text":"「いや、だったら僕が pkg-config クローン作っちゃるわ」って作って PR 送ったけどそれもマージしてくれない。悲しい。 <https://github.com/hybridgroup/gocv/pull/436>","ts":"1579844474.273800","attachments":[{"fallback":"GitHub: Use opencv4 on Windows by mattn · Pull Request #436 · hybridgroup/gocv","id":1,"title":"Use opencv4 on Windows by mattn · Pull Request #436 · hybridgroup/gocv","title_link":"https://github.com/hybridgroup/gocv/pull/436","text":"I'm thinking gocv should use pkg-config always on Windows too. We can fix dependencies without modify code.","thumb_url":"https://avatars2.githubusercontent.com/u/212109?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":215,"thumb_height":216,"from_url":"https://github.com/hybridgroup/gocv/pull/436","original_url":"https://github.com/hybridgroup/gocv/pull/436"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Poz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
