[{"client_msg_id":"0352b111-cd04-451b-8457-685b1400cdd5","type":"message","user":"U06BRP8VD","text":"packages.Load が返しているの、パッケージ本体とテスト用のパッケージの2つだった。ただ parse の中ではそれぞれ別物として2回読み込んでるw","ts":"1550910364.162000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3f6ce1c9-5bb2-4198-9907-39c26a02288d","type":"message","user":"U06BRP8VD","text":"あほなのかな?","ts":"1550910369.162200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33bd8a68-13a3-4878-8529-19b94d1ce099","type":"message","user":"U06BRP8VD","text":"Diagnostics (parse) の速度が倍くらいにはなった。メモリは相変わらず。","ts":"1550910641.162700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5c78bd46-3e78-4c2a-ba35-bad562e6e737","type":"message","user":"U06BRP8VD","text":"んー少しだけ減った? いやもともと回収されてたものが確保されなくなったってことかな。","ts":"1550910678.163300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<@U03C6TEAZ> 時間のある時で良いので、このパッチの効果があるか試してみてもらえませんか? Diagnostics (parse)が倍からそれ以上速くなると期待しています。\n\npkgs の中に PkgPath の同じパッケージが2つ入ってて、1回で良いはずの解析が2回行われていてそれを1回に潰すパッチです。なんで2つはいってるかって言うと、fooに対してテスト用のfoo.testというパッケージが検出/追加されているっぽい。","ts":"1550911770.163400","files":[{"id":"FGES9TUE8","created":1550911770,"timestamp":1550911770,"name":"-.diff","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":619,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FGES9TUE8/-.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FGES9TUE8/download/-.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/FGES9TUE8/-.diff","permalink_public":"https://slack-files.com/T03C4RC8V-FGES9TUE8-8bca792f10","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/FGES9TUE8/-.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"17f194a0-00bf-48ce-9068-421e5ab21818","type":"message","user":"U06BRP8VD","text":"んーなんか速くならなくなったw","ts":"1550911990.164200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"afb3c301-7b0e-433d-b193-f88f993b8054","type":"message","user":"U06BRP8VD","text":"↑ 忘れて :syobon:","ts":"1550912012.164600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"929ce84b-aee0-4979-94bc-47e666708e61","type":"message","user":"U06BRP8VD","text":"1.5倍、くらいかなぁ…","ts":"1550912291.165100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f88f6242-e406-4a73-b7dd-80a2cca943d7","type":"message","user":"U03C6TEAZ","text":"はい。ご飯食べてお風呂入って洗い物して子供寝かしたら試します！","ts":"1550912447.166300","team":"T03C4RC8V","reactions":[{"name":"subara","count":4,"users":["U776661HA","U06BRP8VD","UDDCM376D","U77E0CBHQ"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0df85414-43c0-447f-98a0-0126b36459c6","type":"message","user":"U06BRP8VD","text":"お好み焼きだ!","ts":"1550912609.166700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"41201b15-16a4-4d65-888a-951e80c60945","type":"message","user":"U06BRP8VD","text":"僕が gopls についていま抱えてる修正はこんな感じ。\n<https://github.com/golang/tools/compare/master...koron:ex>","ts":"1550914533.167300","attachments":[{"fallback":"GitHub: golang/tools","id":1,"title":"golang/tools","title_link":"https://github.com/golang/tools/compare/master...koron:ex","text":"[mirror] Go Tools. Contribute to golang/tools development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/golang/tools/compare/master...koron:ex","original_url":"https://github.com/golang/tools/compare/master...koron:ex"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"135fb857-2b22-4f8b-8cb6-68aa766e3110","type":"message","user":"U06BRP8VD","text":"今日までにgoplsについてわかったこと、書き出して整理しよう。\n\n1. didOpen で Diagnostics() が走る\n2. Diagnostics() では GetPackage() で parse() が走る\n3. parse() では importPackage() を呼ぶ\n4. importPakcage() では parseFiles() でファイルを読み込んで、go/types.Checker.Files() で diagnostic する\n5. go/types.Checker.Files() は Importer() を通じて importPackage() を呼び出す\n6. 以下再帰(4に戻る)\n\nメモリが増える(=残る)のは parseFiles() と go/types.Checker.Files() の2つ。再帰しているのでどこがどうってのは難しいけど、前者で ast や token ができて、後者で types ができるイメージ。具体的にドレってのまでは調べてない。","ts":"1550914876.170400","edited":{"user":"U06BRP8VD","ts":"1550914992.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"205f6cd2-fc98-4bf3-a3c1-0b06337ceb6e","type":"message","user":"U06BRP8VD","text":"たぶんコレが too much 何だと思う。\n\n&gt; go/types.Checker.Files() は Importer() を通じて importPackage() を呼び出す\n\n今開いたファイルについてではなくて、そのパッケージ全体が使ってる型についての Check をしてしまう。\nココを「今開いているファイルで使っている型」に限定できるとええんちゃう? っていうのが現在の方針。","ts":"1550915309.172500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb2a6bea-240b-4fba-9f57-e47028bc643c","type":"message","user":"U06BRP8VD","text":"できるかわからんけど。","ts":"1550915312.172700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b418447-ca3d-4afc-bb5d-9fbd2d7e4330","type":"message","user":"U03C6TEAZ","text":"体感の感想でしか言えないので申し訳ないですが、確かに 1.5 倍くらいになった気がします。","ts":"1550924119.173500","team":"T03C4RC8V","reactions":[{"name":"cat-dogeza-mike","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3049c39d-5464-4a8c-b570-ca74485b9fbe","type":"message","user":"UDDCM376D","text":"mattn さんのツイート見て、超ざっくり移植してみました\n今後はのんびり本家のオプションを実装していきます\n<https://github.com/skanehira/gjo>","ts":"1550924752.174500","attachments":[{"fallback":"GitHub: skanehira/gjo","id":1,"title":"skanehira/gjo","title_link":"https://github.com/skanehira/gjo","text":"Small utility to create JSON objects. Contribute to skanehira/gjo development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/7888591?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/skanehira/gjo","original_url":"https://github.com/skanehira/gjo"}],"edited":{"user":"UDDCM376D","ts":"1550924772.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c37ae7df-9fba-434e-899d-00620e72159b","type":"message","user":"UDDCM376D","text":"さんづけ抜けていた…\nすいません","ts":"1550924778.174900","team":"T03C4RC8V","reactions":[{"name":"man-gesturing-ok","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"869d26ce-a572-49a3-814c-bcd37622fb30","type":"message","user":"U06BRP8VD","text":"すんげぇ雑に Checker.Files() を1つのパッケージにしか呼ばなくても良いんでは? ってやったらダメやったw","ts":"1550929996.175800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ff93f456-62f1-4489-89cc-2ddf3e5a6577","type":"message","user":"U03C6TEAZ","text":"<@UDDCM376D> PR しました。 <https://github.com/skanehira/gjo/pull/1>","ts":"1550930366.176100","thread_ts":"1550930366.176100","attachments":[{"fallback":"GitHub: Small fixes by mattn · Pull Request #1 · skanehira/gjo","id":1,"title":"Small fixes by mattn · Pull Request #1 · skanehira/gjo","title_link":"https://github.com/skanehira/gjo/pull/1","text":"-a で配列に対応しました。 本物の様に数値っぽい場合は数値にしました。 テストを足しました。 本物のは k@v の記法がありますがそれは実装してません。","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/skanehira/gjo/pull/1","original_url":"https://github.com/skanehira/gjo/pull/1"}],"reply_count":45,"replies":[{"user":"UDDCM376D","ts":"1550930628.176800"},{"user":"U03C6TEAZ","ts":"1550930647.177300"},{"user":"UDDCM376D","ts":"1550930680.178100"},{"user":"UDDCM376D","ts":"1550930685.178300"},{"user":"UDDCM376D","ts":"1550930787.178500"},{"user":"UDDCM376D","ts":"1550930824.178700"},{"user":"U03C6TEAZ","ts":"1550930972.178900"},{"user":"UDDCM376D","ts":"1550931037.179100"},{"user":"UDDCM376D","ts":"1550931247.179300"},{"user":"UDDCM376D","ts":"1550931334.179600"},{"user":"UDDCM376D","ts":"1550931368.179800"},{"user":"UDDCM376D","ts":"1550931490.180100"},{"user":"UDDCM376D","ts":"1550931590.180400"},{"user":"UDDCM376D","ts":"1550931594.180600"},{"user":"UDDCM376D","ts":"1550932306.180800"},{"user":"U03C6TEAZ","ts":"1550932891.181000"},{"user":"U03C6TEAZ","ts":"1550933002.181200"},{"user":"U03C6TEAZ","ts":"1550933068.181400"},{"user":"UDDCM376D","ts":"1550933473.181600"},{"user":"UDDCM376D","ts":"1550933483.181800"},{"user":"UDDCM376D","ts":"1550933494.182000"},{"user":"UDDCM376D","ts":"1550933498.182200"},{"user":"U03C6TEAZ","ts":"1550933597.182400"},{"user":"U03C6TEAZ","ts":"1550933641.182600"},{"user":"UDDCM376D","ts":"1550934182.182900"},{"user":"U03C6TEAZ","ts":"1550934441.183200"},{"user":"U03C6TEAZ","ts":"1550934464.183400"},{"user":"UDDCM376D","ts":"1550934495.183600"},{"user":"U03C6TEAZ","ts":"1550934519.183800"},{"user":"UDDCM376D","ts":"1550934621.184000"},{"user":"U03C6TEAZ","ts":"1550934690.184200"},{"user":"U03C6TEAZ","ts":"1550934708.184400"},{"user":"U03C6TEAZ","ts":"1550934727.184600"},{"user":"U03C6TEAZ","ts":"1550934857.187200"},{"user":"UDDCM376D","ts":"1550934910.187700"},{"user":"UDDCM376D","ts":"1550934920.187900"},{"user":"UDDCM376D","ts":"1550934947.188100"},{"user":"U03C6TEAZ","ts":"1550934977.188300"},{"user":"U03C6TEAZ","ts":"1550935133.188500"},{"user":"UDDCM376D","ts":"1550935225.189700"},{"user":"U03C6TEAZ","ts":"1550935242.190100"},{"user":"U03C6TEAZ","ts":"1550935320.190500"},{"user":"UDDCM376D","ts":"1550935328.190700"},{"user":"UDDCM376D","ts":"1550935342.190900"},{"user":"UDDCM376D","ts":"1550935347.191100"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"48fc7137-d1b3-4c7f-a0f0-35c0f1a961d9","type":"message","user":"U03C6TEAZ","text":"oh, conflict","ts":"1550930382.176400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"このパッチで使用メモリが2/3くらいになる。\n\nDiagnostics 対象のパッケージ以外は、関数の中身を types.Checker にかけないようにする。","ts":"1550930611.176500","files":[{"id":"FGEUJVAR2","created":1550930611,"timestamp":1550930611,"name":"-.diff","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":1371,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FGEUJVAR2/-.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FGEUJVAR2/download/-.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/FGEUJVAR2/-.diff","permalink_public":"https://slack-files.com/T03C4RC8V-FGEUJVAR2-d1fb6ae241","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/FGEUJVAR2/-.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"b3d34cdf-5940-4667-ad60-d6d77cb68377","type":"message","user":"UDDCM376D","text":"おおお、\nありがとうございます！\n\n見てみます","ts":"1550930628.176800","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e532d3ab-52c7-4c4e-abfb-fb8d6d97ba60","type":"message","user":"U03C6TEAZ","text":"master に rebase しますね。","ts":"1550930647.177300","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"797566b1-b3ae-4ed4-8c80-f5384255f50e","type":"message","user":"U06BRP8VD","text":"ただこれ雑すぎるので、チェック済みのパッケージを開き直すと types.Checker が起動しない可能性が無きにしもあらず。","ts":"1550930676.178000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78b13f7a-5c0c-4505-aea9-1f25960cf123","type":"message","user":"UDDCM376D","text":"ありがとうございます！","ts":"1550930680.178100","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"55092aa5-3561-41ea-96ee-e744366d2ab2","type":"message","user":"UDDCM376D","text":"めっちゃ勉強になります","ts":"1550930685.178300","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"56209446-63fd-4527-a228-c21b9a622655","type":"message","user":"UDDCM376D","text":"結構細かくcommitしてるんですね","ts":"1550930787.178500","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"77b5666a-288a-4cc9-b720-4886839afc41","type":"message","user":"UDDCM376D","text":"`kv := strings.SplitN(arg, \"=\", 2)`\n確かにこっちのが良いですね\n=が複数るとバグりますね…","ts":"1550930824.178700","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9610dba5-e4e4-42b0-bcf6-951e44bb0013","type":"message","user":"U03C6TEAZ","text":"-v は遊び心で -v -p で pretty print する様にしてあります。","ts":"1550930972.178900","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1eb19cd1-755f-4ca1-ad14-6b97dab44b96","type":"message","user":"UDDCM376D","text":"おおおお…\n神対応ありがとうございますm(_ _)m","ts":"1550931037.179100","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c3400a3-b06d-4fe4-92b7-2ef36a018346","type":"message","user":"UDDCM376D","text":"いま、ちょっと困っていることありまして","ts":"1550931247.179300","thread_ts":"1550930366.176100","edited":{"user":"UDDCM376D","ts":"1550931252.000000"},"parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2893236e-43da-45a1-ad41-8492acdc9589","type":"message","user":"UDDCM376D","text":"これを直したいですが、やり方が思いつかない状態です…\n\n```\n$ gjo -p status=(gjo name=gorilla age=26)\n{\n    \"status\": \"{\\\"age\\\":26,\\\"name\\\":\\\"gorilla\\\"}\"\n}\n```","ts":"1550931334.179600","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6934f633-107d-4907-a3f7-18d0a2fb858c","type":"message","user":"UDDCM376D","text":"本家はちゃんとネスト効いています\n```\n$ jo -p status=(gjo name=gorilla age=26)\n{\n   \"status\": {\n      \"age\": 26,\n      \"name\": \"gorilla\"\n   }\n}\n```","ts":"1550931368.179800","thread_ts":"1550930366.176100","edited":{"user":"UDDCM376D","ts":"1550931371.000000"},"parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd6a1847-3ffd-489a-9e81-030d95fb7e53","type":"message","user":"UDDCM376D","text":"`json.NewEncoder`\nいいですね\n普段Marshalしか使わないので。\nEncoderのが柔軟性ある感じなんですね","ts":"1550931490.180100","thread_ts":"1550930366.176100","edited":{"user":"UDDCM376D","ts":"1550931502.000000"},"parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"20621c43-dcea-4b3f-969a-750d91f9e98a","type":"message","user":"UDDCM376D","text":"<https://golang.org/pkg/encoding/json/#example_RawMessage_marshal>","ts":"1550931590.180400","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cbda16b9-b347-49cd-8c69-d71110834358","type":"message","user":"UDDCM376D","text":"これを使えば行けそう","ts":"1550931594.180600","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a10569f4-bba4-4344-b38d-f8a477e32a55","type":"message","user":"UDDCM376D","text":"お、できたっぽいです","ts":"1550932306.180800","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"11292eea-c39d-485b-af75-424964cff7fb","type":"message","user":"U03C6TEAZ","text":"Encoder を使うのはメモリがもったいないからです。","ts":"1550932891.181000","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f1140d1e-7cb8-4ae3-a3a0-ee5ef604244a","type":"message","user":"U03C6TEAZ","text":"jo の status=(...) は専用の引数パーサを書かないと無理かな。","ts":"1550933002.181200","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"81920052-6599-4a5c-a594-9f383a03c47c","type":"message","user":"U03C6TEAZ","text":"こういうので本物に近づけるのも結構勉強になってよいです。","ts":"1550933068.181400","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"af5e1481-e70f-4503-a9ca-00a722a17062","type":"message","user":"UDDCM376D","text":"ひとまず`{}`があったらjson.RawMessageで追加するようにしたら動いたので、一旦それ良いかなと思います\n\n本家のソースってCですよね？","ts":"1550933473.181600","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3f2724ac-602c-439a-ac40-741b94c0ef19","type":"message","user":"UDDCM376D","text":"今度読んでみよかなと","ts":"1550933483.181800","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b9b2f645-2d2f-4958-b4fb-ac4d541390e8","type":"message","user":"UDDCM376D","text":"本物に近づけるのってなにげに大変なんですね…","ts":"1550933494.182000","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b85c7b84-f1d0-4999-bcb3-ecdd47646248","type":"message","user":"UDDCM376D","text":"当たり前かｗ","ts":"1550933498.182200","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8aa2fc10-4894-44e8-8225-be93a81db7ed","type":"message","user":"U03C6TEAZ","text":"本当は for の中で `(` で始まって `)` で終わってたら `strings.Split(value, \" \")` してそのまま parseValue に流すのが良いんでしょうけどね。(本物に近づけるなら)","ts":"1550933597.182400","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65f329ab-a3e9-4327-8b6d-675393da561f","type":"message","user":"U03C6TEAZ","text":"その際、空白が2個あると誤動作するので省く必要もある。","ts":"1550933641.182600","thread_ts":"1550930366.176100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UA4RVLHK7","text":"<@UA4RVLHK7> has joined the channel","ts":"1550887602.158300","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"これやっててわかってきたんだけど、このコードのせいでパッケージが2回ずつ import されてる…\n\n```\n// Start prefetching direct imports.\nfor importPath := range pkg.Imports {\n\tgo imp.Import(importPath)\n}\n```","ts":"1550906524.158400","attachments":[{"color":"D0D0D0","fallback":"[February 23rd, 2019 4:07 PM] koron: 僕、いま gopls 活してるw","author_id":"U06BRP8VD","author_name":"KoRoN","author_subname":"KoRoN","author_link":"https://vim-jp.slack.com/team/U06BRP8VD","author_icon":"https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F00b63%2Fimg%2Favatars%2Fava_0007-48.png","text":"僕、いま gopls 活してるw","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #random","ts":1550905624.182900,"from_url":"https://vim-jp.slack.com/archives/C03C4RC9F/p1550905624182900"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9ee7a6ad-bd75-42e6-94fa-e2c4f43e3617","type":"message","user":"U06BRP8VD","text":"いやうそかもしれない…","ts":"1550906559.158700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e5b6c24-fbad-43f4-b9f8-fcc01e707a86","type":"message","user":"U06BRP8VD","text":"うそだった。","ts":"1550906679.158900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d1df92cb-b9e3-4edd-b2cb-dfdd29540c00","type":"message","user":"U06BRP8VD","text":"packages.Load が同じ package を2つ返してらwww","ts":"1550906692.159300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"08b27a70-25ab-478c-bbce-015922ce87bd","type":"message","user":"U06BRP8VD","text":"prefetch direct imports もほとんど仕事してないんじゃないかなぁ?","ts":"1550907213.160100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e6f71de5-79d0-4be4-917b-7c58ed4f5638","type":"message","user":"U06BRP8VD","text":"ioLimit のセマフォの数も過剰かな。たぶん runtime.NumCPU() 使っときゃ良いと思うけど…","ts":"1550907444.161100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
