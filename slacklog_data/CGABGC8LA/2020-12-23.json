[{"client_msg_id":"b1c0a046-867a-4c30-8b7f-5601934f0c31","type":"message","user":"UNJ2DANJC","text":"さてstructタグのアレはどうなるかな \u003chttps://github.com/golang/go/issues/40281#issuecomment-746770550\u003e","ts":"1608727464.214200","attachments":[{"fallback":"GitHub: reflect: allow multiple keys in key:value pair in struct tag? · Issue #40281 · golang/go","id":1,"title":"reflect: allow multiple keys in key:value pair in struct tag? · Issue #40281 · golang/go","title_link":"https://github.com/golang/go/issues/40281#issuecomment-746770550","text":"Hello :wave: I\u0026amp;#39;m actually boring to set the same value for multiple key in my struct tag. Maybe I missed something but here is the boring thing: type MyStruct struct { Field1 string `json:\u0026amp;quot;fiel...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/issues/40281#issuecomment-746770550","original_url":"https://github.com/golang/go/issues/40281#issuecomment-746770550"}],"team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["UKHUVMBJR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"paA"}]},{"client_msg_id":"d4b7517f-2662-4a3f-8d46-33d4aa3bad14","type":"message","user":"UERCTTT8B","text":"コンパイル時間優先で -O0 にしているというのもある","ts":"1608704258.213700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"alu"}]},{"client_msg_id":"22c51116-ab90-4bec-aba9-69b6c2272f63","type":"message","user":"UERCTTT8B","text":"\u003chttps://gist.github.com/hajimehoshi/2a07a370b034bded94d1db88f4f9a45e#file-2020-12-23-2ae6447c38fd60b7716e65f034c894c97898de77\u003e ちょっとだけマシになったかな。でもまだまだですね","ts":"1608704209.212900","thread_ts":"1608654605.202100","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SoO/"}],"root":{"client_msg_id":"26655deb-ace4-4c68-88a5-96227c332a0e","type":"message","user":"UERCTTT8B","text":"\u003chttps://gist.github.com/hajimehoshi/2a07a370b034bded94d1db88f4f9a45e\u003e go2cpp というのを作ってみたんですが、思ったよりパフォーマンスが悪いですねえ","ts":"1608654605.202100","thread_ts":"1608654605.202100","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qR4eQ"}]}},{"client_msg_id":"ae53decc-4efc-41c4-a36f-ee3b1b0edc19","type":"message","user":"UERCTTT8B","text":"さらにインライン化でもっとはやくなった","ts":"1608703664.212500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B3gs"}]},{"client_msg_id":"d2c9e1c7-b895-4eca-b28b-11a84e20aec0","type":"message","user":"UERCTTT8B","text":"めでたい","ts":"1608702482.212000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Qzq"}]},{"client_msg_id":"f13da325-5a6e-4374-a84d-aad3b466c5c7","type":"message","user":"UERCTTT8B","text":"range check はずしたらあっさり早くなりました\n```name       old time/op  new time/op  delta\nSortInt1K  1.36ms ± 1%  1.14ms ± 5%  -16.06%  (p=0.008 n=5+5)```","ts":"1608702478.211700","team":"T03C4RC8V","reactions":[{"name":"grin","count":3,"users":["U06BRP8VD","UAZ33BKV2","UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"z6m6"}]},{"client_msg_id":"bb0ef01e-e20b-42f0-a9f3-4e9f89e6d701","type":"message","user":"UERCTTT8B","text":"go2cpp も非常に近いことをしてはいる","ts":"1608702237.211400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KnIAm"}]},{"client_msg_id":"c600bb24-ed1d-4e24-af67-b716f67e889f","type":"message","user":"UERCTTT8B","text":"wasm2c の C コードは愚直で読みにくいですね","ts":"1608702203.210900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sWI"}]},{"client_msg_id":"8a094153-9ac6-4257-bb7f-8a647806442e","type":"message","user":"UEACRCY0Z","text":"wabt の wasm2c を使って変化したコードをコンパイルして、さらにそれを逆コンパイルして読むというツイートを見つけて、なるほどなあと。読みやすくなるのかな？\n\u003chttps://github.com/WebAssembly/wabt\u003e","ts":"1608702003.209900","attachments":[{"fallback":"GitHub: WebAssembly/wabt","id":1,"title":"WebAssembly/wabt","title_link":"https://github.com/WebAssembly/wabt","text":"The WebAssembly Binary Toolkit. Contribute to WebAssembly/wabt development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/11578470?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/WebAssembly/wabt","original_url":"https://github.com/WebAssembly/wabt"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LEy3H"}]},{"client_msg_id":"8c7db4e8-f7c8-442c-a50b-01123b059916","type":"message","user":"UERCTTT8B","text":"事前に範囲を定数で指定したりすると減らせますね","ts":"1608701545.207700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BuMlx"}]},{"client_msg_id":"0b8e0676-10f7-462b-aa56-6ceb99a2887b","type":"message","user":"U06BRP8VD","text":"Go的にはSSAでうまくやるとチェック回数を減らせるんですよね。","ts":"1608701463.207200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"86eXP"}]},{"client_msg_id":"f306d0ae-9f1d-42e1-bbe7-dd78479b7878","type":"message","user":"UERCTTT8B","text":"~あれ vector は out of range の check はないのか…~","ts":"1608701045.206200","edited":{"user":"UERCTTT8B","ts":"1608701087.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ovmbK"}]},{"client_msg_id":"70108b77-ab39-4ae6-9e61-a5f39e0ece1d","type":"message","user":"UERCTTT8B","text":"vector に対する操作だからいちいち range の check がはいるかも","ts":"1608700953.205900","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":2,"users":["UEACRCY0Z","U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TaUe"}]},{"client_msg_id":"9e02ac9c-85d6-4461-bf17-294a41304718","type":"message","user":"UERCTTT8B","text":"メモリアクセスはちょっと遅い可能性はありますね","ts":"1608700924.205500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=maMp"}]},{"client_msg_id":"fb94c0ff-9893-4d7f-a949-37cfedda309b","type":"message","user":"UERCTTT8B","text":"最初に 1G くらい仮想メモリ確保してそれを使いまわしています","ts":"1608700897.205200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qWtg"}]},{"client_msg_id":"76522257-934a-45dd-98d9-ee55412b2a01","type":"message","user":"UERCTTT8B","text":"メモリアロケーションはそうでもないと思っていて","ts":"1608700887.204900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EJBe8"}]},{"client_msg_id":"faa28d82-b578-443c-9666-bef3c83bbc33","type":"message","user":"UEACRCY0Z","text":"シンプルな命令ならそんなに差がでなそうですけど、関数呼び出しやメモリアロケーションのあたりですかね :thinking_face:","ts":"1608700821.204500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+30w/"}]},{"client_msg_id":"b89bb10d-1a0f-4cff-8a4b-d8355d7427a2","type":"message","user":"UERCTTT8B","text":"Wasm 命令を愚直に C++ に置き換えているからもうちょっと賢くやる必要がある","ts":"1608654616.202600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"X/ai"}]},{"client_msg_id":"26655deb-ace4-4c68-88a5-96227c332a0e","type":"message","user":"UERCTTT8B","text":"\u003chttps://gist.github.com/hajimehoshi/2a07a370b034bded94d1db88f4f9a45e\u003e go2cpp というのを作ってみたんですが、思ったよりパフォーマンスが悪いですねえ","ts":"1608654605.202100","thread_ts":"1608654605.202100","reply_count":1,"team":"T03C4RC8V","reactions":[{"name":"eyes","count":2,"users":["UGK28EUQ7","UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qR4eQ"}]}]
