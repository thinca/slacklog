[{"client_msg_id":"45ced61d-4099-4704-b879-71e7b66e866d","type":"message","user":"UERCTTT8B","text":"ランタイムが C で書かれていた頃のやつかも","ts":"1602824121.045700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zle"}]},{"client_msg_id":"2ff6cede-5189-4d09-b4f5-6273b31fdd2f","type":"message","user":"UERCTTT8B","text":"これは Cgo つかってランタイムの `g` に直接アクセスしてるのかな","ts":"1602824087.045300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GSUH"}]},{"client_msg_id":"5e142cac-8f83-4417-a144-43477c78af2c","type":"message","user":"UERCTTT8B","text":"\u003chttps://github.com/davecheney/junk/blob/master/id/id.go\u003e 使用すると地獄行きになるライブラリ","ts":"1602824044.044700","attachments":[{"fallback":"GitHub: davecheney/junk","id":1,"title":"davecheney/junk","title_link":"https://github.com/davecheney/junk/blob/master/id/id.go","text":"#golang packages that don't have a home. Contribute to davecheney/junk development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/7171?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/davecheney/junk/blob/master/id/id.go","original_url":"https://github.com/davecheney/junk/blob/master/id/id.go"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ndO"}]},{"client_msg_id":"ae7ce1ad-118d-4e93-9e71-ebbeda37e346","type":"message","user":"UERCTTT8B","text":"(GetCurrentThreadId は別に cgo は使いませんが、 portable ではない)","ts":"1602823992.044300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Cd/U"}]},{"client_msg_id":"11bc09cb-31c8-41bd-9bba-4375e179d349","type":"message","user":"UERCTTT8B","text":"そうすね、なんで結局 unporable な cgo つかうか、 runtime.stack で無理くりみるか、くらいしかない","ts":"1602823963.043800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UmMxm"}]},{"client_msg_id":"48931c63-5f7d-4717-ac54-0b8ad141a838","type":"message","user":"U03C6TEAZ","text":"GetCurrentThreadId とか pthread_self なりを使うしかないかも。(つまり cgo)","ts":"1602823924.043300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K3O"}]},{"client_msg_id":"0a2eaf57-2beb-4dc5-8583-3373e54e4c10","type":"message","user":"UERCTTT8B","text":"そうですね、 LockOSThread しているんで結果的にはそうです","ts":"1602823882.042600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r8g"}]},{"client_msg_id":"412ae80a-7356-4556-94dd-51427ad3d9f0","type":"message","user":"U03C6TEAZ","text":"実際欲しいのは goroutine というよりもスレッドです？","ts":"1602823867.042200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BEW1"}]},{"client_msg_id":"4f0c655b-4f58-4315-be24-da989f7425a5","type":"message","user":"U03C6TEAZ","text":"まぁスイッチはしますね。","ts":"1602823851.041900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yiERq"}]},{"client_msg_id":"165d141f-6575-4a26-b4b2-3df0865f4192","type":"message","user":"UERCTTT8B","text":"現在の goroutine ID がなにかってわからないじゃないですか","ts":"1602823821.041600","edited":{"user":"UERCTTT8B","ts":"1602823829.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zA98="}]},{"client_msg_id":"74f4487a-5312-402c-8a69-b9df07c40300","type":"message","user":"U03C6TEAZ","text":"```id++\ngo func(id int) {\n}(id)```\nid はグローバルで","ts":"1602823805.041300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GNTi"}]},{"client_msg_id":"dcf5b1ee-a2a5-4554-8c16-8b56738d0434","type":"message","user":"UERCTTT8B","text":"goroutine local storage がないから無理では","ts":"1602823630.040400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JMu"}]},{"client_msg_id":"2acb4ba3-3018-4634-94be-cca6b898a78a","type":"message","user":"U03C6TEAZ","text":"goroutine の生成時に自分で ID 付けて回るしかないかな。","ts":"1602823569.040100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7XajJ"}]},{"client_msg_id":"72d064ec-1944-4a12-b966-97dba4683209","type":"message","user":"UERCTTT8B","text":"\u003chttp://golang.org/x/net|golang.org/x/net\u003e のなかでやってるのか。ありなんだこれ…","ts":"1602822843.039700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gBIlh"}]},{"client_msg_id":"23a08440-60cd-46ac-a5d9-9878fb56618d","type":"message","user":"UERCTTT8B","text":"実例 \u003chttps://github.com/golang/net/blob/master/http2/gotrack.go#L51-L67\u003e","ts":"1602822812.039300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Bkin"}]},{"client_msg_id":"015e6f71-25e6-4c50-89e2-1912e3a6678b","type":"message","user":"UERCTTT8B","text":"なんにせよだいぶ重いな","ts":"1602822717.039000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2Cj"}]},{"client_msg_id":"1f0511b6-413f-455c-ac4e-4e51ec30f94d","type":"message","user":"UERCTTT8B","text":"あとは Cgo かなんか使ってネイティブのスレッド ID をとってしまうというのはありますね","ts":"1602822712.038800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5jll"}]},{"client_msg_id":"a517668b-daa4-4fe2-b502-87f0b9acfa3e","type":"message","user":"UERCTTT8B","text":"\u003chttps://qiita.com/ruiu/items/3574ac383f750bf95042\u003e runtime.Stack で迂回して取得か…うーん…","ts":"1602822591.038200","attachments":[{"fallback":"Qiita: GoroutineのIDを取得したり名前をつけたりできない理由 - Qiita","id":1,"title":"GoroutineのIDを取得したり名前をつけたりできない理由 - Qiita","title_link":"https://qiita.com/ruiu/items/3574ac383f750bf95042","text":"Goroutineには内部的にIDが振られているけど、そのIDをGoから取得するAPIは提供されていない。一般に複数のgoroutineが走っている時、今どのgoroutineから実行されているのかを実行時に知る方法はない。 これが...","image_url":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-1.2.2\u0026w=1200\u0026mark=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D380%26txt%3DGoroutine%25E3%2581%25AEID%25E3%2582%2592%25E5%258F%2596%25E5%25BE%2597%25E3%2581%2597%25E3%2581%259F%25E3%2582%258A%25E5%2590%258D%25E5%2589%258D%25E3%2582%2592%25E3%2581%25A4%25E3%2581%2591%25E3%2581%259F%25E3%2582%258A%25E3%2581%25A7%25E3%2581%258D%25E3%2581%25AA%25E3%2581%2584%25E7%2590%2586%25E7%2594%25B1%26txt-color%3D%2523333%26txt-font%3DHiragino%2520Sans%2520W6%26txt-size%3D54%26txt-clip%3Dellipsis%26txt-align%3Dcenter%252Cmiddle%26s%3D6a3899dd1f90d14ea8731c0bf5eef8fc\u0026mark-align=center%2Cmiddle\u0026blend=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D500%26txt%3D%2540ruiu%26txt-color%3D%2523333%26txt-font%3DHiragino%2520Sans%2520W6%26txt-size%3D45%26txt-align%3Dright%252Cbottom%26s%3D68bb271b19efa3709dd90fd2188e3965\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=3fb3429379885ee9cd0e90c81e51a3ef","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png","from_url":"https://qiita.com/ruiu/items/3574ac383f750bf95042","original_url":"https://qiita.com/ruiu/items/3574ac383f750bf95042"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LNZK"}]},{"type":"message","user":"UQL86S77Y","text":"\u003c@UQL86S77Y\u003e has joined the channel","ts":"1602818672.037800","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"cc3249db-711d-4a59-83ba-e9aa0957d85e","type":"message","user":"UERCTTT8B","text":"\u003chttp://mainThreadLoop.Do|mainThreadLoop.Do\u003e(f) みたいな。","ts":"1602816989.037400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WQsPc"}]},{"client_msg_id":"a661d9dc-6d41-463e-8dc4-b2bb2e66c242","type":"message","user":"UERCTTT8B","text":"doSomething(f) ですけど。","ts":"1602816969.037100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Bjt"}]},{"client_msg_id":"b1d5ee5c-528a-4042-a001-68d067746d20","type":"message","user":"UERCTTT8B","text":"そういうことですね","ts":"1602816958.036900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YoQ"}]},{"client_msg_id":"3762101d-40fe-4ee3-93d6-33ab73f96b10","type":"message","user":"U03C6TEAZ","text":"worker みたいなので処理させて\ndoSomething(\u0026lt;-makeArgument())\nみたいな話でしょうか。","ts":"1602816950.036700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ezu+"}]},{"client_msg_id":"cabf0267-3063-4349-b910-f1aad8334fc5","type":"message","user":"UERCTTT8B","text":"Goroutine だと現在の Goroutine が何かを知るすべがないから不可能に思える","ts":"1602815729.035000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2pH"}]},{"client_msg_id":"07c39ad0-7f85-4fe7-be68-15246a68a739","type":"message","user":"UERCTTT8B","text":"Android や iOS 開発だとよくあるようなやつです","ts":"1602815702.034500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PpEK"}]},{"client_msg_id":"6e577f65-ada5-4838-914e-df9a9cf08e66","type":"message","user":"UERCTTT8B","text":"Go で LockOSThread した特定の goroutine A があるんですが、「関数を 1 個とる関数で、 その goroutine A 上で実行する場合はその場で引数実行する、そうでなければ引数を A で上で実行するために引数の呼び出しを遅らせる (channel 使ってループに渡す?)」ってやるうまい方法ありますっけ?","ts":"1602815685.034200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Va5T7"}]},{"client_msg_id":"3dea97d3-d7cf-4e8c-8960-ff25342ed852","type":"message","user":"U03C4RC8X","text":"(仕事で使う技術がruby, elixir, terraformとgcpの各種, goまわりで比率的にgo以外重めだった)","ts":"1602778825.031700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+zV"}]},{"client_msg_id":"6f20a8fb-1b75-4381-9742-313723b27573","type":"message","user":"U03C4RC8X","text":"昨日から久々にgo書いてます","ts":"1602778760.030800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=ec=F"}]}]
