[{"client_msg_id":"39585a26-2886-4266-b0bb-58d871e909ae","type":"message","user":"UDDCM376D","text":"<https://twitter.com/gorilla0513/status/1230987387938865152?s=20>","ts":"1582325251.176600","attachments":[{"fallback":"<https://twitter.com/gorilla0513|@gorilla0513>: Goでこのコードを何度実行してもアドレスが変わらないのは仮想メモリだからって解釈で合っているかなぁ <https://pbs.twimg.com/media/ERVYgPSU0AE9O2Q.jpg>","id":1,"author_name":"シン・ゴリラ","author_subname":"@gorilla0513","author_link":"https://twitter.com/gorilla0513/status/1230987387938865152","author_icon":"https://pbs.twimg.com/profile_images/1142704713156026368/qafj2_Vy_normal.jpg","text":"Goでこのコードを何度実行してもアドレスが変わらないのは仮想メモリだからって解釈で合っているかなぁ <https://pbs.twimg.com/media/ERVYgPSU0AE9O2Q.jpg>","image_url":"https://pbs.twimg.com/media/ERVYgPSU0AE9O2Q.jpg","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1582325238,"service_name":"twitter","from_url":"https://twitter.com/gorilla0513/status/1230987387938865152?s=20","original_url":"https://twitter.com/gorilla0513/status/1230987387938865152?s=20"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r74pJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"61269f46-60de-45e1-a0b0-7aaf3c524ceb","type":"message","user":"UDDCM376D","text":"この解釈で合っていますか？","ts":"1582325261.177000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2kg0z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04a5430b-defe-4b00-824d-7823f1f7cedb","type":"message","user":"UDDCM376D","text":"この認識","ts":"1582325312.177100","files":[{"id":"FUE8BBC7Q","created":1582325307,"timestamp":1582325307,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"UDDCM376D","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":107581,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FUE8BBC7Q/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FUE8BBC7Q/download/image.png","original_h":1350,"original_w":1200,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FUE8BBC7Q-a83e2872f8/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FUE8BBC7Q-a83e2872f8/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FUE8BBC7Q-a83e2872f8/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FUE8BBC7Q-a83e2872f8/image_360.png","thumb_360_gif":"","thumb_360_w":320,"thumb_360_h":360,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FUE8BBC7Q-a83e2872f8/image_480.png","thumb_480_w":427,"thumb_480_h":480,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FUE8BBC7Q-a83e2872f8/image_720.png","thumb_720_w":640,"thumb_720_h":720,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-FUE8BBC7Q-a83e2872f8/image_960.png","thumb_960_w":853,"thumb_960_h":960,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-FUE8BBC7Q-a83e2872f8/image_1024.png","thumb_1024_w":910,"thumb_1024_h":1024,"permalink":"https://vim-jp.slack.com/files/UDDCM376D/FUE8BBC7Q/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FUE8BBC7Q-998d4c104b","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FUE8BBC7Q-a83e2872f8/image_800.png","thumb_800_h":900,"thumb_800_w":800,"thumb_tiny":"AwAwACrMoqzAqGMbmwaeVjxw/NQ5l8qte5TopzY3H61YiSIxgsTmm5WEo32KtFXPLh/vH86pnqaFK4Sjyl62WEwLv27uetTBLfI4WoLcp5K7kYn1BqTMY5CN+f8A9en7KT1FzS/lf3FGUKJXAzjcatwGDyV3Fc98mqb8sx5696bk+poa0sEZWNLNt6r+dZzfeOPWkyfU0UkrDlK5IkzIu0AYpftD+gqKitOZhzy7i5yTnvViO1Z4wwA596rUZI7mpId3sXPsTeg/76qmRgkUu4+ppKNBJPqz/9k=","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aQwyK"}]},{"client_msg_id":"a424fd50-7210-4952-8aad-07d93c3810d6","type":"message","user":"UDDCM376D","text":"実際物理メモリを管理するのはカーネルで、仮想メモリアドレスを物理メモリアドレスに割り当てて管理している","ts":"1582325344.178000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SKPh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6f237860-5497-4418-99cf-733872c13603","type":"message","user":"U03C6TEAZ","text":"何度もの意味次第ですが Go はまだ ALSR には対応してないです。","ts":"1582339539.179900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oLpI5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"54670d65-ab22-4aa0-959a-ed475a62592d","type":"message","user":"UDDCM376D","text":"何度もというのは\n`go run main.go`を何度も実行しているという意味です","ts":"1582340326.180500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YiS1j"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac9152d4-ac8b-4a03-b388-700e3df87845","type":"message","user":"UDDCM376D","text":"ALSRとは…？","ts":"1582340332.180700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zuz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"44c2a3e8-0207-475b-a824-66314afba6a0","type":"message","user":"UAZ33BKV2","text":"<https://ja.wikipedia.org/wiki/%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E7%A9%BA%E9%96%93%E9%85%8D%E7%BD%AE%E3%81%AE%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E5%8C%96>\nですね、特定のツールの特定の処理で、アドレスが固定的だと、なにかしらの悪意あるアドレス値をinjectされると、確実(or高確率)で狙った処理に飛せてしまうので、それの予防です","ts":"1582340576.181900","attachments":[{"fallback":"wikipedia: アドレス空間配置のランダム化","id":1,"author_name":"Wikipedia","author_link":"https://ja.wikipedia.org/","title":"アドレス空間配置のランダム化","title_link":"https://ja.wikipedia.org/wiki/%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E7%A9%BA%E9%96%93%E9%85%8D%E7%BD%AE%E3%81%AE%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E5%8C%96","text":"アドレス空間配置のランダム化（英語: address space layout randomization, ASLR）とは、重要なデータ領域 の位置（通常、プロセスのアドレス空間における実行ファイルの基底とライブラリ、ヒープ、およびスタックの位置が含まれる）を無作為に配置するコンピュータセキュリティの技術である。","blocks":null,"service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/wikipedia.png","from_url":"https://ja.wikipedia.org/wiki/%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E7%A9%BA%E9%96%93%E9%85%8D%E7%BD%AE%E3%81%AE%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E5%8C%96","original_url":"https://ja.wikipedia.org/wiki/%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E7%A9%BA%E9%96%93%E9%85%8D%E7%BD%AE%E3%81%AE%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E5%8C%96"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MCW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8b5fb791-efad-4106-a96f-b91a2b9cb0d3","type":"message","user":"UAZ33BKV2","text":"A処理にmemcpyへのアドレス(固定値)を突っこむことで、メモリの値の読み出し結果を応答に上書きさせて返すことでメモリを読む、とかね","ts":"1582340646.183200","edited":{"user":"UAZ33BKV2","ts":"1582340799.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SVRb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04b1881c-9b6c-42eb-a79b-8a0f42ec31ea","type":"message","user":"UAZ33BKV2","text":"これがランダム化してると、埋め込むアドレスも、関数ポインタのためのアドレスも予測不可能なため、突っこみ様がなくなる、と","ts":"1582340691.184100","edited":{"user":"UAZ33BKV2","ts":"1582340810.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E+wK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2256e486-e1c2-47bb-9aaf-651e1d1e5ac9","type":"message","user":"UAZ33BKV2","text":"それに対応してないので、 `go run main.go`  すると、固定的な(乱数とか非同期での攪乱要素がない)、特定のアドレスを毎回アロケートするのが観測できると思います","ts":"1582340776.185100","edited":{"user":"UAZ33BKV2","ts":"1582341060.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j2MDx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a36bf674-39c5-465e-ad00-14c6909da60a","type":"message","user":"U03C6TEAZ","text":"これは推測なんですが Go はたぶん ALSR 対策しないんしゃないかと思ってます。","ts":"1582341794.186700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2UC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2b1a83de-6525-4fba-997c-60be27bb88ef","type":"message","user":"U03C6TEAZ","text":"最近そのために数値をアドレスに見立ててデリファレンスするコードをコンパイルさせない様にふさいで来てます。","ts":"1582341894.188700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"570Ww"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7ca27a98-13d0-417f-b070-f376c86417a0","type":"message","user":"U03C6TEAZ","text":"実行時もそう。Go が管理してないページのアドレスをデリファレンスさせない様にしてます。","ts":"1582341945.190200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9mC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"08dd27b7-0969-4821-b5cb-27222194154a","type":"message","user":"UAZ33BKV2","text":"とはいえ、C的な生の処理のさなかに不正処理が打ち込めるようなランタイムの穴があったときはいろいろ悪さできるから、責任的には大変そう","ts":"1582342360.191200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JtVoq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9ACCFA17-553A-4225-8643-2BBD1DE90945","type":"message","user":"UDDCM376D","text":"ふむふま","ts":"1582343372.191400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h4Xn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7831185A-1DAF-4E47-BE7D-0864AD3C42AB","type":"message","user":"UDDCM376D","text":"なるほど…","ts":"1582343375.191600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uUuKz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bffc88e1-9632-454a-bdb2-9150521a9779","type":"message","user":"U03C6TEAZ","text":"なのでプログラマもやってはいけない事があって","ts":"1582343638.192100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yYP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e872c55-636d-4d23-9a8e-fd611206015d","type":"message","user":"U03C6TEAZ","text":"```package main\n\ntype bar struct {\n    s string\n}\n\ntype foo struct {\n    bar *bar\n}\n\nfunc doSomething(m *foo) {\n    m.bar = nil\n    m.bar = new(bar)\n}\n\nfunc main() {\n    f := foo{bar: new(bar)}\n    b := f.bar\n    doSomething(&amp;f)\n    if f.bar != b {\n        println(\"更新された\")\n    }\n}```\nこういうコードは書いてはいけない。","ts":"1582343702.192800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lHIYO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8d5705fa-d3ac-4196-af57-35b6d1c39190","type":"message","user":"U03C6TEAZ","text":"new で同じアドレスが返る事はありえるので。","ts":"1582343747.193100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iUt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9374A80B-6E88-4592-97A2-4EFC1729C2AB","type":"message","user":"UDDCM376D","text":"barに対して2回newしちゃいけないってことですか？","ts":"1582345705.193800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q7xj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"949884cc-a052-4c01-9695-78d21825f18c","type":"message","user":"U03C6TEAZ","text":"たとえば\n```func doSomething(m *foo) {\n    if なにか {\n        m.bar = nil\n        m.bar = new(bar)\n    }\n}```\nこんな条件があると main からは実行されたかどうかが分からないわけですが","ts":"1582345957.195600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LhjI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4fe02be5-58ac-450a-975c-0e4c380a3146","type":"message","user":"U03C6TEAZ","text":"それを main 側で「f.bar がオリジナルから変わった」という事だけで判断してはだめという事です。","ts":"1582345976.196100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U80Q+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d07f575-181f-4050-8141-1d0908e204c6","type":"message","user":"U03C6TEAZ","text":"これは go に限らずですが。","ts":"1582346252.196500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7tD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"19d853ac-a5b3-437a-9a0e-0668ca3dac38","type":"message","user":"U06BRP8VD","text":"さらにいうとgolangは通常のheapの開始アドレスを決め打ちしてんですよ。僕が見たのはLinux(unix)のコードだけですけど、ほかのOSも似たようなコードになってんじゃないかな。\n\n具体的には mmap にアドレスを指定してメモリを割り付けてる。","ts":"1582346971.198000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KWp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8a61976d-25bd-47c7-82e6-0b3c62f549e9","type":"message","user":"UDDCM376D","text":"&gt; それを main 側で「f.bar がオリジナルから変わった」という事だけで判断してはだめという事です。\n同じアドレスが返ることがあり得るから、doSomething()内でnewしたからといって変わったのは判断しちゃいけないっていうのは理解しました\nただ、doSomething()内でnewして同じアドレスが返る可能性があるのは、いまいち腑に落ちていないです。\n\nアドレスのランダム化をしていないので、同じアドレスが帰ってくる可能性があるなら、newはそもそも使うべきではないということでしょうか？","ts":"1582347235.200600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2Jz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7a0914b8-e1b1-4883-9e59-77348395bd66","type":"message","user":"U03C6TEAZ","text":"違います。","ts":"1582347391.200800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CSRPJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f0750c09-9eba-42ee-9a4d-1b6ee87dde09","type":"message","user":"U03C6TEAZ","text":"アドレスが変わったという事だけで更新されたかを判断してはいけない、それだけです。","ts":"1582347431.201800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5N4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"893c3f29-5b7a-4664-8437-a770c8715e5e","type":"message","user":"U03C6TEAZ","text":"ランダム化してあっても運が良ければ(悪ければ？)同じアドレスが返る事はありえますよ。","ts":"1582347507.202700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9Hjvo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dec3e297-e9d3-4015-8dec-720bda714b88","type":"message","user":"U06BRP8VD","text":"↑のあれはbで保持しちゃってるから絶対に大丈夫では。","ts":"1582347528.203100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bJ4Gd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"11d8b53c-fc47-4bde-b1ed-96392d8869b7","type":"message","user":"U03C6TEAZ","text":"そうね。後で見て思いました。","ts":"1582347540.203400","team":"T03C4RC8V","reactions":[{"name":"grin","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7phQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"64d0882e-d244-4d24-9cef-17cce24bd93d","type":"message","user":"U06BRP8VD","text":"となるとJSの `==` を `===` と混同しないようにね、くらいかな。","ts":"1582347554.203900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DlbGz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3b20fa39-3db8-44fb-8cbd-1f490d6e64c9","type":"message","user":"U06BRP8VD","text":"等価か同値か。","ts":"1582347566.204500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7lO32"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ccdfbfc0-ff23-4202-bee5-d622161415bf","type":"message","user":"U03C6TEAZ","text":"例えばアドレスの値を何かメモリに依存しないところに書き出しておいて、それを比較に使うとかはダメ。","ts":"1582347589.205000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Iam5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6a8fafce-8396-49b8-95dc-81f4a3ebe5b1","type":"message","user":"U03C6TEAZ","text":"もちろん nil かどうかを比較するのは ok です。","ts":"1582347725.205900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PjxOG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aeeebfda-7a72-4666-9066-abb5fa971a3d","type":"message","user":"UDDCM376D","text":"&gt; アドレスが変わったという事だけで更新されたかを判断してはいけない、それだけです。\n:rikai:","ts":"1582347798.206100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OSfr3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2d78cb1-62bb-467f-9ff5-54b3640b4695","type":"message","user":"U03C6TEAZ","text":"ちなみにこの問題は以前 vim でも起きた事があって、バッファを閉じた autocmd でバッファを new すると同じアドレスが返って vim が落ちるという問題がありました。","ts":"1582347874.207400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bFec7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d5c5375-4cc3-4330-ba53-ffee42f12dcf","type":"message","user":"U06BRP8VD","text":"元の話でいうと仮想アドレスのおかげっていうのは真であり偽でもあるんですよ。\n\n真: 他のプロセスが使ってるかもしれないアドレスをgoのプログラムで使えてるのは仮想アドレスのおかげ。例えばゴリラさんのプログラムを全く同時に複数走らせても同じアドレスが使えて、しかもぶつからない(干渉しない)のは仮想アドレスのおかげ\n\n偽: 単体で何度も同じアドレスが返ってくるのはgoのメモリアロケーションがそうなってる(同じプログラムでアロケーションタイミングが一緒なら同じアドレスが返ってくるようになってる)から。","ts":"1582348038.210000","edited":{"user":"U06BRP8VD","ts":"1582348063.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i3adM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"13a163d5-3220-4071-b71a-97192abebfb5","type":"message","user":"U03C6TEAZ","text":"Go の場合は↑の b が握ってくれているので↑の例だと起きないですね。","ts":"1582348380.210500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XRGMF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e5ddf4b2-7a17-417a-acbc-b7a99169452b","type":"message","user":"UDDCM376D","text":"&gt; 偽: 単体で何度も同じアドレスが返ってくるのはgoのメモリアロケーションがそうなってる(同じプログラムでアロケーションタイミングが一緒なら同じアドレスが返ってくるようになってる)から。 （編集済み）\n同じプログラムでアロケーションタイミングが一緒だと、同じアドレスが返ってくるのか…","ts":"1582348525.211300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4JG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ea70568f-6cea-468e-a854-f33fa6aca3d1","type":"message","user":"UDDCM376D","text":"此処から先はアロケーションの仕組みを知らないと理解できそうにない予感…","ts":"1582348570.212400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"z24"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b64e82bf-0f0f-40bf-aee7-88956bfcbb41","type":"message","user":"U06BRP8VD","text":"たぶん違う型をアロケーションしても、同じ個所(タイミング)でやるなら同じアドレスでてきますよ。","ts":"1582348578.212600","thread_ts":"1582348578.212600","edited":{"user":"U06BRP8VD","ts":"1582348612.000000"},"reply_count":1,"replies":[{"user":"U06BRP8VD","ts":"1582348596.212800"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5Xt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0c4f4295-74f5-4e28-8b33-5fb39ddc07f0","type":"message","user":"U06BRP8VD","text":"最初逆を書いてしまったwww","ts":"1582348596.212800","thread_ts":"1582348578.212600","parent_user_id":"U06BRP8VD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V/b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0bb5ae05-4e9a-4afc-8340-adbf4b0d77b9","type":"message","user":"UDDCM376D","text":"つまり、アロケーションのタイミングによって、メモリアドレスが変わってくるってことか","ts":"1582348677.213600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=Kh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"55dcff8f-e4db-4411-8bd1-d4ddb9e190c9","type":"message","user":"U06BRP8VD","text":"まぁgoにおいてアドレスにほとんど意味がありません。","ts":"1582348699.214400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wF/P="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1922315f-f7e2-4c4e-b93a-0c381591e2af","type":"message","user":"UDDCM376D","text":"ねるほど。。。","ts":"1582348709.214800","team":"T03C4RC8V","reactions":[{"name":"zzz","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dJU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"00974894-38dc-4dea-970f-cc55aa7413a6","type":"message","user":"UDDCM376D","text":"プログラミング言語、奥深すぎるな","ts":"1582349006.215600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9UKLt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b37bc948-dde1-4c38-beb9-542e8eaa9fd6","type":"message","user":"UGP5AJKU4","text":"薄々気づいていたんですが、vim-jpにいるとvim以外も勉強になってお得ですね。","ts":"1582349741.217800","team":"T03C4RC8V","reactions":[{"name":"kzk","count":5,"users":["U03C6TEAZ","U06BRP8VD","U8R597E9H","UG6DF6W87","UFUD1LS14"]},{"name":"wakaru","count":6,"users":["US90LD360","UK7DT8URY","UMUPYCYN8","UG6DF6W87","UEACRCY0Z","UFUD1LS14"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"brZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"125D8200-FB02-477D-9F7A-F07B76F29834","type":"message","user":"U80CX6XDZ","text":"僕の会社の言語チャンネルの数倍活発てびびります。","ts":"1582351648.219400","team":"T03C4RC8V","reactions":[{"name":"sorena","count":2,"users":["UAZ33BKV2","UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Bhd9o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf5cb37a-afb4-4bcd-8dff-e888ee3e11a5","type":"message","user":"UKHUVMBJR","text":"うちの言語チャンネルはこれから盛り上げたい…","ts":"1582355695.220200","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LTf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a9faa913-3496-4f4c-a53e-57da5173b369","type":"message","user":"UG6DF6W87","text":"社内のに書くまえにこっちに書いて満足してしまう...","ts":"1582357269.224200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U=MI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"941fda58-0a8e-41be-ae62-95585590beaf","type":"message","user":"UKHUVMBJR","text":"Goの話が出来る人が比較的少ないので、まずgopherを増やしたいんですよね","ts":"1582358210.225300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VnN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8215bee5-eb03-4e00-92a3-b4787ac82e42","type":"message","user":"UKHUVMBJR","text":"研修課題（ハンズオンよりは重めのやつ）作って学んでもらおうと画策してるんですが、中々適切な題材が決まらないし。","ts":"1582358260.226600","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zqeb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3dd7f53e-5cac-4bea-ab1b-97e6d7902d73","type":"message","user":"UG6DF6W87","text":"題材難しいですよね...","ts":"1582358466.227900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"isss"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b80e7c1f-1ff5-472c-acb2-842499518280","type":"message","user":"UKHUVMBJR","text":"web系だから簡単なapiサーバー？いやそれだと普段とやること変わらんし…\nみたいな…","ts":"1582358582.229100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Bdhvj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"06b42571-736e-4d43-9183-a9ae390faf05","type":"message","user":"U06ECBRTJ","text":"Linuxコマンド再実装としてみればいいんじゃないかな","ts":"1582358654.230300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y4kk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c860a64-aadb-4d98-a028-0789d154b621","type":"message","user":"U06ECBRTJ","text":"ls とか","ts":"1582358657.230500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KLS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd718d4a-b52f-46ba-8f7b-4ec9b2865141","type":"message","user":"UKHUVMBJR","text":"まさにその発想はなかった！よきかも","ts":"1582358724.232300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"G0Gsm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"016AF3B1-1B17-42FA-90BF-790E6B5B7BA4","type":"message","user":"UDDCM376D","text":"移植は勉強になりますね","ts":"1582358997.237300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U0Za1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a596909f-1fae-4b4d-aaec-34d0d8f30c45","type":"message","user":"UG6DF6W87","text":"Go の作法/書き方を学ぶなのか Go を介して他の技術を学ぶなのか、みたいなのが指針になりそう","ts":"1582359029.237600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a7VsS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"95C3515E-B65D-4F8B-A915-CC44B9337B8D","type":"message","user":"UDDCM376D","text":"目的次第","ts":"1582359063.237900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ews"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4aeda203-93fb-4807-8660-d9bcc0257af6","type":"message","user":"UKHUVMBJR","text":"前者ですね！","ts":"1582359072.238200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Avg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22d6e6f2-86a4-479b-b963-1a3926e963ab","type":"message","user":"UKHUVMBJR","text":"でも塩梅が難しいんですよねえ\nGoを覚えてほしいけどdatabase/sqlの使い方は別にいいかな…とか…","ts":"1582359168.241200","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S1p"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3089eede-615f-4a0a-84c3-917841511cfa","type":"message","user":"UKHUVMBJR","text":"あとGoのテストも浸透させたいんですが、何をテストするのか…とか…","ts":"1582359208.242600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bYwlx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e65e2ee6-770c-457c-a026-9ab279584e53","type":"message","user":"UG6DF6W87","text":"Effective Go とかにも Go の書き方がまとまってたりしますけど、標準パッケージに眠ってる暗黙知をもっと文章にしたさがあったりもする...","ts":"1582359329.243900","thread_ts":"1582359329.243900","reply_count":1,"replies":[{"user":"UG6DF6W87","ts":"1582359516.244900"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tTU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a8689e1e-4497-4e96-9f54-709bb8e4d427","type":"message","user":"UG6DF6W87","text":"というより文章には誰かがしてるけど、それらを纏めた文章がほしいのかもしれない","ts":"1582359516.244900","thread_ts":"1582359329.243900","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o7T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"26158bda-3b6c-4e42-8634-f243712b3cac","type":"message","user":"UKHUVMBJR","text":"移植がよさそうだなって思いました\nパッと思いついたのはgrepとか","ts":"1582359618.246500","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Bmne"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"966DDBF9-8326-4D05-8AE6-E8F398AC6688","type":"message","user":"UFYACJ537","text":"cliはよい題材ですよね","ts":"1582360756.247300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QMs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bde4d7bc-a347-45c2-8d05-671faa5fe9e3","type":"message","user":"U03C6TEAZ","text":"grep はいい題材ですよ。","ts":"1582362209.247600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7Z5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7f2fe19a-c7c2-4eb3-8a98-d36b447acbd4","type":"message","user":"U03C6TEAZ","text":"非同期 grep とか楽しいです。","ts":"1582362220.247900","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["UKHUVMBJR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2lP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3d5a736a-9134-4c03-80f5-86d45c217b8e","type":"message","user":"U03C6TEAZ","text":"いい加減 jvgrep リファクタしたい...","ts":"1582362272.248200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4SF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd34b227-aab2-421c-a71e-67b5affee755","type":"message","user":"U03C6TEAZ","text":"リファクタしたいと思い始めて4年くらい過ぎた。","ts":"1582362305.248600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2Gx8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd81be71-7dff-4e4d-b3de-5faf714c719b","type":"message","user":"UAZ33BKV2","text":"そろそろ熟成が進んでですね...","ts":"1582362322.249000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HSG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e020084b-6e17-41da-8ba4-041e8a3fa2cf","type":"message","user":"UAZ33BKV2","text":"しかしCLIとweb API的な利用を見ると、future Perl感があるなあ(ちがうか?)","ts":"1582362349.249800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fUU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf92e4fc-a216-491e-a2ce-7b5a54c510df","type":"message","user":"UKHUVMBJR","text":"（まさにPerlからの転換のための題材を欲していたのです…）","ts":"1582362772.251300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sJy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"beaeaffc-59d2-4144-a6f8-3bcd5097393f","type":"message","user":"UAZ33BKV2","text":"実際のperlコードの置き換えをやらせると、perl表記にばっかり詳しくなったりして","ts":"1582362841.251900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"36hL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5a112e2b-bcf8-4031-a8d5-dd3d2fef89fd","type":"message","user":"UKHUVMBJR","text":"そこは、元々perlに詳しい人のためのものなので大丈夫ですw","ts":"1582362882.252600","edited":{"user":"UKHUVMBJR","ts":"1582362894.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9C5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c5b82d14-3631-43da-ad63-a30cc0441537","type":"message","user":"U03C6TEAZ","text":"Go は Perl に似てるからなぁ。(Perl おじさんは皆言う)","ts":"1582362939.254000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jUIAj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"784d46cb-2c40-4543-b5f1-2422b887b5d3","type":"message","user":"UKHUVMBJR","text":"言語もですし最近は、コミュニティが似てるなと思いますね（ごっそり移った感じ）","ts":"1582362993.255200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kZ0zM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
