[{"client_msg_id":"5996c7e8-8ec2-4e33-b235-6928f8e55b42","type":"message","user":"UDDCM376D","text":"[質問]\nGoで空のファイルを作るのに、第1戻り値は受け取って `f.Close()` したほうが良いですか？\n↓でも問題ないかどうか…\n```_, err := os.Create(\"a.go\")\nif err != nil {\n    // error handling\n}```","ts":"1581004007.241900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Dvn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fc0fe744-09de-4ddd-aaf3-00e36ec55128","type":"message","user":"U03C6TEAZ","text":"はい。ファイルディスクリプタが開きっぱになります。","ts":"1581004091.242400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8MOIz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dfcecdd9-80fe-4a42-bc22-39dc4060fad7","type":"message","user":"UDDCM376D","text":"ですよねぇ","ts":"1581004104.242700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iIr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"91a63f36-2ec0-48ca-8a71-9a3d5c67e8fd","type":"message","user":"UDDCM376D","text":"ありがとうございます！","ts":"1581004107.242900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p9v+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"52f38c44-895c-4d37-9e9d-2fe8afce9b76","type":"message","user":"UERCTTT8B","text":"GC でも一応 close はされる (finalizer) が、早く閉じるに越したことはないですね","ts":"1581005950.243400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9aDIp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5CA52311-12F2-4D99-86E7-E27ABCB4C148","type":"message","user":"UDDCM376D","text":"あざます！","ts":"1581025628.244000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xEv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"23cb163b-4ea0-4e73-9636-66701e5723eb","type":"message","user":"U06BRP8VD","text":"ほんとGCでcloseされる? golang的には GC にロジック挟めないはず","ts":"1581042053.244400","edited":{"user":"U06BRP8VD","ts":"1581042066.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q6ab"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"81a61bd6-d224-46f1-80e4-9512b8a58e00","type":"message","user":"U06BRP8VD","text":"いやFinalizerはセットできるか。","ts":"1581042080.244800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XVe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b9949f9d-5ee0-44a1-a4c4-b8bea49e5897","type":"message","user":"U06BRP8VD","text":"自動でClose呼び出すってことはないだろうから…一応見てみるか","ts":"1581042105.245400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MdE5e"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f65b4b96-d5ef-4c13-8701-a2524b7074af","type":"message","user":"U06BRP8VD","text":"なるほど file_unix.go だと newFile で runtime.SetFinalizer してるな。\n\nとはいえFinalizerはいつ呼び出されるの保証が一切ないからな。場合によっては呼ばれないかもね、くらいの勢い。","ts":"1581042262.246300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z1F"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c2428177-b0d2-4905-966a-9c3d59c41d09","type":"message","user":"U0M7GCBPD","text":"finalizer... Object#finalize() ... ｳｯ頭が","ts":"1581042358.246800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fke"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b5e99023-d772-4bef-b97a-208cad3d55e1","type":"message","user":"U03C90T1L","text":"javaのObject#finalize()のことは忘れるんだ","ts":"1581042388.247200","team":"T03C4RC8V","reactions":[{"name":"hai-small","count":1,"users":["U0M7GCBPD"]},{"name":"partyparrot","count":1,"users":["UEA8T80GY"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6C8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"40d93816-e792-4797-8b17-a4c36039b058","type":"message","user":"U0M7GCBPD","text":"<@UDDCM376D> 一応ファイルディスクリプタが開きっぱになることの具体的な弊害としては、Windows でだけそのファイルを含むディレクトリを削除できない、みたいなことが起こります（他 OS では OK なので場合によっては気付きづらい）\nmattn さんがブログ書いてた気がしたけど見つからなかった","ts":"1581042594.248900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"z0G"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fa356aa3-f8fd-416b-a113-b80743bfbd05","type":"message","user":"UDDCM376D","text":"ほおええ","ts":"1581042633.249200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D7jc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"df56eabe-172e-4195-b053-1e76449f30d9","type":"message","user":"UDDCM376D","text":"ありがとうございます！","ts":"1581042636.249400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BRV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33317739-90fa-452e-ac39-87f08d16eda8","type":"message","user":"UDDCM376D","text":"Windowsだけ挙動が違うのか…","ts":"1581042644.249700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hlZL6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c3305092-c090-46af-b75a-ebed028877b5","type":"message","user":"U06BRP8VD","text":"Windowsだけというよりはファイル管理方式がOS毎に異なるって話なんです。UNIX系は中間層あるんですが、Winはダイレクトに扱ってる。別のOSではまた別のやりかたしてるかも。","ts":"1581042808.251400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tynP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2bd64bc3-32ab-4a7b-9710-e67bc4594450","type":"message","user":"U03C6TEAZ","text":"Finalizer は同じく Windows でも用意されてるんですが、Windows はハンドル握ってる間は他から削除できなくなります。","ts":"1581044144.253000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dwpX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"829f0798-e469-42cf-b3ee-d159bfe5fdb6","type":"message","user":"UDDCM376D","text":"なるほど","ts":"1581052622.253300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x3H"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bdc0bf5c-abbb-43e5-bc0e-27aaa1948bb6","type":"message","user":"UDDCM376D","text":"ハンドルってなんですか？？","ts":"1581052633.253500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vht"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c337b17b-3933-4b2d-b93a-63b2e2ae0c89","type":"message","user":"U06ECBRTJ","text":"~インド人のことです~","ts":"1581052730.254000","thread_ts":"1581052730.254000","edited":{"user":"U06ECBRTJ","ts":"1581052736.000000"},"reply_count":1,"replies":[{"user":"U06ECBRTJ","ts":"1581053012.255500"}],"team":"T03C4RC8V","reactions":[{"name":"arrow_right","count":3,"users":["U8CC7MDCL","UKHUVMBJR","U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4MSoE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"305252a9-fb1c-497f-95af-31d2423e229c","type":"message","user":"UDDCM376D","text":"ほお…？","ts":"1581052745.254400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lQd6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7e6e580e-933d-4082-86a1-30d7aa6074a1","type":"message","user":"U06ECBRTJ","text":"<https://www.wdic.org/w/TECH/%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%83%8F%E3%83%B3%E3%83%89%E3%83%AB>","ts":"1581052790.254600","attachments":[{"fallback":"ファイルハンドル ‐ 通信用語の基礎知識","id":1,"title":"ファイルハンドル ‐ 通信用語の基礎知識","title_link":"https://www.wdic.org/w/TECH/%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%83%8F%E3%83%B3%E3%83%89%E3%83%AB","text":"通信用語の基礎知識オンライン検索システム","blocks":null,"service_name":"wdic.org","service_icon":"https://www.wdic.org/favicon.ico","from_url":"https://www.wdic.org/w/TECH/%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%83%8F%E3%83%B3%E3%83%89%E3%83%AB","original_url":"https://www.wdic.org/w/TECH/%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%83%8F%E3%83%B3%E3%83%89%E3%83%AB"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"X=j3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4a8cb0d8-1553-45f8-ae75-e5f20c3cef62","type":"message","user":"UKHUVMBJR","text":"要は *os.File ですよね\n<https://pkg.go.dev/os?tab=doc#File>\n言語によってはファイルハンドラという言い方をよくされたりする。","ts":"1581053010.255400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DdXGh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5db6fcf7-8442-40d4-9805-bc74c0906a74","type":"message","user":"U06ECBRTJ","text":"<https://dic.nicovideo.jp/id/409219>\n元ネタです","ts":"1581053012.255500","thread_ts":"1581052730.254000","attachments":[{"fallback":"ニコニコ大百科: インド人を右にとは (ハンドルヲミギニとは) [単語記事] - ニコニコ大百科","id":1,"title":"インド人を右にとは (ハンドルヲミギニとは) [単語記事] - ニコニコ大百科","title_link":"https://dic.nicovideo.jp/id/409219","text":"ゲーメストの名誤植の一つ。正碓には、くお〜!! ぶつかる〜!! ここでアクセル全開、インド人を右に! 既要 手書さ源稿の「ハンドル」を、「／lンド／ﾚ」→「インド人」と読み違えたたたぬの写...","image_url":"https://dic.nicovideo.jp/img/og_b.jpg","blocks":null,"service_name":"ニコニコ大百科","service_icon":"https://dic.nicovideo.jp/favicon.ico","from_url":"https://dic.nicovideo.jp/id/409219","original_url":"https://dic.nicovideo.jp/id/409219"}],"parent_user_id":"U06ECBRTJ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ohHL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c5ca5bc-0f17-4c35-9dc5-21f1d311a3ec","type":"message","user":"UKHUVMBJR","text":"Goの場合は `File represents an open file descriptor.` と言ってる。","ts":"1581053038.256000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CwqoE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97ecf0cf-0e29-4180-802e-0ab2eb89860d","type":"message","user":"UDDCM376D","text":"Linuxでいうとディスクリプタってことですか？","ts":"1581053059.256300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QArMg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ba9df203-6cbe-4f34-83fe-ad4f9574a74d","type":"message","user":"UKHUVMBJR","text":"合ってる…はず! windowsのファイルハンドラnannmo wakarann....","ts":"1581053088.256700","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U06ECBRTJ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FxC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fa530336-b1ba-4b0c-8ff6-0e76fad8ef86","type":"message","user":"U06BRP8VD","text":"いやーびみょうやね。Windowsではなんでもハンドルなんすよね。","ts":"1581055819.257400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g+CsD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"143b1630-02b8-44d9-a585-19913dc394cb","type":"message","user":"U06BRP8VD","text":"まぁfdと同じ位置ではあるけれど…","ts":"1581055867.258000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MATR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"441cb7ad-9ab5-4583-9596-f4d6d94ad287","type":"message","user":"U06BRP8VD","text":"UNIXのなんでもファイルに対して、Windowsのなんでもハンドル","ts":"1581055878.258300","team":"T03C4RC8V","reactions":[{"name":"tiken","count":1,"users":["UKHUVMBJR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3Q0bw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"adf956c3-4d7e-447d-af2d-1b393c57fedc","type":"message","user":"U03C6TEAZ","text":"ウィンドウもハンドル、ファイルもハンドル、描画オブジェクトもハンドル、インスタンスもハンドル、モジュールもハンドル、(以下略)","ts":"1581056179.259200","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U06BRP8VD"]},{"name":"totemoturai","count":1,"users":["UKHUVMBJR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Yz5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74e899bb-6674-4ac7-ae20-fdfaf060f1bd","type":"message","user":"U06ECBRTJ","text":"インド人もハンドル","ts":"1581056241.259500","team":"T03C4RC8V","reactions":[{"name":"point_right","count":3,"users":["U06BRP8VD","UKHUVMBJR","U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ofs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78ee7cd9-ba1a-40d6-8f71-2c25dc9f6c11","type":"message","user":"U03C6TEAZ","text":"ダイスクオーポン","ts":"1581056466.260100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gPXj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5b9f2376-ca2a-4bac-8f1a-766c470c08a8","type":"message","user":"U03C6TEAZ","ts":"1581056481.260500","files":[{"id":"FTBS1GMU3","created":1581056478,"timestamp":1581056478,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":261353,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FTBS1GMU3/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FTBS1GMU3/download/image.png","original_h":288,"original_w":384,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FTBS1GMU3-1ed53186f0/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FTBS1GMU3-1ed53186f0/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FTBS1GMU3-1ed53186f0/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FTBS1GMU3-1ed53186f0/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":270,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FTBS1GMU3/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FTBS1GMU3-642230ec32","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAkADCFRUYhZiSMVMtKgfcQqggDJJNQhsjFrIR0T86GtJB2X86sK8nrH+ZqUBmH348+nNVdE6mc0Dj+H9ajMbDsa0WilP8Ac/M1E0Eh7L+dLmQ9R2B2qaADDZ7nH6VVDVYiPy59Sal7DY9kRVyFzj3pwUIQQvfHWmtllIFSZAjwFGc5przJFdwoJK5AppddxBGMDOabKcxOSMcdKZIrNu44K4pcqC5SBqzD/qxVUdKtQ/6sUxslBp4NRipBSACAeozSE0tNakI//9k=","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"e3606b5e-3332-4fdc-a8d0-e162a25813ae","type":"message","user":"UKHUVMBJR","text":"WinMainの引数に苦しめられた思い出が蘇ってきた","ts":"1581056496.261000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g2QNV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"32d998a0-d7d5-41b4-a7f3-34de7f05197f","type":"message","user":"UAZ33BKV2","text":"ドアもハンドル(ちがう)","ts":"1581058512.261400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4B2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"F7F4496A-9F08-458A-BD32-FC2513794A45","type":"message","user":"UDDCM376D","text":"車も(略","ts":"1581060872.261800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lAYz4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"124131aa-67e6-4de7-a574-9baeccad8758","type":"message","user":"U06BRP8VD","text":"vimのgolang syntaxが `999_999` みたいな数字の形式に対応してない。PRチャンス","ts":"1581068438.262400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jGLv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dd7b61d4-892b-42bc-ad8f-13f4671b2a16","type":"message","user":"UERCTTT8B","text":"WinMain なつかしい","ts":"1581076273.262600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uOkSQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"da806e05-3177-4f45-8f46-fa97155603be","type":"message","user":"UERCTTT8B","text":"ファーポインタ","ts":"1581076275.262800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U9Aj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
