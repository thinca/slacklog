[{"client_msg_id":"c77bcbfd-3325-46f1-9e7e-3f14330bf694","type":"message","user":"UNJ2DANJC","text":"これで直ったけどどうだろうなあ...\n```diff --git a/src/net/http/cookie.go b/src/net/http/cookie.go\nindex 141bc947f6..8f914411f8 100644\n--- a/src/net/http/cookie.go\n+++ b/src/net/http/cookie.go\n@@ -83,6 +83,7 @@ func readSetCookies(h Header) []*Cookie {\n                        Value: value,\n                        Raw:   line,\n                }\n+               samesiteFound := false\n                for i := 1; i \u0026lt; len(parts); i++ {\n                        parts[i] = textproto.TrimString(parts[i])\n                        if len(parts[i]) == 0 {\n@@ -101,6 +102,7 @@ func readSetCookies(h Header) []*Cookie {\n                        }\n                        switch lowerAttr {\n                        case \"samesite\":\n+                               samesiteFound = true\n                                lowerVal := strings.ToLower(val)\n                                switch lowerVal {\n                                case \"lax\":\n@@ -150,6 +152,9 @@ func readSetCookies(h Header) []*Cookie {\n                        }\n                        c.Unparsed = append(c.Unparsed, parts[i])\n                }\n+               if !samesiteFound {\n+                       c.SameSite = SameSiteDefaultMode\n+               }\n                cookies = append(cookies, c)\n        }\n        return cookies```","ts":"1611931978.214800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WJV0"}]},{"client_msg_id":"0649cdad-d42f-499a-ba37-45b34dd958db","type":"message","user":"UNJ2DANJC","text":"http.CookieのSameSite周りの挙動が1.16で変わるみたいなんだけどこのテスト1.15で通って1.16rc1で落ちるのは良いんだろうか\n```package main\n\nimport (\n\t\"net/http\"\n\t\"net/http/httptest\"\n\t\"testing\"\n)\n\nfunc TestSameSiteDefaultMode(t *testing.T) {\n\thandler := http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n\t\thttp.SetCookie(w, \u0026amp;http.Cookie{Name: \"n\", Value: \"v\", SameSite: http.SameSiteDefaultMode})\n\t})\n\treq := httptest.NewRequest(http.MethodGet, \"/\", nil)\n\trec := httptest.NewRecorder()\n\thandler.ServeHTTP(rec, req)\n\n\tresp := rec.Result()\n\tgot := resp.Cookies()[0].SameSite\n\tif got != http.SameSiteDefaultMode {\n\t\tt.Errorf(\"shoud be default mode (%v) but got %v\", http.SameSiteDefaultMode, got)\n\t}\n}```","ts":"1611931272.213600","edited":{"user":"UNJ2DANJC","ts":"1611931429.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jcM"}]},{"client_msg_id":"b495cbbf-5e8b-402a-b057-cff33cafd059","type":"message","user":"UGXMRNBUM","text":"まぁいいや、ご本人に指摘する手間を惜しむ僕がここで言うことじゃないや...","ts":"1611927230.212500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vED7"}]},{"client_msg_id":"a02b0e1d-0a4e-490b-8424-a3d6ece2d5e4","type":"message","user":"UGXMRNBUM","text":"http.Getのrawurl引数に未評価の変数を使わない、ってurl.Parseしろって意味ではないとおもうのだけど","ts":"1611927126.211800","edited":{"user":"UGXMRNBUM","ts":"1611927152.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sY4m9"}]},{"client_msg_id":"d7946ea8-4c0e-4a50-b5ae-86b6b92119bd","type":"message","user":"UGXMRNBUM","text":"\u003chttps://zenn.dev/kkiyama117/articles/2021-01-25-markdown-diff-unified\u003e","ts":"1611926946.211200","attachments":[{"fallback":"Zenn: Zennとdiff記法について","id":1,"title":"Zennとdiff記法について","title_link":"https://zenn.dev/kkiyama117/articles/2021-01-25-markdown-diff-unified","image_url":"https://res.cloudinary.com/dlhzyuewr/image/upload/s--q2eftXXJ--/co_rgb:222%2Cg_south_west%2Cl_text:notosansjp-medium.otf_37_bold:kkiyama117%2Cx_203%2Cy_98/c_fit%2Cco_rgb:222%2Cg_north_west%2Cl_text:notosansjp-medium.otf_80_bold:Zenn%25E3%2581%25A8diff%25E8%25A8%2598%25E6%25B3%2595%25E3%2581%25AB%25E3%2581%25A4%25E3%2581%2584%25E3%2581%25A6%2Cw_1010%2Cx_90%2Cy_100/g_south_west%2Ch_90%2Cl_fetch:aHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EtL0FPaDE0R2dVYzB6ZEVqMnF0OEhnRi1LLXN3c1NCZnlaSEJlVzM3eE1tUnpmbFpJPXM4MC1j%2Cr_max%2Cw_90%2Cx_87%2Cy_72/v1609308637/og/new_txlqub.png","blocks":null,"service_name":"Zenn","service_icon":"https://zenn.dev/images/icon.png","from_url":"https://zenn.dev/kkiyama117/articles/2021-01-25-markdown-diff-unified","original_url":"https://zenn.dev/kkiyama117/articles/2021-01-25-markdown-diff-unified"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9hw"}]},{"client_msg_id":"8b6366c4-0b8a-48e8-a58b-8586e99023b7","type":"message","user":"UAZ33BKV2","text":"そのネタのzeen記事がトップに出てますね","ts":"1611926911.211000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V3FO"}]},{"client_msg_id":"b5004074-bc2a-4a69-a547-e33863816409","type":"message","user":"UNJ2DANJC","text":"zennはgithubアカウントでログインしたい....","ts":"1611926909.210900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6Z=h"}]},{"client_msg_id":"2f677dce-7152-43ec-80d9-d942cd8a543e","type":"message","user":"UGXMRNBUM","text":"昨日だっけ","ts":"1611926815.210100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HicW1"}]},{"client_msg_id":"83031f23-135f-4407-811b-2524a94b235b","type":"message","user":"UGXMRNBUM","text":"最近リリースされましたねその変更","ts":"1611926805.209700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T41Z"}]},{"client_msg_id":"5374c05c-3d3d-4222-aa5f-aad936362f6c","type":"message","user":"UNJ2DANJC","text":"zenn","ts":"1611926804.209600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L7R6T"}]},{"client_msg_id":"bc10bf9f-3de8-4eec-8cd1-9e21e7ddd15b","type":"message","user":"UNJ2DANJC","text":"シンタックスハイライト効かせながらdiff表示できるのか\n知らなかった","ts":"1611926794.209300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ghnu"}]},{"client_msg_id":"95f48666-e5a5-494a-b868-e48e1e15f853","type":"message","user":"UGXMRNBUM","text":"全く本質的でない変更してlinter逃れするくらいなら、オフって良いと思う","ts":"1611926776.209000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k4pL2"}]},{"client_msg_id":"11ef2691-020a-47c0-abd4-89d9ca3178b4","type":"message","user":"UGXMRNBUM","text":"アレめちゃくちゃ神経質なlinterだから…","ts":"1611926738.208100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l6C"}]},{"client_msg_id":"e595f137-04eb-4cf2-9e98-d572f67efa6c","type":"message","user":"UGXMRNBUM","text":"gosec切れば良いのでは","ts":"1611926715.207900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yDr5"}]},{"client_msg_id":"7e2e9594-26e2-404a-af35-f68930455aa3","type":"message","user":"UGXMRNBUM","text":"...","ts":"1611926710.207700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"keg"}]},{"client_msg_id":"0496e44d-4998-44d6-b1e4-77bf36a07a42","type":"message","user":"UAZ33BKV2","text":"\u003chttps://zenn.dev/spiegel/articles/20210125-http-get\u003e\nつらみ...?","ts":"1611926252.207100","attachments":[{"fallback":"Zenn: http.Get に URI を変数のまま入れると叱られる","id":1,"title":"http.Get に URI を変数のまま入れると叱られる","title_link":"https://zenn.dev/spiegel/articles/20210125-http-get","image_url":"https://res.cloudinary.com/dlhzyuewr/image/upload/s--rUQyafGG--/co_rgb:222%2Cg_south_west%2Cl_text:notosansjp-medium.otf_37_bold:Spiegel%2Cx_203%2Cy_98/c_fit%2Cco_rgb:222%2Cg_north_west%2Cl_text:notosansjp-medium.otf_70_bold:http.Get%2520%25E3%2581%25AB%2520URI%2520%25E3%2582%2592%25E5%25A4%2589%25E6%2595%25B0%25E3%2581%25AE%25E3%2581%25BE%25E3%2581%25BE%25E5%2585%25A5%25E3%2582%258C%25E3%2582%258B%25E3%2581%25A8%25E5%258F%25B1%25E3%2582%2589%25E3%2582%258C%25E3%2582%258B%2Cw_1010%2Cx_90%2Cy_100/g_south_west%2Ch_90%2Cl_fetch:aHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EtL0FPaDE0R2hwMmVJV1ZOdjNybjFkRTJvdFAySl9uOVhUY1hVWm9jbmJHTEZVWmc9czgwLWM=%2Cr_max%2Cw_90%2Cx_87%2Cy_72/v1609308637/og/new_txlqub.png","blocks":null,"service_name":"Zenn","service_icon":"https://zenn.dev/images/icon.png","from_url":"https://zenn.dev/spiegel/articles/20210125-http-get","original_url":"https://zenn.dev/spiegel/articles/20210125-http-get"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bbhY"}]},{"client_msg_id":"1bc5d3d7-d179-4ad8-8afb-d83dd64c3b4c","type":"message","user":"UERCTTT8B","text":"基準が厳しい","ts":"1611923848.206700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zokof"}]},{"client_msg_id":"b3b28af1-1c96-43ed-8439-13168b035c1f","type":"message","user":"UERCTTT8B","text":"自分も syscall/js のメモリリーク直したのにリバートされました","ts":"1611923833.206300","edited":{"user":"UERCTTT8B","ts":"1611923845.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GrV"}]},{"client_msg_id":"122410e1-45c1-4651-9b25-8c352ea7410a","type":"message","user":"UERCTTT8B","text":"あるある","ts":"1611923824.206000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fTie"}]},{"client_msg_id":"5b3c1b81-dd79-4d94-a6a0-da89eda2cae4","type":"message","user":"UNJ2DANJC","text":"コードフリーズの前後で駆け込み入れちゃってたこういうのもrevertされてますね\n\u003chttps://github.com/golang/go/commit/520f3b72db7befab2028d9a47376267cf2d274a9\u003e\n延期するとのこと","ts":"1611923671.205600","attachments":[{"fallback":"GitHub: crypto/tls: revert \"add HandshakeContext method to Conn\" · golang/go@520f3b7","id":1,"title":"crypto/tls: revert \"add HandshakeContext method to Conn\" · golang/go@520f3b7","title_link":"https://github.com/golang/go/commit/520f3b72db7befab2028d9a47376267cf2d274a9","text":"This reverts CL 246338. Reason for revert: waiting for 1.17 release cycle Updates #32406 Change-Id: I074379039041e086c62271d689b4b7f442281663 Reviewed-on: \u003chttps://go-review.googlesource.com/c/go\u003e...","thumb_url":"https://avatars.githubusercontent.com/u/4314092?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/golang/go/commit/520f3b72db7befab2028d9a47376267cf2d274a9","original_url":"https://github.com/golang/go/commit/520f3b72db7befab2028d9a47376267cf2d274a9"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pOz1c"}]},{"client_msg_id":"19fcda37-23bd-4ed6-a9f0-c78ca769a7ff","type":"message","user":"U7H4TJEG0","text":"あら、それrevertされてたのか","ts":"1611923032.204500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MoF2"}]},{"client_msg_id":"4337ac7b-818c-4d92-96ee-b0dded882a8b","type":"message","user":"UERCTTT8B","text":"ひどい話だなあ","ts":"1611922796.204100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q3CZP"}]},{"client_msg_id":"994d856f-adad-4e17-a86a-f353577cfc63","type":"message","user":"UNJ2DANJC","text":"こういうのいっぱいあるんだろうな...\n\u003chttps://github.com/firebase/firebase-admin-go/blob/a9575890d36b8d0f7a875049fd14b608b81996e8/firebase_test.go#L622\u003e","ts":"1611922740.203800","attachments":[{"fallback":"GitHub: firebase/firebase-admin-go","id":1,"title":"firebase/firebase-admin-go","title_link":"https://github.com/firebase/firebase-admin-go/blob/a9575890d36b8d0f7a875049fd14b608b81996e8/firebase_test.go#L622","text":"Firebase Admin Go SDK. Contribute to firebase/firebase-admin-go development by creating an account on GitHub.","thumb_url":"https://avatars.githubusercontent.com/u/1335026?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/firebase/firebase-admin-go/blob/a9575890d36b8d0f7a875049fd14b608b81996e8/firebase_test.go#L622","original_url":"https://github.com/firebase/firebase-admin-go/blob/a9575890d36b8d0f7a875049fd14b608b81996e8/firebase_test.go#L622"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+/W0j"}]},{"client_msg_id":"8bdfbeab-a15e-44b8-8ddb-06393f28830a","type":"message","user":"UNJ2DANJC","text":"G社社内でテストがコケまくったのでという理由がなあ笑....","ts":"1611922579.203100","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eQdwD"}]},{"client_msg_id":"8d61c5f9-572c-49bd-b543-c2ae675b9d16","type":"message","user":"UERCTTT8B","text":"なかなか強烈だ","ts":"1611922525.202600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"siQ+h"}]},{"client_msg_id":"e2829cf4-dd2b-49d8-894b-15861ca679f6","type":"message","user":"UERCTTT8B","text":"エラーメッセージは変えることによるメリットが consistency くらいしかないから revert したのかな…","ts":"1611922514.202300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jHET"}]},{"client_msg_id":"9f582d80-ea4a-4572-891b-dfe7506b6c1d","type":"message","user":"UAZ33BKV2","text":"エラー出力パースは闇の魔術ですよね...","ts":"1611922396.201900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qoW"}]},{"client_msg_id":"38a0e288-7091-44ee-b3e3-cf20db6bc1c1","type":"message","user":"UNJ2DANJC","text":"エラーメッセージは直したりrevertしたりいろいろやってますね。\n正直これは別に良いんじゃないかと思いますけど。。。\n利用者もエラー文字列に依存しちゃだめだと思うので。\n\u003chttps://github.com/golang/go/commit/283d65413db75edbc4691c4fecf23228509436f0\u003e","ts":"1611922311.201500","attachments":[{"fallback":"GitHub: encoding/json: revert \"add \"json: \" prefix to SyntaxError messages\" · golang/go@283d654","id":1,"title":"encoding/json: revert \"add \"json: \" prefix to SyntaxError messages\" · golang/go@283d654","title_link":"https://github.com/golang/go/commit/283d65413db75edbc4691c4fecf23228509436f0","text":"This reverts commit 6af088bfc66c13143c9ef46b4cf0805df77a8fbe. Reason for revert: Broke many tests inside Google which implies many tests were broken outside of Google as well. The tests may be bri...","thumb_url":"https://avatars.githubusercontent.com/u/4314092?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/golang/go/commit/283d65413db75edbc4691c4fecf23228509436f0","original_url":"https://github.com/golang/go/commit/283d65413db75edbc4691c4fecf23228509436f0"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FjJy8"}]},{"client_msg_id":"7d2242cf-8af5-4bf1-bc11-c4b57aa1f68c","type":"message","user":"UERCTTT8B","text":"\u003chttps://github.com/golang/go/issues/39740\u003e 詳細","ts":"1611921672.199900","attachments":[{"fallback":"GitHub: syscall/js: increase performance of Call, Invoke, and New by not allowing new slices to escape onto the heap · Issue #39740 · golang/go","id":1,"title":"syscall/js: increase performance of Call, Invoke, and New by not allowing new slices to escape onto the heap · Issue #39740 · golang/go","title_link":"https://github.com/golang/go/issues/39740","text":"What version of Go are you using (go version)? $ go version go version go1.14.4 linux/amd64 Does this issue reproduce with the latest release? Yes, in go1.15beta1 What did you do? I used js.Call, j...","thumb_url":"https://avatars.githubusercontent.com/u/4314092?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/issues/39740","original_url":"https://github.com/golang/go/issues/39740"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wg42M"}]},{"client_msg_id":"693469b0-e673-4d0c-8f4b-2b179296cc19","type":"message","user":"UERCTTT8B","text":"Wrapper のせいで回り回ってエスケープ解析がうまくいかず値がヒープに載ってしまうケースがあるから、らしい","ts":"1611921591.199600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hIMz"}]},{"client_msg_id":"c1d26272-a25e-4caa-beda-f1647456d5f8","type":"message","user":"UERCTTT8B","text":"ちなみに今議論中ですけど Wrapper が消えそうです","ts":"1611921548.198700","team":"T03C4RC8V","reactions":[{"name":"hee","count":2,"users":["UKHUVMBJR","UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OA9"}]},{"client_msg_id":"6aafd3f9-606a-4f97-a0ba-42611d6c3687","type":"message","user":"UERCTTT8B","text":"syscall/js は Go1 policy の例外の一つですね","ts":"1611921539.198300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a5rR"}]},{"client_msg_id":"3ab76747-da91-422c-a693-23a60b8f3fc4","type":"message","user":"UKHUVMBJR","text":"js.Valueとかjs.FuncOfとかで変更されるけど未fixだからセーフってのはあったか","ts":"1611921467.197900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/K=RO"}]},{"client_msg_id":"a0332fa0-4a13-4ee2-97b7-beb174743696","type":"message","user":"U06BRP8VD","text":"reflect.Zeroの挙動の変更についてはドキュメント(ChangeLog)に入れても良いかなくらい。","ts":"1611921396.197100","edited":{"user":"U06BRP8VD","ts":"1611921431.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VQtF"}]},{"client_msg_id":"d24b7b6f-3fc1-418b-8efc-bccea37467d4","type":"message","user":"U06BRP8VD","text":"まぁ、僕ならこれは直さない方に倒します。がGoチームがどう判断するかを知りたいってのはある。","ts":"1611921354.196200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5Gm"}]},{"client_msg_id":"3980a9b7-718d-4c9f-8c3b-45a90454c9ac","type":"message","user":"U06BRP8VD","text":"責任の取れる範囲で、かな。","ts":"1611921319.195200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NwAT/"}]},{"client_msg_id":"3a56b97c-d088-4a19-8bfb-f33731bb53c3","type":"message","user":"UAZ33BKV2","text":"でしょうね...本来DeepEqualは自分のライブラリの中だけで使うとかそいういう系なのかな","ts":"1611921306.194900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cw28"}]},{"client_msg_id":"80ce752e-f612-4e70-a6c1-a64294fac34a","type":"message","user":"UERCTTT8B","text":"例えば構造体にキャッシュ的なメンバが追加されるだけで DeepEqual の結果かわるんでは","ts":"1611921250.194300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3Q="}]},{"client_msg_id":"7dfe6fe1-ff8b-42ee-aed1-ab203e86330d","type":"message","user":"UAZ33BKV2","text":"人間のやってるプロダクトですからねえ、なんかしらあるでしょうね","ts":"1611921234.193800","team":"T03C4RC8V","reactions":[{"name":"hai-small","count":1,"users":["UKHUVMBJR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"udzM+"}]},{"client_msg_id":"f4ef6b1c-2880-469a-a5a6-733dee5e9c7f","type":"message","user":"UKHUVMBJR","text":"しかしrevertされるとして、気づかずリリースされたらどうなるんだろう\nもしかしてそういう事例って既にあるのかな","ts":"1611921197.192900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hfI"}]},{"client_msg_id":"a12fd31b-2874-4520-8070-1af4174d18e0","type":"message","user":"UAZ33BKV2","text":"ホーキングさんみたいに、「自分のなってほしくないほう」に掛けておくと、損がなくていですけどねw","ts":"1611921177.192200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wma"}]},{"client_msg_id":"a0cf130b-2843-4fc1-9e0e-588731142c4d","type":"message","user":"UERCTTT8B","text":"ギャンブルだ!","ts":"1611921093.191600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2s3"}]},{"client_msg_id":"d779b68e-8aaf-439b-9deb-40d3f941463f","type":"message","user":"UERCTTT8B","text":"自分はされないに一票","ts":"1611921090.191400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q2q9"}]},{"client_msg_id":"99d742b9-7036-4f8c-8ef2-a2ee39625bc2","type":"message","user":"UKHUVMBJR","text":"struct tagまとめて書けるアレがそんなところ使わないけどねって挙動壊してrevertされたからrevertされそうっていう感想\n浅い見方かもしれない","ts":"1611921009.190900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j1nnp"}]},{"client_msg_id":"00fe1ad0-cb58-493d-a04b-199bb2781c06","type":"message","user":"UAZ33BKV2","text":"見せるというか、比較しないと意味ないタイプのつもり...自分もほぼわからんからこれ以上はなんも言えんな...","ts":"1611920958.189900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SCJ9"}]},{"client_msg_id":"be4263c5-68b7-4a01-bdef-b09064fe6807","type":"message","user":"U9S4G0LJW","text":"Go固有のあれこれはわからんのでノーコメントで","ts":"1611920934.189300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xq1"}]},{"client_msg_id":"de8c3297-c404-461f-82da-4056cc6fea6a","type":"message","user":"UAZ33BKV2","text":"ですねえ\nただ、自分も標準ライブラリの構造体のうち、そういう比較が必要になるような、表に見せてるものを想定してました。","ts":"1611920926.188900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o23it"}]},{"client_msg_id":"4704dd1e-f74a-4bcc-b41a-73a957c8b83d","type":"message","user":"U9S4G0LJW","text":"内部表現まで見てるのであればこれに依存すべきではないと思うのが普通だと思うけど","ts":"1611920924.188600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GdxIK"}]},{"client_msg_id":"98e1c5fb-97ee-41bd-8214-1ebdb07dd71e","type":"message","user":"UERCTTT8B","text":"\u0026gt; それが正しかった\n多分自分が定義する構造体なら正しさについてある程度言えそうですが、他の人が定義した構造体や標準ライブラリだと、正しさについて何も言えなくないですか","ts":"1611920873.187700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DXE"}]},{"client_msg_id":"2a8a4cf4-a7a0-413a-84fb-15ba8c30205a","type":"message","user":"UERCTTT8B","text":"あー自分は標準ライブラリの構造体などをどこまで互換性もたせるべきか、という話をしていたつもりでした","ts":"1611920725.186700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/rRrx"}]},{"client_msg_id":"9d0b4546-aca7-4a8d-a5a3-c07259105af8","type":"message","user":"UAZ33BKV2","text":"あー、わかりにくくてすみません、DeepEqualで比較すること自体がまずかったところで利用していて、そこに影響するのであれば無視してもいいかなと思うんですが、DeepEqualで比較が必要だったりそれが正しかったのなら、互換性が維持できたほうがいいよなあ、みたいな気持ちです。","ts":"1611919628.185900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ElO58"}]},{"type":"message","user":"U01M0PGQ3L0","text":"\u003c@U01M0PGQ3L0\u003e has joined the channel","ts":"1611918863.184800","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"490e68bc-0ed1-46ba-80e1-5556c5b9d204","type":"message","user":"UERCTTT8B","text":"おっしゃる意味がよくわかりませんが…","ts":"1611918111.184600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1wE"}]},{"client_msg_id":"1268a9da-c8db-4f49-902e-3038b940ddd7","type":"message","user":"UAZ33BKV2","text":"「DeepEqualで比較が正しくなかったのならそう言うべきだし、逆にそれで比較して:yoshi:  -\u0026gt; true/falseだったのなら守らないと互換性の維持ではない」という気はするけど...","ts":"1611917184.184000","edited":{"user":"UAZ33BKV2","ts":"1611917201.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ADZ0"}]},{"client_msg_id":"22c26a2e-9186-4ea8-b79b-3137d98fabac","type":"message","user":"UERCTTT8B","text":"DeepEqual の挙動まで変えてはならないとすると、 Value に限らずあらゆる構造体の変更が不可能になるので、守るのは現実的ではなさそうですね","ts":"1611917039.182700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TITr"}]},{"client_msg_id":"4d2a1821-7134-4277-ad37-0a45ba0ea3bc","type":"message","user":"UERCTTT8B","text":"これは破壊的変更の範疇なのかどうか…??","ts":"1611916598.182000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yqC"}]},{"client_msg_id":"d3c9dde3-a25e-4ec9-8c30-756a557986d7","type":"message","user":"UERCTTT8B","text":"Value の内部実装に依存する話か","ts":"1611916579.181500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MZ1w"}]},{"client_msg_id":"4a626e3d-d2e4-4e24-ad22-7596b8112323","type":"message","user":"U06BRP8VD","text":"go-swagger関連はアップデートの腰が重いんだよなw","ts":"1611915614.181200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ss7a"}]},{"client_msg_id":"1862b595-ff5a-4663-8476-d3375020bf45","type":"message","user":"U06BRP8VD","text":"のちに変更されてこのコードはなくなってるけど 0.19 からアップデートしてないから…","ts":"1611915574.180700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wcmEB"}]},{"client_msg_id":"eefba920-b83e-4295-b327-5447b438db30","type":"message","user":"U06BRP8VD","text":"出典はここ \u003chttps://github.com/go-openapi/validate/blob/bfaa1f86114fc35873e768bea7490439cbc5ee1c/type.go#L140\u003e","ts":"1611915550.180100","attachments":[{"fallback":"GitHub: go-openapi/validate","id":1,"title":"go-openapi/validate","title_link":"https://github.com/go-openapi/validate/blob/bfaa1f86114fc35873e768bea7490439cbc5ee1c/type.go#L140","text":"openapi toolkit validation helpers. Contribute to go-openapi/validate development by creating an account on GitHub.","thumb_url":"https://avatars.githubusercontent.com/u/15724843?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":369,"thumb_height":369,"from_url":"https://github.com/go-openapi/validate/blob/bfaa1f86114fc35873e768bea7490439cbc5ee1c/type.go#L140","original_url":"https://github.com/go-openapi/validate/blob/bfaa1f86114fc35873e768bea7490439cbc5ee1c/type.go#L140"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+01UM"}]},{"client_msg_id":"4e5d3577-83cc-4dec-b732-8da10626b715","type":"message","user":"U06BRP8VD","text":"まぁreflect.DeepEqualのabuseだと思うよ。Value同士をコレで比較して何がしたいねんって感じはする。","ts":"1611915534.179900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2PhxO"}]},{"client_msg_id":"e37eb4a9-dfbf-41fa-87f9-a6b3df9bf820","type":"message","user":"U06BRP8VD","text":"試金石","ts":"1611915476.179200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xup"}]},{"client_msg_id":"f9a9bdd1-dfb6-4b83-bc47-21e165e2de17","type":"message","user":"UAZ33BKV2","text":"より適切なら、そのルールでこのままいく、みたいになるのはありそうですね","ts":"1611915202.178900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P7lCa"}]},{"client_msg_id":"1a680cd5-57e8-40a1-8050-47552bf9b2f9","type":"message","user":"U06BRP8VD","text":"Goの互換性を壊さないスタンスが適用されるなら、これは直される。でもメモリ効率と天秤にかけて、reflect特にDeepEqualの補償範囲外として直さないのもありだと、個人的には思う。","ts":"1611915156.178500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VGvTW"}]},{"client_msg_id":"5cdf6406-8af0-4fcc-a526-9c0ccf218914","type":"message","user":"U06BRP8VD","text":"さっきのやつ issue にしたんだけどどうなるか楽しみだな。\n\n\u003chttps://github.com/golang/go/issues/43986\u003e","ts":"1611915044.176800","attachments":[{"fallback":"GitHub: reflect: change in behavior in Go1.16rc1 · Issue #43986 · golang/go","id":1,"title":"reflect: change in behavior in Go1.16rc1 · Issue #43986 · golang/go","title_link":"https://github.com/golang/go/issues/43986","text":"What version of Go are you using (go version)? $ go version go version go1.16rc1 windows/amd64 Does this issue reproduce with the latest release? no. it reprocude with latest release candidate What...","thumb_url":"https://avatars.githubusercontent.com/u/4314092?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/issues/43986","original_url":"https://github.com/golang/go/issues/43986"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zsH"}]},{"client_msg_id":"e940409e-b30c-4ba0-913a-b7577b1cfe72","type":"message","user":"UGXMRNBUM","text":"メルカリはGoエンジニア抱え込んでますからね","ts":"1611912597.175900","team":"T03C4RC8V","reactions":[{"name":"sorena","count":2,"users":["U8CC7MDCL","U7JL1UKKL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wdl"}]},{"client_msg_id":"7beb4c11-d799-4da8-b6d9-3f02f8af328f","type":"message","user":"U06ECBRTJ","text":"Software Design 1月号 の Go言語入門特集を今更読んだけど、執筆者 メルカリ・メルペイ の人だった","ts":"1611912563.175500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"71dc0"}]},{"client_msg_id":"2398688f-a71f-4a0a-aa74-f4abdc3a5508","type":"message","user":"U01D44KSY9Z","text":"Goそろそろちゃんと覚えよう……\nサラっと書くのにRustはカロリーが高すぎた","ts":"1611912510.174900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x8U"}]},{"client_msg_id":"a5c8827e-ae54-4c4d-8a85-5ebb5a97755e","type":"message","user":"U01D44KSY9Z","text":"どちらかの実態がもう片方に揃っちゃった感じですか、理解","ts":"1611912332.173200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5+J"}]},{"client_msg_id":"86ae0a8f-1fdb-4cac-ba31-d8253db0d82e","type":"message","user":"U06BRP8VD","text":"もしくはValueOfかも","ts":"1611912312.172800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rv6+Q"}]},{"client_msg_id":"45318826-3f29-4dff-9941-6aab2575fdfe","type":"message","user":"U06BRP8VD","text":"ちゃんと追ってないけど、それが濃厚","ts":"1611912297.172300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a2B+9"}]},{"client_msg_id":"8c6d7a26-f0c6-42b5-b46e-8d80258648ce","type":"message","user":"U06BRP8VD","text":"たぶんreflect.Zeroの挙動が変わった。","ts":"1611912284.171700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u8rB"}]},{"client_msg_id":"0169cd8d-816f-45c8-90d2-1076c2cee1fd","type":"message","user":"U01D44KSY9Z","text":"違った","ts":"1611912281.171600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kyLx3"}]},{"client_msg_id":"f9e3e08c-66ec-467f-958c-2d95325e38b3","type":"message","user":"U9S4G0LJW","text":"インタラクティブに走るので雰囲気掴むには最高 \u0026gt; tour","ts":"1611912268.171000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OCOV"}]},{"client_msg_id":"a74746fe-6a6a-488e-a627-2103795b3926","type":"message","user":"U06BRP8VD","text":"Zeroが参照する空文字列の実態が、以前は別インスタンスだったんだけどGo1.16 では同じになってしまった気がするな。","ts":"1611912261.170400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1pkY"}]},{"client_msg_id":"6c7b58a4-6085-40ee-a80e-7a3a952acf7c","type":"message","user":"U01D44KSY9Z","text":"変わってしまったのは `DeepEqual` の挙動かな","ts":"1611912258.170100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bbSN"}]},{"client_msg_id":"93f22d78-883a-46bc-9e2a-8b2524674faf","type":"message","user":"U01D44KSY9Z","text":"そんなチュートリアルまであるんですねGo","ts":"1611912197.168200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XUD=/"}]},{"client_msg_id":"0da8f22b-c194-4af6-9c9e-f8f3fcb80c29","type":"message","user":"U9S4G0LJW","text":"tourやりましょう \u003chttps://go-tour-jp.appspot.com/|https://go-tour-jp.appspot.com/\u003e","ts":"1611912165.167700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2mtI"}]},{"client_msg_id":"c236c502-2be7-42cd-9429-9395854cbabe","type":"message","user":"U06BRP8VD","text":"いやこれは変わってはいけないはず。","ts":"1611912121.166700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7hz"}]},{"client_msg_id":"a2c5097a-28c2-4d9d-af5b-0a41c2cbb613","type":"message","user":"U01D44KSY9Z","text":"Go面白そうだからどこかのタイミングで入門したい","ts":"1611912111.166400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DZ9c"}]},{"client_msg_id":"dd8397cb-ee55-4716-9fab-e199b38d7878","type":"message","user":"U01D44KSY9Z","text":"stringの空の値を返してるからどちらも空文字列でTrueになってると読み取ったんですけど合ってますかね\nこういう所の挙動ってバージョンごとに変わりうるのか……","ts":"1611912026.165300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"G=oZ0"}]},{"client_msg_id":"22efde8a-156a-4f23-9fe7-9a06aa5a05c1","type":"message","user":"U06BRP8VD","text":"\u003chttps://twitter.com/kaoriya/status/1355080417682964484\u003e","ts":"1611911501.163200","attachments":[{"fallback":"\u003chttps://twitter.com/kaoriya|@kaoriya\u003e: Go 1.15 と Go 1.16 で異なる動作のミニマルプログラム書けた…\n\n\u003chttps://play.golang.org/p/0tzp7aZhnQ8\u003e \u003chttps://twitter.com/kaoriya/status/1355039539463475201\u003e \u003chttps://pbs.twimg.com/media/Es418qOVkAIMAwB.png\u003e","id":1,"author_name":"MURAOKA Taro","author_subname":"@kaoriya","author_link":"https://twitter.com/kaoriya/status/1355080417682964484","author_icon":"https://pbs.twimg.com/profile_images/1196794099/avatar_normal.JPEG","text":"Go 1.15 と Go 1.16 で異なる動作のミニマルプログラム書けた…\n\n\u003chttps://play.golang.org/p/0tzp7aZhnQ8\u003e \u003chttps://twitter.com/kaoriya/status/1355039539463475201\u003e \u003chttps://pbs.twimg.com/media/Es418qOVkAIMAwB.png\u003e","image_url":"https://pbs.twimg.com/media/Es418qOVkAIMAwB.png","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1611911322,"service_name":"twitter","from_url":"https://twitter.com/kaoriya/status/1355080417682964484","original_url":"https://twitter.com/kaoriya/status/1355080417682964484"},{"color":"32BBF3","fallback":"\u003chttps://twitter.com/kaoriya|@kaoriya\u003e: お仕事のコードで先行して Go 1.16 のチェックしてるんだけども、テストが1つ失敗してる…なにが起こったんだ?","id":2,"author_name":"MURAOKA Taro","author_subname":"@kaoriya","author_link":"https://twitter.com/kaoriya/status/1355039539463475201","author_icon":"https://pbs.twimg.com/profile_images/1196794099/avatar_normal.JPEG","text":"お仕事のコードで先行して Go 1.16 のチェックしてるんだけども、テストが1つ失敗してる…なにが起こったんだ?","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1611901576,"service_name":"twitter","from_url":"https://twitter.com/kaoriya/status/1355039539463475201"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nN7"}]},{"type":"message","user":"U01HED09CVA","text":"\u003c@U01HED09CVA\u003e has joined the channel","ts":"1611892037.163000","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"bcee8c1c-c0c9-48b6-9d0d-b6b5aedacbf7","type":"message","user":"UNJ2DANJC","text":"深夜に見つけて寝れなくなってしまった....","ts":"1611855530.162600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uFYe"}]},{"client_msg_id":"0f5680ef-823f-468a-9cd2-17677f8ae9a1","type":"message","user":"UKHUVMBJR","text":"おもろい :eyes:\n\u003chttps://github.com/golang/proposal/blob/master/design/43810-go-pmem.md\u003e","ts":"1611855122.160600","attachments":[{"fallback":"GitHub: golang/proposal","id":1,"title":"golang/proposal","title_link":"https://github.com/golang/proposal/blob/master/design/43810-go-pmem.md","text":"Go Project Design Documents. Contribute to golang/proposal development by creating an account on GitHub.","thumb_url":"https://avatars.githubusercontent.com/u/4314092?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/proposal/blob/master/design/43810-go-pmem.md","original_url":"https://github.com/golang/proposal/blob/master/design/43810-go-pmem.md"}],"team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["UNJ2DANJC"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"df10"}]},{"client_msg_id":"2ca3a5d1-9018-4f95-a984-e9339230e9cf","type":"message","user":"UNJ2DANJC","text":"不揮発性メモリのサポートについてのissue\n\u003chttps://github.com/golang/go/issues/43810|https://github.com/golang/go/issues/43810\u003e","ts":"1611854946.160300","attachments":[{"fallback":"GitHub: proposal: spec: add native support for programming persistent memory in Go · Issue #43810 · golang/go","id":1,"title":"proposal: spec: add native support for programming persistent memory in Go · Issue #43810 · golang/go","title_link":"https://github.com/golang/go/issues/43810","text":"Persistent Memory is a new memory technology that allows byte-addressability at DRAM-like access speed and provides disk-like persistence. Applications using persistent memory benefit in a number o...","thumb_url":"https://avatars.githubusercontent.com/u/4314092?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/issues/43810","original_url":"https://github.com/golang/go/issues/43810"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FOJ"}]}]
