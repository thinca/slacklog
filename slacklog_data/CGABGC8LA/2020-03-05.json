[{"client_msg_id":"ec943738-94ba-4193-b3be-c52d25a51c1a","type":"message","user":"U03C6TEAZ","text":"<https://github.com/golang/go/issues/37533>","ts":"1583368786.223300","attachments":[{"fallback":"GitHub: proposal: flag: exit 0 for default -h/-help option · Issue #37533 · golang/go","id":1,"title":"proposal: flag: exit 0 for default -h/-help option · Issue #37533 · golang/go","title_link":"https://github.com/golang/go/issues/37533","text":"When the -help or -h flags are undefined and invoked, the flag package handles this situation as a special case and prints a nice and helpful default help text, but exit the process with exit code ...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/issues/37533","original_url":"https://github.com/golang/go/issues/37533"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YTY1L"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"40be271f-8b2f-4e00-b676-8bd7daa7f750","type":"message","user":"U03C6TEAZ","text":"これ昔から気になってたんだけど意図あったのかな。","ts":"1583368807.223900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Uhbru"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f8f4a3f6-ecbe-4d0d-a8ae-296becab2d74","type":"message","user":"UAZ33BKV2","text":"意図しないオプションで動いたことを検知、とか?","ts":"1583368859.224600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZhFUV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"701c5820-a3a8-436e-9bfb-532da0b4c654","type":"message","user":"U03C6TEAZ","text":"Linux の binutils とか fileutils は --help では 0 なんだけど。","ts":"1583368865.224800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a+Wg="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c254ed6f-95ca-40dd-ade6-a0fe41ab2c4b","type":"message","user":"U03C6TEAZ","text":"`EX_USAGE` というのもあるけどあれは指定が間違った場合だしそもそも値が 64...","ts":"1583368887.225300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PJ0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a708f579-95d1-4875-9051-e5bffed3671e","type":"message","user":"UAZ33BKV2","text":"*nix文化圏(だけじゃないけど)、デファクトで基準まもってない&amp;そうじゃないと運用できないものとか、どうなんだろうなあ..と思ったり\nこれはどうするのが正しいんだろ","ts":"1583369020.226500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r9bd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e5e4d618-da8c-405d-bb5f-62dffd8db0fd","type":"message","user":"U06BRP8VD","text":"&gt; This proposal proposes the exit code be 0 by default and configurable for this specific case.\nこれやるなら逆やろ…configurableにしたうえでデフォルトは今のまま、0にすることもでるってのが正道な気がする。","ts":"1583369316.227300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vDvTl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fe369dae-1984-4f27-adcf-9caed63fd4ab","type":"message","user":"U06BRP8VD","text":"undefined な help 表示だから非0が正しいと思うなぁ。","ts":"1583369360.227700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DwaJt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"90c86818-d263-43ee-9984-42992934fb3d","type":"message","user":"U06BRP8VD","text":"いやなら help をdefineすればよいだけでは…","ts":"1583369374.228100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z4b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8e6d2c28-f66c-4b37-b1c2-cae1778c9a3a","type":"message","user":"U03C6TEAZ","text":"getopt も特にそういうコードは無いんだけど getopt 使ったコードのほとんどは help を自前実装して exit 0、知らないフラグは exit 2 という作りなんですよね。","ts":"1583369520.229000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eLIt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"95d3a1ed-6f66-4549-b14d-3338cb03a604","type":"message","user":"U06BRP8VD","text":"helpが未定義で知らないフラグ(-hとか)の時 2 だしてるのは今もそうだよね。追加で自動でhelpだしてる。もしもほかのコマンドとの直行性を理由に直すなら自動でhelpだすコードを消すほうが理に適ってるきがするよ。。","ts":"1583369928.231200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KsC6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd596ef7-3aa2-4b32-afe6-22f3aef94537","type":"message","user":"U03C6TEAZ","text":"ですね。それが全てな気がする。","ts":"1583370251.232500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gzS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"182fe63e-adb3-4e9c-8a86-483e4513b7bb","type":"message","user":"U03C6TEAZ","text":"```$ go --help 2&gt; /dev/null\n$ echo $?\n2\n\n$ go -help 2&gt; /dev/null\n$ echo $?\n2\n\n$ go -h 2&gt; /dev/null\n$ echo $?\n2\n\n$ go help &gt; /dev/null\n$ echo $?\n0```","ts":"1583370252.232600","edited":{"user":"U03C6TEAZ","ts":"1583370264.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ICsMd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
