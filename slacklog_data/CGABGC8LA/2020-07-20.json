[{"client_msg_id":"7f18554d-dba1-4839-a694-fd8dd5ec44a6","type":"message","user":"U06BRP8VD","text":"型付きのnilをinterface{} に入れて omitempty 外れるいつものやつだったわ… 型が付いてない奴を入れてると錯覚してた。\n\n<https://play.golang.org/p/veMTjef3UYx>","ts":"1595230578.490500","thread_ts":"1595226005.487700","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T/E"}],"root":{"client_msg_id":"4a98b68b-6d11-44e7-97f1-129f854a035a","type":"message","user":"U06BRP8VD","text":"Goのencoding/json周りで不可解な動作に遭遇。Marshal時に `omitempty` のフィールドに `null` が表示される。\n\nその構造体単品をMarshalしても期待通り省略される。外側を `map[string]interface{}` で囲ったりちょっと複雑な変換をした結果としてそのフィールドが `null` でMarshalされる。ただどちらの場合でも `%#v` で表示してみると `Typename{nil}` になってる","ts":"1595226005.487700","thread_ts":"1595226005.487700","edited":{"user":"U06BRP8VD","ts":"1595226153.000000"},"reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bNG"}]}},{"client_msg_id":"1a4ff89a-bf7a-4554-922d-506227ce3407","type":"message","user":"UKHUVMBJR","text":"Goの標準ライブラリでASCII外の名前を使用しているところがあったとは知らなかった。\nていうか前にも見てるはずなのに気づかなかった。\n<https://github.com/golang/go/blob/go1.14.6/src/math/cmplx/polar.go#L10>","ts":"1595246566.491200","attachments":[{"fallback":"GitHub: golang/go","id":1,"title":"golang/go","title_link":"https://github.com/golang/go/blob/go1.14.6/src/math/cmplx/polar.go#L10","text":"The Go programming language. Contribute to golang/go development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/blob/go1.14.6/src/math/cmplx/polar.go#L10","original_url":"https://github.com/golang/go/blob/go1.14.6/src/math/cmplx/polar.go#L10"}],"team":"T03C4RC8V","reactions":[{"name":"kzk","count":2,"users":["U010WB2E7J6","UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BcdEA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3a29472b-1019-4373-bded-30f61d03be1f","type":"message","user":"UERCTTT8B","text":"とはいえ積極的に使いたくはないですね","ts":"1595246899.491800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ncU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bdeafb24-f146-4114-8a44-fa152340278a","type":"message","user":"UKHUVMBJR","text":"まあわざわざ入力しようと思う前に普通にASCIIで書いちゃいますしね","ts":"1595247693.492200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mr="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U016VHXDV0X","text":"<@U016VHXDV0X> has joined the channel","ts":"1595211432.481500","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"e52be2e1-4478-4e23-97cc-16400c133a3e","type":"message","user":"U06ECBRTJ","text":"前に、環境変数の適用について、`go -e HOGE=huga` みたいなのが欲しいって言う話題になった記憶があるんですが、node.js の cross-env を go porting したら、使い勝手いいんじゃないですかね","ts":"1595211864.483100","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["U016H1EJ17X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nav"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66a210c8-7f9c-47d3-a048-648f952e74f2","type":"message","user":"U06BRP8VD","text":"UNIXというかたいていのシェルなら `HOGE=huga go ...` で良いんじゃないの?","ts":"1595217770.483900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bPWB6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4b4701cc-793a-44c8-b7c6-325ae50d425f","type":"message","user":"U06BRP8VD","text":"どっかファイルに書いておくってことか…","ts":"1595217812.484300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uyt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4e6f4d1-fbc1-4ced-8eee-d3e644c097f6","type":"message","user":"U06ECBRTJ","text":"Makefile に書きたいとかの需要に答えられそうかなと","ts":"1595224228.485000","thread_ts":"1595224228.485000","reply_count":4,"replies":[{"user":"UERCTTT8B","ts":"1595226572.489200"},{"user":"U06ECBRTJ","ts":"1595226591.489500"},{"user":"UERCTTT8B","ts":"1595226597.489700"},{"user":"U06ECBRTJ","ts":"1595226638.489900"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YdQy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4a98b68b-6d11-44e7-97f1-129f854a035a","type":"message","user":"U06BRP8VD","text":"Goのencoding/json周りで不可解な動作に遭遇。Marshal時に `omitempty` のフィールドに `null` が表示される。\n\nその構造体単品をMarshalしても期待通り省略される。外側を `map[string]interface{}` で囲ったりちょっと複雑な変換をした結果としてそのフィールドが `null` でMarshalされる。ただどちらの場合でも `%#v` で表示してみると `Typename{nil}` になってる","ts":"1595226005.487700","thread_ts":"1595226005.487700","edited":{"user":"U06BRP8VD","ts":"1595226153.000000"},"reply_count":1,"replies":[{"user":"U06BRP8VD","ts":"1595230578.490500"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bNG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"D7212265-BC0E-4282-A9CA-CA76B08A13F3","type":"message","user":"UDDCM376D","text":"気になる","ts":"1595226027.488000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ta843"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"72a82381-7175-4390-9186-dd6ccf866e0e","type":"message","user":"UERCTTT8B","text":"`env` コマンドではだめなんです?\n`env HOGE=huga go ...`","ts":"1595226572.489200","thread_ts":"1595224228.485000","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VFq"}],"root":{"client_msg_id":"f4e6f4d1-fbc1-4ced-8eee-d3e644c097f6","type":"message","user":"U06ECBRTJ","text":"Makefile に書きたいとかの需要に答えられそうかなと","ts":"1595224228.485000","thread_ts":"1595224228.485000","reply_count":4,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YdQy"}]}},{"client_msg_id":"1a1bd0e4-3a7d-4f1a-ada8-c8741deb535a","type":"message","user":"U06ECBRTJ","text":"Windows だと…","ts":"1595226591.489500","thread_ts":"1595224228.485000","parent_user_id":"U06ECBRTJ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T5QD9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"198b5184-f459-4aee-8c86-2fbdd3c9e308","type":"message","user":"UERCTTT8B","text":"ああなるほど","ts":"1595226597.489700","thread_ts":"1595224228.485000","parent_user_id":"U06ECBRTJ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7xzy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66049c92-dbea-44be-826d-b355e85a682f","type":"message","user":"U06ECBRTJ","text":"cross-env の cross は cross platform なはずなので","ts":"1595226638.489900","thread_ts":"1595224228.485000","parent_user_id":"U06ECBRTJ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o=y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
