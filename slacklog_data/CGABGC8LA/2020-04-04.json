[{"type":"message","user":"U011B0GJYGP","text":"<@U011B0GJYGP> has joined the channel","ts":"1585931961.450600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U0114J65SBV","text":"<@U0114J65SBV> has joined the channel","ts":"1585962920.450900","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"f3029fd1-b16b-4a02-aeea-99fb23f8438b","type":"message","user":"UDDCM376D","text":"sliceのinsert、頭の良さを感じた\n<https://github.com/golang/go/wiki/SliceTricks#insert>\n\n``` a = append(a[:i], append([]T{x}, a[i:]...)...)```","ts":"1585967681.451900","attachments":[{"fallback":"GitHub: golang/go","id":1,"title":"golang/go","title_link":"https://github.com/golang/go/wiki/SliceTricks#insert","text":"The Go programming language. Contribute to golang/go development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/wiki/SliceTricks#insert","original_url":"https://github.com/golang/go/wiki/SliceTricks#insert"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hh6fZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4dbcca2f-8376-4f1a-9f93-4503004d47a2","type":"message","user":"U03C6TEAZ","text":"なんとなく遅そう。(要検証)","ts":"1585968305.452800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zIr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dba57d17-ce0b-4ed8-8eb4-dba248eaa085","type":"message","user":"U03C6TEAZ","text":"「Go は任意型の追加とか苦手でしょ」の反論の為に書かれてるものが混じってそう。","ts":"1585968485.454800","edited":{"user":"U03C6TEAZ","ts":"1585968500.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zgaw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d8a088a-a803-4679-b9d3-cb61beee87c2","type":"message","user":"U03C6TEAZ","text":"<https://twitter.com/mattn_jp/status/1246331001476804609>","ts":"1585983457.455300","attachments":[{"fallback":"<https://twitter.com/mattn_jp|@mattn_jp>: 書いた。 / “Big Sky :: Go 言語のスライス挿入ベンチマーク” <https://htn.to/4mZ5nY9HW5>","id":1,"author_name":"mattn","author_subname":"@mattn_jp","author_link":"https://twitter.com/mattn_jp/status/1246331001476804609","author_icon":"https://pbs.twimg.com/profile_images/1022150732634419200/yZg4xLsO_normal.jpg","text":"書いた。 / “Big Sky :: Go 言語のスライス挿入ベンチマーク” <https://htn.to/4mZ5nY9HW5>","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1585983441,"service_name":"twitter","from_url":"https://twitter.com/mattn_jp/status/1246331001476804609","original_url":"https://twitter.com/mattn_jp/status/1246331001476804609"}],"team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["U9S4G0LJW"]},{"name":"tiken","count":1,"users":["UAZ33BKV2"]},{"name":"+1","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kwEA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"691664f8-50c1-45bb-972c-b9760467072e","type":"message","user":"U03C6TEAZ","text":"ちょっと間違っててこそっと直した。","ts":"1585984408.456000","team":"T03C4RC8V","reactions":[{"name":"banjaku","count":3,"users":["UAZ33BKV2","U9S4G0LJW","U0114J65SBV"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EBrQZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"84279479-42c1-4790-9b50-1a208b51ddae","type":"message","user":"U7H4TJEG0","text":"そこまで変わらんかった…\n```/private/tmp go test -bench .\ngoos: darwin\ngoarch: amd64\npkg: tmp\nBenchmarkAppend-16         97662             11558 ns/op\nBenchmarkNormal-16        113486             10220 ns/op```","ts":"1585984586.456500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nYYp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2009248e-b9c1-4adb-a8de-4b24881d3db5","type":"message","user":"U03C6TEAZ","text":"なんだろう。Windows なんか違うんかな。","ts":"1585984631.456900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O5uOJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b9cc82a9-24f7-417d-9155-d66e635c187e","type":"message","user":"U03C6TEAZ","text":"あ、StopTimer 入ってない。","ts":"1585984665.457100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6kBA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d358074e-3a96-45aa-8a5e-b75ef0c282cb","type":"message","user":"U06BRP8VD","text":"ん～","ts":"1585984705.457400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BR2o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a0962b71-aa47-4045-931e-ed5d85a4a686","type":"message","user":"U03C6TEAZ","text":"なおし。","ts":"1585984728.458200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9RF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1a00dd68-3b7f-4165-8a66-5b1b808ecb36","type":"message","user":"U06BRP8VD","text":"2つ疑問があって、最初見た時に記事にあったベンチ結果が消えたのと、あとNormalのほうなんでcopyつかわないの?","ts":"1585984732.458300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VIB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c588c093-0408-4e11-a493-fb8414b14a17","type":"message","user":"U7H4TJEG0","text":"```copy(output, input[:n])\ncopy(output[n:], insert)\ncopy(output[n+len(insert):], input[n:])```\nこれはどうだろう","ts":"1585984734.458400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Knl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ed65f681-ae7a-4fc0-a20a-ed8e12c54f94","type":"message","user":"U03C6TEAZ","text":"そもれ良さそう。","ts":"1585984813.458600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x0L"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"85bd3db1-3397-45f7-9ed9-1f3fd56b64ae","type":"message","user":"U03C6TEAZ","text":"```BenchmarkAppend-8          42700             26185 ns/op\nBenchmarkNormal-8          70170             18005 ns/op\nBenchmarkCopy-8            90902             15787 ns/op```","ts":"1585984872.458900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O3Z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c376e398-b4c7-4273-bc88-086fa8944669","type":"message","user":"U03C6TEAZ","text":"更新した。","ts":"1585984992.459100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vQ7X"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8108cc04-94bf-4724-9519-c93f5e617496","type":"message","user":"U7H4TJEG0","text":"```BenchmarkAppend-16         99148             12840 ns/op\nBenchmarkNormal-16        120246             10274 ns/op\nBenchmarkCopy-16          195975              5688 ns/op```","ts":"1585985089.459400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XEA3N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e8df0495-1875-4a6a-90eb-430fbed62e48","type":"message","user":"U03C6TEAZ","text":"なんの差だろう。","ts":"1585985143.459700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T0w"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5c116f4a-ed24-4102-8ff7-fa1a8686b3a7","type":"message","user":"U03C6TEAZ","text":"測り直すたびに変わる。","ts":"1585985174.460000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QuIfo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8df64740-0207-4ea7-97b6-587f2ee25b37","type":"message","user":"U03C6TEAZ","text":"```BenchmarkAppend-8          35395             31836 ns/op\nBenchmarkNormal-8          61192             21202 ns/op\nBenchmarkCopy-8           100820             14641 ns/op```","ts":"1585985178.460200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hhe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8c9d4712-190f-462c-814a-c4974cbf68e3","type":"message","user":"U7H4TJEG0","text":"いずれにせよ みんな copy 使おう","ts":"1585985208.460700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6XY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5a64968a-d7aa-44fa-aa9b-4634f590ca69","type":"message","user":"UAZ33BKV2","text":"キャッシュメモリとかが響く?","ts":"1585985216.461000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4As+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9de8a2c-b905-4105-8cb0-9a12754f4841","type":"message","user":"U03C6TEAZ","text":"そうね。","ts":"1585985216.461100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ba/T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e681bb3f-6d47-4b0e-ba8b-689f94b6b948","type":"message","user":"UAZ33BKV2","text":"まあcopyですよね...","ts":"1585985229.461400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0L5n"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eb43a70b-af1c-46cb-9d8a-74fec457360f","type":"message","user":"U03C6TEAZ","text":"copy は気を付けないと突き抜けるケースがあるので少しアレ。","ts":"1585985316.462100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h81=k"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47a13b74-8678-4909-b7bd-c0bf7f1c7839","type":"message","user":"U03C6TEAZ","text":"len 以上、cap 以下にコピーしうるケース。","ts":"1585985349.462500","edited":{"user":"U03C6TEAZ","ts":"1585985360.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l/F"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"79af9d47-fbeb-438f-b76d-f7658e9ab984","type":"message","user":"UAZ33BKV2","text":"unmanageな機能ってところですか","ts":"1585985373.463000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sKmG6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"32736421-c365-4b10-aaaf-0cdaddf67029","type":"message","user":"U03C6TEAZ","text":"コアチームも稀にやってしまう。","ts":"1585985395.463300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jPt1/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"93798ce3-250d-4917-9a64-b3115f5c4cae","type":"message","user":"UKHUVMBJR","text":"insertはループ回してやるかなあ、sliceTrickでも書けるんですけどやっぱ読みづらいし…","ts":"1585985468.464200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PhN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"41ff2f63-f16b-4fda-bd36-716c5814af56","type":"message","user":"UKHUVMBJR","text":"unshiftくらいまでならappendでやるけど。","ts":"1585985504.464800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IWCKq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1ee15228-0f03-4ac2-a639-80e799f624a9","type":"message","user":"U03C6TEAZ","text":"少なくとも cap がデカくなる append のハックは無いすね。","ts":"1585985535.465200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EKQnn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e3953c3-aff7-4903-80b7-d5bff0664eb0","type":"message","user":"UAZ33BKV2","text":"insertが頻発する場合は、array-link-listなやつを作っちゃって、ですかねえ","ts":"1585985704.466100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"As4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16b2ddeb-a2db-4280-ace8-0f6338100086","type":"message","user":"U03C6TEAZ","text":"動的型付け言語触る人達は Go の配列やスライスがメモリブロックだって意識が少し薄いかもしれない。","ts":"1585985874.466900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c9ws"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"651B66CE-7316-4224-A2A4-39FAA87EE15F","type":"message","user":"UDDCM376D","text":"ベンチマークあざます\n勉強になりました","ts":"1585990687.467700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Cuaz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33bd82a4-fe3c-47f2-bebd-c54fb17250df","type":"message","user":"UKHUVMBJR","text":"&gt; メモリブロックだって意識が少し薄いかも\n\nすごく健康的だ……[][]を見ただけでメモリ配列が気になって夜も眠れなくなるので……","ts":"1585991186.469400","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["UAZ33BKV2"]},{"name":"wakaru","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iqX7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"48071fe9-cf7e-40f9-a554-9c3e30c10c55","type":"message","user":"U03C6TEAZ","text":"C言語やってる人だと配列が2次元にも3次元にも見えるので便利。","ts":"1585991854.471200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LYj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"685b9b37-e2bc-41a6-9b61-dcb5af3f38b8","type":"message","user":"UAZ33BKV2","text":"逆に最終的なフラットなメモリ空間を想像して齟齬がでたりしてw","ts":"1585991920.471700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2umI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2b2a583f-e1ea-4dfa-b84f-7b35683f0a28","type":"message","user":"UDDCM376D","text":"&gt; 動的型付け言語触る人達は Go の配列やスライスがメモリブロックだって意識が少し薄いかもしれない。\nメモリブロック…？","ts":"1585993347.472000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lm4qG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d25a6eb2-4e54-43bf-b365-ebccdeb6ea24","type":"message","user":"U03C6TEAZ","text":"例えば Ruby だと `a = [1, 2, 3]` ってやったら数値が3つで 8 バイト x 3 = 24 バイト取ってそうに見えるけど、実際は型の情報も持ってるし `a[1] = \"foo\"` ってやったらオブジェクトもリンクされる。つまりメモリが直列じゃないんですよね。Go だと `[500]byte` は 500 バイトなんですよね。1要素に 1 バイト以上の物は突っ込めない。","ts":"1586004383.476600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xxo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
