[{"client_msg_id":"2ac3b0e8-f487-4fd9-b4fa-9f0e03e393ba","type":"message","user":"U03C6TEAZ","text":"server で client.go ということは ReverseProxy ?","ts":"1591168864.063400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Eceb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ad51a627-5969-4441-b118-6ac560a5c4ca","type":"message","user":"U7JL1UKKL","text":"あー、パニックになるだけなんですね。それはうーん困りますね","ts":"1591168865.063500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6HE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"44abf01e-84a9-4110-9647-ce2b869d5f15","type":"message","user":"U06BRP8VD","text":"ああreverse proxyそのものではないんですが…1つリクエスト受けると複数のリクエスト投げるような変なサーバー作ってるんすよw","ts":"1591169085.064200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zvrFi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47aa623e-386a-43cd-a359-d082053d57c4","type":"message","user":"U06BRP8VD","text":"あんま落ちるような事態にはならないんですが、それでも無理やり負荷かけると落ちるし、スループットも落ちるしで。","ts":"1591169140.065000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y5t"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"08948a93-5e86-4ab0-a485-e1b167f06012","type":"message","user":"U06BRP8VD","text":"入り口で数絞るしかないんですが","ts":"1591169153.065400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ef4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b595294e-c056-4282-b7ef-7c3ccc569c28","type":"message","user":"U06BRP8VD","text":"ああそうじゃない。出口でも数絞ってるんだけど、異様にgoroutineが増えるから気が付いたんだw","ts":"1591169195.065900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WnqZL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"446aaaec-fbc2-486c-a377-38f7d4292126","type":"message","user":"U06BRP8VD","text":"あーわかった","ts":"1591169827.066400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W2L"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9298e91d-87cf-40cd-a06e-2a06d18490e0","type":"message","user":"U06BRP8VD","text":"MaxConnsPerHost 設定しないと、無限にいっちゃうんだ。","ts":"1591169846.066900","team":"T03C4RC8V","reactions":[{"name":"+1","count":2,"users":["UL5G6QL5U","U011WJ8K6UU"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VM="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"56e58d6c-9ab5-4d19-a93a-453aabe7c122","type":"message","user":"U06BRP8VD","text":"全部別のコネクションにして並列につなごうとして、goroutineを大量生成してる。","ts":"1591169885.067700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LDkba"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b1f78968-beb1-4ae7-adb5-f6e01969bc21","type":"message","user":"U03C6TEAZ","text":"そのオプション入ったのそんなに古くない記憶。","ts":"1591169927.068600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EDV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"03a30299-11a8-4039-ad51-6180b25607c8","type":"message","user":"U06BRP8VD","text":"え、まじで","ts":"1591170023.068800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MDeLJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"77e3abb1-d837-49e2-bf40-279540f514b3","type":"message","user":"U06BRP8VD","text":"docには特にバージョン情報は言ってないけども…","ts":"1591170043.069100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rIX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf08bec0-2465-4f83-9fe1-94495c51b76a","type":"message","user":"U03C6TEAZ","text":"あ、ちがった。最近修正が入った記憶だ。","ts":"1591170284.069400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cQ=Y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"38350b5e-fb96-4891-84e1-f3938d848de5","type":"message","user":"U03C6TEAZ","text":"<https://github.com/golang/go/commit/fbaf881cc62bd0e1f4c5e608217fd52106438dbb>","ts":"1591170285.069600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OATaG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b5bc9eba-9c48-437a-939b-7e716b588762","type":"message","user":"U03C6TEAZ","text":"最近って1年近く前やん。","ts":"1591170726.069900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"twb=1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2C54A94E-D52B-4275-8A15-BD9D7D3DF099","type":"message","user":"UJV04G927","text":"質問です。\n業務で初めてgoを使うことになったのですが、プロジェクトのディレクトリ構成に悩んでいます。簡単なRESTのAPIなのですが、参考になるプロジェクトや資料ありますでしょうか？","ts":"1591180200.073400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7Tzr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d9a362b-9415-45dd-ba02-d6823cf11949","type":"message","user":"U03C6TEAZ","text":"規模は大きいですか？","ts":"1591180515.073900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UGpLk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"232A5607-27A1-4116-B972-4F94BD6D3C3D","type":"message","user":"UJV04G927","text":"小さいです。\nできるだけ、標準パッケージだけで作ろうと考えてます。","ts":"1591180664.074900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SLe7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"45b4605f-74ca-4712-ac36-689463551492","type":"message","user":"U03C6TEAZ","text":"小さくて、rest だけしか処理がないのであればフラットに置いた方がすっきりすると僕は思います。他の処理、たとえば cli も込みなどあれば別ですが。","ts":"1591181400.077800","team":"T03C4RC8V","reactions":[{"name":"me-too","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RCgNz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"688f8146-226c-485d-8b56-e67a9b90a7f4","type":"message","user":"U03C6TEAZ","text":"失敗しないコツは db とか config とかで分けない事だと思います。ただし repository など透過レイヤを分けるのはアリ。","ts":"1591181511.080100","edited":{"user":"U03C6TEAZ","ts":"1591181529.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rb7a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U01553U9WEL","text":"<@U01553U9WEL> has joined the channel","ts":"1591181683.080600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"72641a48-2964-4964-ba46-dc230b46b2e8","type":"message","user":"UJV04G927","text":"ありがとうございます。\nなるほど。やっぱりそうですよね。まずはフラットにやってみようと思います。\nちなみに、そのRESTを呼び出すcliも別のリポジトリで作るのですが、cliもフラットに置いた方がきれいでしょうか？","ts":"1591182029.083900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CvPGG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf6c0951-6872-476a-8d7a-af97d45889c6","type":"message","user":"U03C6TEAZ","text":"cli/server はどちらも main package なので分ける事になると思います。","ts":"1591182500.084700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xiXyj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c27aeca9-3e85-4da6-b0c4-0faa764cfb41","type":"message","user":"U03C6TEAZ","text":"```+- server\n+- cmd\n  +- hogesever\n  +- hogeclient```\nこういうのもアリです。","ts":"1591182575.085000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=mH2Q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf4bae7b-c9ec-4a78-a41b-718eeb8feeb9","type":"message","user":"U03C6TEAZ","text":"server 内でフラット","ts":"1591182587.085400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5j4n"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0ac5750e-0f85-4200-93e2-cefa4127810c","type":"message","user":"UJV04G927","text":"この場合、共用できるやつはルートに置く感じですよね。","ts":"1591182918.087000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DuhW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"852ed2a0-3161-4956-b16b-09daee1e9c8e","type":"message","user":"U03C6TEAZ","text":"ですね。","ts":"1591183078.087800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fGy1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"32f47f9a-51a4-4bc9-bc57-a2e65a472123","type":"message","user":"U03C6TEAZ","text":"↑で書いた config クラスというのは、設定を読み取るライブラリとしてならいいと思います。例えば 単なる箱としてパッケージを分けると失敗しがちです。","ts":"1591183183.088800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u=/GN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"10400485-f71d-401b-a8d3-b4610573ab69","type":"message","user":"U03C6TEAZ","text":"パッケージ分けてしまうとテストがつらくなってしまうので。","ts":"1591183207.089200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7OC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4a90c401-cba2-43df-8ac6-f2e19b201abb","type":"message","user":"UJV04G927","text":"ありがとうございます！\n社内は、Javaの人が多くて`src`とか作りたがる人には中々フラットで理解されないところが辛いですが、、まずは小さいアプリなので難しいことは考えないでフラットにやってみます。","ts":"1591183798.093900","team":"T03C4RC8V","reactions":[{"name":"+1","count":2,"users":["U06BRP8VD","UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tBT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a9bf9dcc-c9f6-434b-ab64-c030d170c555","type":"message","user":"US5UW1UNB","text":"絶対 import にしてほしいやつです ?","ts":"1591183890.094000","thread_ts":"1591151045.051400","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qC6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fcbdea10-7a4c-4fa4-8868-2a6b17564d04","type":"message","user":"US5UW1UNB","text":"(別に解決策があるわけじゃなくて、同じようなことを思って解決するならどうするかなあと思ってたりしました…)","ts":"1591184003.094200","thread_ts":"1591151045.051400","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EwZT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"daee3a4d-3b57-4930-b4c2-21c2c8c9f7a2","type":"message","user":"U8996GYBF","text":"デフォルトが相対っぽいんですよねー","ts":"1591185916.094700","thread_ts":"1591151045.051400","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GfjT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16c5c094-01a6-41d3-928b-a2bb66913795","type":"message","user":"US5UW1UNB","text":"おそらく最も短いの、とかになってそうです、 `@/...` で import されることもありました…","ts":"1591189312.094900","thread_ts":"1591151045.051400","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j0A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b56dd04f-d2ca-4d64-9dc4-3654300f7695","type":"message","user":"US5UW1UNB","text":"探してみると `typescript.preferences.importModuleSpecifier` という設定を `non-relative` にすると行けるみたいです。 tsserver の設定なので coc-tsserver をつかっていればできそうです…","ts":"1591189347.095100","thread_ts":"1591151045.051400","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gfG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1430bff7-5b9c-45da-968e-9fd8ab5acf37","type":"message","user":"U8996GYBF","text":"おっ","ts":"1591189659.095300","thread_ts":"1591151045.051400","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rwB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ee263fb3-239a-4287-b201-38866b9cf4cf","type":"message","user":"U8996GYBF","text":"`@/..` でimportされるのって既存のimportに追加する場合じゃないですか？","ts":"1591189679.095500","thread_ts":"1591151045.051400","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gt4fF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3bb2ee94-e479-4091-979f-995b81888a5a","type":"message","user":"U8996GYBF","text":"`import { Foo } from \"foobar\"` してて `Bar` をimportするときはそのまま追加される気がします","ts":"1591189713.095700","thread_ts":"1591151045.051400","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1ua"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3d6f6a4c-3171-4084-b248-e620b3bd5803","type":"message","user":"U8996GYBF","text":"ひとまず設定してみました","ts":"1591189782.095900","thread_ts":"1591151045.051400","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"t1HfY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c8870e4-72d1-46e2-aee5-5d29c7135d72","type":"message","user":"US5UW1UNB","text":"あー、CodeActionとかで気軽に切り替えられるのもよさそうですよね。 tsserverに contribute するしかないのかも…","ts":"1591190437.096100","thread_ts":"1591151045.051400","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j43s8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UL5G6QL5U","text":"<@UL5G6QL5U> has joined the channel","ts":"1591118799.016100","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"d4d7936d-21dd-41d9-aeb4-6a9a39421067","type":"message","user":"UL5G6QL5U","text":"初めまして！失礼します！\ngoでvimを書いているものなのですが、存在しない関数を作成した時、その関数を作成するようなことって できないでしょうか？\nvim-goではできそうになく。。","ts":"1591118909.017700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ezlVC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"69d2085d-492b-4d28-a236-7bda28f448cc","type":"message","user":"UNJ2DANJC","text":"ちょっと要望を叶えられるか分かりませんが、mattnさん作のこれ使ういろいろ自動生成できます。\n<https://github.com/mattn/vim-sonictemplate|https://github.com/mattn/vim-sonictemplate>\n\ninterfaceの定義に従ってstub実装を生成するやつならありますね。\nたしかvim-goにも搭載されていたはず。\n<https://github.com/josharian/impl|https://github.com/josharian/impl>\n自分はvim-go使ってないのでなんとも言えませんが、普段そういうときどうしてるかなって思い返してみると、無名関数で書いておいて後でリファクタとかはたまにやりますね。","ts":"1591119831.026700","attachments":[{"fallback":"GitHub: mattn/vim-sonictemplate","id":1,"title":"mattn/vim-sonictemplate","title_link":"https://github.com/mattn/vim-sonictemplate","text":"Easy and high speed coding method. Contribute to mattn/vim-sonictemplate development by creating an account on GitHub.","thumb_url":"https://repository-images.githubusercontent.com/2640484/febf5880-41f4-11ea-9b2c-e79b89e80f51","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/mattn/vim-sonictemplate","original_url":"https://github.com/mattn/vim-sonictemplate"},{"fallback":"GitHub: josharian/impl","id":2,"title":"josharian/impl","title_link":"https://github.com/josharian/impl","text":"impl generates method stubs for implementing an interface. - josharian/impl","thumb_url":"https://avatars1.githubusercontent.com/u/67496?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/josharian/impl","original_url":"https://github.com/josharian/impl"}],"team":"T03C4RC8V","reactions":[{"name":"pray","count":1,"users":["UL5G6QL5U"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ipLI/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c94c31c-9ee2-4536-9b9a-78e0ab5e24c0","type":"message","user":"UL5G6QL5U","text":"GoImpl使いまくってます笑笑","ts":"1591120509.027200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8ip"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e5bc230b-27cd-4bbe-9e32-5a22ef814cc8","type":"message","user":"UL5G6QL5U","text":"ソニックテンプレートはしらなかったです！ありがとうございます！","ts":"1591120534.027800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8qC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3f1f23e1-7f7b-4b05-b6e0-1c6e8beebc32","type":"message","user":"UL5G6QL5U","text":"もしなかったら作りたいですね！vim-goに追加したい！(vimscript書いたことないですが)","ts":"1591120578.028900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L7Tg0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"86d140bd-7f97-4aa4-aa94-b787965dc8fa","type":"message","user":"UGXMRNBUM","text":"指定範囲の行を関数に切り出すやつと、関数のスタブを作るやつは欲しくなる","ts":"1591147000.031700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zK3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"26365da5-a9d3-4fab-8140-1dcb2a315a3c","type":"message","user":"UGXMRNBUM","text":"根源は10年以上前のVisual Studioの体験だなぁこれは","ts":"1591147017.032200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r+v"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e883a48-107f-4d9d-b487-c47937c43f2a","type":"message","user":"U03C6TEAZ","text":"impl みたいなコマンドがあった気がしますが違ったかな？","ts":"1591147447.032500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"enRB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6a20e822-9509-4a31-abcd-5a4a6b8d0d2d","type":"message","user":"U03C6TEAZ","text":"<https://github.com/josharian/impl>","ts":"1591147466.032700","attachments":[{"fallback":"GitHub: josharian/impl","id":1,"title":"josharian/impl","title_link":"https://github.com/josharian/impl","text":"impl generates method stubs for implementing an interface. - josharian/impl","thumb_url":"https://avatars1.githubusercontent.com/u/67496?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/josharian/impl","original_url":"https://github.com/josharian/impl"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sEXo6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c8142684-8e78-447c-8814-4060bc08231a","type":"message","user":"U03C6TEAZ","text":"わお impl って josharian 氏だったのか。","ts":"1591147484.033200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FnxHU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"93e10b73-6a69-4a24-b5e2-c87b00f8569b","type":"message","user":"UGXMRNBUM","text":"interfaceならimplですねー","ts":"1591147507.033400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cHHQq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"322642d0-dea0-4984-9fc8-6ac8aa2d4d17","type":"message","user":"U03C6TEAZ","text":"既に出ていた。","ts":"1591147637.033900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dbE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"041a07fa-cb95-47eb-98e6-309f3e6bb93f","type":"message","user":"UGXMRNBUM","text":"<https://docs.microsoft.com/ja-jp/visualstudio/ide/reference/generate-method?view=vs-2019>","ts":"1591147649.034000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KPB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1bb4c87a-145f-47b5-b92a-345f1b168d24","type":"message","user":"UGXMRNBUM","text":"VisualStudioはこういうの相当充実してたなぁそういえば","ts":"1591147671.034600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jKX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a77deeb8-441c-4758-88e3-067e4225463c","type":"message","user":"U03C6TEAZ","text":"なるほど呼び出しから作るのか。","ts":"1591147695.034900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uBh2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"db21bc37-c282-4acc-9c92-7d26a7fa0403","type":"message","user":"UGXMRNBUM","text":"面白いですよねこういうの","ts":"1591147721.035500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fK1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"25b7d88c-11a6-4473-8a3e-bc6882650328","type":"message","user":"UGXMRNBUM","text":"やってやれないこたないなと思いながら着手できていない","ts":"1591147737.035800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oGYTT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cff57bda-900d-4705-921d-db888ac5e1c7","type":"message","user":"U03C6TEAZ","text":"型が決めれないので辛そう。","ts":"1591147753.036000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WjwC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3bdffb50-170f-48de-bfde-f93ac0b1a58b","type":"message","user":"U03C6TEAZ","text":"js ならなんとかなりそう。","ts":"1591147759.036200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sr0Rl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d177075c-8b4b-4d65-b898-f8b037d55866","type":"message","user":"U06BRP8VD","text":"変数がスコープにアレば型は決められますよね。","ts":"1591147885.036900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wJ0a6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c768f666-1f6f-47fd-924a-1809bc46503b","type":"message","user":"U06BRP8VD","text":"戻り値も書かんとだめやけどw","ts":"1591147910.037500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Jqbe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb396d30-cdb9-45f8-8d0e-cbdfa2207d0c","type":"message","user":"U03C71D7H","text":"&gt; goでvimを書いているものなのですが\nGo で Vim を再実装している感じになってて一瞬ドキッとした","ts":"1591147922.037600","team":"T03C4RC8V","reactions":[{"name":"sorena","count":3,"users":["UGXMRNBUM","UL5G6QL5U","UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yY8c5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c0414ce8-508a-4ece-bc33-e6c9a8362bc6","type":"message","user":"UGXMRNBUM","text":"goのコードからASTが手軽な一方でASTからコードの生成が結構泥臭い印象、僕がなにかライブラリを見過ごしている気がしている","ts":"1591148025.038600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wLp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"64b03f06-f3a9-46a3-a6c5-a03fe72202ab","type":"message","user":"U9S4G0LJW","text":"ASTの自力構築、基本だるいと思っている","ts":"1591148115.038800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B6Ol"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fe9e4122-5d5d-4262-99ca-18ff55a739b5","type":"message","user":"U9S4G0LJW","text":"何も知らないだけかもしれない","ts":"1591148135.039100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jVet"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"10924593-8a91-4e64-8f93-f2913b600df2","type":"message","user":"UGXMRNBUM","text":"ASTを使わないやつではjenniferとかいうライブラリも使ってみたけど、もう一歩！という感が\n<https://github.com/kyoh86/appenv/blob/master/gen/generate.go>","ts":"1591148275.040300","attachments":[{"fallback":"GitHub: kyoh86/appenv","id":1,"title":"kyoh86/appenv","title_link":"https://github.com/kyoh86/appenv/blob/master/gen/generate.go","text":"Contribute to kyoh86/appenv development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/5582459?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/kyoh86/appenv/blob/master/gen/generate.go","original_url":"https://github.com/kyoh86/appenv/blob/master/gen/generate.go"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QGSI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aaa39921-866e-4e8e-9210-6eea66c8bfab","type":"message","user":"U06BRP8VD","text":"ASTは読むのも書くのも大変だよね。","ts":"1591148284.040800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1uAjB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d8bb3125-41f8-483c-b46b-ac5828957c0b","type":"message","user":"U06BRP8VD","text":"読む方は僕もライブラリ作ったけど、xにもなにかあったはず。goplsが使ってるの。","ts":"1591148307.041600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UU=R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d0225a75-f260-453e-ad7c-9751762070a3","type":"message","user":"UNJ2DANJC","text":"私は読む方よりは書くほうがだいぶ難しく感じました。","ts":"1591148324.042300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UUVN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e26f66d4-6fa1-49e4-afac-75930cb0ec9b","type":"message","user":"U06BRP8VD","text":"書くというかASTを構築するのは超絶難度というかメンドイので、Printfかテンプレートで作ってそれをparseしたほうが速いというw","ts":"1591148358.043100","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qrS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"716eba8a-1225-4256-b377-f8a1209345be","type":"message","user":"UGXMRNBUM","text":"AST読んで、それを一部そのままコード化したいシーン、意外とないのかな","ts":"1591148401.043800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+Q7Tf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4910f91b-9184-43c6-a817-b76acb584ae6","type":"message","user":"UGXMRNBUM","text":"そうそう、このPR出したときに「この `typeString` 、標準ライブラリにあってもよさそうなもんだけど」と思ったのだった\n<https://github.com/koron-go/srcdom/pull/1/files>","ts":"1591148453.044500","attachments":[{"fallback":"GitHub: support ast.MapType in typeString by kyoh86 · Pull Request #1 · koron-go/srcdom","id":1,"title":"support ast.MapType in typeString by kyoh86 · Pull Request #1 · koron-go/srcdom","title_link":"https://github.com/koron-go/srcdom/pull/1/files","text":"Using koron/mockgo, I found an error \"typeString doesn't support: map\".","thumb_url":"https://avatars2.githubusercontent.com/u/5582459?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/koron-go/srcdom/pull/1/files","original_url":"https://github.com/koron-go/srcdom/pull/1/files"}],"edited":{"user":"UGXMRNBUM","ts":"1591148464.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5uwYb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7b335e1c-e85f-4c59-8b48-e36f1493a0e3","type":"message","user":"UGXMRNBUM","text":"あ、そしてこれオーナーKoRoNさんじゃないか…","ts":"1591148482.045200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5TY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d24a92e6-7aa4-4513-b387-05746505502d","type":"message","user":"U06BRP8VD","text":"w","ts":"1591148548.045500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"07J"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c0afc6cd-59d6-41d5-9cde-5f3643fb9908","type":"message","user":"U06BRP8VD","text":"それそれ","ts":"1591148550.045700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V9zLa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"71535c12-2b67-4054-9c9a-c9563f2b6e38","type":"message","user":"U06BRP8VD","text":"x だと <https://godoc.org/golang.org/x/tools/go/ast/astutil> このあたり","ts":"1591148561.046000","attachments":[{"fallback":"Package astutil","id":1,"title":"Package astutil","title_link":"https://godoc.org/golang.org/x/tools/go/ast/astutil","text":"Package astutil contains common utilities for working with the Go AST.","blocks":null,"service_name":"godoc.org","service_icon":"https://godoc.org/favicon.ico","from_url":"https://godoc.org/golang.org/x/tools/go/ast/astutil","original_url":"https://godoc.org/golang.org/x/tools/go/ast/astutil"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qMmK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"48808a16-8189-4b26-a0a1-8fec17cd44d8","type":"message","user":"U03C6TEAZ","text":"コード生成とかになると、不完全なコードなので visitor で辿る物になるし、型を取るのが面倒。","ts":"1591148636.047600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kYG/S"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"27da6f40-f48a-456a-ad14-a06ba3119839","type":"message","user":"UGXMRNBUM","text":"~確かに、ASTそもそも得られないのか…~ そうじゃない","ts":"1591148725.048100","edited":{"user":"UGXMRNBUM","ts":"1591148747.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nWXN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"85e5a19a-aef2-4fd9-bda5-05e36f93f0a7","type":"message","user":"U06BRP8VD","text":"iferrのときは関数シグネチャだったんだよなぁ。","ts":"1591148746.048500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BaG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b984e569-1ae1-4f92-bdac-ab2c1a8facb6","type":"message","user":"U06BRP8VD","text":"ASTは得られても型が推定できないケース、結構ありますよね。","ts":"1591148764.049100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jalKe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bdc48cff-2b4c-48d4-b054-6dfcf24039c3","type":"message","user":"U06BRP8VD","text":"典型的なのは import してないとかw","ts":"1591148782.049600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9bV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"19ad4730-25ae-4f16-926e-dabf833d58f2","type":"message","user":"U03C6TEAZ","text":"goimport の import 自動で作る奴、Go だと普通にやってるけど、あれ他の言語だと信じられない様な事やってるんよねw","ts":"1591149262.050600","team":"T03C4RC8V","reactions":[{"name":"sorena","count":3,"users":["U06BRP8VD","UAZ33BKV2","U011WJ8K6UU"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HwT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"20cd5e15-7924-47ba-8fea-76457770cec1","type":"message","user":"U8996GYBF","text":"最近TSでimport自動でやってくれるようになってすごい便利です、ただeslintのルールに沿ってまではやってくれないのがあれなんですけど","ts":"1591151045.051400","thread_ts":"1591151045.051400","reply_count":10,"replies":[{"user":"US5UW1UNB","ts":"1591183890.094000"},{"user":"US5UW1UNB","ts":"1591184003.094200"},{"user":"U8996GYBF","ts":"1591185916.094700"},{"user":"US5UW1UNB","ts":"1591189312.094900"},{"user":"US5UW1UNB","ts":"1591189347.095100"},{"user":"U8996GYBF","ts":"1591189659.095300"},{"user":"U8996GYBF","ts":"1591189679.095500"},{"user":"U8996GYBF","ts":"1591189713.095700"},{"user":"U8996GYBF","ts":"1591189782.095900"},{"user":"US5UW1UNB","ts":"1591190437.096100"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WCqT+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cc3f0c30-27b9-4703-9a64-0b79a2b3c5fc","type":"message","user":"U06BRP8VD","text":"&gt; program exceeds 10000-thread limit\nこれで落ちるの初めて見た。","ts":"1591158187.052100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cpo6b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"18cbb681-456f-418c-8ddd-5a8d97be6940","type":"message","user":"U03C6TEAZ","text":"10000 個の goroutine が全部 OS に割り当たったかw","ts":"1591158277.052500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"b6Mcm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"640d8311-ca72-40ad-b007-e65b05adcbbc","type":"message","user":"U06BRP8VD","text":"んーしかもこのgoroutine、net/http.Serve で作られるやつなんすよhね。","ts":"1591158451.053100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uICT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fe8b61ac-e586-4a26-aba9-fac0f86345e7","type":"message","user":"U06BRP8VD","text":"これは…難しいぞ。","ts":"1591158586.053300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qUk=d"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b061ded4-1937-4635-8127-cc0d755ff6ac","type":"message","user":"U03C6TEAZ","text":"<https://golang.org/pkg/runtime/debug/#SetMaxThreads>","ts":"1591158656.053500","attachments":[{"fallback":"debug - The Go Programming Language","id":1,"title":"debug - The Go Programming Language","title_link":"https://golang.org/pkg/runtime/debug/#SetMaxThreads","text":"Go is an open source programming language that makes it easy to build simple, reliable, and efficient software.","blocks":null,"service_name":"golang.org","service_icon":"https://golang.org/favicon.ico","from_url":"https://golang.org/pkg/runtime/debug/#SetMaxThreads","original_url":"https://golang.org/pkg/runtime/debug/#SetMaxThreads"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tS7BJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"afacb7ac-34d7-4468-97dd-8f9567adf91a","type":"message","user":"U03C6TEAZ","text":"これで増やせそう。","ts":"1591158662.053800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dnlF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"26d06b24-3ac7-4dc2-93f8-240c87cb50b7","type":"message","user":"U06BRP8VD","text":"んー増やすことが主眼ではなくて、Serverが異様に大量のリクエストを受けた時に、リソースを食いつぶさずに動きつづける方法が欲しい。","ts":"1591159118.055200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RU7VP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9abd3eec-9c5d-414c-968d-53e3c6d7d88e","type":"message","user":"U06BRP8VD","text":"chan への書き込みをこうするのってちゃんと機能するんだっけ?","ts":"1591159639.055500","files":[{"id":"F014PJEKE9K","created":1591159638,"timestamp":1591159638,"name":"Untitled","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":74,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F014PJEKE9K/untitled","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F014PJEKE9K/download/untitled","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F014PJEKE9K/untitled","permalink_public":"https://slack-files.com/T03C4RC8V-F014PJEKE9K-01a3975d39","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F014PJEKE9K/untitled/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DM="}]},{"client_msg_id":"19251da0-3166-4702-aa3d-7940f2d140c4","type":"message","user":"U03C6TEAZ","text":"いくはず。","ts":"1591159860.056000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5L2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"188a07ce-5d79-4fbf-8d65-df4ed3e0d3c6","type":"message","user":"U03C6TEAZ","text":"len(ch) で確認するのもアリ(どちらでも)","ts":"1591159894.056400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bWv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3ac6c4e7-cd4b-4311-aa94-522818e12e04","type":"message","user":"U06BRP8VD","text":"len(ch) だとチェックしてから実際に書くまでに別のgoroutineが書いちゃうケースあるのでは?","ts":"1591159990.057100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pcFZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e4a0eeb5-9603-4112-ab84-fa9522676cc5","type":"message","user":"U03C6TEAZ","text":"ありますね。","ts":"1591160016.057300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fErM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"209b09af-d3d5-4d96-ac22-7029f7389fa1","type":"message","user":"U03C6TEAZ","text":"スロットリングなんかには使えるかと。 &gt; len(ch)","ts":"1591160057.057700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WZIiC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eddc2be7-cfa4-4d29-83be-20072d5424dd","type":"message","user":"U06BRP8VD","text":"net/http.CilentにTimeout設定していると、1リクエスト毎にgoroutine起動するの初めて知った。で、大量にリクエスト投げるとスレッドが枯渇することがある。","ts":"1591166693.058800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Gc2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b1085ff9-9ebb-4402-979d-0d2429d06463","type":"message","user":"U7JL1UKKL","text":"goroutineスレッドの最大数を逆に減らせればと思うのですが","ts":"1591167318.059600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rmks"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68e23d25-b4f8-483f-a39c-31e2baeec7d7","type":"message","user":"U7JL1UKKL","text":"できないのですかね？","ts":"1591167327.059900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zC/F"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0c503f50-7128-41f9-b137-42c4d4e1f3f7","type":"message","user":"U06BRP8VD","text":"制限できるけどそれは単に超えた時にpanicになるだけで","ts":"1591167497.061100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Gd6J"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f391c5fb-798a-43a4-a36e-a72d6cbe21e5","type":"message","user":"U06BRP8VD","text":"発行するリクエストの数をスロットリングする以外に、いまのところ方法を思いついてないです。","ts":"1591167524.061900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"n3B"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"90528296-00a2-488b-8bd2-1463093c60c5","type":"message","user":"U06BRP8VD","text":"いまclient.goとかの中身を見て、どういう時にgoroutineができるのか確認してる。","ts":"1591167547.062500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BSu7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
