[{"client_msg_id":"7294fb82-b052-445a-834d-2b3344f8ba98","type":"message","user":"UERCTTT8B","text":"hohou","ts":"1609855343.350400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PVQO"}]},{"client_msg_id":"f75f228d-90b7-458c-b994-8649cad871ca","type":"message","user":"UAZ33BKV2","text":":hai-small:","ts":"1609855337.350200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+sym"}]},{"client_msg_id":"3967c019-cdf3-4a3e-83fc-7280ff8fc888","type":"message","user":"UERCTTT8B","text":"(ちなみに、そもそも別レイヤーに問題が生じたのでこの問題は有耶無耶になりました)","ts":"1609855329.349900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fLLHs"}]},{"client_msg_id":"d1fc1c37-e070-4ab3-9aa7-c4b2ef7011be","type":"message","user":"UAZ33BKV2","text":"\u003chttps://www.atmarkit.co.jp/flinux/rensai/watch2007/watch11a.html\u003e\n話題の参考になるだろうか?","ts":"1609855315.349500","edited":{"user":"UAZ33BKV2","ts":"1609855332.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HaBM"}]},{"client_msg_id":"578f9ea8-1d0a-4136-9b99-87df00b31f38","type":"message","user":"UAZ33BKV2","text":"ああ、ちょっと違ったのか、それはたしかにちょっと悲しいですね。","ts":"1609855296.348900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EUN2"}]},{"client_msg_id":"5e783446-a519-4506-aa82-be633b8c44e7","type":"message","user":"UERCTTT8B","text":"(今回は sync.Cond)","ts":"1609855214.348400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d7L"}]},{"client_msg_id":"19e0251d-9022-4444-b80f-48903c3c1c8e","type":"message","user":"UERCTTT8B","text":"他の部品使わざるを得ない時点で残念だなあという感じです","ts":"1609855206.348100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GN+xu"}]},{"client_msg_id":"33921460-cd39-4969-bde4-82ce2533dad6","type":"message","user":"UERCTTT8B","text":"Go の channel とかの primitive つかえないなあって話なので…","ts":"1609855187.347700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"07c3"}]},{"client_msg_id":"95fad04b-346f-4b63-af66-5e6ee5c7347c","type":"message","user":"UAZ33BKV2","text":"ううん、ドライバでよくあるんだけど、いろいろあるし、うまく説明が","ts":"1609855136.347300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CXXQ"}]},{"client_msg_id":"8a8db7f7-5e5c-4c93-836c-b1cc97608bbe","type":"message","user":"UAZ33BKV2","text":"あるいは Linux io_uring みたいなのとか...","ts":"1609855095.346600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OOuPS"}]},{"client_msg_id":"a8cda764-e0e3-4628-9a1d-bb044e128744","type":"message","user":"UAZ33BKV2","text":"syncするごとの、1塊を渡して、不連続byte sequenceとしてハンドリングするようなやつ","ts":"1609854986.346300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dyL"}]},{"client_msg_id":"73fe2573-e8fa-4272-86e3-b8f0c4650ff7","type":"message","user":"UERCTTT8B","text":"scatter-gatherリスト?","ts":"1609854827.345500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fbEA"}]},{"client_msg_id":"9bc04689-1335-4bb9-a44d-6167b76a74b1","type":"message","user":"UAZ33BKV2","text":"勝ち負けは分からないけど、scatter-gatherリストでやるとかはだめ？","ts":"1609844904.345200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oJw6"}]},{"client_msg_id":"693944af-f915-46df-b681-cddbfd9f581b","type":"message","user":"UERCTTT8B","text":"一個一個 byte を send/recv するのはかなりつらそう","ts":"1609841557.344000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BiuZ"}]},{"client_msg_id":"e756827f-afbf-470f-83ea-892bf89f81c7","type":"message","user":"UERCTTT8B","text":"`make(chan byte, 4096)` みたいなのを例えば作ることになりそうですが","ts":"1609841541.343500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"90B"}]},{"client_msg_id":"1e84176e-bc98-4f73-bed9-2706b6f3768a","type":"message","user":"UERCTTT8B","text":"あー、非効率だろうなってことですね","ts":"1609841521.343100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yD2M"}]},{"client_msg_id":"ddad15ce-742a-4a06-8987-1d1aa3f2baa6","type":"message","user":"U06BRP8VD","text":"うまくいかない、ってのが良くわからない。","ts":"1609841472.342700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q5meD"}]},{"client_msg_id":"eb21afe6-f503-4b9a-a81c-f2e09afc3ad3","type":"message","user":"UERCTTT8B","text":"channel で一個一個 byte を出し入れすると恐ろしく非効率になりそう","ts":"1609841433.342400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+ay"}]},{"client_msg_id":"e71ab593-3122-4606-96cc-2196ee3f1f7d","type":"message","user":"UERCTTT8B","text":"なんか負けた気がしますね。","ts":"1609841416.342000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"++v"}]},{"client_msg_id":"580fa8df-aa10-4cf8-a584-5985e4630583","type":"message","user":"UERCTTT8B","text":"Go で sync する byte queue をつくるとき、 channel だと多分うまくいかなくて conditional variable つかってるんですけど","ts":"1609841403.341700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gxJWE"}]},{"client_msg_id":"9b284ba1-777b-4cc7-b8ff-82e484799b49","type":"message","user":"UERCTTT8B","text":"観測範囲問題かもしれない","ts":"1609822043.340500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zgmp"}]},{"client_msg_id":"dfdb4839-18a5-4f43-8862-4a9aa5952069","type":"message","user":"UERCTTT8B","text":"Go/Wasm の用途も大体ゲームしか見ない気がするし…","ts":"1609822039.340300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ohl"}]},{"client_msg_id":"79630103-e835-4f29-8e69-9ee29ebca101","type":"message","user":"U06BRP8VD","text":"「おまえがVimになるんだよ!","ts":"1609821578.339600","thread_ts":"1609821526.338600","subtype":"thread_broadcast","reactions":[{"name":"fuita","count":3,"users":["U06ECBRTJ","U01HW6LUXBL","UGH7U3SF2"]},{"name":"fukaikousatsu","count":1,"users":["U06ECBRTJ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mWhjU"}],"root":{"client_msg_id":"67b2c55e-229e-42ba-91c5-ac41b0fbfbee","type":"message","user":"U06BRP8VD","text":"みんなVimになる。","ts":"1609821526.338600","thread_ts":"1609821526.338600","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5SK"}]}},{"client_msg_id":"286f1b9c-0068-45c1-8f6f-cae48ec618ae","type":"message","user":"UERCTTT8B","text":"0b は Go 1.13 から。","ts":"1609821546.339300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=4DM"}]},{"client_msg_id":"2c86b8cf-4dd4-4a38-8b59-c1ba17bdedf1","type":"message","user":"UERCTTT8B","text":"ちゃんと怒るんだな…","ts":"1609821535.339100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cgQ"}]},{"client_msg_id":"77aeea8e-b3eb-4e44-b7ec-9fa351fc5fda","type":"message","user":"UERCTTT8B","text":"go.mod を go1.12 にしていたせいではじめて Go のバージョンが古いと怒られた","ts":"1609821532.338800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"89Bc5"}]},{"client_msg_id":"67b2c55e-229e-42ba-91c5-ac41b0fbfbee","type":"message","user":"U06BRP8VD","text":"みんなVimになる。","ts":"1609821526.338600","thread_ts":"1609821526.338600","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5SK"}]},{"client_msg_id":"dbbdf0b7-8fec-4a07-87a5-83d5dab5b75e","type":"message","user":"UERCTTT8B","text":"0b はこういうときに便利ですね","ts":"1609821521.338300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D53"}]},{"client_msg_id":"bd1446d0-70b4-43b4-ac9c-9cbec6d0e9ea","type":"message","user":"U03C6TEAZ","text":"mbyte.c にあるコード。","ts":"1609821513.337900","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vEid"}]},{"client_msg_id":"b26155e0-5e80-4494-b142-1f092c4074ef","type":"message","user":"U06BRP8VD","text":"ほぼほぼVimと同じコード","ts":"1609821502.337500","edited":{"user":"U06BRP8VD","ts":"1609821509.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GeC2D"}]},{"client_msg_id":"f3607e21-70e6-4f07-91f2-b51f64a001a9","type":"message","user":"U03C6TEAZ","text":"`0b` ほぼ使った事ないけどこのケースは有用そう。","ts":"1609821498.337200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8ipT"}]},{"client_msg_id":"dd3aacef-32a3-419f-b4b0-a6faad354aac","type":"message","user":"UERCTTT8B","text":"こんなかんじでうごいた","ts":"1609821469.336400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RiUc"}]},{"client_msg_id":"23da156f-7f49-4fab-abc8-463090b61982","type":"message","user":"UERCTTT8B","text":"```// countUTF8ByteSizeFromLeadingByte returns the byte size for one code point from the leading byte.                                                                                                                                           \nfunc countUTF8ByteSizeFromLeadingByte(b byte) int {\n        if b \u0026amp; 0b10000000 == 0 {\n                return 1\n        }\n        if b \u0026amp; 0b11100000 == 0b11000000 {\n                return 2\n        }\n        if b \u0026amp; 0b11110000 == 0b11100000 {\n                return 3\n        }\n        return 4\n}```","ts":"1609821462.336000","team":"T03C4RC8V","reactions":[{"name":"+1","count":2,"users":["U06BRP8VD","UNJ2DANJC"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/7fr"}]},{"client_msg_id":"75534c9f-2bd2-423a-8c57-9ee8a9e6d460","type":"message","user":"U03C6TEAZ","text":"パーマなオカンだったので、髪の毛は `@` で表現しました。","ts":"1609821435.335800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=NPG6"}]},{"client_msg_id":"8fc3e16b-6245-4722-a5fa-3e748a228877","type":"message","user":"U03C6TEAZ","text":"画面の上でオカンが左右に移動して下の砲台から打つやつ作ってオカンに怒られた。","ts":"1609821387.335200","team":"T03C4RC8V","reactions":[{"name":"fuita","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q0h"}]},{"client_msg_id":"3c26cc86-425a-41a3-bff7-b7c762945f51","type":"message","user":"U03C6TEAZ","text":"なんやかんや言って僕も最初は MZ-80 でゲームを書いたな。","ts":"1609821349.334700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sDDou"}]},{"client_msg_id":"7701333c-c775-47b5-b480-7b464eba8733","type":"message","user":"U06BRP8VD","text":"5mm方眼紙に設計図書いてその通りに描画した。","ts":"1609821307.334300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R7Gj"}]},{"client_msg_id":"7dab12b2-edcd-499c-bebb-8601c1f524ec","type":"message","user":"U06BRP8VD","text":"MSX BASICでSCREEN2に幾何学図形並べて絵を描くやつ。","ts":"1609821290.333800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ihse/"}]},{"client_msg_id":"d212127f-3a99-4daa-bfca-dca089e5dfb9","type":"message","user":"U06BRP8VD","text":"最初に書いたプログラムは…たぶんCGだな。","ts":"1609821236.332800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W3KN"}]},{"client_msg_id":"52266882-cd2b-43b0-952d-9b6e79da5ece","type":"message","user":"U03C6TEAZ","text":"「万人が書きたいコードの根底はゲームに辿り着く」 の名言感","ts":"1609821182.332400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kAxIr"}]},{"client_msg_id":"abdf1726-a10e-4f03-aa78-06059da82935","type":"message","user":"UNJ2DANJC","text":"プログラムを書きたい目的なんて考えたことなかったな...","ts":"1609821152.331900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MpQ"}]},{"client_msg_id":"d8e48aaa-383f-4535-b192-57ec2e7878ac","type":"message","user":"U06BRP8VD","text":"キーボードですよ? (偏見その2","ts":"1609821087.330400","edited":{"user":"U06BRP8VD","ts":"1609821096.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oUt"}]},{"client_msg_id":"e6ea7540-1f4f-42a7-991a-eca7d38fb8ec","type":"message","user":"UERCTTT8B","text":"大体プログラム書きたいと思う目的ってゲームじゃないですか (偏見)","ts":"1609821076.330200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qwhXw"}]},{"client_msg_id":"14d59d8e-f141-4e0a-804b-436fdce46f9c","type":"message","user":"UERCTTT8B","text":"これも…ゲームですね…","ts":"1609821050.329700","team":"T03C4RC8V","reactions":[{"name":"fukaikousatsu","count":1,"users":["UNJ2DANJC"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B2ph"}]},{"client_msg_id":"4cd9e3c1-2a5a-4e36-a9a1-da4f908028fc","type":"message","user":"UERCTTT8B","text":"あーあと OpenFont まわりとか","ts":"1609821044.329200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OI7J"}]},{"client_msg_id":"f8683d2e-18f9-40f0-bcda-e78d1d413728","type":"message","user":"UERCTTT8B","text":"ゴールはゲームですね","ts":"1609821039.328800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g3hX"}]},{"client_msg_id":"f909b19d-1cc8-4050-8abb-c95a88d2af03","type":"message","user":"U03C6TEAZ","text":"ゴールはゲーム？w","ts":"1609821034.328400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TzK"}]},{"client_msg_id":"c97b5065-52c3-45ea-a34b-0103e873a729","type":"message","user":"UERCTTT8B","text":"gomobile とか書いてました","ts":"1609821023.328000","thread_ts":"1609821023.328000","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C0nG"}]},{"client_msg_id":"dfb5aed1-8cad-4867-a832-b278f0b166c4","type":"message","user":"U03C6TEAZ","text":"hoshi さんがゲーム以外に何か書くのか問題","ts":"1609820998.327700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"n1PK+"}]},{"client_msg_id":"81d7871a-424f-43a7-837f-04ae81d79a30","type":"message","user":"UNJ2DANJC","text":"ebiten++","ts":"1609820956.327200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bSkM"}]},{"client_msg_id":"7e261059-49c8-46d6-97a2-0e8062f0b145","type":"message","user":"U06BRP8VD","text":"わからないわけがないw","ts":"1609820949.327000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WuE="}]},{"client_msg_id":"6dfa95b5-26c9-4705-8b3a-175a1b2db7e5","type":"message","user":"UERCTTT8B","text":"ゲームだとバレてしまった…!?","ts":"1609820935.326600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WaF"}]},{"client_msg_id":"f91279d5-a233-4354-b446-b1b6abef068d","type":"message","user":"UERCTTT8B","text":"そうですね、アセット固定なんで","ts":"1609820924.326200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o=0"}]},{"client_msg_id":"02fd32df-fb7d-4026-8ae5-d32f230913f0","type":"message","user":"U06BRP8VD","text":"ユーザーが自由に入力できるバイト列のないゲーム用途だから、かな?","ts":"1609820914.325800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K3i+"}]},{"client_msg_id":"a554821b-f1bf-470b-9d0c-9701b09d25c0","type":"message","user":"UERCTTT8B","text":"不正な文字はないと仮定します","ts":"1609820884.325100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zmwOW"}]},{"client_msg_id":"94a9e607-e6dc-4a10-90c9-67a4d3adaadb","type":"message","user":"U03C6TEAZ","text":"不正な文字でも良ければ。","ts":"1609820868.324800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3IBV6"}]},{"client_msg_id":"304b841f-d706-4412-96a8-42dc508a8dd4","type":"message","user":"UERCTTT8B","text":"leading bits みればいいのか","ts":"1609820862.324500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5MIHZ"}]},{"client_msg_id":"8c8f1d97-b7bc-4d9a-904e-97de8e982a8c","type":"message","user":"UERCTTT8B","text":"たしかに。","ts":"1609820848.323900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GmDed"}]},{"client_msg_id":"739ccbc0-7d8b-470f-a6ce-1ab03a2a1be1","type":"message","user":"UERCTTT8B","text":"あー","ts":"1609820846.323700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xwRb"}]},{"client_msg_id":"286d6d8d-9da7-4a70-9550-c01cbda9ee46","type":"message","user":"U06BRP8VD","text":"まぁぶっちゃけ最初のバイト見ればstr[i]みればDecodeRuneする必要すらない気はする。","ts":"1609820839.323300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/0YT"}]},{"client_msg_id":"3c0bc1a2-3de5-4dc2-bb8a-5d28d4a25706","type":"message","user":"U03C6TEAZ","text":"```i := -1\nfor _, r := range s {\n  i++\n  // something\n}```\nこういうの書く事が多い。","ts":"1609820829.323000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g/=k"}]},{"client_msg_id":"82ced8b4-d73f-4824-9593-a1881547cf72","type":"message","user":"UERCTTT8B","text":"DecodeRune したら消えました。よかった","ts":"1609820820.322600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HXfe"}]},{"client_msg_id":"9e8e7591-4d2e-45ec-9145-fcd3e01957f9","type":"message","user":"UERCTTT8B","text":"実際 profile とると結構そこが遅い","ts":"1609820809.322000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e4qP"}]},{"client_msg_id":"f0794f1d-e2f4-40fa-b5aa-8bb1c5d78b3b","type":"message","user":"UERCTTT8B","text":"そうすね","ts":"1609820801.321700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aUBV5"}]},{"client_msg_id":"728eeb4c-235f-4330-831e-5b912090f6e4","type":"message","user":"U06BRP8VD","text":"んー各文字のbyte表現のsliceをno-allocationで欲しいって話か?","ts":"1609820797.321300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YpT"}]},{"client_msg_id":"1dec1821-1256-4fc5-9964-64d538bcae53","type":"message","user":"U03C6TEAZ","text":"これはまる頻度高い \u003chttps://vim-jp.slack.com/archives/CGABGC8LA/p1609820734319200\u003e","ts":"1609820776.320800","attachments":[{"fallback":"[January 4th, 2021 8:25 PM] mattn: i がバイトインデックスなんですよね。","id":1,"author_id":"U03C6TEAZ","author_name":"mattn","author_subname":"mattn","author_link":"https://vim-jp.slack.com/team/U03C6TEAZ","author_icon":"https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png","text":"i がバイトインデックスなんですよね。","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #lang-go","ts":1609820734.319200,"from_url":"https://vim-jp.slack.com/archives/CGABGC8LA/p1609820734319200","original_url":"https://vim-jp.slack.com/archives/CGABGC8LA/p1609820734319200"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"t6J="}]},{"client_msg_id":"432e58de-991f-465a-99c1-5b309f6b45a4","type":"message","user":"UERCTTT8B","text":"個々の rune を string にするときに malloc が生じるのでいやだなあという話でした","ts":"1609820734.319300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P6R"}]},{"client_msg_id":"67ed8272-7256-4ef9-827d-519e98920cc4","type":"message","user":"U03C6TEAZ","text":"i がバイトインデックスなんですよね。","ts":"1609820734.319200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EIn"}]},{"client_msg_id":"804859e7-7dbb-41fc-9103-004f829f4ced","type":"message","user":"UERCTTT8B","text":"されますけど","ts":"1609820721.318400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uJGPS"}]},{"client_msg_id":"0aa80acc-d8e1-49c5-bedc-0fa639e737e5","type":"message","user":"U06BRP8VD","text":"`for i, r := range str` ってそもそもrune分解されなかったっけ?","ts":"1609820711.318000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"683sj"}]},{"client_msg_id":"05552182-585b-4b88-864f-8e4a950816b1","type":"message","user":"U06BRP8VD","text":"あれ?","ts":"1609820682.317500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZjN"}]},{"client_msg_id":"af1fec46-936c-4a47-9289-f174fa29be24","type":"message","user":"UERCTTT8B","text":"みたいなので凌げそうです","ts":"1609820651.316900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LTW"}]},{"client_msg_id":"7183586d-80a4-4663-944d-623bb9a923e3","type":"message","user":"UERCTTT8B","text":"```for i, r := range str {\n  _, s := utf8.DecodeRune(str[i:])\n  part := str[i:i+s]\n}```","ts":"1609820646.316600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/eW"}]},{"client_msg_id":"89de56dd-1a5e-4c4b-a22d-badadd7ef331","type":"message","user":"UERCTTT8B","text":"string -\u0026gt; []byte は 0 コストかな多分。","ts":"1609820588.315600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lm5"}]},{"client_msg_id":"48fa8a6a-383e-4630-833e-706249ee74e3","type":"message","user":"U03C6TEAZ","text":"`[]rune(s)` とか気軽に呼び出せすぎて乱用しちゃうけど `DecodeRune` でだいぶパフォーマンスが変わった事が等かある。","ts":"1609820531.315300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P/pG"}]},{"client_msg_id":"5c0eee79-1884-4ad3-b16a-954e80ff453e","type":"message","user":"U03C6TEAZ","text":"はい。不正な utf8 を判定するのであれば utf8.DecodeRune を呼び出す、判定しないなら自分でという感じですかね。","ts":"1609820475.314500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LBY"}]},{"client_msg_id":"dc2ff573-b4f9-4cae-8c8a-f16168a1c862","type":"message","user":"UERCTTT8B","text":"それならたしかに。","ts":"1609820462.314200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hqP=W"}]},{"client_msg_id":"8ef68195-18b8-48ae-be0d-0e850ead9c3c","type":"message","user":"UERCTTT8B","text":"size だけでなんとかする感じ?","ts":"1609820452.313800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YdKzp"}]},{"client_msg_id":"32ec0c9c-f1ba-42c1-bb03-850f2ac9286d","type":"message","user":"UERCTTT8B","text":"DecodeRune で rune の部分は無視して","ts":"1609820447.313500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g34w"}]},{"client_msg_id":"9e2c6b23-3cdb-4fc8-b30e-03243925c7f1","type":"message","user":"UERCTTT8B","text":"slice は確保しないか。でもこれだと for 文と同じですね","ts":"1609820416.312700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xb1e+"}]},{"client_msg_id":"75b2c883-aa7f-47d5-9b46-c3ea4ae4916e","type":"message","user":"UERCTTT8B","text":"malloc を避けるためにインデックスだけほしいという話なんですが。","ts":"1609820376.312200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KEwH"}]},{"client_msg_id":"488bd9a8-c59c-48f7-87db-a70589da97ad","type":"message","user":"UERCTTT8B","text":"DecodeRune って rune のための slice 確保しません?","ts":"1609820367.311800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wkfj"}]},{"client_msg_id":"24f9ed35-b4c4-4e70-9f5e-9eeaae50d72e","type":"message","user":"U03C6TEAZ","text":"結局 utf8.DecodeRune を呼び出す事になりそう。","ts":"1609820311.311400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZnPsV"}]},{"client_msg_id":"c776eed5-4b92-4197-9c7c-3641d61f8ce8","type":"message","user":"UERCTTT8B","text":"UTF-8 のインデックス区切りがわかればいいっちゃいいので、一回 for 文回して index だけ記録するのはありかもしれない","ts":"1609820231.311100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ek09V"}]},{"client_msg_id":"f8f2d24d-e274-49b1-b538-22d3e8d15b25","type":"message","user":"U03C6TEAZ","text":"string が内部は `char*` とｋ `len` しか持ってないのでしょうがない。","ts":"1609820218.310900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v+kh"}]},{"client_msg_id":"3e629cb6-d4b0-4dfb-a41b-19acf9d03c47","type":"message","user":"UERCTTT8B","text":"[]rune にしろ rune-\u0026gt;string にしろ、いちいち malloc するのがつらい","ts":"1609820188.310200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N4AK"}]},{"client_msg_id":"8d413806-36dd-450d-b1e4-683cf286ad7a","type":"message","user":"UNJ2DANJC","text":"unsafe芸...","ts":"1609820156.309300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=SsF"}]},{"client_msg_id":"8ce0991c-0c10-4278-87aa-8cb424d28bfe","type":"message","user":"UERCTTT8B","text":"最適化次第だと思いますけど","ts":"1609820155.309200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OmmhC"}]},{"client_msg_id":"37618d55-d4a3-4feb-98e1-0a99fbfbce9d","type":"message","user":"U03C6TEAZ","text":"数文字で書くけど実は結構処理が実行される様な物って怖いですね。 `[]rune(s)`","ts":"1609820137.308500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TmdA"}]},{"client_msg_id":"eb4f5089-f307-4da7-a0d6-ac0e27cafbaf","type":"message","user":"UERCTTT8B","text":"ので元の文字列のスライスとして取りたいなあと思ってました","ts":"1609820108.308200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pLQB/"}]},{"client_msg_id":"6347764e-dd37-4ebb-a25b-5f6a3ccc5960","type":"message","user":"UERCTTT8B","text":"rune を string に変換するときのコストが意外に馬鹿にならない","ts":"1609820061.307600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FFg=o"}]},{"client_msg_id":"fac9204e-ed2f-4a0d-8687-c910943bbdad","type":"message","user":"UERCTTT8B","text":"for 文で回しても rune はとれますけど","ts":"1609820048.307200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2UN1n"}]},{"client_msg_id":"6d0c242e-d8bf-424f-8248-26fef3fed095","type":"message","user":"U03C6TEAZ","text":"utf8.DecodeRune でぐるぐる回すしかないですね。","ts":"1609819677.306900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nHYKl"}]},{"client_msg_id":"f40b3522-0ae0-4d55-9bb4-0dc71f363444","type":"message","user":"UERCTTT8B","text":"[]rune に変換するのもちょっとどうなのかと…","ts":"1609819182.306600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sURYx"}]},{"client_msg_id":"a54e8b40-5d29-47c1-ad3e-b36d47e8e676","type":"message","user":"UERCTTT8B","text":"Go、文字列処理で、「Rune 的に何文字目までを取る」というのがやりにくいですね","ts":"1609819174.306300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v+/"}]},{"client_msg_id":"60c8eb86-5bd2-4fa6-a614-83b5a8f1f6d7","type":"message","user":"U06BRP8VD","text":"それもゲームが根底にあるんでしょ?w","ts":"1609821050.329500","thread_ts":"1609821023.328000","parent_user_id":"UERCTTT8B","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MPkzm"}]}]
