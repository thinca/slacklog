[{"client_msg_id":"b7663193-03b0-41c1-b756-11401905917c","type":"message","user":"UDDCM376D","text":"go moduleを使った状態で、echoで↓通りにセッションを使おうとすると方が違うって怒られた\n<https://echo.labstack.com/middleware/session>\n\n```\npresenter/http/middleware/middleware.go:38:26: cannot use session.Middleware(sessions.NewCookieStore(([]byte)(\"secret\"))) (type \"<http://github.com/labstack/echo/v4|github.com/labstack/echo/v4>\".MiddlewareFunc) as type \"<http://github.com/labstack/echo|github.com/labstack/echo>\".MiddlewareFunc in argument to e.Use\n```","ts":"1568134059.137400","attachments":[{"fallback":"Session Middleware: Session Middleware | Echo - High performance, minimalist Go web framework","id":1,"title":"Session Middleware | Echo - High performance, minimalist Go web framework","title_link":"https://echo.labstack.com/middleware/session","text":"Session middleware for Echo | Echo is a high performance, extensible, minimalist web framework for Go (Golang).","image_url":"https://echo.labstack.com/images/share.png","blocks":null,"service_name":"Session Middleware","service_icon":"https://cdn.labstack.com/images/labstack-icon.png","from_url":"https://echo.labstack.com/middleware/session","original_url":"https://echo.labstack.com/middleware/session"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b3492186-4190-4134-8bb3-22c40666ed19","type":"message","user":"UDDCM376D","text":"で、犯人はこれ\n<https://github.com/labstack/echo-contrib/pull/9>","ts":"1568134085.137700","attachments":[{"fallback":"GitHub: Can't use with echo/v4 (Go Modules) · Issue #8 · labstack/echo-contrib","id":1,"title":"Can't use with echo/v4 (Go Modules) · Issue #8 · labstack/echo-contrib","title_link":"https://github.com/labstack/echo-contrib/issues/8","text":"This project seems to not be able to be used when importing echo as <http://github.com/labstack/echo/v4|github.com/labstack/echo/v4> with Go Modules. package main import ( &amp;quot;github.com/gorilla/sessions&amp;quot; &amp;quot;github.com/labst...","thumb_url":"https://avatars3.githubusercontent.com/u/2624634?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":220,"thumb_height":220,"from_url":"https://github.com/labstack/echo-contrib/issues/8","original_url":"https://github.com/labstack/echo-contrib/issues/8"}],"edited":{"user":"UDDCM376D","ts":"1568134104.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33ac5226-438d-4da5-86dc-cd66a3fe8433","type":"message","user":"UDDCM376D","text":"importが `<http://github.com/labstack/echo/v4|github.com/labstack/echo/v4>`  になっていて、マジかってなった","ts":"1568134193.138800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"507ef33a-5703-400f-b6e3-246b53821e3c","type":"message","user":"UDDCM376D","text":"<https://github.com/labstack/echo>\n公式は  `As of version 4.0.0, Echo is available as a Go module. ` になっていた","ts":"1568134273.139200","attachments":[{"fallback":"GitHub: labstack/echo","id":1,"title":"labstack/echo","title_link":"https://github.com/labstack/echo","text":"High performance, minimalist Go web framework. Contribute to labstack/echo development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/2624634?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":220,"thumb_height":220,"from_url":"https://github.com/labstack/echo","original_url":"https://github.com/labstack/echo"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76512dc5-c963-4401-bfed-efe7487dab3b","type":"message","user":"UFGUGBCH3","text":"PRチャンス！ `Caught a mistake?  Edit this page on GitHub!`\n<https://github.com/labstack/echox/blob/master/website/content/middleware/session.md>","ts":"1568160716.139800","attachments":[{"fallback":"GitHub: labstack/echox","id":1,"title":"labstack/echox","title_link":"https://github.com/labstack/echox/blob/master/website/content/middleware/session.md","text":"Echo cookbook and website. Contribute to labstack/echox development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/2624634?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":220,"thumb_height":220,"from_url":"https://github.com/labstack/echox/blob/master/website/content/middleware/session.md","original_url":"https://github.com/labstack/echox/blob/master/website/content/middleware/session.md"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7a97962d-c5f9-41bd-baeb-ab6038d399d7","type":"message","user":"UDDCM376D","text":"お、あとでPRをします","ts":"1568161202.140300","team":"T03C4RC8V","reactions":[{"name":"sasugori","count":1,"users":["UFGUGBCH3"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"692453f1-7e9c-4e44-8aae-58bff0086fc7","type":"message","user":"UDDCM376D","text":"Goの `io.Copy()` ってsrcからデータを全部吸い取るんですね\nCopyだらか、てっきりsrcの中身をdstにコピーするかと思いました","ts":"1568185310.143700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1d7070e3-35a5-4256-997e-708580114522","type":"message","user":"U03C6TEAZ","text":"ん？","ts":"1568185334.143900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c32ba5dc-c7e5-4f95-a798-a4a65bd40ee2","type":"message","user":"U03C6TEAZ","text":"あー、言いたい事分かりました。","ts":"1568185348.144400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"29027bde-a815-42b0-9638-f00a0992b3c7","type":"message","user":"UDDCM376D","text":"すいません、言葉が出てこなくてｗ","ts":"1568185358.144700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f8235745-0307-4a12-9657-7113e8dbe49d","type":"message","user":"UDDCM376D","text":"srcの中身を残す方法ってありますか？","ts":"1568185400.145000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2e4efa39-9ceb-4d57-b8d4-2920ee50417c","type":"message","user":"U03C6TEAZ","text":"そもそも読み取ったらシークするので消えないというのは無いです。src を読み取って複製しておく、ならできます。","ts":"1568185471.146400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97787d27-3c4b-46ca-a1c6-c9d66f6119fe","type":"message","user":"U03C6TEAZ","text":"```\nvar buf bytes.Buffer\nio.Copy(&amp;buf, src)\nio.Copy(dst, &amp;buf)\n// src はもう seek したけど &amp;buf は使える\n```","ts":"1568185495.146900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"23a5d362-b85b-42b0-a5c1-e16a582913e1","type":"message","user":"U7H4TJEG0","text":"あるいはio.TeeReader","ts":"1568185529.147200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"439cb584-9187-4e51-a016-ab9cbc7bd530","type":"message","user":"U03C6TEAZ","text":"複製としてはそうですね。","ts":"1568185586.147700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c6429b89-d42e-4851-89cf-5c27f3b74460","type":"message","user":"U03C6TEAZ","text":"便利記事: <https://mattn.kaoriya.net/software/lang/go/20171026101727.htm>","ts":"1568185613.148000","attachments":[{"fallback":"Big Sky: Big Sky :: net/http でレスポンスの内容を確認したいなら io.TeeReader を使おう","id":1,"title":"Big Sky :: net/http でレスポンスの内容を確認したいなら io.TeeReader を使おう","title_link":"https://mattn.kaoriya.net/software/lang/go/20171026101727.htm","text":"システム開発屋がひっそり語るぼやき","thumb_url":"https://mattn.kaoriya.net/images/logo.png","blocks":null,"service_name":"Big Sky","service_icon":"https://mattn.kaoriya.net/favicon.ico","thumb_width":113,"thumb_height":113,"from_url":"https://mattn.kaoriya.net/software/lang/go/20171026101727.htm","original_url":"https://mattn.kaoriya.net/software/lang/go/20171026101727.htm"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aec8ff96-7675-4b2d-9d09-dceb26bd0535","type":"message","user":"UDDCM376D","text":"おお、ありがとうございます","ts":"1568185707.148500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f0750177-7129-49fc-b290-cb50dbb06257","type":"message","user":"UDDCM376D","text":"よみます","ts":"1568185708.148700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5fdbfa85-34bd-4c07-8011-c845ca5a6bd1","type":"message","user":"U03C6TEAZ","text":"何度も使うのであれば↑で `b := buf.Bytes()` として退避しておくのが良いかと。","ts":"1568185740.149500","edited":{"user":"U03C6TEAZ","ts":"1568185748.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bf6e2842-06bc-4d27-b4fc-18197fa6d47c","type":"message","user":"U03C6TEAZ","text":"便利そうだけど意外と使わないのが `io.MultiWriter`","ts":"1568185795.150000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c3c9458-9af5-4c47-81c8-e46bd1f0dea7","type":"message","user":"UDDCM376D","text":"あー、 `io.MultiWriter` みんGoに書いてあったな\nそれ手もあるな","ts":"1568185823.150300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1f9e29c3-5276-4075-a906-03a9f02085dc","type":"message","user":"U03C6TEAZ","text":"ゴリラさんの元々の要件にはマッチしないかも。","ts":"1568185845.150700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c7eb14da-54e0-4f02-85b4-09386fd6c77d","type":"message","user":"U03C6TEAZ","text":"残したいのか、何度も同じものを書きたいのか(同時かどうか)など。","ts":"1568185879.151200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d351fb8f-b185-4210-9218-3934704f85c5","type":"message","user":"UDDCM376D","text":"要件は簡単ですが、srcの中身を他の処理でも使いたいので、MultiWriterで他の処理用のデータを作るのもありだなと思いました","ts":"1568185959.152200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf74ef91-1835-4777-901d-7bf5761fffcd","type":"message","user":"U03C6TEAZ","text":"`io.MultiWriter` 、気をつけないと異常時にハマる。","ts":"1568186212.152700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4622f76c-3cd3-463b-81a1-c4428da83f87","type":"message","user":"U03C6TEAZ","text":"Write の処理で複数ある writer をぐるぐる回してるだけなんですが、1個でも失敗すると return してるので。","ts":"1568186245.153500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3d4f263d-442f-470e-9202-f7ec2d349e82","type":"message","user":"UDDCM376D","text":"そうなんですね","ts":"1568187018.153800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"10d7ffd0-2a1f-4711-a77b-5a69124487ce","type":"message","user":"UDDCM376D","text":"なるほど","ts":"1568187021.154000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ba39bdf-b4b8-4e37-9776-17725d1fffec","type":"message","user":"U03C6TEAZ","text":"昔実は netchan という機能があってネットワーク用の chan があったんですよね。","ts":"1568188159.155900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d56d6b36-67e0-45db-ab3d-40fc7a2a0539","type":"message","user":"U03C6TEAZ","text":"もう知ってる人いない。","ts":"1568188172.156300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"899d48d5-f6e5-4fe1-a6dd-fbb2c25c8362","type":"message","user":"UK7DT8URY","text":"&gt; もう知ってる人いない\nmattnという人が知っているらしい…","ts":"1568188213.157700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c7574aab-911a-443f-9000-31931dc766c8","type":"message","user":"U03C6TEAZ","text":"汎用にするには無理があるという理由でやめになった。","ts":"1568188220.157800","edited":{"user":"U03C6TEAZ","ts":"1568188238.000000"},"team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UK7DT8URY"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a25cff2f-f848-468e-bd27-46b2a931898b","type":"message","user":"U7TMPGWJ0","text":"VSCode の vscode-go で `Go: Add Import` って `:GoImport` 相当なのがあって。\nそれで `gopkgs` っての使ってるようだったので fzf.vim と連携して入力補完してみた。\n\n<https://github.com/uudashr/gopkgs>","ts":"1568212560.158300","attachments":[{"fallback":"GitHub: uudashr/gopkgs","id":1,"title":"uudashr/gopkgs","title_link":"https://github.com/uudashr/gopkgs","text":"gopkgs - Tool to get list available Go packages. Contribute to uudashr/gopkgs development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/166053?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/uudashr/gopkgs","original_url":"https://github.com/uudashr/gopkgs"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"80e8eb74-8f14-43fb-b6cb-8734cc6062d2","type":"message","user":"U7TMPGWJ0","ts":"1568212616.158500","files":[{"id":"FMVQ0VBC2","created":1568212575,"timestamp":1568212575,"name":"fzf-complete-gopkg-800.gif","title":"fzf-complete-gopkg-800.gif","mimetype":"image/gif","image_exif_rotation":1,"filetype":"gif","pretty_type":"GIF","user":"U7TMPGWJ0","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":974004,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FMVQ0VBC2/fzf-complete-gopkg-800.gif","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FMVQ0VBC2/download/fzf-complete-gopkg-800.gif","original_h":518,"original_w":800,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FMVQ0VBC2-74638f0484/fzf-complete-gopkg-800_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FMVQ0VBC2-74638f0484/fzf-complete-gopkg-800_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FMVQ0VBC2-74638f0484/fzf-complete-gopkg-800_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FMVQ0VBC2-74638f0484/fzf-complete-gopkg-800_360.png","thumb_360_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FMVQ0VBC2-74638f0484/fzf-complete-gopkg-800_360.gif","thumb_360_w":360,"thumb_360_h":233,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FMVQ0VBC2-74638f0484/fzf-complete-gopkg-800_480.png","thumb_480_w":480,"thumb_480_h":311,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FMVQ0VBC2-74638f0484/fzf-complete-gopkg-800_720.png","thumb_720_w":720,"thumb_720_h":466,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U7TMPGWJ0/FMVQ0VBC2/fzf-complete-gopkg-800.gif","permalink_public":"https://slack-files.com/T03C4RC8V-FMVQ0VBC2-8e61a7d380","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"deanimate_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FMVQ0VBC2-74638f0484/fzf-complete-gopkg-800_deanimate_gif.png","display_as_bot":false,"has_rich_preview":false,"thumb_480_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FMVQ0VBC2-74638f0484/fzf-complete-gopkg-800_480.gif","thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FMVQ0VBC2-74638f0484/fzf-complete-gopkg-800_800.png","thumb_800_h":518,"thumb_800_w":800,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null}]
