[{"client_msg_id":"0D449703-C8BA-4CFC-A42F-86E317608466","type":"message","user":"UDDCM376D","text":"soozyのアイコン、めっちゃ気になってる","ts":"1550649691.109400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7CHX0W3B","text":"<@U7CHX0W3B> has joined the channel","ts":"1550649829.109600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"5a1b0c36-e9e4-47b6-a8a6-5bddf083fc6d","type":"message","user":"U03C6TEAZ","text":"<@U06ECBRTJ> リファクタリングしました。 <https://github.com/raa0121/voiro-rss/pull/1>","ts":"1550651574.110000","attachments":[{"fallback":"GitHub: Refactor by mattn · Pull Request #1 · raa0121/voiro-rss","id":1,"title":"Refactor by mattn · Pull Request #1 · raa0121/voiro-rss","title_link":"https://github.com/raa0121/voiro-rss/pull/1","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/raa0121/voiro-rss/pull/1","original_url":"https://github.com/raa0121/voiro-rss/pull/1"}],"team":"T03C4RC8V","reactions":[{"name":"sokudo","count":3,"users":["U03C71D7H","U06ECBRTJ","UDDCM376D"]},{"name":"69b9bbe795f19442","count":2,"users":["U06ECBRTJ","UDDCM376D"]},{"name":"sasumatsu","count":2,"users":["U06ECBRTJ","UFYACJ537"]},{"name":"panda_dogeza","count":1,"users":["U06ECBRTJ"]},{"name":"god","count":1,"users":["U06ECBRTJ"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65c2798d-3648-4372-b652-00f9da18e764","type":"message","user":"U06ECBRTJ","text":"マージしました!","ts":"1550652727.111100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0de6536c-19ac-4aac-9e99-6cd2bf439dc5","type":"message","user":"U03C6TEAZ","text":"リファクタリング中、1点プチハマリしたのがあって","ts":"1550653402.111800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"883cbe4b-c0fb-49da-893c-e06d0075bae8","type":"message","user":"U03C6TEAZ","text":"設定ファイルを上書く時に `os.Create(file)` じゃなく `os.OpenFile(file, os.O_RDWR, 0644)` が使われてたので trucate されなくて、壊れた設定ファイルが出来上がった。","ts":"1550653450.112800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9bf0c1bd-9140-4477-a248-c142f30d3bc5","type":"message","user":"U03C6TEAZ","text":"```\n[vrx]\n  path = \"\"\n\n[[rss]]\n  name = \"NHK\"\n  url = \"<https://www3.nhk.or.jp/rss/news/cat0.xml>\"\ns/news/cat0.xml\"\n```\nこういう奴。","ts":"1550653470.113100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"528278c3-6095-4f59-b4a5-e5881059d8c1","type":"message","user":"U06ECBRTJ","text":"あー","ts":"1550653504.113500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"920bd1db-c339-4f4d-ace2-71fed9749dd5","type":"message","user":"U03C6TEAZ","text":"toml のバグだと思って少しだけ旅をしてしまったw","ts":"1550653509.113600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6b24e05-baaa-4bbc-8d19-8ef9ba77c409","type":"message","user":"U06ECBRTJ","text":"申し訳ないです","ts":"1550653517.113800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a0e3fcd0-e887-4aad-9ce9-add92e74d851","type":"message","user":"U03C6TEAZ","text":"いえいえw","ts":"1550653521.114100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de411e27-c561-447c-8ec3-a596c5aeb7c8","type":"message","user":"U06ECBRTJ","text":"os.Open だと r だけだったので、何を使えば良いのかな？ ってなって、 os.Openfile を選んだ深夜テンションでした","ts":"1550653565.115200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"155970be-9bd8-4d12-baa6-4b292fdfc627","type":"message","user":"U03C6TEAZ","text":"`os.Open` と `os.Create` だけでなんとかなります。ファイルの追加だけ `os.OpenFile` と O_APPEND (だっけか) を使うのでその時はドキュメント見に行く必要があります。","ts":"1550653656.116700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c8dbdf0-faff-41b1-8977-b9ee68d957ac","type":"message","user":"U03C6TEAZ","text":"なのでよく `os.Append` が欲しい、と言われます。","ts":"1550653675.117100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"72135717-1a01-4864-acce-dd7f1d35e4f6","type":"message","user":"U06ECBRTJ","text":"まるっと上書きしたい場合は、Create でいいんですね なるほど","ts":"1550653838.117500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"715D6B92-A748-4055-9F63-B94D6AE2D21D","type":"message","user":"UDDCM376D","text":"なんかgoplsの質問がメールできた\n","ts":"1550657777.118100","files":[{"id":"FGBMLDF8S","created":1550657775,"timestamp":1550657775,"name":"iOS の画像.jpg","title":"iOS の画像","mimetype":"image/jpeg","image_exif_rotation":1,"filetype":"jpg","pretty_type":"JPEG","user":"UDDCM376D","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":203488,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FGBMLDF8S/ios__________.jpg","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FGBMLDF8S/download/ios__________.jpg","original_h":2208,"original_w":1242,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FGBMLDF8S-905d1a863e/ios___________64.jpg","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FGBMLDF8S-905d1a863e/ios___________80.jpg","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FGBMLDF8S-905d1a863e/ios___________160.jpg","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FGBMLDF8S-905d1a863e/ios___________360.jpg","thumb_360_gif":"","thumb_360_w":203,"thumb_360_h":360,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FGBMLDF8S-905d1a863e/ios___________480.jpg","thumb_480_w":270,"thumb_480_h":480,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FGBMLDF8S-905d1a863e/ios___________720.jpg","thumb_720_w":405,"thumb_720_h":720,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-FGBMLDF8S-905d1a863e/ios___________960.jpg","thumb_960_w":540,"thumb_960_h":960,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-FGBMLDF8S-905d1a863e/ios___________1024.jpg","thumb_1024_w":576,"thumb_1024_h":1024,"permalink":"https://vim-jp.slack.com/files/UDDCM376D/FGBMLDF8S/ios__________.jpg","permalink_public":"https://slack-files.com/T03C4RC8V-FGBMLDF8S-4368cbfedf","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FGBMLDF8S-905d1a863e/ios___________800.jpg","thumb_800_h":1422,"thumb_800_w":800,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UFZF1SYMV","text":"<@UFZF1SYMV> has joined the channel","ts":"1550658487.118500","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"e2a7b8b3-5205-422a-9e34-8fb346c88f0a","type":"message","user":"U03C6TEAZ","text":"Henry Wong さん大杉問題 <https://github.com/search?q=henry+wong&amp;type=Users>","ts":"1550658900.118800","attachments":[{"fallback":"GitHub: Build software better, together","id":1,"title":"Build software better, together","title_link":"https://github.com/search?q=henry+wong&type=Users","text":"GitHub is where people build software. More than 31 million people use GitHub to discover, fork, and contribute to over 100 million projects.","thumb_url":"https://github.githubassets.com/images/modules/open_graph/github-octocat.png","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":476,"thumb_height":250,"from_url":"https://github.com/search?q=henry+wong&type=Users","original_url":"https://github.com/search?q=henry+wong&amp;type=Users"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5edabbf3-0f2f-40be-a65e-0a115160d37f","type":"message","user":"U03C6TEAZ","text":"Language Server Protocol の位置情報が UTF-16 コードポイント単位という、いかにも Visual Studio Code (javascript仕様)なので、回りが無駄なコードを書かないといけなくなる例です。 <https://go-review.googlesource.com/c/tools/+/162921/7/internal/lsp/server.go#182>","ts":"1550659326.119900","attachments":[{"fallback":"Gerrit Code Review","id":1,"text":"Gerrit Code Review","blocks":null,"service_name":"go-review.googlesource.com","service_icon":"https://go-review.googlesource.com/favicon.ico","from_url":"https://go-review.googlesource.com/c/tools/+/162921/7/internal/lsp/server.go#182","original_url":"https://go-review.googlesource.com/c/tools/+/162921/7/internal/lsp/server.go#182"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"09aacef0-3c25-44fb-b528-5f695d9e3642","type":"message","user":"U03C6TEAZ","text":"そういえば今日、Go で出来た github クローンの gitea というのを同僚が使ってたので見せてもらったんですが、結構よさそげでした。","ts":"1550659523.120600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8541b352-c88b-4337-97f8-262f9214a281","type":"message","user":"U03C6TEAZ","text":"<https://gitea.io/en-us/>","ts":"1550659534.120800","attachments":[{"fallback":"Gitea","id":1,"title":"Gitea","title_link":"https://gitea.io/en-us/","image_url":"https://docs.gitea.io/images/gitea.png","blocks":null,"service_name":"gitea.io","service_icon":"https://gitea.io/images/favicon.png","from_url":"https://gitea.io/en-us/","original_url":"https://gitea.io/en-us/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2cdfc2fa-87da-43b1-871e-762cad24b05c","type":"message","user":"U06ECBRTJ","text":"gogs の fork が乱立かー","ts":"1550660179.121200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0226d64e-4902-47b0-9ab7-5d67c558d084","type":"message","user":"U8CC7MDCL","text":"gogsのfork、giteaくらいしか分からん…","ts":"1550661752.121600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"64bb6b84-ac42-4d39-9adc-4e4a9b810dcc","type":"message","user":"U06ECBRTJ","text":"もう1個くらい合った気がした","ts":"1550662166.121900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6895aa52-1744-4177-8a9a-80f0be9013d2","type":"message","user":"U03C6TEAZ","text":"あのくらいのウェブアプリが200mb程度で動くの良いですね。","ts":"1550662362.123300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6301ed1-5134-4601-a41a-f17e0b394bd7","type":"message","user":"U06ECBRTJ","text":"<https://docs.gitea.io/en-us/upgrade-from-gogs/>\nあ、gogs から migrate いけるのか","ts":"1550662446.123700","attachments":[{"fallback":"Upgrade from Gogs - Docs","id":1,"title":"Upgrade from Gogs - Docs","title_link":"https://docs.gitea.io/en-us/upgrade-from-gogs/","image_url":"https://docs.gitea.io/images/gitea.png","blocks":null,"service_name":"docs.gitea.io","service_icon":"https://docs.gitea.io/images/favicon.png","from_url":"https://docs.gitea.io/en-us/upgrade-from-gogs/","original_url":"https://docs.gitea.io/en-us/upgrade-from-gogs/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"60cbfaee-32dd-462d-8b7a-b72f30369482","type":"message","user":"U8CC7MDCL","text":"VPSで使ってたけどGHのPrivateが使えるようになってそっちに移行してしまったなぁ…","ts":"1550662976.125500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"012d972b-4a8d-40de-b581-ad60e5a636d6","type":"message","user":"U8CC7MDCL","text":"gitbucketみたいにGHから怒られないか地味に心配ですね","ts":"1550662982.125700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7HFY4HFY","text":"<@U7HFY4HFY> has joined the channel","ts":"1550666481.125900","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"e35f6450-3ad1-43c0-abd2-a38660fa221d","type":"message","user":"U06ECBRTJ","text":"今回、GUI アプリを作ったことで、多少 golang が分かった気がするので、やっていけそう","ts":"1550666934.127800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f367ec07-98a6-4536-9814-b64ac303f85e","type":"message","user":"U03C6TEAZ","text":"重たすぎるので <@U06BRP8VD> さんの addImport の CL 欲しいな。","ts":"1550668382.000800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UD7KQGMT6","text":"<@UD7KQGMT6> has joined the channel","ts":"1550669753.000200","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UGB5B3V4G","text":"<@UGB5B3V4G> has joined the channel","ts":"1550672923.000400","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"10d111ce-9251-4e5d-89a1-d7f376c9cc9a","type":"message","user":"U06BRP8VD","text":"ざっくりメモリ使ってるところみたんだけど3箇所\n\n1. cache/parseFiles系: 読み込み済み *ast.File を持ってて結構不可避。キャッシュだからどこかのタイミングで捨てられるかもだけど。\n2. cache/importPackage系: GC対象。ほっとけば消えるはずだが、長時間放置しても残ってるところがあり微妙。\n3. source.(*action).execOnce系: なんで保持されているのかまだ不明。\n\n割合としては 2:5:3 って感じ。","ts":"1550594525.056600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"`-pprof.serve :6060` ってして pprof サーバ起動してる。","ts":"1550594601.056700","edited":{"user":"U06BRP8VD","ts":"1550594617.000000"},"files":[{"id":"FGCB4MU4W","created":1550594601,"timestamp":1550594601,"name":"-.diff","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":949,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FGCB4MU4W/-.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FGCB4MU4W/download/-.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/FGCB4MU4W/-.diff","permalink_public":"https://slack-files.com/T03C4RC8V-FGCB4MU4W-8e2c915c00","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/FGCB4MU4W/-.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"80a82a72-1b8e-4dd6-bc2f-6ba9d6bcebce","type":"message","user":"U03C6TEAZ","text":"今得た情報によると","ts":"1550595109.057300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f54c5fff-03e2-4492-9ace-da32a829a7b6","type":"message","user":"U03C6TEAZ","text":"gopls の internal/lsp/protocol 配下のプロトコルレイヤ struct はもうすぐ自動生成される様に変わるらしい。","ts":"1550595138.058000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"90df6756-7a97-471e-9196-b8e22bb95213","type":"message","user":"U03C6TEAZ","text":"ロジックは今のまま残す。","ts":"1550595149.058400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1e611f3e-fadf-415c-86d1-cb33b51245bc","type":"message","user":"U03C6TEAZ","text":"なので int64 に変更したみたいだけど弄るなと言われたw <https://go-review.googlesource.com/c/tools/+/162921>","ts":"1550595197.059100","attachments":[{"fallback":"Gerrit Code Review","id":1,"text":"Gerrit Code Review","blocks":null,"service_name":"go-review.googlesource.com","service_icon":"https://go-review.googlesource.com/favicon.ico","from_url":"https://go-review.googlesource.com/c/tools/+/162921","original_url":"https://go-review.googlesource.com/c/tools/+/162921"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"575d7595-57d0-4156-8a30-128e966caa73","type":"message","user":"U03C6TEAZ","text":"incremental update に関しては今すぐ欲しかったとの事なので float64 に戻す。","ts":"1550595222.059800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"636fd441-cc9a-4a31-8926-3dc511b5db2e","type":"message","user":"U06BRP8VD","text":"↑の3番は Diagnostics の runAnalyzer だった。その結果が残ってる。これも消えてしかるべきだなぁ。","ts":"1550595288.060400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f71a25e8-30f2-4a3e-8b69-eb4145ef0a46","type":"message","user":"U03C6TEAZ","text":"diagnostics の結果はいらないでしょうね。クライアントに送ってしまったら残す意味はなく、次回 diagnostics を収集するのはファイルが更新されたタイミングなので、どちみち作り直しでしょうし","ts":"1550595357.061400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"73f164ad-fbb0-4b5d-ab01-14e385e11e0a","type":"message","user":"U06BRP8VD","text":"うわぁ","ts":"1550595975.061600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e7b626db-13b3-4f7b-837b-b6a113ad4eb7","type":"message","user":"U06BRP8VD","text":"server.view source.View がキャッシュになってる。最後の Diagnostics (Analyze) の結果、次回まで持ち続けてる。このキャッシュ、どういう時に参照されるんだ?","ts":"1550596053.063200","edited":{"user":"U06BRP8VD","ts":"1550596115.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f76bae84-6b24-4820-8c0c-17af929e7b51","type":"message","user":"U06BRP8VD","text":"しかも server 1つに source.View 1つってどういうことだ? Diagnostics 走ってる最中に次の Diagnostics 走れない…いやシングルで走る想定だから問題ないのか?","ts":"1550596173.064700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"767d4dc8-810e-47d7-a06d-420ba2f4e071","type":"message","user":"U03C6TEAZ","text":"didOpen, didChange の時に cacheAndDiagnose、source.Diagnostics で GetAnalysisCache() を呼ぶけど、つまり didOpen や didChange の時のキャッシュなので再送とかには使われないですね。","ts":"1550596277.066500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d1d123b-8dc8-42a7-8b63-cad03faa657b","type":"message","user":"U03C6TEAZ","text":"あーわかった。","ts":"1550596292.067000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7d633cae-4927-446c-a4f0-406b51899e0a","type":"message","user":"U03C6TEAZ","text":"「直った」を判別する為にキャッシュがいるのか。","ts":"1550596311.067600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3a280565-f756-4bd4-80ae-6f191174e147","type":"message","user":"U03C6TEAZ","text":"source A, B のうち、A の一部を修正した事で B も壊れる、A を修正して B が直った、というのをクライアントに伝えるには残しとかないとあかんのか。","ts":"1550596353.068900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4062d74e-42df-46d9-9285-daa74d1fc591","type":"message","user":"U06BRP8VD","text":"server → (source.View) → cache.View → source.AnalysisCache っていう保有関係になってて、Diagnostics の時に使われるけど Diagnostics の初期段階でリセットサれちゃうんですよね。その前に修正検出の差分とってる?","ts":"1550596353.069000","edited":{"user":"U06BRP8VD","ts":"1550596367.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9e2c1c2e-dd97-4382-9091-beacf7d420f5","type":"message","user":"U03C6TEAZ","text":"まぁそれでもエラーのあるファイルだけ残しておけば良さそうな気がする。","ts":"1550596410.069800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1b0dd6bd-6358-45b8-b134-a76a8d3fdafd","type":"message","user":"U06BRP8VD","text":"a-","ts":"1550596430.070200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bf2e654d-f6fc-4742-9421-832e0ea45e49","type":"message","user":"U06BRP8VD","text":"ちょっと実験してみる。","ts":"1550596435.070600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"af379b57-71b7-43cd-aad1-4e52194784ad","type":"message","user":"U03C6TEAZ","text":"しかしまぁ、それだけで 3GB いくかなw","ts":"1550596444.070800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1655f515-653d-4d5b-9a1d-426ae956818b","type":"message","user":"U06BRP8VD","text":"いくかもよ。","ts":"1550596453.071100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d0f74bb6-02a9-4744-8907-61e96433a091","type":"message","user":"U06BRP8VD","text":"ast.File 全部持ってるから。","ts":"1550596460.071300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"37fced8f-6f7a-46ed-8900-c5097d97d739","type":"message","user":"U03C6TEAZ","text":"揮発させたらどれくらいへるんだろw","ts":"1550596611.072000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"こうやって AnalysisCache を切ってやると、3番のやつが消える。","ts":"1550596732.072300","files":[{"id":"FGAV5G2TU","created":1550596732,"timestamp":1550596732,"name":"-.diff","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":672,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FGAV5G2TU/-.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FGAV5G2TU/download/-.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/FGAV5G2TU/-.diff","permalink_public":"https://slack-files.com/T03C4RC8V-FGAV5G2TU-1225f1a4ce","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/FGAV5G2TU/-.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"1e46d79f-b29b-49f0-9355-b9413c4370bd","type":"message","user":"U06BRP8VD","text":"internal/lsp/source/diagnostics.go の runAnalyses から先を見ればわかるけど、こいつに前回のキャッシュを渡す意味は、いまんところない。","ts":"1550596851.073800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"72e665b4-ba3b-4007-ab20-4e6677049209","type":"message","user":"U03C6TEAZ","text":"昨日の package walker のチェックと合わせればそこそこ使える気もする。","ts":"1550596946.074800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dd7c90c9-57b4-46f5-b1f7-7f938a1423b8","type":"message","user":"U06BRP8VD","text":"あとは cache/view.go の importer の importPackage が抱えてるバカでかいのを消せば… ast.File だけって状態まで持っていける。","ts":"1550597029.075800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"56d4e4c8-4b43-4c3a-8132-b253de029d29","type":"message","user":"U06BRP8VD","text":"なんとなくわかった。 internal/lsp/cache の中がね、File と View で循環参照してるわ。で、切るやつがいないからcacheが無限に膨らむ。","ts":"1550597994.077300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"41ff5efa-aadd-4672-b4e8-1892fa98f9df","type":"message","user":"U06ECBRTJ","text":"昼間作ってたアプリ出来上がった…","ts":"1550598085.077800","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":2,"users":["U03C6TEAZ","U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"761cd24e-18db-4c6d-83bb-fd790fa02bdc","type":"message","user":"U03C6TEAZ","text":"便利にするのに file からも view からもお互いが見れる様にしてるんかな。","ts":"1550598265.078800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b38fd21d-7ac5-4683-98fe-61f011cfe17f","type":"message","user":"U06ECBRTJ","text":"koron さんに使ってもらいたい気がする…","ts":"1550598313.079300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2c250a76-b5d1-4eda-be0e-3dc453783ca4","type":"message","user":"U06BRP8VD","text":"vrxかw","ts":"1550598329.079700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf1668c6-fda0-42bd-86e8-b86cee86d2ce","type":"message","user":"U06BRP8VD","text":"後日試しますよw","ts":"1550598342.080100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"876a5e67-1168-4ae7-afbc-15f2d0d2c802","type":"message","user":"U06ECBRTJ","text":"はい 頑張ってGUIまで作ったので…","ts":"1550598370.080700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dea42fff-1df8-4655-b28f-b4f10d4312d7","type":"message","user":"U06BRP8VD","text":"どっちかっていうと遅延parse が目的みたい。","ts":"1550598407.081000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UGC2LEGBH","text":"<@UGC2LEGBH> has joined the channel","ts":"1550598425.081600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"08bd7862-f048-42e0-8220-5f42edfc919f","type":"message","user":"U06BRP8VD","text":"parse できるのは view だけで、File 自身にはない。","ts":"1550598429.081700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b3951e2-9847-4844-987c-d6907bda2a16","type":"message","user":"U06BRP8VD","text":"一応 File → View の参照を切る実装は、おおよそ思いついているんだけど","ts":"1550598453.082300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7338d8fb-0591-42de-a2f1-3a5e9a8ac052","type":"message","user":"U06BRP8VD","text":"View → File を切るやつがないので、それだけではメモリ使用量にインパクトなさそう。","ts":"1550598483.083000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"File → View の参照を切れるようにしたもの。これだけだと View → File の参照が無くならないのでメモリ使用量にインパクトはない。","ts":"1550599393.083100","files":[{"id":"FGADSGQSD","created":1550599393,"timestamp":1550599393,"name":"-.diff","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":1876,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FGADSGQSD/-.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FGADSGQSD/download/-.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/FGADSGQSD/-.diff","permalink_public":"https://slack-files.com/T03C4RC8V-FGADSGQSD-a336f5d92b","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/FGADSGQSD/-.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"cf0ec7a1-f7ef-4bf3-87b0-78fa6cbe3b86","type":"message","user":"U06BRP8VD","text":"いや普通にViewに View → File の参照を切る方法を追加して、それを呼ぶようにすりゃ良いのか…","ts":"1550599448.083900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28fe0e01-c58c-44d6-aabf-22d459629a8d","type":"message","user":"U06BRP8VD","text":"そうか…Cache はFile単位でもってるから、複数のファイルが同じパッケージ参照してても、メモリ状は別のデータになってるかもな。","ts":"1550599704.084600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f2297839-1de2-4086-a08f-272169824335","type":"message","user":"U06BRP8VD","text":"なので gopls のメモリ削減の方針としては\n\n1. DidClose をうけて cache/View から File を消す\n2. cache/File 間で共有できるものを共有する\n\nこの2つをやるとまともになりそう。","ts":"1550599802.085900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UEX9VPSET","text":"<@UEX9VPSET> has joined the channel","ts":"1550616572.086200","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U03C6TEAZ","text":"会社の別の PC だと 1.5GB 止まりだなぁ。","ts":"1550629862.086600","edited":{"user":"U03C6TEAZ","ts":"1550629894.000000"},"files":[{"id":"FGBEAFS6N","created":1550629859,"timestamp":1550629859,"name":"image.png","title":"画像がペーストされた日時: 2019-02-20, 11:30 午前","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":4081,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FGBEAFS6N/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FGBEAFS6N/download/image.png","original_h":47,"original_w":529,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FGBEAFS6N-b0429f8306/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FGBEAFS6N-b0429f8306/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FGBEAFS6N-b0429f8306/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FGBEAFS6N-b0429f8306/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":32,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FGBEAFS6N-b0429f8306/image_480.png","thumb_480_w":480,"thumb_480_h":43,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FGBEAFS6N/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FGBEAFS6N-0dc2e6b0d4","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"E32AAC69-600C-4197-8881-44AAA2BC3F04","type":"message","user":"UDDCM376D","text":"1.5も食うのか…","ts":"1550630785.087500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6a7d3c1-fa35-4483-9386-6e50f633c18b","type":"message","user":"U06BRP8VD","text":"たぶん、それで新しい package ひらくとガツンと行くかと。","ts":"1550631431.088000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UERCTTT8B","text":"<@UERCTTT8B> has joined the channel","ts":"1550640447.089700","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"866d1c33-b9a0-4884-a1ae-51d5eb75c76e","type":"message","user":"U03C6TEAZ","text":"Go 関連で slack channel 3つ入ってるけど、世の中もっとありそう。","ts":"1550641013.090300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"暫く編集してたら 3.8GB 食ってた。すごい。","ts":"1550641096.090800","files":[{"id":"FGBS62MLM","created":1550641094,"timestamp":1550641094,"name":"image.png","title":"画像がペーストされた日時: 2019-02-20, 2:38 午後","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":5536,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FGBS62MLM/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FGBS62MLM/download/image.png","original_h":62,"original_w":502,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FGBS62MLM-ba3723c4ca/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FGBS62MLM-ba3723c4ca/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FGBS62MLM-ba3723c4ca/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FGBS62MLM-ba3723c4ca/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":44,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FGBS62MLM-ba3723c4ca/image_480.png","thumb_480_w":480,"thumb_480_h":59,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FGBS62MLM/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FGBS62MLM-f3b2db4cbf","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"reactions":[{"name":"fuita","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"ed11dbb4-7cc3-4975-b220-9fb77be9cddc","type":"message","user":"UERCTTT8B","text":"Gophers 以外あるんですか","ts":"1550641511.091400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ca5f7ef7-ae8a-44c8-bd1e-f502b1626a28","type":"message","user":"U03C6TEAZ","text":"<http://soozy.slack.com#golang|soozy.slack.com#golang> , <http://gophers.slack.com|gophers.slack.com> , ここ","ts":"1550641571.092400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"18bb576c-5803-45dd-9439-23aff50fcc08","type":"message","user":"UDDCM376D","text":"soozy.slack\nはよく使っています","ts":"1550641963.092700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f17a51f0-0f17-4533-af70-a8cb4482edcf","type":"message","user":"U06ECBRTJ","text":"作ってるアプリ、とりあえずは動くんだけど、全部メインループでやってるから、goroutine に追い出さないといけないかな…","ts":"1550643091.093900","edited":{"user":"U06ECBRTJ","ts":"1550643407.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eb525de3-1b28-4e32-bf1e-546bac17f1c8","type":"message","user":"U03C6TEAZ","text":"goroutine というか、関数分けですよね。","ts":"1550643356.095000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"58de0c1a-1d6a-4033-9821-e09029ebbd7c","type":"message","user":"U03C6TEAZ","text":"goroutine は単独処理を並行処理したい場合の物なので、UI には使に使うのは難しいです。walk もたぶん groutine safe ではないし。","ts":"1550643413.096300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66e74974-c5e7-4295-9b5c-c95aab610092","type":"message","user":"U06ECBRTJ","text":"UI 上のボタンを押したら、 `exec.Command().Run()` するんですけど、その際に、UI側が固まっちゃうので、goroutine で実行しようかなと思った感じです","ts":"1550643529.098000","edited":{"user":"U06ECBRTJ","ts":"1550643534.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c4f783d-1509-46dd-b557-03cfc5ebbf65","type":"message","user":"U03C6TEAZ","text":"あーなる。","ts":"1550643568.098300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"90530142-f7f6-438e-8a91-49eee9651331","type":"message","user":"U06ECBRTJ","text":"んー `exec.Command().Run()` って、error を返すんだよなぁ…","ts":"1550644266.099700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd11606d-5757-409a-83a3-dde9fc8f6a98","type":"message","user":"U06ECBRTJ","text":"あー `exec.Command().Run()` 個別につけるんじゃなくて、ボタンを押した処理自体を 別処理にすればいいのか","ts":"1550644602.100900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5a8abd1e-f948-45d6-860c-c9faff963c0e","type":"message","user":"U06ECBRTJ","text":"いけました","ts":"1550644777.101100","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"81bd10d2-be31-4bb5-bc3f-c33659ba3b81","type":"message","user":"U03C6TEAZ","text":"もし goroutine 側から UI を弄るのであれば sync.Mutex で Lock/Unlock しながらやると良いです。","ts":"1550644881.101800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c152c2b5-6698-4fa2-958a-01dbd6bfb69f","type":"message","user":"U06ECBRTJ","text":"UI いじってます…","ts":"1550644899.102100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ced6e2af-e6a5-4b5e-8e44-91ff57b24366","type":"message","user":"U06ECBRTJ","text":"sync については、ちらっと読みました","ts":"1550644919.102900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"abd6707b-2e7e-490d-bb90-730f85a58615","type":"message","user":"U03C6TEAZ","text":"walk たぶん goroutine safe じゃないので、ご機嫌が悪いと落ちそう。","ts":"1550644932.103300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5759a96a-0d0a-4d6b-a2a5-622e0a2e7948","type":"message","user":"U03C6TEAZ","text":"どうやら Form に Synchronize という便利メソッドが生えていて","ts":"1550645060.104000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c9a1dd8-6cc7-4a83-9463-c7d2a56742fe","type":"message","user":"U03C6TEAZ","text":"```\ndialog.Synchronize(func() {\n    // ここで実行すればスレッドセーフ\n})\n```\nこうする流儀らしいです。","ts":"1550645090.104700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0ae08939-0745-4bbc-a546-15fa652b332f","type":"message","user":"U06ECBRTJ","text":"なるほど…","ts":"1550645102.105200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e499c27-d30e-4adb-8e80-6e64e820223f","type":"message","user":"U03C6TEAZ","text":"ちなみにメイン側、goroutine 側、両方これやらないと意味ないので。","ts":"1550645111.105500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"57c10eac-6c9d-4ebf-945e-9986bf212c0b","type":"message","user":"U03C6TEAZ","text":"プログレスバーの例が落ちてました。","ts":"1550645427.105800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","ts":"1550645430.106000","files":[{"id":"FGBG8E936","created":1550645429,"timestamp":1550645429,"name":"multiwindow.go","title":"multiwindow.go","mimetype":"text/plain","image_exif_rotation":0,"filetype":"go","pretty_type":"Go","user":"U03C6TEAZ","mode":"snippet","editable":true,"is_external":true,"external_type":"unknown","size":2844,"url":"","url_download":"","url_private":"https://gist.github.com/0b12cf75e145bf5aaf5308c22a6b81a3#file-multiwindow-go","url_private_download":"https://gist.github.com/0b12cf75e145bf5aaf5308c22a6b81a3#file-multiwindow-go","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FGBG8E936/multiwindow.go","permalink_public":"","edit_link":"https://vim-jp.slack.com/files/U03C6TEAZ/FGBG8E936/multiwindow.go/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"23620af3-5767-4307-be3e-ab561797ed6e","type":"message","user":"U06ECBRTJ","text":"なるほど","ts":"1550645533.106500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9dc0715-0154-479d-8223-77fe28715bcc","type":"message","user":"U06ECBRTJ","text":"ダイアログで分けてるわけじゃないんですよね…","ts":"1550645567.106900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb156f50-c563-41de-b810-5740e4f6a324","type":"message","user":"U06ECBRTJ","text":"今のコードで一旦 github に出そうかな","ts":"1550645581.107500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5a1917c7-974e-46e0-b1e2-b50051be7cea","type":"message","user":"U06ECBRTJ","text":"<https://github.com/raa0121/voiro-rss>","ts":"1550646375.107800","attachments":[{"fallback":"GitHub: raa0121/voiro-rss","id":1,"title":"raa0121/voiro-rss","title_link":"https://github.com/raa0121/voiro-rss","text":"Contribute to raa0121/voiro-rss development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/237271?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/raa0121/voiro-rss","original_url":"https://github.com/raa0121/voiro-rss"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06ECBRTJ","ts":"1550646429.108000","files":[{"id":"FGCKUETQX","created":1550646427,"timestamp":1550646427,"name":"voiro-rss.exe","title":"voiro-rss.exe","mimetype":"application/octet-stream","image_exif_rotation":0,"filetype":"binary","pretty_type":"Binary","user":"U06ECBRTJ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":13668864,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FGCKUETQX/voiro-rss.exe","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FGCKUETQX/download/voiro-rss.exe","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06ECBRTJ/FGCKUETQX/voiro-rss.exe","permalink_public":"https://slack-files.com/T03C4RC8V-FGCKUETQX-5a70eaf2b3","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"9e947aee-c115-466b-8779-6d4126ab31d6","type":"message","user":"U06ECBRTJ","text":"一応、最新版バイナリも","ts":"1550646442.108500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f46fee81-2a8c-4952-97f1-427f0ecf4b2b","type":"message","user":"UERCTTT8B","text":"Soozy 知らなかった","ts":"1550646706.108800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
