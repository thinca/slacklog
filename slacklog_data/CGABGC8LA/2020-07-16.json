[{"client_msg_id":"34432c66-5dcc-4526-9a00-d206309d1edf","type":"message","user":"U06ECBRTJ","text":"<https://github.com/goadesign/goa/pull/2607>\nOpenAPIv3 に5日前に対応したっぽい","ts":"1594879567.455800","attachments":[{"fallback":"GitHub: OpenAPI v3 by raphael · Pull Request #2607 · goadesign/goa","id":1,"title":"OpenAPI v3 by raphael · Pull Request #2607 · goadesign/goa","title_link":"https://github.com/goadesign/goa/pull/2607","text":"Add support for OpenAPI v3. The standard implemented is <https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.3.md>. This creates two new files in the gen/http folder: openapi3.json ...","thumb_url":"https://avatars3.githubusercontent.com/u/16568515?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":164,"thumb_height":164,"from_url":"https://github.com/goadesign/goa/pull/2607","original_url":"https://github.com/goadesign/goa/pull/2607"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W5jJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8fb54ea7-45e8-4117-8f9b-a2845c628f80","type":"message","user":"U06BRP8VD","text":"GOFLAGS環境変数と `-gcflags` が微妙に相性悪い。\n\n`-gcflags` は `'-e -l'` みたいにスペース区切りの値を設定できるんだけど、 GOFLAGS環境変数に `-gcflags=\"-e -l\"` みたいにクォート入れるとGOFLAGSのパーサーがエラーになる…","ts":"1594884087.457600","team":"T03C4RC8V","reactions":[{"name":"totemoturai","count":2,"users":["U06ECBRTJ","U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3gT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4661454d-3fb5-4051-b2e8-be2f72b2457c","type":"message","user":"U06BRP8VD","text":"↑ なので `GOFLAGS=-gcflags=-e -gcflags=-l` みたいにすることになる。さらにgcflagsはper package flagなので… `GOFLAGS=-gcflags=all=-e -gcflags=all=-l` みたいなわけわかんないことになりがちw","ts":"1594884591.459100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"plt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b11397a7-6d0e-456c-83bc-97c5b3af3d43","type":"message","user":"U06ECBRTJ","text":"`-gcflags='\"-e -l\"'` シングルクォート で囲んだら、どうなります？","ts":"1594884690.459900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Gh7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4aa6132e-b54e-4b4b-9070-60efdeb9d145","type":"message","user":"U06BRP8VD","text":"エラーです","ts":"1594884700.460100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kmGN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d5a5be5b-65f0-4f26-a03a-d6ffa86b9222","type":"message","user":"U06ECBRTJ","text":"Oh…","ts":"1594884704.460300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"311X8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d726b195-b28c-4a1f-8a82-963758795668","type":"message","user":"U06BRP8VD","text":"GOFLAGSのパーサー (go/internal/base/goflags.go) が、値のほうの先頭が `-{knownFlag}` とかそんな感じであることを検査してるんですね。","ts":"1594884752.461100","edited":{"user":"U06BRP8VD","ts":"1594884777.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S=EW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ea1c0429-f255-4f97-8a52-3ca23c1f1a7a","type":"message","user":"U06BRP8VD","text":"なので `'` や `\"` は一律エラーになってしまう。","ts":"1594884798.461700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8ZSVO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16f83e91-b4bc-48cb-afac-7ec735ccd3c3","type":"message","user":"U06ECBRTJ","text":"<https://github.com/golang/go/issues/27282#issuecomment-417298948>\n確かに…","ts":"1594884830.461900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BQvaQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c3cb461f-776f-445e-b12e-1fb38dce898b","type":"message","user":"U06BRP8VD","text":"まぁそれ以前にパーサーが最初に space 区切りで割っちゃうんで…w","ts":"1594884900.462800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zm2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cbb72cae-eee1-43b0-9977-e28059ce8dbf","type":"message","user":"U06ECBRTJ","text":"<https://golang.org/src/cmd/go/internal/base/goflags.go#L72>\nパースしてるのはこれか","ts":"1594884904.463000","attachments":[{"fallback":"src/cmd/go/internal/base/goflags.go - The Go Programming Language","id":1,"title":"src/cmd/go/internal/base/goflags.go - The Go Programming Language","title_link":"https://golang.org/src/cmd/go/internal/base/goflags.go#L72","text":"Go is an open source programming language that makes it easy to build simple, reliable, and efficient software.","blocks":null,"service_name":"golang.org","service_icon":"https://golang.org/favicon.ico","from_url":"https://golang.org/src/cmd/go/internal/base/goflags.go#L72","original_url":"https://golang.org/src/cmd/go/internal/base/goflags.go#L72"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fup"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3bce05d5-f23d-4618-b2f1-59bd68c22446","type":"message","user":"U06BRP8VD","text":"そして GOFLAGS 、微妙にMakefileとも相性悪いかな? ほんとに全部のgoコマンドに効果があるから、意図しない go コマンドに渡ってしまいそう。","ts":"1594885311.464300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vq2F"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"71e4b811-71c7-4bc1-9906-9d2cf113e105","type":"message","user":"U03C6TEAZ","text":"Windows?","ts":"1594886112.464500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zLRt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"43f59551-591a-4c4b-acd6-e94d9c0e3f75","type":"message","user":"U06BRP8VD","text":"たぶんぜんぶの環境","ts":"1594886824.464800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lK0R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a9f59f4f-847f-43c7-ac5e-9c3d167053f5","type":"message","user":"U03C6TEAZ","text":"ドキュメントに書いてあるなら仕方ないすね。","ts":"1594887115.465200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5YN7O"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b85c7a6-a004-4f75-8050-686d8a6632e8","type":"message","user":"U03C6TEAZ","text":"<https://github.com/golang/go/commit/58c6afe075d74261dd67750e0aab5a1b8460839f#diff-d81c1f35f92c4055fae2286aeb0c08f4>","ts":"1594887116.465400","attachments":[{"fallback":"GitHub: doc/go1.11, cmd/go: elaborate on new GOFLAGS environment variable · golang/go@58c6afe","id":1,"title":"doc/go1.11, cmd/go: elaborate on new GOFLAGS environment variable · golang/go@58c6afe","title_link":"https://github.com/golang/go/commit/58c6afe075d74261dd67750e0aab5a1b8460839f#diff-d81c1f35f92c4055fae2286aeb0c08f4","text":"In Go 1.11, cmd/go gained support for the GOFLAGS environment variable. It was added and described in detail in CL 126656. Mention it in the Go 1.11 release notes, link to the cmd/go documentation,...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/golang/go/commit/58c6afe075d74261dd67750e0aab5a1b8460839f#diff-d81c1f35f92c4055fae2286aeb0c08f4","original_url":"https://github.com/golang/go/commit/58c6afe075d74261dd67750e0aab5a1b8460839f#diff-d81c1f35f92c4055fae2286aeb0c08f4"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IxF5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e36b0030-5b38-44af-9bfe-782a130f4749","type":"message","user":"U06BRP8VD","text":"ええ割り切るしかない。","ts":"1594887623.465700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZyCi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
