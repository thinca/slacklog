[{"client_msg_id":"34835464-03f4-4331-9d20-9b4a013b8bc3","type":"message","user":"UNJ2DANJC","text":"質問: contextは渡すけどcancelを伝搬させたくないみたいな場合ってどうすればいいんでしょうか。*http.Request起因だけどrequestのcontextがcancelされてもバックグラウンド処理を続行したいみたいなユースケースです。","ts":"1583226870.079500","edited":{"user":"UNJ2DANJC","ts":"1583226904.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tN9j"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"611f954d-08d8-4500-8b27-cd3a128aad0b","type":"message","user":"U7H4TJEG0","text":"<https://stackoverflow.com/questions/54128834/> ぐぐったらでてきた","ts":"1583227133.080000","attachments":[{"fallback":"Stack Overflow: Context without cancel propagation","id":1,"title":"Context without cancel propagation","title_link":"https://stackoverflow.com/questions/54128834/","text":"How can I create a copy (a clone if you will) of a Go context that contains all of the values stored in the original, but does not get canceled when the original does? It does seem like a valid us...","thumb_url":"https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon@2.png?v=73d79a89bded","blocks":null,"service_name":"Stack Overflow","service_icon":"https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a","thumb_width":316,"thumb_height":316,"from_url":"https://stackoverflow.com/questions/54128834/","original_url":"https://stackoverflow.com/questions/54128834/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sa4x"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"82e80d88-59fa-4b24-be02-cf083aef01e4","type":"message","user":"U7H4TJEG0","text":"ググりキーワードは `golang context without cancel propagation` です","ts":"1583227203.080900","team":"T03C4RC8V","reactions":[{"name":"subara","count":1,"users":["UEB17JJJE"]},{"name":"nukumori","count":1,"users":["UNJ2DANJC"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9spRH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"017e8150-6b6c-4f5e-bc97-0b682c494d44","type":"message","user":"UNJ2DANJC","text":"本当はcontext.Backgroundで新しいcontextを作るのが正解だと思うんですけどtrace用のアレコレがcontextに入っているのでそれを伝搬させないといけないんですよね...","ts":"1583227293.082200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UN5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b311f151-d188-4180-91f2-846563308f44","type":"message","user":"U7H4TJEG0","text":"あれこれってValueってことですよね","ts":"1583227340.082500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q5v"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e5ee93c6-305c-4196-b171-85a17a2a5191","type":"message","user":"UNJ2DANJC","text":"そうです. このstackoverflowの例みたいにカスタムコンテキストでラップするのでいいかな","ts":"1583227424.083800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vKP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0f7c9c5b-9fce-4242-b878-26f98ff1d1b8","type":"message","user":"U7H4TJEG0","text":"正直やったことないのでベストアンサーなのかなんとも言えないです… 識者求む…","ts":"1583227570.086300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xDW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b37d7721-9d4c-44cd-9ab4-b4f260997708","type":"message","user":"UNJ2DANJC","text":"context.Backgroundで生成した新しいcontextにvalueを全部移し替えると言うもありか、でもSDKとかのvalueでkeyがprivateかつGetterもないやつは無理かもなあ...","ts":"1583227595.086600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iQKC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7aba986c-62fe-473f-806c-ba3bc0bf03ce","type":"message","user":"U06BRP8VD","text":"システムとしてそういう要件なんだから、そういう全部がbindされたcontext.Background()を返す関数を作るべきですよ。","ts":"1583228835.087800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"93vN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e8811eb1-de6d-4292-b562-8021a0039b0f","type":"message","user":"U06BRP8VD","text":"↑の `noCancel` も良さげだけど、落とし穴がありそうで context のドキュメントと照合しないと、って感じする。","ts":"1583229002.089100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DUi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7928100f-e397-40f3-b8ae-bd308c1c02f8","type":"message","user":"U06BRP8VD","text":"だいたいよさげだけど Done が何も返さないのだけ気になった?","ts":"1583229177.089600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vCms"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c2ed7d1-4d1f-48e7-81f5-e1260bf19456","type":"message","user":"U06BRP8VD","text":"\"context\".emptyCtx と同じ実装だから大丈夫か","ts":"1583229226.089900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NBpE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f43acbbc-45dc-44ce-a68a-0d187d38797c","type":"message","user":"U06BRP8VD","text":"どういうもの書いてるかわからないですが、http.Requestのcontextにぶら下げるValueは、ServeHTTP抜けるタイミングでclose処理する(たとえばDBのセッションcloseしたりとか)場合があるから、単純に新しいcontext作ってってのはやっぱ難しい気がする。","ts":"1583229433.091700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4GM3V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c7ed5f4a-c19c-404f-848a-64a09a93d8e5","type":"message","user":"U06BRP8VD","text":"僕ならそうやってValueの寿命がRequestの寿命を超えないようにコントールするから、って話。","ts":"1583229495.092200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"usZC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a490b85c-6b73-4281-b9c0-ef6d5d4c774f","type":"message","user":"UNJ2DANJC","text":"簡単に言うとhttp request起因でDBの更新処理をしてそのあとに非同期でキャッシュの更新とか検索インデックスの更新をかけています。","ts":"1583231219.094700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1zNT5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c4e3e089-ae26-41d4-91d6-2a8d931139a8","type":"message","user":"U03C6TEAZ","text":"それってリクエストセッションとは異なるワーカーの仕事では。","ts":"1583231932.095900","edited":{"user":"U03C6TEAZ","ts":"1583232382.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qR5Nn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1f9c4d9c-f8a1-4e07-90e8-b37dd00637f4","type":"message","user":"UNJ2DANJC","text":"そうです... やっぱりcontext.Backgroundで別のcontextを生成するのが筋ですよね.. traceはなんか工夫してやってみます。","ts":"1583232424.099400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"07/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f28476d8-6440-46b6-8aab-99f2a8c48c2a","type":"message","user":"U03C6TEAZ","text":"あまりよく分かってないんですが\n・http client でどこかにアクセスする\n・結果によりDB更新する\n・そのままどこか(web?)レスポンスを返す\n・非同期でキャッシュと検索インデックスの更新を行う\n\nこうかな？","ts":"1583233328.103900","edited":{"user":"U03C6TEAZ","ts":"1583233635.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"19r"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4404a9cb-ecf6-4627-ad18-66e76220d361","type":"message","user":"U03C6TEAZ","text":"だとすると投げっぱなしは良くないし負荷調整もできないのでワーカーにしたほうがいいですね。","ts":"1583233400.105300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p=R8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1dc33445-852d-4c0c-952c-fc36079b6340","type":"message","user":"U03C6TEAZ","text":"レスポンス応答が「キャッシュと検索インデックスの更新」よりも後でもろもろの結果を元にレスポンスを返すのであれば別の context を作るのが良さげ。","ts":"1583233498.107500","edited":{"user":"U03C6TEAZ","ts":"1583236801.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Rkv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6c3a34c2-33fb-411d-823a-8b9bd9d1d8a7","type":"message","user":"UNJ2DANJC","text":"そういう感じです。trace用のvalueも新しいcontextに移せそうなので別context作る方向でいってみます。みなさん本当にありがとうございます。","ts":"1583233902.112800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p1m"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cff3bd4c-dca0-47d7-9aa9-21da48f9d285","type":"message","user":"U06BRP8VD","text":"ああそういう内容でちゃんとやるならmessage queueとかのjob workerを導入するべきですよ～","ts":"1583236704.114100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sQs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1252189f-91c8-4f27-a795-b162864de835","type":"message","user":"U06BRP8VD","text":"小手先じゃなくてちゃんとしたシステム設計としてやるべきところだ。","ts":"1583236740.114500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BmnE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0c1935d8-00dc-4074-84ad-7af8de4ec092","type":"message","user":"U06BRP8VD","text":"急場は小手先でしのげるけど、あくまでもその場しのぎだから(遠い目","ts":"1583236808.115300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Edv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"D1BA6F52-AAB6-4B63-A8D7-7B4A26D6AEE1","type":"message","user":"UDDCM376D","text":"<https://twitter.com/golang/status/1234571094201421825?s=21|https://twitter.com/golang/status/1234571094201421825?s=21>","ts":"1583186614.029800","attachments":[{"fallback":"<https://twitter.com/golang|@golang>: “A new Go API for Protocol Buffers” by <https://twitter.com/_joetsai|@_joetsai>, <https://twitter.com/Damien_Neil|@Damien_Neil>, and Herbie Ong. #golang\n\n— <https://blog.golang.org/a-new-go-api-for-protocol-buffers>","id":1,"author_name":"Go","author_subname":"@golang","author_link":"https://twitter.com/golang/status/1234571094201421825","author_icon":"https://pbs.twimg.com/profile_images/1142154201444823041/O6AczwfV_normal.png","text":"“A new Go API for Protocol Buffers” by <https://twitter.com/_joetsai|@_joetsai>, <https://twitter.com/Damien_Neil|@Damien_Neil>, and Herbie Ong. #golang\n\n— <https://blog.golang.org/a-new-go-api-for-protocol-buffers>","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1583179660,"service_name":"twitter","from_url":"https://twitter.com/golang/status/1234571094201421825?s=21","original_url":"https://twitter.com/golang/status/1234571094201421825?s=21"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yDd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"01EE033D-19DC-4619-8BB2-537554FD471C","type":"message","user":"UDDCM376D","text":"これは","ts":"1583186622.030100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ywcp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"96FC3807-FDB9-43D0-9C58-68810C3F27B0","type":"message","user":"UFYACJ537","text":"つらい","ts":"1583186837.030300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0coj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"20D1653F-17FD-4AB5-BA1A-6C087C84A3E5","type":"message","user":"UDDCM376D","text":"プロトコルバッファについて知らなかったのでチラッと調べました","ts":"1583187221.030900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AygR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"B8958270-6009-4CA9-8D70-B362CCCEABA1","type":"message","user":"UDDCM376D","text":"ツライ点がよく分かってないす","ts":"1583187239.031600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OTO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"10975436-5000-42EF-9E78-3E8AA694881C","type":"message","user":"UFYACJ537","text":"<https://twitter.com/francesc/status/1234585727846862848|https://twitter.com/francesc/status/1234585727846862848>","ts":"1583187532.031800","attachments":[{"fallback":"<https://twitter.com/francesc|@francesc>: The Go team at Google isn't following the versioned import path practices they recommend.\n\nI might be missing context, but it feels like a \"do what I say, not what I do\" situation and that makes me uncomfortable.\n\nWho knows more?\n\n:page_facing_up:: <https://blog.golang.org/a-new-go-api-for-protocol-buffers>\n\n#golang #gomodules <https://pbs.twimg.com/media/ESIhK31UcAAhQGa.jpg>","id":1,"author_name":"FRANCESC","author_subname":"@francesc","author_link":"https://twitter.com/francesc/status/1234585727846862848","author_icon":"https://pbs.twimg.com/profile_images/1225996135413600261/FoTtKpp8_normal.jpg","text":"The Go team at Google isn't following the versioned import path practices they recommend.\n\nI might be missing context, but it feels like a \"do what I say, not what I do\" situation and that makes me uncomfortable.\n\nWho knows more?\n\n:page_facing_up:: <https://blog.golang.org/a-new-go-api-for-protocol-buffers>\n\n#golang #gomodules <https://pbs.twimg.com/media/ESIhK31UcAAhQGa.jpg>","image_url":"https://pbs.twimg.com/media/ESIhK31UcAAhQGa.jpg","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1583183149,"service_name":"twitter","from_url":"https://twitter.com/francesc/status/1234585727846862848","original_url":"https://twitter.com/francesc/status/1234585727846862848"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+dG+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d3781439-6a35-4971-b44b-fe868d118b5b","type":"message","user":"U03C6TEAZ","text":"v2 ディレクトリ作れば良かったのに","ts":"1583190480.032400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"G9vO8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9250fbe5-b4fd-44da-8f6a-4a8b60ac0824","type":"message","user":"U03C6TEAZ","text":"パスの長さ気のす人なんてほとんどいないでしょうに。","ts":"1583190528.033100","team":"T03C4RC8V","reactions":[{"name":"sorena","count":4,"users":["UKHUVMBJR","UFYACJ537","U9S4G0LJW","UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gpVL3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b28d7e93-b642-4d61-83a7-dd5fd797e412","type":"message","user":"U06BRP8VD","text":"grpcが使ってるヤツについていくのであった。","ts":"1583196516.034000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NeEgQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"12935a68-4dba-46a5-80ef-ea338d08a1f9","type":"message","user":"UNJ2DANJC","text":"もしくはv1ブランチ切るとかか","ts":"1583196549.034700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RPwG1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"198a2e68-2904-4567-bd6f-04173f78ed61","type":"message","user":"U06BRP8VD","text":"リポジトリ分けたなら/v2にこだわる必要ないと思うけどなぁ","ts":"1583196726.036700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IZN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6314f255-c2be-46ca-9e15-e484e11f9d75","type":"message","user":"U03C6TEAZ","text":"実はここだけの話(ここだけになってない)、Google Cloud の開発チームは go mod と semver の運用に失敗しておりまして、あるバージョン v0.0.3 の前に v0.0.3-alpha を出すという運用をもともとしてしまってたんですよね。で後から v0.0.3 を出すという運用な物だから v0.0.3 が降りてこなくて(察し...","ts":"1583196812.037900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SZX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"02c51241-f9a9-42b4-906c-eacb630596f9","type":"message","user":"U06BRP8VD","text":"それはsemverの解釈のしかたのバグなのでは?","ts":"1583196843.038500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nWvA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"466aa1d0-9f03-45e3-ae2d-0ef6b84f7500","type":"message","user":"U06BRP8VD","text":"比較がバグってる","ts":"1583196858.038700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uTb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"604757be-c4f2-4237-9f91-65f5f4a7f157","type":"message","user":"U03C6TEAZ","text":"golang ください。","ts":"1583196862.038800","files":[{"id":"FUSEAHJ13","created":1583196859,"timestamp":1583196859,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":19996,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FUSEAHJ13/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FUSEAHJ13/download/image.png","original_h":490,"original_w":345,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FUSEAHJ13-d1baf819ad/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FUSEAHJ13-d1baf819ad/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FUSEAHJ13-d1baf819ad/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FUSEAHJ13-d1baf819ad/image_360.png","thumb_360_gif":"","thumb_360_w":253,"thumb_360_h":360,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FUSEAHJ13-d1baf819ad/image_480.png","thumb_480_w":338,"thumb_480_h":480,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FUSEAHJ13/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FUSEAHJ13-424c776b21","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAwACHRYZpMY7H86caATjpQAmPc/nS5peaSgA3e1G72puaM0APpBS0g/H8aAFpDwCaWg9KAI6KKKYElIPwpaQfh+VIBaD0ooPSgBlFH50fnQB//2Q==","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"if8m"}]},{"client_msg_id":"fccba337-bdc5-4c4b-af70-4a7ae982d9bb","type":"message","user":"U03C6TEAZ","text":"そもそも alpha にタグをうつ必要があるのかという話でもありそう。","ts":"1583196944.039800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Rv6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"34134123-4637-4065-a412-3ee41fb5ac53","type":"message","user":"U03C6TEAZ","text":"Bram「せやぞ」","ts":"1583196962.040100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s95od"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99e061ec-fe0d-4c8d-b86b-2de4a3004110","type":"message","user":"UAZ33BKV2","text":"alphaとかはブランチでいいはず(そうするとこんどはvX.Y.Zなブランチを作ってしまって、ホゲホゲとかなるw)","ts":"1583197018.040900","edited":{"user":"UAZ33BKV2","ts":"1583197029.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0vc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"347c61b4-296c-42af-ac49-3022d175fbf9","type":"message","user":"U03C6TEAZ","text":"現状 go get が branch と tag を区別できてない事も悲劇の原因。","ts":"1583197109.042100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"naA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"800ccc2a-cf5a-43fc-b8af-c2bf349950ff","type":"message","user":"U03C6TEAZ","text":"↑の例、`go get -u` で alpha が降ってきてしまうので辛そう。","ts":"1583197122.042500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SAM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"af37db7b-680f-45f3-85bc-8a74de601ff6","type":"message","user":"U03C71D7H","text":"semver 使ってないのか","ts":"1583197371.042700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+7Qd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"54522b9d-fe8c-47ff-a0ce-1831d4e0ac68","type":"message","user":"U03C71D7H","text":"タグはあくまでタグなので GitHub の UI 上でアルファベット順に並んで表示されるのは別に問題ではない。semver であるならプレリリース情報があるものはないものより古いバージョンと解釈しなければならないが、そのように解釈されていないということは Go は semver としてバージョンを扱っていない","ts":"1583197482.044100","team":"T03C4RC8V","reactions":[{"name":"sorena","count":2,"users":["U06BRP8VD","U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WLOy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f99826b7-3b8e-4fba-a2d8-ef69dab2d504","type":"message","user":"U03C6TEAZ","text":"`-u` してるから意図的ですよ？","ts":"1583197928.044400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0gzZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f5f23324-8c52-44dd-9280-c28cfda713b8","type":"message","user":"U06ECBRTJ","text":"+alpha と -alpha があるのも、罠そう…","ts":"1583197985.045000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WVeJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c87f777e-ac0b-44c8-a81a-f8babd1616a3","type":"message","user":"U06BRP8VD","text":"だからgo modのsemverの解釈がバグってる。","ts":"1583198020.046400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WFo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e87b7f27-5d02-4744-bcdf-4a3cbdfe1f95","type":"message","user":"U03C71D7H","text":"(よく見たら GitHub が表示してるのは別にアルファベット順じゃないな。タグが打たれたコミットの日付順とかだろうか? まあここではどうでもよい)","ts":"1583198372.049500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NnY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8fce709b-3077-4748-a226-c47ecb3a16a3","type":"message","user":"U6XP9LZ6V","text":"semver の `-` と `+` 、どっちが何か一々覚えてない…\n`-` はプレリリースバージョンなので、通常バージョンより低優先。\n`+` はビルドメタデータで、バージョン判定の際には無視される。`+alpha`は使い方が間違ってそう。","ts":"1583198418.049900","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":3,"users":["UEB17JJJE","U06BRP8VD","UA4RVLHK7"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MKiK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"038ce2f4-8cbb-4a5e-8ebc-f6f8fc1b1803","type":"message","user":"U03C6TEAZ","text":"<https://github.com/golang/mod/blob/master/semver/semver.go>","ts":"1583198510.050200","attachments":[{"fallback":"GitHub: golang/mod","id":1,"title":"golang/mod","title_link":"https://github.com/golang/mod/blob/master/semver/semver.go","text":"[mirror] Go module mechanics libraries. Contribute to golang/mod development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/mod/blob/master/semver/semver.go","original_url":"https://github.com/golang/mod/blob/master/semver/semver.go"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p34"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"659929f0-6966-4d0c-875b-d94b74cfcf25","type":"message","user":"U03C6TEAZ","text":"これを使ってるらしい。","ts":"1583198515.050500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qo+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0c81e954-d107-4e90-9812-5d136a2cb541","type":"message","user":"U03C6TEAZ","text":"一応ちゃんと判定してそう。 <https://github.com/golang/mod/blob/master/semver/semver.go#L344>","ts":"1583198552.051000","attachments":[{"fallback":"GitHub: golang/mod","id":1,"title":"golang/mod","title_link":"https://github.com/golang/mod/blob/master/semver/semver.go#L344","text":"[mirror] Go module mechanics libraries. Contribute to golang/mod development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/mod/blob/master/semver/semver.go#L344","original_url":"https://github.com/golang/mod/blob/master/semver/semver.go#L344"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"H=S"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e8254255-1428-4578-a416-26a3a4650746","type":"message","user":"U03C71D7H","text":"`+alpha` は確かに使い方違いそうですね…","ts":"1583198553.051100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gCPmM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cea91269-5c8a-4006-9e6b-70b3372a04bb","type":"message","user":"U03C6TEAZ","text":"バグってるとは思えないな。","ts":"1583198605.051400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"G+SI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5da74699-7b3c-49c5-91f2-d4635b0af02e","type":"message","user":"U03C6TEAZ","text":"<https://github.com/golang/mod/blob/master/semver/semver.go#L191-L204>","ts":"1583198647.051600","attachments":[{"fallback":"GitHub: golang/mod","id":1,"title":"golang/mod","title_link":"https://github.com/golang/mod/blob/master/semver/semver.go#L191-L204","text":"[mirror] Go module mechanics libraries. Contribute to golang/mod development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/mod/blob/master/semver/semver.go#L191-L204","original_url":"https://github.com/golang/mod/blob/master/semver/semver.go#L191-L204"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i2="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"26eb7fed-a66b-4922-8629-c231e6f20d45","type":"message","user":"U03C6TEAZ","text":"ここがプレリリースとビルドの判定","ts":"1583198658.052000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jKtX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"590750f1-1d29-40bf-bc30-2e2f69810e9b","type":"message","user":"U03C71D7H","text":"Go なんとなくしかわからんけど見た感じ変なところはなさそう…(さすがに)\n実際に比較関数呼び出して動かしてみないと私にはわからん…となった","ts":"1583199079.053100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"96VUC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fda87e0c-2189-4794-9cec-d0ef51c6c434","type":"message","user":"U03C6TEAZ","text":"たぶん↑の話は `+alpha` があかんのだと思う。","ts":"1583199129.053500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LuYlz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33ac94bb-51d7-4cbf-83db-3e1a7184d5a6","type":"message","user":"U03C71D7H","text":"そんな気がしてきました。降ってくるのが `+alpha` なら、タグの付け方がまずい","ts":"1583199160.054000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cSX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"92fd5899-5b8e-43f9-913e-fda4626200a6","type":"message","user":"U03C71D7H","text":"同じバージョンとして扱われるのでどっちが降ってくるか不定ってことになりますね","ts":"1583199185.054400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hzZ="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9df28fcc-69d0-4c32-a578-d507dc01ef09","type":"message","user":"U03C6TEAZ","text":"go ははやく branch と tag の区別を直してほしい。","ts":"1583199218.055100","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["UGP5AJKU4"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4Xva"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a5c8dc9a-09d8-4610-b31c-007d05afbc96","type":"message","user":"U03C6TEAZ","text":"go-sqlite3、共同作業者に v2.0.0 というブランチ名で pull-req を貰って、結局それはドラスティックすぎてマージしなかったんだけど Go のインデックスサーバに乗ってしまって出す予定もなかった v2.0.1 を出すはめになった。","ts":"1583199316.056600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gcs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2c1b3fcf-c16f-4b43-9992-b3dc1a50f689","type":"message","user":"U03C6TEAZ","text":"README に\n&gt; NOTE: v2.0.1 or higher is unfortunatal release. So there are no big changes. And does not provide v2 feature.\nなんていう言い訳も書かないといけない。","ts":"1583199371.057500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6Fqt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f1ee729a-1062-4f0e-8569-6812ab0660d7","type":"message","user":"U03C71D7H","text":"そこは重要なんですかね? GitHub Actions も使う action を `foo/action@v1` みたいに書くけど、v1 は tag でも branch でもよいとなってるし、Git 的にも `git checkout v1` したらタグとブランチ両方探しに行くし、ブランチ名の運用に気を付ければいいのかなと思っていた","ts":"1583199441.058800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2eE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7b15704d-1df3-48c2-805d-bc8c0eff402e","type":"message","user":"U03C6TEAZ","text":"Go っていままで何もないところにやってきた仕様なので、入る前から v2.0.0 みたいなブランチを作ってた所は沢山あったんですよね。go-sqlite3 もその一つ。","ts":"1583199512.059800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SDYqH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6316c981-ff08-43cd-9e52-88a5dadabf37","type":"message","user":"U03C6TEAZ","text":"気付いたらユーザから「go get で降ってこねぇ」って言われた。","ts":"1583199541.060300","team":"T03C4RC8V","reactions":[{"name":"sorena","count":2,"users":["U06BRP8VD","UGP5AJKU4"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wuFn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c650ae5-7db4-421c-9059-2b60294b4f1f","type":"message","user":"U03C71D7H","text":"新ルール適用前に作られたブランチか…たしかにそれはつらそう…","ts":"1583199590.060700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xxD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f7b96cdd-03ad-400f-99ce-9b5265492510","type":"message","user":"U06BRP8VD","text":"proxy リセットする方法があればねぇ…っていうかそれできたら過去バージョン書き換え可能になっちゃうのかな?","ts":"1583199621.061300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eVGG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b8bb7593-65e4-4569-8ead-bbdb3cb50140","type":"message","user":"U03C6TEAZ","text":"現状ログイン等の仕様がないので消すのが人力になるし、どれだけその要望がくるか見積もれなさそう。","ts":"1583199671.062300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ac=y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"315d5ab3-9615-4de4-a1d4-136036900519","type":"message","user":"U6XP9LZ6V","text":"&gt; go-sqlite3、共同作業者に v2.0.0 というブランチ名で pull-req を貰って、\nこれって、マスターリポジトリに直接 v2.0.0 というブランチを作っちゃって、それから PR を出した感じですか。","ts":"1583199868.063900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KVVV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eeb49385-b8b7-4bc9-ab27-f42698bb77d8","type":"message","user":"U6XP9LZ6V","text":"ま、後出しではあるけど、タグ名と区別がつかないブランチ名を作るとトラブルの元ですね。","ts":"1583199956.065100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vJ/N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49972ff2-7e24-44a5-92db-1d020e84815f","type":"message","user":"U03C6TEAZ","text":"問題が発覚した後になんか解決方法ないかなと `git push origin :v2.0.0` しちゃったので残ってないんですよね。","ts":"1583200009.066000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nqgyQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d7d7f1a7-44cb-4dac-87c6-1bb26db4782f","type":"message","user":"U03C6TEAZ","text":"ただたしか fork を pull-req してくれてたはず。","ts":"1583200030.066400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nyBX+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aeca57db-ed62-44fe-8450-e7a7185f5945","type":"message","user":"U03C6TEAZ","text":"`git push origin :v2.0.0` これ本当に僕のリポジトリにあったんだろうか。","ts":"1583200208.068300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"im4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ded33826-a5c8-457a-aa7e-2d378fed8124","type":"message","user":"U03C6TEAZ","text":"覚えてないな。","ts":"1583200210.068600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d+o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"60299ce4-4177-4926-aa9b-857b51563b1b","type":"message","user":"U6XP9LZ6V","text":"もし本当に fork からの PR で問題が起こってしまうのだとするとまずいですね。適当なリポジトリに `v999.9.9` なんてブランチから PR 出しちゃうと…","ts":"1583200253.069200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BQz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eef26ff2-a37a-4fae-84eb-f5b71b574c5b","type":"message","user":"U03C6TEAZ","text":"fork で作業してくれてたのは確認できた。","ts":"1583200278.069400","files":[{"id":"FUUBML2CF","created":1583200274,"timestamp":1583200274,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":9432,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FUUBML2CF/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FUUBML2CF/download/image.png","original_h":109,"original_w":720,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FUUBML2CF-658a4e3789/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FUUBML2CF-658a4e3789/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FUUBML2CF-658a4e3789/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FUUBML2CF-658a4e3789/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":55,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FUUBML2CF-658a4e3789/image_480.png","thumb_480_w":480,"thumb_480_h":73,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FUUBML2CF/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FUUBML2CF-0fb108e38e","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAHADDROc8dPr0pce9LRQAY96Me5oooAMe9HOaKKAP/2Q==","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hzPar"}]},{"client_msg_id":"6366797f-8da8-4a58-bce7-f1b76e6b6b4f","type":"message","user":"U03C71D7H","text":"fork のリポジトリが参照されるとは考えにくい…","ts":"1583200363.070100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GS5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"87d6e922-4518-409d-aab7-3cfe768cba4c","type":"message","user":"U03C6TEAZ","text":"誰か `v999.9.9` の pull-req 貰えませんか <https://github.com/mattn/broken-branch>","ts":"1583200443.070500","attachments":[{"fallback":"GitHub: mattn/broken-branch","id":1,"title":"mattn/broken-branch","title_link":"https://github.com/mattn/broken-branch","text":"Contribute to mattn/broken-branch development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/broken-branch","original_url":"https://github.com/mattn/broken-branch"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s82P"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e5f47587-8e55-4c0a-ae48-998fe11ff269","type":"message","user":"U03C6TEAZ","text":"インデックスサーバもちょくちょく直してるっぽいので当時の再現は不可能かもしれんな。","ts":"1583200614.071300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DYad"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e46b54df-2ab7-4eaa-aca3-ab62b67722c4","type":"message","user":"U6XP9LZ6V","text":"出してみた","ts":"1583200774.071600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fH86I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"914277dd-c33b-4bc1-9c00-73e9fb176914","type":"message","user":"U03C6TEAZ","text":"あざます。んー、v0.0.1 だけかー。 <https://proxy.golang.org/github.com/mattn/broken-branch/@v/list>","ts":"1583201447.072200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jf1l4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0eeb5971-f909-4a54-9bff-31cca681d726","type":"message","user":"U03C6TEAZ","text":"あと考えられるとしたら、共同作業者が fork で作業してマスターブランチの同名ブランチに push した(なので↑の :v2.0.0 はやっぱり存在していた)くらいか。","ts":"1583201535.073200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6t3+W"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"391bca8f-4be8-448d-877a-6d9cc1f72d21","type":"message","user":"U03C6TEAZ","text":"ちなみにこれ、go の markdown レンダラで有名な blackfriday もやってしまってこれ使ってるいろんな物が壊れた。","ts":"1583201600.073800","team":"T03C4RC8V","reactions":[{"name":"totemoturai","count":1,"users":["UKHUVMBJR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Fi5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78f241f5-5c1d-4b58-a8f7-d5e84a2411d4","type":"message","user":"U03C6TEAZ","text":"v2.0.0 とかはまぁアレだけど v2 とか普通に作っちゃったリポジトリ多そう。","ts":"1583201630.074300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p7Hl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b9ab4076-1600-4589-82ef-423b6abd1152","type":"message","user":"U03C6TEAZ","text":"ひとまず1点だけでも検証できました。あざます。(リポジトリは消去へ)","ts":"1583202032.074800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gVRH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66ffd8bf-37fb-4b0c-8e17-b2c5f7d7c6f6","type":"message","user":"U6XP9LZ6V","text":"まー、さすがに fork のブランチ名が影響するようだと、かなりの脆弱性ですよね。よかったよかった。","ts":"1583202298.076100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HlGgD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d746aefa-b1be-45ca-ace6-01382882a0f3","type":"message","user":"UNJ2DANJC","text":"これgoplsが埋め込まれてるのか\n<https://github.com/govim/govim|https://github.com/govim/govim>","ts":"1583209080.077300","attachments":[{"fallback":"GitHub: govim/govim","id":1,"title":"govim/govim","title_link":"https://github.com/govim/govim","text":"govim is a Go development plugin for Vim8, written in Go - govim/govim","thumb_url":"https://avatars2.githubusercontent.com/u/54667641?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":245,"thumb_height":245,"from_url":"https://github.com/govim/govim","original_url":"https://github.com/govim/govim"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+d38F"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
