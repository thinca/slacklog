[{"client_msg_id":"d989d790-86f4-47e8-a915-572c93fbb303","type":"message","user":"U70VATSG4","text":"BodyはDeepCopyの対象ではない説...？","ts":"1574410353.058600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wFCYE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c20c640c-c5fa-4763-a1a9-feaf5d29713c","type":"message","user":"U03C6TEAZ","text":"コード見た感じコピーしてなかったです。","ts":"1574410518.059300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SzUy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"817d8ba8-c824-4979-84a5-e744305e23e2","type":"message","user":"U06BRP8VD","text":"DeepCopy どころか値もCopyしてない?","ts":"1574410527.059600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9udP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4cf7b966-debd-4c7c-ab8e-6766ac0ea424","type":"message","user":"U03C6TEAZ","text":"はい。","ts":"1574410534.060000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ai51"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8332c148-e590-43f8-a078-97b17e419e1c","type":"message","user":"U03C6TEAZ","text":"コピーはあくまで Form とかパラメータとか。","ts":"1574410552.060800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PCdPn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0ed988a9-1ebb-4ac2-8998-936b4de1bc24","type":"message","user":"U06BRP8VD","text":"え、それいろいろ動くん? 正確には httputil.ReverseProxyが","ts":"1574410560.061000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"glF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d03e9576-02d4-428e-92c2-8b08336d52c9","type":"message","user":"U06BRP8VD","text":"それしかしてないように見えるんですよ。","ts":"1574410574.061500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sl4PN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d28b80bf-ef2f-4bcd-8231-c830ee6bdc3c","type":"message","user":"U06BRP8VD","text":"Body自体は GetBody() すればコピー取れるから良いのだけど","ts":"1574410589.061900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sYN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8bd4400a-f9ed-415d-bd98-bdf22b018d05","type":"message","user":"U03C6TEAZ","text":"ストリームは無理でしょうね。","ts":"1574410611.062100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z3o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16f88518-0c2e-4154-b259-325c49e7ecad","type":"message","user":"U03C6TEAZ","text":"ただマルチパートならそれはコピーされてます。","ts":"1574410623.062500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eXAUT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"07caf217-2cac-4fd0-9e96-92e09a321a37","type":"message","user":"U03C6TEAZ","text":"ストリームはその時点の Seekable をコピーしないといけないので、難しいかと。","ts":"1574410653.063400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dZ2xn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"963330cb-aadf-4ffb-a096-5edc109d8df1","type":"message","user":"U06BRP8VD","text":"うーん…もしやReverseProxy、単なるBodyはちゃんとproxyできないってこと?","ts":"1574410683.063900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ia3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"51d8f4d6-b6a6-4a15-8c1f-9fcd2decb808","type":"message","user":"U03C6TEAZ","text":"普通のアップロードであればいける気がします。","ts":"1574410768.064200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RhRD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3064a11d-3f33-4465-9a9a-0ac015962890","type":"message","user":"U06BRP8VD","text":"えっとRESTでJSONをPOSTするようなケース","ts":"1574410826.064600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hGWWH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"53870312-8d14-4e38-87d8-994530a6496d","type":"message","user":"U06BRP8VD","text":"ReverseProxy の Director で POST の BODY を覗き見る、みたいな事やってるんですが、ReverseProxyがDirectorを読んでる場所みると、BODYがどうやってコピーされてるか全く謎なんですよ。","ts":"1574410937.065000","files":[{"id":"FQXAYPM4N","created":1574410935,"timestamp":1574410935,"name":"Untitled","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"go","pretty_type":"Go","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":276,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FQXAYPM4N/untitled","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FQXAYPM4N/download/untitled","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/FQXAYPM4N/untitled","permalink_public":"https://slack-files.com/T03C4RC8V-FQXAYPM4N-d71b5e5a7c","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/FQXAYPM4N/untitled/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k4l"}]},{"client_msg_id":"61a2e54f-8c80-4354-a808-9264f6fcb041","type":"message","user":"U06BRP8VD","text":"あ、おればかだ","ts":"1574411047.066000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pAWz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"310f811e-5600-4165-91c8-a421a3bd2b3f","type":"message","user":"U06BRP8VD","text":"Request.Clone のコレ、見逃してたwww","ts":"1574411078.066200","files":[{"id":"FQHLKGP9R","created":1574411077,"timestamp":1574411077,"name":"Untitled","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"go","pretty_type":"Go","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":29,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FQHLKGP9R/untitled","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FQHLKGP9R/download/untitled","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/FQHLKGP9R/untitled","permalink_public":"https://slack-files.com/T03C4RC8V-FQHLKGP9R-c507555d57","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/FQHLKGP9R/untitled/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EYf4"}]},{"client_msg_id":"6b8426ed-ee9a-4881-a6eb-16fe22e43acd","type":"message","user":"U06BRP8VD","text":"お騒がせしましたw","ts":"1574411083.066600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y9Uvk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65b3cee5-2a4f-4ec4-abf3-4023939ff57c","type":"message","user":"U03C6TEAZ","text":"わお実体コピー","ts":"1574411110.066900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ywbJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7e53a4ec-5b60-47a2-a1a6-a6585c9c8dd5","type":"message","user":"U70VATSG4","text":"<https://github.com/golang/go/blob/master/src/net/http/request.go#L378>\nこのへんの挙動あんまり覚えてないんですけど、structの代入はしているのでShallowCopyしているのでは...\nと書こうとしてたらすでに書かれてた","ts":"1574411140.067700","attachments":[{"fallback":"GitHub: golang/go","id":1,"title":"golang/go","title_link":"https://github.com/golang/go/blob/master/src/net/http/request.go#L378","text":"The Go programming language. Contribute to golang/go development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/blob/master/src/net/http/request.go#L378","original_url":"https://github.com/golang/go/blob/master/src/net/http/request.go#L378"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5WNi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"37cb5d23-a3ca-45dc-a32c-08c6a017427a","type":"message","user":"U06BRP8VD","text":"2行目、完全に見逃してましたわ。そこだけ Shallowとも書かれてなかったから。","ts":"1574411187.068600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l=I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d894c31c-9f92-4ab3-aace-9c5111c3c1b1","type":"message","user":"U06BRP8VD","text":"やっぱGetBodyがあるから、ってことなんだろうね。","ts":"1574411205.069200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"29VF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"914aff77-33a0-45bc-a15e-1078f427bbf1","type":"message","user":"U03C6TEAZ","text":"でも Body って conn なので EOF になってるやつをコピーして意味があるんだろうか。","ts":"1574411248.070100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pUOu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c93af901-8ce2-4ca6-8b39-c86f6e000443","type":"message","user":"U06BRP8VD","text":"目が完全に滑ってたわ","ts":"1574411259.070300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D5C6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a1c2569a-5eb0-4d6b-be5d-27c46836ac98","type":"message","user":"U06BRP8VD","text":"読む前にCloneするって感じでしょ。","ts":"1574411301.071100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kvF7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"26a924c2-f5d5-4ddc-a8b8-abab843e57e7","type":"message","user":"U03C6TEAZ","text":"デスヨネー","ts":"1574411317.071400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tIiO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0573512b-610d-478d-9e7a-8a2b631b604c","type":"message","user":"U06BRP8VD","text":"<http://github.com/kr/pretty|github.com/kr/pretty> って新しいGoとの組み合わせで最近うごかなくなった? `pretty.Print(someStructValue)` だけできれいにでたよね?","ts":"1574412321.075200","edited":{"user":"U06BRP8VD","ts":"1574412332.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"013g"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1e73f3a1-6b55-440d-ac3e-8a2286d29e3d","type":"message","user":"U03C6TEAZ","text":"使った事ないす","ts":"1574412638.076100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3v=L"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3af86a82-276c-4493-b9d6-16a19f932c0c","type":"message","user":"U06BRP8VD","text":"ぼくもデバッグ用にときどきで雑にしか使ってないんで、くわしくはわかんないんですが… なんか違うなぁって。\n<https://play.golang.org/p/43QJD161viB>","ts":"1574412867.077000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RtRl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"058f7e04-7a50-42d4-814e-d154c8e2e39c","type":"message","user":"U03C6TEAZ","text":"<https://github.com/golang/go/issues/35307>","ts":"1574397065.051800","attachments":[{"fallback":"GitHub: Proposal: Go2: Vector Basic Type - Similar to []T but with enhancements · Issue #35307 · golang/go","id":1,"title":"Proposal: Go2: Vector Basic Type - Similar to []T but with enhancements · Issue #35307 · golang/go","title_link":"https://github.com/golang/go/issues/35307","text":"Background Forgive me if I don&amp;#39;t do this right, its actually my first post on github, let alone a feature development proposal. I primarily develop in Fortran 95-2008 with python for pre/post p...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/issues/35307","original_url":"https://github.com/golang/go/issues/35307"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OoA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"715952fc-a0cc-4af7-bf06-becfe348ec7e","type":"message","user":"U03C6TEAZ","text":"issue 投稿者が突っ走ってて良い。","ts":"1574397081.052300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8hOuD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"62cb8320-4552-4ae8-ae97-26734af3c707","type":"message","user":"U03C6TEAZ","text":"```x := make([]float64, 10, 16, []string{\"AVX\", \"SIMD\"})```\n　これで笑った。","ts":"1574397142.052700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Kr/q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f5d395db-2ff3-4545-ae9a-c66bc7b1a32e","type":"message","user":"U06BRP8VD","text":"え、それなんなんw","ts":"1574398051.053000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tT3i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"58b8f554-384a-4343-9ab6-8886c0d942a4","type":"message","user":"U06BRP8VD","text":"いろいろ書いてるけど端的にまとめると、SIMDサポートを言語に組み込んで欲しい、ってことかな。","ts":"1574398138.053500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EeW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"795a6ade-192a-48e5-ada5-6946020a70f4","type":"message","user":"U03C6TEAZ","text":"です。","ts":"1574398250.053800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ixA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f9532d39-4a75-4eae-a4c7-90cc28a9aca5","type":"message","user":"UDDCM376D","text":"<https://vim-jp.slack.com/archives/CGABGC8LA/p1574312882045600>\nこちらの原因がわかりました","ts":"1574402833.054200","attachments":[{"fallback":"[November 20th, 2019 9:08 PM] sho19921005: `tson`を切り出したら、一部の動きがおかしくなっている…\n`[]byte`データを受け取ってTUIを起動する口だけ作ったんだけど、なんでだろ…\nすいません、全く検討がつかないので、どなたか心当たりがある方いたら教えて頂けると助かります。\n\nソースコードは↓になります\n<https://github.com/skanehira/tson/blob/master/lib/edit.go>","id":1,"author_id":"UDDCM376D","author_name":"ゴリラ","author_subname":"ゴリラ","author_link":"https://vim-jp.slack.com/team/UDDCM376D","author_icon":"https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png","text":"`tson`を切り出したら、一部の動きがおかしくなっている…\n`[]byte`データを受け取ってTUIを起動する口だけ作ったんだけど、なんでだろ…\nすいません、全く検討がつかないので、どなたか心当たりがある方いたら教えて頂けると助かります。\n\nソースコードは↓になります\n<https://github.com/skanehira/tson/blob/master/lib/edit.go>","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #golang","ts":1574312882.045600,"from_url":"https://vim-jp.slack.com/archives/CGABGC8LA/p1574312882045600","original_url":"https://vim-jp.slack.com/archives/CGABGC8LA/p1574312882045600"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tKd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d4bcb5a8-c334-4a7f-8701-fa9706e4d3c8","type":"message","user":"UDDCM376D","text":"えっと、ライブラリとして切り出した時logの出力処理をちゃんとやっていないので、ログの中身がそのまま画面に出力されてしまったのが原因です","ts":"1574402878.055200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/3mj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ecc9f721-e270-4086-8ee6-05b181995072","type":"message","user":"UDDCM376D","text":"直った","ts":"1574402965.055500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CFO5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"193bf8c2-4683-4fc1-bd3f-7b5cf1c3d072","type":"message","user":"UDDCM376D","text":"日付が出力されている時点でログって可能性が疑うべきだったな…","ts":"1574403045.056000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xrc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d06253d-803c-491e-8835-bd7a8e978ee0","type":"message","user":"U06BRP8VD","text":"`\"net/http\".Request.Clone()` って Body どうやってクローンしてるんやろ?","ts":"1574403814.056600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Rcee"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
