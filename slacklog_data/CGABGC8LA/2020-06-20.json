[{"client_msg_id":"fac7ad88-aee9-4366-82ec-a5ec7b2c884d","type":"message","user":"U06BRP8VD","text":"まぁ簡単なところではSQLiteかね。pure goのあの移植版が一番期待される。go-sqlite3だとどうしてもcgoだからね。","ts":"1592638995.272700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JHr0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b4612617-eab7-4e94-ab7d-e038a03f9480","type":"message","user":"UNJ2DANJC","text":"bboltとかどうなんだろう","ts":"1592639361.273300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JKN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4fa46819-5ecb-4daf-a1a7-a1d4b2705c80","type":"message","user":"U06BRP8VD","text":"bolt? nosqlの? だったらぶっちゃけ使いにくい。","ts":"1592642878.273700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Dor3v"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d1d72834-d825-4b61-88de-631c04ad6797","type":"message","user":"UDDCM376D","text":"<@U06BRP8VD> さんの記事を参考にやってみたけど、ファイル増えるのがちょっとデメリットだなと思った\nインターフェイスを切らなくてテストできるのはとても良き\n<https://www.kaoriya.net/blog/2020/01/20/never-interface-only-for-tests/>","ts":"1592649439.274600","attachments":[{"fallback":"テストのためだけに`interface`を書きたくないでござる — KaoriYa","id":1,"title":"テストのためだけに`interface`を書きたくないでござる — KaoriYa","title_link":"https://www.kaoriya.net/blog/2020/01/20/never-interface-only-for-tests/","text":"golangでテストのためだけに`interface`を書くのが死ぬほど嫌だったので編み出した技を紹介します。","blocks":null,"service_name":"kaoriya.net","service_icon":"https://www.kaoriya.net/favicon.ico","from_url":"https://www.kaoriya.net/blog/2020/01/20/never-interface-only-for-tests/","original_url":"https://www.kaoriya.net/blog/2020/01/20/never-interface-only-for-tests/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gils"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb48d30d-9380-4e69-94bb-d1c91ca694f8","type":"message","user":"U06BRP8VD","text":"なんとなく言いたいことはわかるけれど、ファイル増えることをデメリットとする根拠はなんですかね? 自動生成のファイルならいくら増えても困らないともいえますし、置き場所を分離する手段もいくらかは考えられます。","ts":"1592649622.276400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x0Dlk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"edb6aa07-51fb-43b7-b0d5-e34c86f46719","type":"message","user":"UDDCM376D","text":"根拠というか、個人的な感想ですね\nプロジェクトをぱっと見たときに *_mock とかあると見通しがあんま良くないなと思いました\n確かに置き場を考えるという手がありますね（発想になかった）","ts":"1592649827.278900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UdD1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ffdc5d1-acc6-4fc0-8b18-b02f89444aeb","type":"message","user":"U06BRP8VD","text":"mock の出力先を一か所(package)にまとめちゃって、mockの時専用のtype aliasを用意すれば良さげかしらね? ただそうするとテスト用のデータ書くのが、いちいちパッケージ名つけなきゃいけなくなる。","ts":"1592649890.279900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vcu7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ae22aff-f41e-4a0e-b869-824663817bdd","type":"message","user":"U06BRP8VD","text":"でもそれも _ に import すれば良いのか?","ts":"1592649900.280200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qwJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"46818803-d63d-4bbe-af82-e797ae78bca4","type":"message","user":"U06BRP8VD","text":"あんまお行儀良くないけど…まぁタグでtype alias 先を切り替えてる時点でいまさらかw","ts":"1592649935.280900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uJDj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d38e29c8-f13d-4841-b96b-4b1926ec5173","type":"message","user":"UDDCM376D","text":"&gt; あんまお行儀良くないけど…まぁタグでtype alias 先を切り替えてる時点でいまさらかw\nそれは、まぁｗ","ts":"1592649949.281100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r9zy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0df93d8f-4a12-49d6-a1c8-3850b0568e7a","type":"message","user":"UDDCM376D","text":"個人的に、このやり方は斬新で目からうろこでした","ts":"1592649969.281700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2yOi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74fadeed-8817-4533-a9af-727e2a8a0d86","type":"message","user":"UDDCM376D","text":"type alias と ビルドタグ を使って 依存 を切り替えられるのはすごい","ts":"1592650012.283000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6bEz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"61b357b3-bb53-45ab-b19f-df3d9a5be4a2","type":"message","user":"U06BRP8VD","text":"僕も思いついたときはびっくりしましたw","ts":"1592650015.283100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ga6A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"607e9db6-c07b-45bc-814d-dcd45bd9f4d7","type":"message","user":"UDDCM376D","text":"天才！？って思いましたｗ","ts":"1592650049.283300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cJsF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3789841d-8a41-4bc8-9b80-380c8e376efb","type":"message","user":"U03C6TEAZ","text":"テストの時だけ有効になるビルドタグ欲しい。","ts":"1592651291.284500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TYZv5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c1f73ddb-de4f-4c9b-96d0-ae32a9022a2d","type":"message","user":"U06BRP8VD","text":"ほんとそれ","ts":"1592652471.284700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tpG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5fb9ae41-fde2-4f9e-b0ec-d7220d23a6c2","type":"message","user":"U06BRP8VD","text":"ちなみに発想の大元をたどるとVimでも大量に使われてる、C言語のDEFINEで振る舞いを変えちゃうやつね。","ts":"1592652535.285800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"id4Q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6a38f35-46aa-4d77-a3f3-5cc92503d26f","type":"message","user":"U06BRP8VD","text":"mockっていうタグがstatickcheckとかlinterでもひつようになっちゃうのが痛いのよねぇ。","ts":"1592652554.286200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YyRH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b7c45bb6-7589-47cc-a330-f70716ef2429","type":"message","user":"UDDCM376D","text":"あー、たしかにlinterとか必要になるな。。。","ts":"1592655520.286800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RDg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c1dc70d6-27e0-41bb-8071-39b6dd62c914","type":"message","user":"U03C6TEAZ","text":"<https://github.com/golang/go/issues/38903>","ts":"1592578801.262500","attachments":[{"fallback":"GitHub: x/tools/gopls: using 1GB RAM with Mattermost server · Issue #38903 · golang/go","id":1,"title":"x/tools/gopls: using 1GB RAM with Mattermost server · Issue #38903 · golang/go","title_link":"https://github.com/golang/go/issues/38903","text":"What version of Go are you using (go version)? $ go version go version go1.13.9 linux/amd64 $ gopls version <http://golang.org/x/tools/gopls|golang.org/x/tools/gopls> 0.4.0 <http://golang.org/x/tools/gopls@v0.4.0|golang.org/x/tools/gopls@v0.4.0> h1:G4+YP9kaV4dJb79J5MobyAp...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/issues/38903","original_url":"https://github.com/golang/go/issues/38903"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1mR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a0b79ae3-df58-474b-874e-539e234aa590","type":"message","user":"U03C6TEAZ","text":"16GB ではまだまだだな。kaoriya さんクラスになると 51GB...","ts":"1592578843.263300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yhle2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6b4384d8-d96a-4580-b405-592cf4fd4a86","type":"message","user":"U06BRP8VD","text":"www","ts":"1592623579.263500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NOgP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"41f5298e-5f41-4a99-af8f-e00d8dc32a0d","type":"message","user":"U06BRP8VD","text":"あのあと気にしているけどなかなかあのクラスのに出会えない","ts":"1592623606.264000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ip74"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"72622559-36a6-4317-8f99-f37b570eb3a4","type":"message","user":"U06BRP8VD","text":"あ、いまちょっと数ファイル開いたら 1GB 行った。1GBはなんてことないな。","ts":"1592624493.264600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VqwGP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0F3DD814-8E01-4587-BE54-BE12BF49685E","type":"message","user":"UDDCM376D","text":"gopls、何でそんなに食うんだろう","ts":"1592625124.265100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"46h"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"470f6a85-1b3c-46ad-ba90-66f00389cfc0","type":"message","user":"U06BRP8VD","text":"読み込んだパッケージ情報、全部メモリにもってるんですよ。プロジェクトが参照しているパッケージは全部読まないとダメだから。","ts":"1592625296.265900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Jo3G"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a9436b2c-5e13-4622-b079-44fc7bec86c7","type":"message","user":"U06BRP8VD","text":"本来は何かしらDBに書いたりするところを富豪的アプローチでやってます。なので最初の問い合わせがすごく時間かかるんです。","ts":"1592625344.266800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2RD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d7bae734-7859-4c4c-95dc-6671e59600b8","type":"message","user":"UDDCM376D","text":"なるほど","ts":"1592632302.267000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O11"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1db037f1-3cef-4740-96dc-f4e97faa67df","type":"message","user":"UDDCM376D","text":"キャッシュ機構とかないんですか\nあまり使われていないデータを一時的にファイルに書き出すとか","ts":"1592632331.267500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zJf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b6244699-a3b9-44f8-8fac-9f912e07544d","type":"message","user":"UERCTTT8B","text":"それはメモリスワッピング?","ts":"1592632643.267900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MRw4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"B17CED4B-15F9-4002-9623-02342DB62E0E","type":"message","user":"UDDCM376D","text":"あー、それだ","ts":"1592634994.269400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Tbe0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"da2ad696-9c34-47f0-959e-64f1d12d4653","type":"message","user":"UEB17JJJE","text":"ただのファイル書き出しだとlspだと遅くてストレスフルだと思うのでKoRoNさんがいうようにDBとかじゃないとおそらく厳しそう","ts":"1592635785.270500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Whf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2f64393-4818-49b5-86bf-80083a7ee221","type":"message","user":"UEB17JJJE","text":"gnu globalとかは確かそうしてますよね","ts":"1592635874.270900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hMVfK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"98f2dcaa-0292-4ed6-8361-9b3f314f94df","type":"message","user":"UEB17JJJE","text":"lspもLSIFがあるのでそのうちそうなってくるでしょう\n<https://microsoft.github.io/language-server-protocol/specifications/lsif/0.5.0/specification/>","ts":"1592635948.271300","attachments":[{"fallback":"LSIF Specification","id":1,"title":"LSIF Specification","title_link":"https://microsoft.github.io/language-server-protocol/specifications/lsif/0.5.0/specification/","text":"Under ConstructionThe 0.5.0 version of LSIF is currently under construction.Language Server Index FormatThe purpose of the Language Server Index Format (LSIF...","blocks":null,"service_name":"microsoft.github.io","service_icon":"https://microsoft.github.io/language-server-protocol/img/favicon.png","from_url":"https://microsoft.github.io/language-server-protocol/specifications/lsif/0.5.0/specification/","original_url":"https://microsoft.github.io/language-server-protocol/specifications/lsif/0.5.0/specification/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8kmD0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
