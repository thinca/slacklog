[{"client_msg_id":"85DBE9F5-71E4-44C0-B0B0-DDB79B83FC16","type":"message","user":"UDDCM376D","text":"はい\n画面に何も表示されなくて、適当にタイプしたときのスクショですね","ts":"1573027788.332900","edited":{"user":"UDDCM376D","ts":"1573028829.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c7e55e1-38dd-4bda-a3f7-978678d3225c","type":"message","user":"UDDCM376D","text":"tty や pty などを調べているけど、いまいちピンと来ない…","ts":"1573034275.333500","edited":{"user":"UDDCM376D","ts":"1573034281.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9b6d0b8-a573-46ec-b36e-53f38e0f2f6f","type":"message","user":"UDDCM376D","text":"<https://note.hibariya.org/articles/20150628/pty.html>","ts":"1573034837.333800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a9c4f5ed-d762-449d-b980-9cb64971066a","type":"message","user":"UDDCM376D","text":"```\nPTY (疑似端末) にはマスタとスレーブがあり双方向パイプのように振る舞う。マスタに書き込んだものはスレーブから読め、スレーブに書き込んだものはマスタから読める。\n```\nなるほど","ts":"1573034860.334000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e287058f-5791-4b68-bf08-77dbd4431595","type":"message","user":"UDDCM376D","text":"<https://takuya-1st.hatenablog.jp/entry/20101024/1287947368>","ts":"1573036756.335900","attachments":[{"fallback":"それマグで！: ttyについて ttyやptsってなんぞ？ - それマグで！","id":1,"title":"ttyについて ttyやptsってなんぞ？ - それマグで！","title_link":"https://takuya-1st.hatenablog.jp/entry/20101024/1287947368","text":"PCにシリアルコンソールでログインできるように設定した。シリアルコンソールを使えばNICの設定などでもあわてずに利用できる。便利。シリアルコンソールでつかうmgetty mingettyのttyってなんだろう ttyとは、 どうやら、標準出力の接続先デバイス事のらしい。一般的にはpts、RS232C経由などはttyS0が標準出力の接続先になっていて、中継しているプログラムがmgetty。 図で表すと PC----ssh------/dev/pts/1--sshd----bash #ssh が接続されている PC----rs232c---/dev/ttyS0--mgetty--bash #rs2…","image_url":"http://cdn-ak.f.st-hatena.com/images/fotolife/t/takuya_1st/20101025/20101025040832.jpg","blocks":null,"ts":1287860968,"service_name":"それマグで！","service_icon":"https://cdn.image.st-hatena.com/image/apple_touch_icon/a5494e0d20ccd5fa020a788e388f2ca0a0aa87a8/version=1/https%3A%2F%2Fcdn.user.blog.st-hatena.com%2Fblog_custom_icon%2F149816%2F1534599162244620","from_url":"https://takuya-1st.hatenablog.jp/entry/20101024/1287947368","original_url":"https://takuya-1st.hatenablog.jp/entry/20101024/1287947368"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d8e44978-e1ef-4716-bb2a-3642db842e13","type":"message","user":"UDDCM376D","text":"見えてきた","ts":"1573036758.336200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d66220c9-b87e-44c1-a1a0-1c5204d302c9","type":"message","user":"UDDCM376D","text":"プロセスはファイルを通して、入出力を行う","ts":"1573036781.336700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d2044b6b-a698-4a87-bbb8-f310d949ce6c","type":"message","user":"UDDCM376D","text":"`tty` はプロセスが入出力を行うためのファイルってことかな","ts":"1573036836.337500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"823e3136-529e-4489-b365-b219d7d2b668","type":"message","user":"UDDCM376D","text":"ファイルの実態が `/dev/pts/1` とかってファイル","ts":"1573036864.338000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2db1c4f-f543-4924-9c94-11cc787c5bd7","type":"message","user":"UNJ2DANJC","text":"traefik, reflex, airを組み合わせてダイナミックルーティングx\nホットリロードをやってみました。  <https://github.com/johejo/traefik-hot-reload-docker-compose>","ts":"1573037384.340800","attachments":[{"fallback":"GitHub: johejo/traefik-hot-reload-docker-compose","id":1,"title":"johejo/traefik-hot-reload-docker-compose","title_link":"https://github.com/johejo/traefik-hot-reload-docker-compose","text":"Dynamic routing by traefik using docker-compose and Golang hot reload example with reflex and air. - johejo/traefik-hot-reload-docker-compose","thumb_url":"https://avatars1.githubusercontent.com/u/25817501?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":133,"thumb_height":133,"from_url":"https://github.com/johejo/traefik-hot-reload-docker-compose","original_url":"https://github.com/johejo/traefik-hot-reload-docker-compose"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2bd396a8-5e7c-4b88-9cbf-6c1cd0f46202","type":"message","user":"UDDCM376D","text":"んー、わからん\n積んだ","ts":"1573038662.341200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"39fe3a5c-708c-47c4-9399-3b5616cd2b69","type":"message","user":"UDDCM376D","text":"```\ncmd := exec.Command(\"vim\", \"a.json\")\ncmd.Stdin = os.Stdin\ncmd.Stdout = os.Stdout\ncmd.Stderr = os.Stderr\n\ncmd.Run()\n```\nって実行すると `Vim: Warning: Input is not from a terminal` って出るけど、なんでだろ…","ts":"1573014044.320200","edited":{"user":"UDDCM376D","ts":"1573014052.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4bed964d-057c-49ca-92f2-2b51c87c70b0","type":"message","user":"U03C6TEAZ","text":"何から実行してますか？端末から直接？","ts":"1573014083.320700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2929836b-a602-4c0a-b97f-2696ee8b46d6","type":"message","user":"U03C6TEAZ","text":"それともシェルスクリプトやテスター等から間接的？","ts":"1573014100.321100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e7b408fc-3ef9-4386-9f1f-58b5b2f8abc4","type":"message","user":"U03C6TEAZ","text":"vim は入力が pty じゃない場合にこの警告を出します。","ts":"1573014119.321600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"48c5f9e3-3650-4c14-bcf9-b00648a19e08","type":"message","user":"UDDCM376D","text":"えっと\ntview を使っているんですが、それを一時停止して実行しています","ts":"1573014163.322300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"da0cd118-5ac3-43f0-8905-a41335432582","type":"message","user":"U03C6TEAZ","text":"つまり tview 使ったアプリから vim を起動しようという話ですね。 `cmd.Stdin` には <https://github.com/creack/pty> で作った pty を渡さないと動かないです。","ts":"1573014259.323100","attachments":[{"fallback":"GitHub: creack/pty","id":1,"title":"creack/pty","title_link":"https://github.com/creack/pty","text":"PTY interface for Go. Contribute to creack/pty development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/521701?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/creack/pty","original_url":"https://github.com/creack/pty"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"684ec072-3a5a-4dc0-b124-b88d148ca79a","type":"message","user":"U03C6TEAZ","text":"たぶん以前 soozy で説明した奴です。","ts":"1573014273.323600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68c7fa0f-7ad7-407d-b0ba-8c046978ad39","type":"message","user":"UDDCM376D","text":"疑似端末を stdin に渡さないといけないという理解であっていますか？","ts":"1573014451.324200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1cf88170-1b92-436f-ab39-80ce3b18d9b7","type":"message","user":"UDDCM376D","text":"`<https://godoc.org/github.com/creack/pty#Open>` を使えばいいのかな","ts":"1573014541.324500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9cce522-b0f2-4bbe-b49d-05c0c36709e5","type":"message","user":"U03C6TEAZ","text":"はい。","ts":"1573014784.324700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b85649d0-80bc-42b5-91fe-657a924e13b2","type":"message","user":"UDDCM376D","text":"できた！","ts":"1573014809.325000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"71dad4c5-0637-4b9d-91ba-31ca4a681660","type":"message","user":"UDDCM376D","text":"ありがとうございます！","ts":"1573014811.325200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"070ffd21-aaa3-4652-9b20-a3af72ca0ea2","type":"message","user":"UDDCM376D","text":"あれ","ts":"1573014830.325400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d78671d3-11e1-452e-8c73-05cc9d417766","type":"message","user":"UDDCM376D","text":"ecs の動きがへん","ts":"1573014835.325600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"febc4ef9-d022-4aab-8a5d-598c55962442","type":"message","user":"UDDCM376D","text":"`^[` が入力される","ts":"1573014856.326100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ccb7b5a6-c584-410e-a813-744b978704f4","type":"message","user":"UDDCM376D","text":"あ","ts":"1573014887.326400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"55e480ea-4d7d-4d93-971d-cdad7a3ee111","type":"message","user":"U03C6TEAZ","text":"キーボードからの入力は pty に Write する必要があります。","ts":"1573014896.326900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d22b7d95-6418-4a54-a49d-73e2dd1b579a","type":"message","user":"UDDCM376D","text":"おｆ","ts":"1573014956.327400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9e4a7b9-65c1-4c9d-9508-2f2a2f3f1a65","type":"message","user":"UDDCM376D","text":"Goで入力を受け取って書き込まないといけないのか","ts":"1573015022.327700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7194edb2-9b45-4561-aeb0-40244d4a5c66","type":"message","user":"U03C6TEAZ","text":"めんどくさいときは goroutine 起動して `io.Copy(pty, os.Stdin)`","ts":"1573015132.328100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ce50537-0de8-4a53-a58d-959603d75478","type":"message","user":"UDDCM376D","text":"<https://github.com/skanehira/tson/blob/develop/gui/gui.go#L362-L380>","ts":"1573015681.328400","attachments":[{"fallback":"GitHub: skanehira/tson","id":1,"title":"skanehira/tson","title_link":"https://github.com/skanehira/tson/blob/develop/gui/gui.go#L362-L380","text":"TUI json editor and viewer written in Go. Contribute to skanehira/tson development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/7888591?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/skanehira/tson/blob/develop/gui/gui.go#L362-L380","original_url":"https://github.com/skanehira/tson/blob/develop/gui/gui.go#L362-L380"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fae3dca8-1228-46d9-9575-ff4736e78b0d","type":"message","user":"UDDCM376D","text":"今実装こうしていますが、 とりあえず `io.Copy()` を使ってやっていますが、入力だめでした。。。","ts":"1573015747.329500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"549808c6-e009-4871-a246-f019b61f8d95","type":"message","user":"U03C6TEAZ","text":"pty.Open で第二戻り値が戻ってくると思うんです。","ts":"1573015909.329900","edited":{"user":"U03C6TEAZ","ts":"1573015921.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8a215755-5872-4e5b-9862-b77e283ee92c","type":"message","user":"U03C6TEAZ","text":"それが tty で `cmd.Stdin` や `cmd.Stdout` にはそれを、書き込みには第一戻り値に対して。","ts":"1573015947.330700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7fa030c2-0171-4e85-87c7-9fe11a3e09c3","type":"message","user":"UDDCM376D","text":"はい、第2はttyですね\nttyを `cmd.Stdin` と `cmd.Stdout` にセットして、 書き込みは `pty` に対してやってみましたが、今度は何も表示されません…","ts":"1573016072.331600","files":[{"id":"FQ930LHAT","created":1573016068,"timestamp":1573016068,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"UDDCM376D","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":5878,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FQ930LHAT/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FQ930LHAT/download/image.png","original_h":110,"original_w":540,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FQ930LHAT-023f7542e4/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FQ930LHAT-023f7542e4/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FQ930LHAT-023f7542e4/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FQ930LHAT-023f7542e4/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":73,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FQ930LHAT-023f7542e4/image_480.png","thumb_480_w":480,"thumb_480_h":98,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/UDDCM376D/FQ930LHAT/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FQ930LHAT-61641cbe48","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAJADDNJweGJFJk+tFFABk+tGaKKADJooooA//Z","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"056bc243-fd93-481a-8fd3-50c218fbbff7","type":"message","user":"U03C6TEAZ","text":"これは h をタイプしたという事ですか？","ts":"1573024640.332100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
