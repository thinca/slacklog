[{"client_msg_id":"578621a8-7021-496c-914f-a23bc1e0e714","type":"message","user":"U06BRP8VD","text":"golangで `#if 0 ～ #else ～ #endif` を簡単にやる方法ないかしら CTRL+A / X 一発で有効になるコードブロックを切り替えたい。ビルドタグ以外にないかしらね…","ts":"1558796864.003000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"711193fe-954a-4bf3-a96e-5c021f68c119","type":"message","user":"U03C6TEAZ","text":"関数単位ならコメントアウトするしかないかも。","ts":"1558796953.003300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"473c6e2f-ad0c-4fdb-90cf-cd3f70d64524","type":"message","user":"U03C6TEAZ","text":"処理ブロック単位なら僕は if false { します。","ts":"1558796975.003700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"23cebd5a-3cf3-4a80-bb74-08fa4e81a1d0","type":"message","user":"U06BRP8VD","text":"関数単位なんです。やっぱファイル分けてビルドタグが一番楽そうか","ts":"1558797035.004600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"75fcb299-9c0f-4c12-a5cf-33e1a3d6fb05","type":"message","user":"U0M7GCBPD","text":"Travis の go tip で go.mod に `go 1.13` って行が勝手に付くようになっちゃって `git diff --exit-code` でコケちゃってるんですが、これってどのタイミング (フェーズ) で書き換わってるんですかね？ <https://travis-ci.org/vim-volt/volt/jobs/537348218#L1169>","ts":"1558847142.005800","edited":{"user":"U0M7GCBPD","ts":"1558847321.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eee49bd7-81e0-47f6-b0b8-f7c986ae86f9","type":"message","user":"U0M7GCBPD","text":"あと gvm でも Go 1.13? のインストールできないんですが、現状 <https://github.com/golang/go> から自前ビルドするしかないやつですか？","ts":"1558847261.007500","attachments":[{"fallback":"GitHub: golang/go","id":1,"title":"golang/go","title_link":"https://github.com/golang/go","text":"The Go programming language. Contribute to golang/go development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go","original_url":"https://github.com/golang/go"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"750a5aa3-bc9f-4050-b405-f9f9f056507f","type":"message","user":"U0M7GCBPD","text":"手元の go 1.11.1 だと `go mod init` したら `go.mod already exists` って出るけど最新版だと追記されるようになったのかな","ts":"1558847431.008700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0478527a-91f4-44c2-91f4-d6048a4018c3","type":"message","user":"U7H4TJEG0","text":"リリースされている最新バージョン (1.12.x) でgo.modを生成し、go.modに `go 1.12`が追記されている状態にするとよさそうです","ts":"1558847934.009800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9621c8d0-be30-4404-a0a3-bed5202ce835","type":"message","user":"U7H4TJEG0","text":"go 1.13が勝手につくのはおそらく <https://github.com/golang/go/commit/48b7bdd0d7> かと思います","ts":"1558847955.010100","attachments":[{"fallback":"GitHub: cmd/go: always add 'go' directive to the go.mod file if missing · golang/go@48b7bdd","id":1,"title":"cmd/go: always add 'go' directive to the go.mod file if missing · golang/go@48b7bdd","title_link":"https://github.com/golang/go/commit/48b7bdd0d7","text":"Updates #30790 Fixes #31960 Change-Id: Ib3ac074cf1f98fe69f53af82d2a0441582116570 Reviewed-on: <https://go-review.googlesource.com/c/go/+/176925> Run-TryBot: Bryan C. Mills &lt;bcmills@google.com&gt;...","thumb_url":"https://avatars1.githubusercontent.com/u/5200974?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/golang/go/commit/48b7bdd0d7","original_url":"https://github.com/golang/go/commit/48b7bdd0d7"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"acf53787-2618-4034-aa29-f0a0347d06cd","type":"message","user":"U7H4TJEG0","text":"Go 1.12でmod initしたら `module` の後に `go 1.12` が入っている状態になると思います","ts":"1558848011.010800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1fdbb477-f197-433b-863d-b59554f54ffb","type":"message","user":"U7H4TJEG0","text":"<https://github.com/vim-volt/volt/blob/devel/go.mod> 今は入っていないのが原因かと。","ts":"1558848040.011100","attachments":[{"fallback":"GitHub: vim-volt/volt","id":1,"title":"vim-volt/volt","title_link":"https://github.com/vim-volt/volt/blob/devel/go.mod","text":"A meta-level vim package manager. Contribute to vim-volt/volt development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/16522996?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":420,"thumb_height":420,"from_url":"https://github.com/vim-volt/volt/blob/devel/go.mod","original_url":"https://github.com/vim-volt/volt/blob/devel/go.mod"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3ee28559-0acc-463f-a214-bd71e9c0edea","type":"message","user":"U0M7GCBPD","text":"なるほど、試してみます。ありがとうございます！","ts":"1558848056.011400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e1f930f4-177f-4cc8-a279-6c61c6196f1a","type":"message","user":"U7H4TJEG0","text":"go tipで追うの、日々のGoの変更を追う勇気がないとできない…","ts":"1558848151.012300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1a53f85e-c049-4dc2-a457-1ed0c4b398af","type":"message","user":"U0M7GCBPD","text":"やっぱ流石に必要ないですよね… 最低バージョンでのテストだけにするか…","ts":"1558848243.013000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"594652e8-f846-4ac4-bbab-ad2e9780032e","type":"message","user":"U7H4TJEG0","text":"新しい方から2つサポートするとしたら \"1.11.x\" と \"1.12.x\" でテストできていればよさそう… (1.11は1.11.0になるので良くない)","ts":"1558848364.014100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cabe6d9f-43ad-429e-b2cb-f70fcb7e6432","type":"message","user":"U0M7GCBPD","text":"ですねぇ… そもそも Go で古いバージョンをサポートする必要はあんまなさそう。バイナリダウンロードしてもらえばいいし…","ts":"1558848735.016200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5316bfd1-994d-4561-916c-de3e8c2c47b8","type":"message","user":"U0M7GCBPD","text":"go 1.12.5 で go mod init してみたんですが、go.mod 何も変わらないまま `go.mod already exists` ってエラーで終了しちゃいますね。\ngo mod edit -go=1.12.5 したらバージョンが追記されました（これなら手動で追記でもいいような気がしますが）","ts":"1558849139.018700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"299fcac4-9eca-40c3-b107-e850378be108","type":"message","user":"U0M7GCBPD","text":"PR 送ってもらって module 対応しちゃったのもあってどのタイミングで go.mod 書き換わるのか分かってない、調べないと…","ts":"1558849208.019200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aff44ce0-7ec3-4e57-948a-b00230566547","type":"message","user":"U0M7GCBPD","text":"<https://golang.org/doc/go1.12#modules>\n&gt; If the go directive for a module specifies a version newer than the toolchain in use, the go command will attempt to build the packages regardless, and will note the mismatch only if that build fails.","ts":"1558850028.019600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"234563bc-aecd-4a15-95fe-82ce0a9d4a57","type":"message","user":"U0M7GCBPD","text":"goX.YY.Z が使ってるコマンドよりも新しくてもビルドが失敗した時だけ mismatch が表示されるのか、なるほど","ts":"1558850095.020700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c56b3470-3284-4f0a-99f0-ab5ed1ef2561","type":"message","user":"U0M7GCBPD","text":"`go version =&gt; go1.12.5` なのにビルドに失敗したら `note: module requires Go 1.12.5` って出た。失敗した時はバージョンを満たしてても常に表示する？\nもしくは自分が誤読してるのか…","ts":"1558852789.022400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
