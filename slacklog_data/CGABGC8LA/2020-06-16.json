[{"client_msg_id":"22661f8c-30c7-4f1c-9163-3c843883bd6b","type":"message","user":"U06BRP8VD","text":"<http://proxy.golang.org|proxy.golang.org>、結構反映遅い。","ts":"1592234909.021900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aBp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"383714cf-b06e-46a9-810d-05bb6b9b8f7f","type":"message","user":"U06BRP8VD","text":"いま、このレポジトリ使ってちまちまバージョン追加してってるw\n<https://github.com/koron/proxyexam>","ts":"1592234934.022300","attachments":[{"fallback":"GitHub: koron/proxyexam","id":1,"title":"koron/proxyexam","title_link":"https://github.com/koron/proxyexam","text":"examine goproxy. Contribute to koron/proxyexam development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/468368?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/koron/proxyexam","original_url":"https://github.com/koron/proxyexam"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fyYx1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fe932a29-4ba1-47f4-b0cb-13187704ddab","type":"message","user":"U06BRP8VD","text":"こんな感じで一つリリースしては手動ポーリングしつつw","ts":"1592235001.022500","files":[{"id":"F01500XPHTR","created":1592234998,"timestamp":1592234998,"name":"Untitled","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":1193,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F01500XPHTR/untitled","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F01500XPHTR/download/untitled","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F01500XPHTR/untitled","permalink_public":"https://slack-files.com/T03C4RC8V-F01500XPHTR-4ddede8f1d","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F01500XPHTR/untitled/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E+eua"}]},{"client_msg_id":"349faeaf-3edc-461d-8ce7-1cec84171add","type":"message","user":"U06BRP8VD","text":"これ…ポーリングするところもスクリプトにすべきやろか?w","ts":"1592235061.023100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q/Kwe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fcd8d4b9-3d04-476a-9b30-e4171a05ee49","type":"message","user":"U06BRP8VD","text":"`/@latest` の更新はかなり遅いな。","ts":"1592235153.023400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0tcv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"51a0eef9-1e03-41e1-854d-cd7ef409f276","type":"message","user":"U06BRP8VD","text":"おータグを打ったあとに自分で `/@v/{version}.info` を取得すると `/@v/list` に速く表示される <http://proxy.golang.org|proxy.golang.org> のハックが誕生したw","ts":"1592236490.024400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9Af"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb294094-c32b-4d3b-ae49-c92ac304b44e","type":"message","user":"U06BRP8VD","text":"いまは10秒くらいあけてから info とってるけどどのくらいあけたら効果的かまでは調査してない。","ts":"1592236533.024900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/nW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b702579c-ab0b-4b48-9e90-88fd83859eea","type":"message","user":"U06BRP8VD","text":"latestは相変わらず更新されない…","ts":"1592236562.025200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pPE/G"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"41430c2b-791c-4866-a9d5-cf3e3817e2e3","type":"message","user":"U06ECBRTJ","text":"今現在、この世で一番 <http://proxy.golang.org|proxy.golang.org> に詳しい人になってますねw","ts":"1592236709.026000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kyc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"965bc8b9-35d6-4df5-9b7f-7a77702708d5","type":"message","user":"U06BRP8VD","text":"遂に v3.2.0 で go.mod を追加した結果…\n\n<https://proxy.golang.org/github.com/koron/proxyexam/@v/v3.2.0.info>\n&gt; not found: <http://github.com/koron/proxyexam@v3.2.0|github.com/koron/proxyexam@v3.2.0>: invalid version: module contains a go.mod file, so major version must be compatible: should be v0 or v1, not v3\nｷﾀｺﾚ","ts":"1592240677.026900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Bmzct"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a9168a4d-8643-4e8f-8895-eee9c601a50f","type":"message","user":"U06BRP8VD","text":"v3.2.0 を info 使って強制的に `/@v/list` へ追加することはできないっぽい。","ts":"1592240773.027600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pYl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2519be6f-85be-4458-96cc-8e24381da049","type":"message","user":"U06BRP8VD","text":"これ jvgrep の `/@v/list` に v5.8.2 が含まれていないことと合致するか。","ts":"1592240814.028400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kjqR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d636500-7e86-4482-8e92-a16cf7539383","type":"message","user":"U06BRP8VD","text":"そして v1.10.0 をリリースしたことですべてがわかった。","ts":"1592241119.028900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qC5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76e58f8b-08d2-473a-80fa-0543e46c47d6","type":"message","user":"U06BRP8VD","text":"以下、検証内容を書きますね。なお履歴は一直線。\n\n go.mod 無しの状態から v0, v1 (v1.9.0まで), v2, v3 の v3.1.0 まで出して、それを使うほうは v3.1.0+incompatible まで進んだ。\n\nこの状態で go.mod を module に `/v3` としで追加して(単に `go mod init` しただけで)  v3.2.0 としてリリースしたけど、<http://proxy.golang.org|proxy.golang.org> には記録されず。go get しても更新されない状態になった(mattn/go-sqlite3で起こってることと一緒)\n\nここから v1.10.0 を出し `/@v/list` に乗ることを確認。そのうえで使うほう(v3.1.0+incompatible取得済み)で `go get ...@upgrade` した際には何もでてこない。 `@latest` でも同様。\n\n`go get ...@master` で取ると v1.10.0 が出てきた。もちろん `@v1.10.0` でも v1.10.0 が出てくる。\n\n次に新規のレポジトリで `go get <http://github.com/koron/proxyexam|github.com/koron/proxyexam>` したときはやはり v1.10.0 がでてきました。このあたりは前回のソースコード検証どおり。\n\n最後にv1.11.0 をリリースしてから v1.10.0 が go.mod に記録されているレポジトリで `go get ...` したら期待通り v1.11.0 が出てきました。\n\nこれで +incompatible を闇に葬れる!\n\n参考:\n* <https://github.com/koron/proxyexam>\n* <https://proxy.golang.org/github.com/koron/proxyexam/@v/list>\n* <https://proxy.golang.org/github.com/koron/proxyexam/@latest>\n\n結論: go.mod を作って v1 系の最新のタグを打てば、v2以降の +incompatible リリースは闇に葬れる。 cc <@U03C6TEAZ>","ts":"1592241907.038800","edited":{"user":"U06BRP8VD","ts":"1592241914.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yew5j"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ab17191-5e24-418c-a5f1-28fce8a007e3","type":"message","user":"U06BRP8VD","text":"latest の更新は 30～60 分に1回くらいかもなぁ。","ts":"1592242002.039500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NzV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"08a68a11-ac03-4289-836e-0e7556b43a2c","type":"message","user":"U06BRP8VD","text":"おっけー latest も期待通りになった。","ts":"1592242304.039900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oU/b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"beac8389-7993-474b-9ea6-30485e9fb26a","type":"message","user":"U06BRP8VD","text":"…あとは…タグ消しがどうなるかだけ、手動で確認するかね?","ts":"1592242340.040300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sUK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ca405f49-2e0c-4741-86ce-f79bfa684ae8","type":"message","user":"U06BRP8VD","text":"v2.0.1 (+incompatible) を消した `/@v/list` には残ったけど `/@v/v2.0.1.info` および `/@v/v2.0.1+<http://incompatible.info|incompatible.info>` は消えた。\n\n`/@v/v2.0.1+incompatible.mod` も消えてるから、たぶん `/@v/list` をパスしても go.mod の取得でコケるのでOKという判断だと思われる。一応、実験&amp;ソースみてみよ。","ts":"1592242603.042700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2bth"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"67ee0207-e71f-413f-af44-b3fc2c246975","type":"message","user":"U06BRP8VD","text":"あら取れちゃったよ…","ts":"1592242639.042900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O1X"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"50de74be-317b-46cd-9624-5bc73033d43a","type":"message","user":"U06BRP8VD","text":"あーproxyからmod が消えたってのが誤観測だ。パス間違ってて、実際には消えてなかった。","ts":"1592242830.044400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AJZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"46172873-2d17-4749-8eaf-6ee53a1388c2","type":"message","user":"UNJ2DANJC","text":"<https://github.com/golang/pkgsite|https://github.com/golang/pkgsite>\npkgsite GoでWebをやるいい例って感じがする。\nHTTP/HTMLみたいな基本的なところから, PostgreSQL&amp;DBマイグレーションにRedisキャッシュとcloud taskキューに加えて分散トレーシングまでまぁまぁてんこ盛り","ts":"1592243391.049600","attachments":[{"fallback":"GitHub: golang/pkgsite","id":1,"title":"golang/pkgsite","title_link":"https://github.com/golang/pkgsite","text":"[mirror] Home of the pkg.go.dev website. Contribute to golang/pkgsite development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/pkgsite","original_url":"https://github.com/golang/pkgsite"}],"edited":{"user":"UNJ2DANJC","ts":"1592244181.000000"},"team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["UL5G6QL5U"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kdk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3F875A6F-9F74-4E3D-987E-CD1224130A04","type":"message","user":"U77U7B85A","text":"この後すぐ公開されたのか！\n<https://vim-jp.slack.com/archives/CGABGC8LA/p1592230052019300|https://vim-jp.slack.com/archives/CGABGC8LA/p1592230052019300>","ts":"1592262057.050600","attachments":[{"fallback":"[June 15th, 2020 7:07 AM] daisuzu: いつの間に <http://golang.org/x/pkgsite|golang.org/x/pkgsite> できたんだろ?と思ったけど空っぽだった...\n<https://tip.golang.org/doc/contribute.html#where>","id":1,"author_id":"U77U7B85A","author_name":"daisuzu","author_subname":"daisuzu","author_link":"https://vim-jp.slack.com/team/U77U7B85A","author_icon":"https://secure.gravatar.com/avatar/f3dd644c8cfb83c94d46cf3c44604cda.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-48.png","text":"いつの間に <http://golang.org/x/pkgsite|golang.org/x/pkgsite> できたんだろ?と思ったけど空っぽだった...\n<https://tip.golang.org/doc/contribute.html#where>","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #lang-go","ts":1592230052.019300,"from_url":"https://vim-jp.slack.com/archives/CGABGC8LA/p1592230052019300","original_url":"https://vim-jp.slack.com/archives/CGABGC8LA/p1592230052019300"}],"team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":1,"users":["U03C4RC8X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zAIN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"36404d77-f5b4-4822-9b49-25ec1a3eef75","type":"message","user":"U03C6TEAZ","text":"<https://github.com/golang/go/issues/39594>","ts":"1592268001.051200","attachments":[{"fallback":"GitHub: regexp: backreference to capturing group breaks if followed by underscore · Issue #39594 · golang/go","id":1,"title":"regexp: backreference to capturing group breaks if followed by underscore · Issue #39594 · golang/go","title_link":"https://github.com/golang/go/issues/39594","text":"What version of Go are you using (go version)? $ go version 1.14.4 Does this issue reproduce with the latest release? Yes What operating system and processor architecture are you using (go env)? go...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/issues/39594","original_url":"https://github.com/golang/go/issues/39594"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CSOCG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ac2548b-b3f7-4eac-8df8-eb6c71ed839b","type":"message","user":"U03C6TEAZ","text":"これはバグっぽい気もするけどなぁ。","ts":"1592268006.051500","team":"T03C4RC8V","reactions":[{"name":"tashikani","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Az2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2e0756d4-e5b8-4ae4-89ba-995e879f1dd3","type":"message","user":"U03C6TEAZ","text":"<https://play.golang.org/p/G9urCZ4i_3w>","ts":"1592268023.051700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KMS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8f720ccf-d7b3-4013-ac87-19d6bbc85adc","type":"message","user":"U03C71D7H","text":"先日アレなユーザーが現れてすぐ消えましたが、いっぽう GitHub は…\n<https://www.zdnet.com/article/github-to-replace-master-with-alternative-term-to-avoid-slavery-references/>","ts":"1592270672.054000","attachments":[{"fallback":"ZDNet: GitHub to replace \"master\" with alternative term to avoid slavery references | ZDNet","id":1,"title":"GitHub to replace \"master\" with alternative term to avoid slavery references | ZDNet","title_link":"https://www.zdnet.com/article/github-to-replace-master-with-alternative-term-to-avoid-slavery-references/","text":"GitHub getting on board legitimizes movement aimed at removing racially-charged language from software.","image_url":"https://zdnet3.cbsistatic.com/hub/i/r/2018/10/18/580b4d43-4060-4d90-be23-1f97ef795e4e/thumbnail/770x578/56e758a1c89067a8eba82ae499f9eada/github-logo.png","blocks":null,"service_name":"ZDNet","service_icon":"https://zdnet2.cbsistatic.com/fly/bundles/zdnetcss/images/logos/logo-192x192.png","from_url":"https://www.zdnet.com/article/github-to-replace-master-with-alternative-term-to-avoid-slavery-references/","original_url":"https://www.zdnet.com/article/github-to-replace-master-with-alternative-term-to-avoid-slavery-references/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iSxq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd224c62-cd87-418f-aeaf-d38480845b64","type":"message","user":"UNJ2DANJC","text":"Goのio.Copyってキャンセルできないものなのか... scanner挟むか自前でバッファリングしてselect差し込むのがいいのか","ts":"1592270724.054800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d/h"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3efc785c-b38d-4e6c-92f0-85dc07bac4bb","type":"message","user":"U9S4G0LJW","text":"割り込みハンドラ自作するしかないのでは、キャンセルできるようなコードしてなかったはず","ts":"1592270775.055300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3mq6f"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6bf153ac-1ce0-436d-acb2-861c3492a086","type":"message","user":"UGXMRNBUM","text":"<https://ixday.github.io/post/golang-cancel-copy/>\n\nこれに近いコードは書いた記憶がある","ts":"1592270804.056100","team":"T03C4RC8V","reactions":[{"name":"tiken","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UdSjs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"69931de1-921a-410b-916c-27afa3bf9ecc","type":"message","user":"UGXMRNBUM","text":"Cancel処理は一旦Contextでやれないか考える","ts":"1592270856.057200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8uV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e590a479-00fa-4517-92fa-dcca002fb008","type":"message","user":"UGXMRNBUM","text":"で、だいたいやれる","ts":"1592270868.057400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V3tra"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c250d79-a422-434e-bc58-0ce7cddf7e19","type":"message","user":"U03C6TEAZ","text":"io.TeeReader みたいなコードを自分で書くといいかな。","ts":"1592270904.058000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=Ya"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"60d8a453-a54a-4f64-9684-f248e5625cbe","type":"message","user":"U03C6TEAZ","text":"たしか x に LimitReader があったのでそれがたぶん参考になるかも。","ts":"1592270927.058500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iaR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9d3c091e-b0ea-4d3d-bcc9-f600a68983a3","type":"message","user":"U9S4G0LJW","text":"LimitReaderってioの方に入ってませんでしたっけ","ts":"1592270961.059000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WzpYo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d3e45d0f-dcaf-494f-ae5a-7865becab238","type":"message","user":"U03C6TEAZ","text":"io の方にいたかも。","ts":"1592270977.059600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LnP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e000c050-88b9-4ca6-9a1c-07899da1f2a0","type":"message","user":"UGXMRNBUM","text":"同じことを思っていたし、あった","ts":"1592270981.059700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TZB0="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6d8d4c00-9e11-48a5-94fb-08a0d7c401f3","type":"message","user":"UGXMRNBUM","text":"<https://golang.org/src/io/io.go?s=14905:14998#L429>","ts":"1592270992.059900","attachments":[{"fallback":"src/io/io.go - The Go Programming Language","id":1,"title":"src/io/io.go - The Go Programming Language","title_link":"https://golang.org/src/io/io.go?s=14905:14998#L429","text":"Go is an open source programming language that makes it easy to build simple, reliable, and efficient software.","blocks":null,"service_name":"golang.org","service_icon":"https://golang.org/favicon.ico","from_url":"https://golang.org/src/io/io.go?s=14905:14998#L429","original_url":"https://golang.org/src/io/io.go?s=14905:14998#L429"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NxD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b8abe18f-6721-4250-a862-bc1d4e11885f","type":"message","user":"UGXMRNBUM","text":"進化が早い","ts":"1592270996.060200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eJ0X"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ebdafff1-3f4b-492e-a0a9-74cb13e42642","type":"message","user":"U03C6TEAZ","text":"goroutine 使って Done と並行で待つ奴は、キャンセル後にも goroutine が生き続ける可能性あるので要注意です。","ts":"1592271057.060800","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T95V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1190442b-4215-4dce-8ff1-355c7c1a5b1a","type":"message","user":"UAZ33BKV2","text":"(Goneになってしまう、はちがうか)","ts":"1592271082.061200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TbtSn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bffceec8-45f5-4b8b-af9a-4fe1a1468765","type":"message","user":"U03C6TEAZ","text":"↑のは大丈夫だけど。","ts":"1592271099.061800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yT8a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e1145e87-0af6-4714-9f59-87584c385a33","type":"message","user":"UNJ2DANJC","text":"読む <https://github.com/golang/go/issues/36402>","ts":"1592271689.062200","attachments":[{"fallback":"GitHub: proposal: net, os: API to interrupt Read/Write() for polled objects · Issue #36402 · golang/go","id":1,"title":"proposal: net, os: API to interrupt Read/Write() for polled objects · Issue #36402 · golang/go","title_link":"https://github.com/golang/go/issues/36402","text":"Problem Although we can interrupt/pause the I/O poller via c.SetDeadline(time.Now()), that&amp;#39;s not reliable if Set*Deadline() is called for other reasons. Interrupting a poller is easy to do via ...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/issues/36402","original_url":"https://github.com/golang/go/issues/36402"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Nlfa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"83f45624-c869-40fe-8dc9-c8d4716df24c","type":"message","user":"UAZ33BKV2","text":"<https://soudai.hatenablog.com/entry/2019/12/26/000335>\n:iso8601:  でも事故るときは事故る(というかなんというか)","ts":"1592271768.062900","attachments":[{"fallback":"そーだいなるらくがき帳: PHPのDatetimeクラスはナノ秒を扱えない - そーだいなるらくがき帳","id":1,"title":"PHPのDatetimeクラスはナノ秒を扱えない - そーだいなるらくがき帳","title_link":"https://soudai.hatenablog.com/entry/2019/12/26/000335","image_url":"https://ogimage.blog.st-hatena.com/10328749687203430916/26006613489027326/1577286215","blocks":null,"ts":1577286215,"service_name":"そーだいなるらくがき帳","service_icon":"https://cdn.image.st-hatena.com/image/apple_touch_icon/7290661d66a01f47da99e121b875874a2079ebbf/version=1/https%3A%2F%2Fcdn.user.blog.st-hatena.com%2Fcustom_blog_icon%2F129175385%2F1514233513765650","from_url":"https://soudai.hatenablog.com/entry/2019/12/26/000335","original_url":"https://soudai.hatenablog.com/entry/2019/12/26/000335"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Yh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ebd59b66-3ec0-4976-b7f5-8c32d7f1c36f","type":"message","user":"U03C6TEAZ","text":"select(2) 状態はいいけど、いったん read(2) してしまったらそれを interrupt するにはシグナルしかないです","ts":"1592271842.063900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WpPR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0b8600a8-2659-4970-9942-ea3b7c5b4eed","type":"message","user":"U03C6TEAZ","text":"そして Go は EINTR を食う仕組みになってる。","ts":"1592271865.064300","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Egowa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b1522473-3034-4a70-adb3-b8da079a8728","type":"message","user":"UNJ2DANJC","text":"DBドライバとかってやっぱ自前でゴリゴリバッファリング周りの処理書いてるんだろうなあ context対応難しい","ts":"1592272111.065900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hJINS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6e745963-8171-4ec7-9fc0-8749b9423f05","type":"message","user":"UNJ2DANJC","text":"signal.NotifyContextが来るとsignalがcontext cancelとして飛んでくるから気をつけないと...","ts":"1592272427.066900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yTf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"39f5ae54-aa05-4530-b55c-eae436dc2642","type":"message","user":"U06BRP8VD","text":"昨晩の調査結果をもとに第3弾書いた。\n<https://www.kaoriya.net/blog/2020/06/16/>","ts":"1592278567.067700","attachments":[{"fallback":"proxy.golang.org の挙動調査メモ — KaoriYa","id":1,"title":"proxy.golang.org の挙動調査メモ — KaoriYa","title_link":"https://www.kaoriya.net/blog/2020/06/16/","text":"goのモジュールをリリースした際に <http://proxy.golang.org|proxy.golang.org> がどうふるまうか調査したメモ","blocks":null,"service_name":"kaoriya.net","service_icon":"https://www.kaoriya.net/favicon.ico","from_url":"https://www.kaoriya.net/blog/2020/06/16/","original_url":"https://www.kaoriya.net/blog/2020/06/16/"}],"team":"T03C4RC8V","reactions":[{"name":"subara","count":2,"users":["UEACRCY0Z","UGXMRNBUM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8uGZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"da75792b-9f96-4f9d-b9ee-6bcb98d2e9d6","type":"message","user":"UEA8SS1RN","text":"go getするとき、private repoの場合のtokenの設定として、~/.gitconfigに書くというのがありますが、これ、環境変数とかsourceでなんとか外出しなりませんか? ~/.gitconfigはgithhubのdot.configに入れちゃってるので、書けないんですよね。書くなら、dot.configから抜かなくちゃならない。","ts":"1592287095.071700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xaRII"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d3bb9a74-1d6c-4792-b722-a68c34126b0e","type":"message","user":"U03C71D7H","text":"`go get` については知らないですが `gitconfig` については `include` するという別解がありそうです","ts":"1592287155.072400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qVkQo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ea9b1913-ea8a-4399-b01c-a816284667aa","type":"message","user":"UEA8SS1RN","text":"試してみます。ありがとうございます。","ts":"1592287202.072900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XAq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eb633697-a52a-4de0-80bc-09904d982728","type":"message","user":"U03C71D7H","text":"`git config --global include.path ~/.gitconfig.local` みたいな感じで config の一部を別ファイルに外だしできます","ts":"1592287249.073700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gPh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"56170ced-0ecd-4bb9-bc42-681f59a72392","type":"message","user":"UEA8SS1RN","text":"ありがとうございます。","ts":"1592287274.073900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MJO3S"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f85b0300-05b8-4392-b540-dc530422e81e","type":"message","user":"U03C6TEAZ","text":"<https://github.com/tomnomnom/gf>","ts":"1592288556.074100","attachments":[{"fallback":"GitHub: tomnomnom/gf","id":1,"title":"tomnomnom/gf","title_link":"https://github.com/tomnomnom/gf","text":"A wrapper around grep, to help you grep for things - tomnomnom/gf","thumb_url":"https://avatars1.githubusercontent.com/u/58276?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/tomnomnom/gf","original_url":"https://github.com/tomnomnom/gf"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"H8tG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bc0dafc7-2392-4a0f-a1dd-1e682c7a1011","type":"message","user":"U03C6TEAZ","text":"grep モドキだけど、検索パターンがファイル名として保存できるの良さげ。","ts":"1592288571.074700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d5Kz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2eb3c80f-85a1-49e4-9f7c-262b82a88b36","type":"message","user":"UEACRCY0Z","text":"ぼくは macOS ですが、 `credential.helper = osxkeychain` を設定していて、github の access token は keychain に入れています。","ts":"1592300267.076900","edited":{"user":"UEACRCY0Z","ts":"1592300336.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Iub"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16afcd17-8d71-43a7-b635-65b5c6d2ca8d","type":"message","user":"UAZ33BKV2","text":"Windowsもmanager(for winは最初からある)でいいかも","ts":"1592300884.077900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eNJI1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6c994bb-d13f-42a4-b609-0f02dda245c7","type":"message","user":"UERCTTT8B","text":"SQL を sprintf で構築したりなどけっこうやばいところがありますね","ts":"1592306886.078900","thread_ts":"1592306886.078900","reply_count":2,"replies":[{"user":"UL5G6QL5U","ts":"1592317654.082000"},{"user":"UERCTTT8B","ts":"1592319026.082900"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2BB3I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e31fdbd4-9400-4deb-aa26-79de9af5c96f","type":"message","user":"UERCTTT8B","text":"あれ <https://vim-jp.slack.com/archives/CGABGC8LA/p1592243391049600> に返信したつもりだったが随分ログを見失っていた","ts":"1592309988.079500","attachments":[{"fallback":"[June 15th, 2020 10:49 AM] mitsuo.heijo: <https://github.com/golang/pkgsite|https://github.com/golang/pkgsite>\npkgsite GoでWebをやるいい例って感じがする。\nHTTP/HTMLみたいな基本的なところから, PostgreSQL&amp;DBマイグレーションにRedisキャッシュとcloud taskキューに加えて分散トレーシングまでまぁまぁてんこ盛り","id":1,"author_id":"UNJ2DANJC","author_name":"johejo","author_subname":"johejo","author_link":"https://vim-jp.slack.com/team/UNJ2DANJC","author_icon":"https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png","text":"<https://github.com/golang/pkgsite|https://github.com/golang/pkgsite>\npkgsite GoでWebをやるいい例って感じがする。\nHTTP/HTMLみたいな基本的なところから, PostgreSQL&amp;DBマイグレーションにRedisキャッシュとcloud taskキューに加えて分散トレーシングまでまぁまぁてんこ盛り","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #lang-go","ts":1592243391.049600,"from_url":"https://vim-jp.slack.com/archives/CGABGC8LA/p1592243391049600","original_url":"https://vim-jp.slack.com/archives/CGABGC8LA/p1592243391049600"}],"team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["UL5G6QL5U"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mKn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"192fa51a-8047-4431-ab50-41fe4e4611f9","type":"message","user":"UNJ2DANJC","text":"context.DeadlineExceeded に小一時間惑わされてしまった...\n<https://play.golang.org/p/eT79v9zQ2IX>","ts":"1592315602.080300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kKr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e58c0c58-2032-4bdf-bcbf-5833f82298f7","type":"message","user":"UNJ2DANJC","text":"f2のパターンのテストを書き間違えていてしくじってしまった...","ts":"1592315813.080800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dg5F"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a54d1a9a-87bc-4375-b71b-0442eae9438e","type":"message","user":"UGXMRNBUM","text":"credential.helper = osxkeychain は便利。","ts":"1592317057.081000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"slVm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f9498f21-5542-44dd-be16-1f2ec388210f","type":"message","user":"UGXMRNBUM","text":"故に自作のCLIでトークンを保存するときは同じくKeychain的なものを使うようにしている","ts":"1592317111.081900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pp4Yh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8fc61192-045f-4f1d-810c-14f5c1547271","type":"message","user":"UL5G6QL5U","text":"インジェクションがってことですか？","ts":"1592317654.082000","thread_ts":"1592306886.078900","parent_user_id":"UERCTTT8B","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Yti3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9ade27f-9804-4ad7-b5d6-aca241d463dd","type":"message","user":"U03C6TEAZ","text":"<https://github.com/golang/pkgsite/blob/39971eaba83f47b33c54981bfa2f998d87d0997d/internal/database/database.go#L428-L437>","ts":"1592318815.082400","attachments":[{"fallback":"GitHub: golang/pkgsite","id":1,"title":"golang/pkgsite","title_link":"https://github.com/golang/pkgsite/blob/39971eaba83f47b33c54981bfa2f998d87d0997d/internal/database/database.go#L428-L437","text":"[mirror] Home of the pkg.go.dev website. Contribute to golang/pkgsite development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/pkgsite/blob/39971eaba83f47b33c54981bfa2f998d87d0997d/internal/database/database.go#L428-L437","original_url":"https://github.com/golang/pkgsite/blob/39971eaba83f47b33c54981bfa2f998d87d0997d/internal/database/database.go#L428-L437"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8cgE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e0a42685-6336-466d-938d-c5c47a32f2f8","type":"message","user":"UERCTTT8B","text":"しんどい","ts":"1592319009.082800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zdfn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"169992a9-c642-4940-99f7-89442c015380","type":"message","user":"UERCTTT8B","text":"はい","ts":"1592319026.082900","thread_ts":"1592306886.078900","parent_user_id":"UERCTTT8B","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"drHaR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"92e6f15a-f539-406a-861d-d3c469f26f81","type":"message","user":"U03C6TEAZ","text":"何がユーザからの入力なのか分からん。","ts":"1592319054.083300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CnJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"79619cf8-dbb7-4104-abd8-64314db7f2e9","type":"message","user":"U03C6TEAZ","text":"一応危なそうなクエリ入れてもエラーにならないので大丈夫そうではあるけど、めっちゃ怖いクエリがソースに沢山ある。","ts":"1592319207.084200","team":"T03C4RC8V","reactions":[{"name":"gunnyari","count":1,"users":["UKHUVMBJR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VHO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66260b97-9f12-4b0f-a571-9d9ccbaeb156","type":"message","user":"UERCTTT8B","text":"仮に安全だとしても、深く読まないと安全性が確信できないという意味で bad だと思いますね…","ts":"1592319254.084900","edited":{"user":"UERCTTT8B","ts":"1592319264.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aKS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
