[{"client_msg_id":"C0BBF613-64C9-4861-ADC4-34005FA4204B","type":"message","user":"UDDCM376D","text":"Pratt、少し仲良くなれた気がした","ts":"1586188848.036700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M4mm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"C3B11446-ACB8-4BA6-BE0A-1B1E410F444B","type":"message","user":"UDDCM376D","text":"パーサのとこ、理解しつつある","ts":"1586188880.037400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XiBu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"06EED3CE-C516-4EA2-B7F8-F399E88E64C9","type":"message","user":"UDDCM376D","text":"少しだけ成長した気がした","ts":"1586188893.037800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9+I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1974d5da-0aee-414b-80bb-5fb0eae96378","type":"message","user":"U03C6TEAZ","text":":goodpoem:","ts":"1586213916.038100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IkHx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"A15DA6C6-40EC-4E42-AE1A-E4ACCDD8383F","type":"message","user":"UDDCM376D","text":"パーサの動き、少しずつわかってきたけど、どうその実装に至ったのか、まだ良くわかっていない","ts":"1586217457.040300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S7Z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5F70D4BA-899A-43BB-9EE9-8AB1BCE44E1A","type":"message","user":"UDDCM376D","text":"そこさえ理解できれば、応用ができるようになるはず","ts":"1586217476.040900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s=/B"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"AF66931A-BA39-4BDF-8635-528FDB94241D","type":"message","user":"UDDCM376D","text":"<http://logic.cs.tsukuba.ac.jp/ppl2016/slides/visual_parsing.pdf|http://logic.cs.tsukuba.ac.jp/ppl2016/slides/visual_parsing.pdf>","ts":"1586217961.041100","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RgV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1a7e7cf8-4d71-4a95-b96a-5733b0fda369","type":"message","user":"U9S4G0LJW","text":"とてもいい資料だ","ts":"1586218210.041400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Awc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"83fc5f96-6178-43c2-8fbe-016ea6570ce4","type":"message","user":"U03C6TEAZ","text":"ね、いい資料。","ts":"1586218974.041600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZDXqY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"F5CA0BDA-7F72-44AD-BE8E-9901CF6A1028","type":"message","user":"UDDCM376D","text":"ぼくにはまだ難しい","ts":"1586219187.041900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Byx9p"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0490A580-9C3C-4D38-87DF-E47EE84AF71E","type":"message","user":"UDDCM376D","text":"Prattのところな、イメージはできました","ts":"1586219217.042500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qAqAx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f352955c-649f-4c28-8200-5af8b40cb68f","type":"message","user":"UNJ2DANJC","text":"大学でこの手の単位ちゃんと取ったはずなのに何も覚えてない....","ts":"1586220308.043400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6Gc2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e5ca92e5-afc9-4c93-bc28-15633afab924","type":"message","user":"U03C6TEAZ","text":"その辺を学ぶの、言語を作るがゴールなのであれば若干遠回りな感じもする。","ts":"1586220451.044400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nxnNo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"446db10e-43c5-443c-a8ba-386202b23b6d","type":"message","user":"U03C6TEAZ","text":"いっそ BNF 学んで感触つかむってのもいいかも。(ここは意見が割れるかも)","ts":"1586220477.045000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IlPGr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eca1937a-4d73-4bc4-82c6-7de430e581ab","type":"message","user":"U03C6TEAZ","text":"その辺行けたらたぶん vimlparser にコントリビュートできますね。","ts":"1586220742.046200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jXRv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2814e9da-1633-4063-a0bf-86e0655f15f0","type":"message","user":"U06BRP8VD","text":"これめちゃくちゃ良い資料だな…","ts":"1586222380.046500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IcMXs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c108d1ba-0dc8-46e2-8eed-d60ddfaa3862","type":"message","user":"U06BRP8VD","text":"ただ初学者には図の意味からしてわからんから、解説必須な感じ。","ts":"1586222415.047100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j+k6s"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e66a6311-4460-4ae7-a597-3a4654f0d480","type":"message","user":"UDDCM376D","text":"&gt; いっそ BNF 学んで感触つかむってのもいいかも。(ここは意見が割れるかも)\nBNFはなんとなく読めるくらいですね\nそれをコードに落とし込むってところが全然まだまだですね…","ts":"1586222644.048000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6lqg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bdab38f5-67ed-41d3-9ad1-1f8fc1558827","type":"message","user":"U03C6TEAZ","text":"そういえば↑の tj が更改してる Go のバイナリを作ってくれる奴、CPU 依存な奴はどうなるんだろう。","ts":"1586227258.049100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WDs2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0118QKR3BL","text":"<@U0118QKR3BL> has joined the channel","ts":"1586235049.049900","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"359a6919-9a8d-4abe-b4ac-5cdfaa46e32e","type":"message","user":"U7H4TJEG0","text":"<https://github.com/golang/go/issues/38287> なんだろう？","ts":"1586245534.050200","attachments":[{"fallback":"GitHub: os: Regression in Rename over read only file on Windows on 1.14 · Issue #38287 · golang/go","id":1,"title":"os: Regression in Rename over read only file on Windows on 1.14 · Issue #38287 · golang/go","title_link":"https://github.com/golang/go/issues/38287","text":"On Windows 10, in Go 1.13, it used to be possible to rename over a read only file (like it is in Unix). In Go 1.14 it is not. I&amp;#39;m not seeing anything specific about this in the release notes, w...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/issues/38287","original_url":"https://github.com/golang/go/issues/38287"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bdqSz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd810cf6-bb4d-4358-bc28-9c4113e47c74","type":"message","user":"U03C6TEAZ","text":"ほえー。go1.13 から go1.14 にそんな変更がみあたらん。","ts":"1586247083.050800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Bgj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ca9899c2-98c4-47a6-b750-9a0e57bc1409","type":"message","user":"U03C6TEAZ","text":"overwrite の場合に限った話ぽいけど。","ts":"1586247110.051100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k1vA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a64f70bb-2175-470f-ab7d-71003ffeebfa","type":"message","user":"U03C6TEAZ","text":"ん？ `MoveFileEx(from, to, MOVEFILE_REPLACE_EXISTING)` が RO の時に false 返るんやけど。","ts":"1586248176.051800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y1Ccw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1e43f02c-517c-4220-a3b6-67e11845ac65","type":"message","user":"U03C6TEAZ","text":"これもしかして以前は `chmod +w` みたいな事してたんとちゃうか。","ts":"1586248205.052200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3VRk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2bb4be5f-6c4b-48e7-9818-263eebc8d7de","type":"message","user":"U06BRP8VD","text":"古いのすぐ見れるけど、どこみればええの?","ts":"1586248273.052600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k1M/c"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eaa54246-f524-4bf9-9927-edf602259179","type":"message","user":"U03C6TEAZ","text":"os.Remove の呼び出しから先は見たので ioutil.WriteFile の perm がちゃんと使われていたかどうか、くらいかなぁ。","ts":"1586248427.053100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WBOeA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6114e25c-8dac-487b-bf1c-df5ea8e3aaee","type":"message","user":"U03C6TEAZ","text":"あ、いや。","ts":"1586248446.053300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8+X+W"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6c46d38-2edc-4ea7-a2ce-a90c6822aff4","type":"message","user":"U03C6TEAZ","text":"まずは","ts":"1586248464.053800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S3u"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"83ddd487-d869-4e88-84f8-d2b743f9a88f","type":"message","user":"U06BRP8VD","text":"まったくおなじだったわ","ts":"1586248477.054200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"khmT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e220567-d5d4-4347-83dd-5c51c81cf205","type":"message","user":"U03C6TEAZ","text":"```package main_test\n\nimport (\n        \"io/ioutil\"\n        \"os\"\n        \"testing\"\n)\n\nfunc TestRenameRO(t *testing.T) {\n        os.Remove(\"a\")\n        os.Remove(\"b\")\n        defer os.Remove(\"a\")\n        defer os.Remove(\"b\")\n\n        if err := ioutil.WriteFile(\"a\", []byte(\"some data\"), 0644); err != nil { // rw\n                t.Fatal(err)\n        }\n        if err := ioutil.WriteFile(\"b\", []byte(\"some data\"), 0444); err != nil { // ro\n                t.Fatal(err)\n        }\n        if err := os.Rename(\"a\", \"b\"); err != nil {\n                t.Error(err)\n        }\n}```","ts":"1586248490.054400","edited":{"user":"U03C6TEAZ","ts":"1586248528.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"klG1b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d4588938-d13d-4887-8f7f-102646a21808","type":"message","user":"U03C6TEAZ","text":"これ go1.13 で通りますか？","ts":"1586248499.054700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eHUqo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"80390ef8-e581-48a2-a8a1-f701b960fe71","type":"message","user":"U03C6TEAZ","text":"ioutil.WriteFile が perm ちゃんと設定できてなかった、みたいな方が濃厚な気もするけど。","ts":"1586248596.055700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0dtVh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ade16cd5-c863-4e8d-a8ed-62d02234b320","type":"message","user":"U06BRP8VD","text":"通るわw","ts":"1586248618.055900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W+iO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a535e16e-6199-4368-b009-5f900aedff68","type":"message","user":"U03C6TEAZ","text":"まじかー","ts":"1586248640.056100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pKo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a1845650-ec8a-4b4a-ae24-69426714d5dc","type":"message","user":"U06BRP8VD","text":"でねdefer消すとbだけ残る","ts":"1586248655.056500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wf7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"58f4e113-f19b-4511-9c78-95f069b9e65d","type":"message","user":"U03C6TEAZ","text":"ほう。","ts":"1586248661.056800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Iwktm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"419c0dc9-f411-4276-aa74-acb6884592e7","type":"message","user":"U06BRP8VD","text":"1.14にしてやってみるね","ts":"1586248669.057000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Igg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2191b811-29be-4e16-8cd2-cdf45270a268","type":"message","user":"U06BRP8VD","text":"1.14.1 だと a, b両方残って b はreadonlyっぽい","ts":"1586248751.057600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zfl8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0395c769-0f40-418d-8b16-5298c24ae4ab","type":"message","user":"U03C6TEAZ","text":"Go まったく使わず C言語で\n```touch a b\nchmod -w b```\n(これは msys2 で)\nして\n```#include &lt;windows.h&gt;\n#include &lt;stdio.h&gt;\n\nint\nmain() {\n  printf(\"%d\\n\", MoveFileExW(L\"a\", L\"b\", MOVEFILE_REPLACE_EXISTING));\n  printf(\"%d\\n\", GetLastError());\n  return 0;\n}```\n実行したら 0 2 なんす。","ts":"1586248804.058400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cr3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"46eeee4f-8943-44f2-98b3-c57bae6a5b75","type":"message","user":"U03C6TEAZ","text":"なので今の Go の動きは書いてある通りに動いてる。","ts":"1586248820.059000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GPZq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"90d3757c-0c0e-4701-af9c-7da2a5a6a24a","type":"message","user":"U06BRP8VD","text":"ふむ。やっぱ 1.13.9 だと、b が書き込み可能で残ってる。","ts":"1586248837.059400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J1P"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c86d27d3-f08e-444e-93ba-b12f3a1c3ed0","type":"message","user":"U06BRP8VD","text":"ioutil.WriteFileのpermがちゃんと動いてなかった説濃厚","ts":"1586248855.060000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IRWz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c6383c12-d676-47a9-b32e-0306d4805f1e","type":"message","user":"U03C6TEAZ","text":"書き込み可能な a が b にリネームされたからかと。","ts":"1586248856.060100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xBzuB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c6df2e0e-b01b-4195-8ec5-610ef0ef46e4","type":"message","user":"U03C6TEAZ","text":"つまりそういう事ですかね &gt; 濃厚","ts":"1586248874.060400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3W6GD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"56395800-9062-42b6-a164-4617d97eb71e","type":"message","user":"U03C6TEAZ","text":"Rename も defer も消したら両方残るんじゃないすかね。","ts":"1586248891.060800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hcO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bc3e15d9-c12f-4ed3-a5a4-723281a5ac10","type":"message","user":"U03C6TEAZ","text":"でそのファイルモードが見たいす。","ts":"1586248900.061000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7pA28"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8db4be55-7863-4f34-92a8-71810dff7494","type":"message","user":"U03C6TEAZ","text":"go1.13 の。","ts":"1586248906.061300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DQGxm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d0464d2-1579-4f2f-8c2e-44708603b497","type":"message","user":"U06BRP8VD","text":"えっと両方とも書き込み可能で作成されてたわ。","ts":"1586248920.061600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6TCt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd32b577-f1a6-4b47-b83d-20d8fa7e5e76","type":"message","user":"U06BRP8VD","text":"スクショ要る?","ts":"1586248925.061800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WME3B"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ba2d2331-168b-4162-a848-2c5be4d40c6d","type":"message","user":"U03C6TEAZ","text":"あ、やっぱり WriteFile が失敗してたって話か。","ts":"1586248939.062300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jpB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9369851-8295-4358-bc67-f8b68423e6bc","type":"message","user":"U06BRP8VD","text":"ええ。","ts":"1586248947.062500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7mBjz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c55c32de-7caf-4332-bd16-e6ee6ab55845","type":"message","user":"U06BRP8VD","text":"っていうか書き込み不可だと、os.Removeは失敗しますのう。","ts":"1586248958.062900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bsPgS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e9906582-63a8-47e9-96cd-b81751a1d00a","type":"message","user":"U06BRP8VD","text":"あれ? 1.13.9 の syscall/syscall_windows.go の Open が perm 使ってないよ?w","ts":"1586249245.063600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O9T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ca7f1b94-fee8-49c4-9d15-356385519d4b","type":"message","user":"U06BRP8VD","text":"`h, e := CreateFile(pathp, access, sharemode, sa, createmode, FILE_ATTRIBUTE_NORMAL, 0)` こうなってるw","ts":"1586249282.063900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ohu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"df34decc-270e-4cfd-b4ee-2785f01789cb","type":"message","user":"U06BRP8VD","text":"一方で1.14.1 はこう","ts":"1586249303.064000","files":[{"id":"F011ABB1GRH","created":1586249302,"timestamp":1586249302,"name":"Untitled","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"go","pretty_type":"Go","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":176,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F011ABB1GRH/untitled","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F011ABB1GRH/download/untitled","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F011ABB1GRH/untitled","permalink_public":"https://slack-files.com/T03C4RC8V-F011ABB1GRH-bc22ac8628","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F011ABB1GRH/untitled/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9D29z"}]},{"client_msg_id":"355bea71-d4d7-4b7c-a023-ca87856581ef","type":"message","user":"U06BRP8VD","text":"これはワロスw","ts":"1586249312.064500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q+A/S"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ecbb6fe6-4ba7-481d-bad4-f40a51d3a51a","type":"message","user":"U03C6TEAZ","text":"<https://github.com/golang/go/commit/16f0f9c8e1e767d10d483939981e3b2242554c33>","ts":"1586249431.064700","attachments":[{"fallback":"GitHub: syscall: respect permission bits on file opening on Windows · golang/go@16f0f9c","id":1,"title":"syscall: respect permission bits on file opening on Windows · golang/go@16f0f9c","title_link":"https://github.com/golang/go/commit/16f0f9c8e1e767d10d483939981e3b2242554c33","text":"On Windows, os.Chmod and syscall.Chmod toggle the FILE_ATTRIBUTES_ READONLY flag depending on the permission bits. That&amp;#39;s a bit odd but I guess some compromises were made at some point and this...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/golang/go/commit/16f0f9c8e1e767d10d483939981e3b2242554c33","original_url":"https://github.com/golang/go/commit/16f0f9c8e1e767d10d483939981e3b2242554c33"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SX/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f7a15613-caac-4615-913d-f2433db1f500","type":"message","user":"U03C6TEAZ","text":"これっぽい気がする。","ts":"1586249435.065100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/kq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f48cced7-5b85-41c1-99ce-0275878918d4","type":"message","user":"U03C6TEAZ","text":"side effect だなこれ。","ts":"1586249488.065300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZPc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6285991f-a550-46a0-9f14-c600fc83d73b","type":"message","user":"U03C6TEAZ","text":"コミットメッセージに悪かったのが直ったって書いてあるしな。","ts":"1586249554.065600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zv4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"603ce620-055f-4aba-8b75-170794959aa4","type":"message","user":"U06BRP8VD","text":"それですなw","ts":"1586249620.065900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dEK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"050368fd-cab1-4ce1-9b0b-3104574e3abd","type":"message","user":"U06BRP8VD","text":"問題があるとすると os.Remove() がREADONLYファイルに失敗することかも。","ts":"1586249646.066400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Yu5V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47aa1639-592b-4880-95df-df5f9b3d9e7b","type":"message","user":"U03C6TEAZ","text":"それはそれでなんかあった気がする。","ts":"1586249672.066700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"brJMy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b8b73c46-0c14-4e41-b742-ff802d9398aa","type":"message","user":"U03C6TEAZ","text":"あ、あってたわ。","ts":"1586249794.067600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lY+A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a887fc89-7f08-40f3-98c2-a915ce9ccdc0","type":"message","user":"U03C6TEAZ","text":"<https://github.com/golang/go/issues/26295>","ts":"1586249795.067800","attachments":[{"fallback":"GitHub: os: Remove/RemoveAll should remove read-only folders on Windows · Issue #26295 · golang/go","id":1,"title":"os: Remove/RemoveAll should remove read-only folders on Windows · Issue #26295 · golang/go","title_link":"https://github.com/golang/go/issues/26295","text":"What version of Go are you using (go version)? go version go1.10.2 windows/amd64 Does this issue reproduce with the latest release? Untested, but I don&amp;#39;t see any changes that would have fixed i...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/issues/26295","original_url":"https://github.com/golang/go/issues/26295"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EQx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e653361a-b49b-4b55-8792-3806eed857bf","type":"message","user":"U03C6TEAZ","text":"Windows の DeleteFile って readonly だとエラーになるんですよね。","ts":"1586249820.068400","edited":{"user":"U03C6TEAZ","ts":"1586249830.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TzK3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1780fd3e-2e4c-4784-afac-664d4748d6f1","type":"message","user":"U03C6TEAZ","text":"<https://docs.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-deletefilea>\n&gt; To delete a read-only file, first you must remove the read-only attribute.","ts":"1586249855.068700","attachments":[{"fallback":"DeleteFileA function (fileapi.h) - Win32 apps","id":1,"title":"DeleteFileA function (fileapi.h) - Win32 apps","title_link":"https://docs.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-deletefilea","text":"Deletes an existing file.","thumb_url":"https://docs.microsoft.com/en-us/media/logos/logo-ms-social.png","blocks":null,"service_name":"docs.microsoft.com","service_icon":"https://docs.microsoft.com/favicon.ico","thumb_width":400,"thumb_height":400,"from_url":"https://docs.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-deletefilea","original_url":"https://docs.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-deletefilea"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PW5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c3f04170-319b-4387-b35e-3cac19acb17f","type":"message","user":"U03C6TEAZ","text":"ひどい仕様です。","ts":"1586249866.069000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dkOR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"875f78cc-e769-4c44-899c-c5a596e52f4e","type":"message","user":"U03C6TEAZ","text":"ディレクトリを一括で消してる最中に別の要因で消せなくなった際に元に戻せないなら 26295 はマージすべきじゃない、みたいな話だったと思う。","ts":"1586249914.069900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7muOT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"69539af8-d7fe-4b75-95fa-5892b5126ae4","type":"message","user":"U06BRP8VD","text":"エクスプローラーからだと消せるんだけど…shell32.dllが頑張ってんのか…","ts":"1586249983.070800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DgTCG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"925ae290-0f10-4758-8799-3362f1ffc188","type":"message","user":"U03C6TEAZ","text":"現状 Windows でも同じ様にちゃんと RO になる可能性のあるファイルを消すなら os.Chmod で +w してから os.Remove しないといけないって話になってしまう。","ts":"1586250098.072400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xqt=O"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b2b940a-64c2-4875-8a9f-79d1e5ea956a","type":"message","user":"U06BRP8VD","text":"OSの差異だから、os.Removeの仕様としてやってくれると助かるのは助かりますねぇ。","ts":"1586250194.073700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uzs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e0b07e97-b0c2-4390-b975-97fa19fc1d71","type":"message","user":"U03C6TEAZ","text":"そうすね。","ts":"1586250219.074500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NgoV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"248c0c75-6bb9-4647-a23f-3d9e7a9d95ce","type":"message","user":"UAZ33BKV2","text":"ちなみにですが、逆にUnixだとディレクトリのパーミッションチェックとかどうなんでしょう?","ts":"1586250256.075800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7NO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b508267e-9859-4847-a98e-d1078e4c7a96","type":"message","user":"U06BRP8VD","text":"事前にチェックしてないなら、やってみてエラー見てos.Chmod(+w)ケースかな","ts":"1586250260.076000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0WkDD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5b0db99b-c67c-447f-b4c1-6e621e3d7eb5","type":"message","user":"U03C6TEAZ","text":"いややっとるな。","ts":"1586250621.076200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LW9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e75f6c80-8422-4332-af07-c6c468298397","type":"message","user":"U03C6TEAZ","text":"<https://github.com/mattn/go/blob/2fbca94db7e14fc1d18162cd203d7afc19b520e8/src/os/file_windows.go#L302>","ts":"1586250640.076400","attachments":[{"fallback":"GitHub: mattn/go","id":1,"title":"mattn/go","title_link":"https://github.com/mattn/go/blob/2fbca94db7e14fc1d18162cd203d7afc19b520e8/src/os/file_windows.go#L302","text":"The Go programming language. Contribute to mattn/go development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/go/blob/2fbca94db7e14fc1d18162cd203d7afc19b520e8/src/os/file_windows.go#L302","original_url":"https://github.com/mattn/go/blob/2fbca94db7e14fc1d18162cd203d7afc19b520e8/src/os/file_windows.go#L302"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pX="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f569cf9d-9217-4d60-a777-dac2a6bc117e","type":"message","user":"U03C6TEAZ","text":"これが機能しとらん。(僕のアイコン出てきてビビった時の顔)","ts":"1586250658.076900","team":"T03C4RC8V","reactions":[{"name":"fuita","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p5M"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fbdfc326-7d62-4357-979e-c1678cf19227","type":"message","user":"U03C6TEAZ","text":"この条件が ATTRIBUTE_NORMAL でもやらんといかん。","ts":"1586250687.077200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5r0Fi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d3a85cf2-87bf-488d-8237-be794bbd2001","type":"message","user":"U6XP9LZ6V","text":"ディレクトリの場合にはREADONLYビットを落としてリトライはしないのかな？","ts":"1586252415.078200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xfJ6o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"39fd6c61-7ef9-4681-b4a6-ab1594d248bd","type":"message","user":"U03C6TEAZ","text":"ディレクトリの場合は RemoveDirectory 使ってるんですよね。","ts":"1586252470.078600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0GfR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dc38176f-44ad-4e8d-9421-ca2af8baade8","type":"message","user":"U03C6TEAZ","text":"そっちはたしか ro を消せた気が。","ts":"1586252508.078900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dXM4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4676e943-b8d4-4497-af93-dd039db30c70","type":"message","user":"U03C6TEAZ","text":"いや、このコードは中のファイルが ro の可能性あるから「無理だって」話かな。","ts":"1586252579.079500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gZR4b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"798a5d1b-9f69-4045-86ba-7b7c8b6fb3e0","type":"message","user":"U03C6TEAZ","text":"一応 CL 投げた。","ts":"1586252663.080000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"m6b9j"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c02c2c4-1e31-45b3-9181-23d2bb26df86","type":"message","user":"U03C6TEAZ","text":"前々関係ないけど「プログラミング言語大全」の献本が飛んでくる事になった。","ts":"1586252860.080400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5=5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"daac2008-ff79-4c40-b135-ba1b35e0ce82","type":"message","user":"U03C6TEAZ","text":"ﾀﾀﾞ読みｻｲｺｰ","ts":"1586252890.080900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Rte"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66631a97-4310-4b6f-9076-4a9b978f41e6","type":"message","user":"U6XP9LZ6V","text":"RemoveDirectoryもro消せなかったような。","ts":"1586253271.081400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wDy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"832cbac3-439b-40f0-b82c-87c683eba965","type":"message","user":"U6XP9LZ6V","text":"しかし、Unix系はファイル・ディレクトリ自身ではなく、それがあるディレクトリがroだと消せないという動きだから、動作が違ってややこしい。","ts":"1586253476.083000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L5W"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1f5c1083-6343-44d8-9a08-ea9632db108b","type":"message","user":"U03C6TEAZ","text":"ですね。","ts":"1586257872.083200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pdFI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d4efcc32-1536-40fa-b7c0-4fcb25787f39","type":"message","user":"UAZ33BKV2","text":"ですねえ\nそしてもしかして誤解されてるかもですが、「Unix系のファイル削除で、その親のディレクトリのパーミッション不足の時の動作はどうなんだろう」だったんです...とはいえたぶん考慮されてるかな?","ts":"1586262369.084200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ofN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22d4a098-0fe6-4ca3-81d4-41a706de4e43","type":"message","user":"U03C6TEAZ","text":"Windows の場合はどちみちディレクトリじゃなくファイルの権限変えていかないと消せないし、その途中でエラーが発生する可能性もあるので、そうなると元に戻すの大変なんすよね。","ts":"1586262466.084900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aYkx8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7861ad2c-be13-4256-b0c8-b28d02da09b8","type":"message","user":"UAZ33BKV2","text":"たしかに","ts":"1586262709.085200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Mb+w4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
