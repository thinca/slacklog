[{"client_msg_id":"b2c85414-e2be-4fc3-806a-a7a9c3c03c33","type":"message","user":"U6XP9LZ6V","text":"MinGW で取得したカバレッジを codecov にアップロードすることも出来た。(codecov.yml を用意してパス名を修正する必要があったが。)\n\u003chttps://github.com/sakura-editor/sakura/issues/1301#issuecomment-678735680\u003e\nVimにも適用すべきだろうか？","ts":"1598165395.034400","thread_ts":"1598057776.016800","attachments":[{"fallback":"GitHub: スモークテストを導入したい · Issue #1301 · sakura-editor/sakura","id":1,"title":"スモークテストを導入したい · Issue #1301 · sakura-editor/sakura","title_link":"https://github.com/sakura-editor/sakura/issues/1301#issuecomment-678735680","text":"スモークテストって何だ？ スモーク の名前が示す通り もやっとしたテスト です。 アプリに備わった色んな機能をざっくりと動かします。 なんとなく今まで通り を検証することを目的とします。 単体テストと何が違うの？ 単体テストは 内部仕様の妥当性 を検証する ガラス張りテスト です。 スモークテストは 操作と処理結果の妥当性 を検証する ブラックボックステスト です。 スモークテストを導入する...","thumb_url":"https://avatars0.githubusercontent.com/u/39432189?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/sakura-editor/sakura/issues/1301#issuecomment-678735680","original_url":"https://github.com/sakura-editor/sakura/issues/1301#issuecomment-678735680"}],"subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=Mch0"}],"root":{"client_msg_id":"da752936-61ba-4fa3-99ae-2bd1631b122d","type":"message","user":"U6XP9LZ6V","text":"あとは、結果を codecov にアップロードできるかどうかだな","ts":"1598057776.016800","thread_ts":"1598057776.016800","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cbqq"}]}},{"client_msg_id":"7a482ff8-e61c-4747-8b86-e29db2dde1e5","type":"message","user":"UP6PA1UBE","text":"最新だけだったのでそうかなとは思ってました","ts":"1598156725.033600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pbpC"}]},{"client_msg_id":"9749fed8-61d8-47d0-acf0-b9fce7d9b3f8","type":"message","user":"U03C71D7H","text":"Milly さんの変更はまったく関係ありませんでしたw","ts":"1598151825.033200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pv4u"}]},{"client_msg_id":"4dc03452-7483-4f0e-b756-36687f518723","type":"message","user":"UP6PA1UBE","text":"themis に PR したばっかりにこんな……と思っていたので :goodpoem:","ts":"1598150981.032400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"f5R"}]},{"client_msg_id":"be87fd0d-86ed-47ac-8df0-50ce41486ad2","type":"message","user":"UAZ33BKV2","text":":goodpoem:","ts":"1598145883.031800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DAY"}]},{"client_msg_id":"1d4c2a47-8016-43fd-8197-e73254584bf1","type":"message","user":"U03C6TEAZ","text":"thinca さんのは直った模様。","ts":"1598145688.031300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U9a"}]},{"client_msg_id":"9fb9c587-4435-4f03-9fab-28b0ffa4d059","type":"message","user":"U03C71D7H","text":"```def s:a()\n  silent! call eval('0 ? 1 :1')\nenddef```\nこれでも死ぬ (Vim9script は演算子の前後にスペースを必須としているので `:` の前後のスペースチェックで早期 return してしまっているので例のフラグが直らなくて死ぬ…)","ts":"1598117592.030800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y3tp"}]},{"client_msg_id":"f9be62d2-66d1-44f6-bc93-ffc0d8386d72","type":"message","user":"U03C71D7H","text":"\u003c@U03C6TEAZ\u003e\n\n```def s:a()\n  silent! call eval('0 ? 1:')\nenddef```\nこれで死ぬっぽいです (Vim9script)","ts":"1598117437.029500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wVg"}]},{"client_msg_id":"5306dd25-c746-41ab-a392-4edb67d0ce93","type":"message","user":"U03C71D7H","text":"Vim 本体のバグなので themis.vim 側では特に対策はしなくていいかな…テストが落ちていたのもテスト内で `0 ? 0` が評価されていたからなので themis.vim 本体に問題はない","ts":"1598116922.028900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"huo=/"}]},{"client_msg_id":"02b9c7a3-287a-4444-bb48-16723a460d4e","type":"message","user":"U03C71D7H","text":"テストを足してくれって言われてますね","ts":"1598116778.027800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pg4cx"}]},{"client_msg_id":"4359c68a-3a77-41f5-a2d5-39fd02cfdb33","type":"message","user":"U03C71D7H","text":"ずっとデバッガを追っていたら PR が出されていた時の顔 (ありがとうございます :bow:)","ts":"1598116725.027500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oIkT9"}]},{"client_msg_id":"efaef34b-780e-410a-8a3a-55144cd236ce","type":"message","user":"U03C6TEAZ","text":"LANG と encoding について答えなさい","ts":"1598115651.027000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z4EL"}]},{"client_msg_id":"65f2bf3b-08b9-4e73-9661-98b430ded34b","type":"message","user":"U03C6TEAZ","text":"\u003chttps://github.com/vim/vim/issues/6767\u003e","ts":"1598115640.026600","attachments":[{"fallback":"GitHub: Multibyte characters break pasting in visual block mode · Issue #6767 · vim/vim","id":1,"title":"Multibyte characters break pasting in visual block mode · Issue #6767 · vim/vim","title_link":"https://github.com/vim/vim/issues/6767","text":"Description When pasting text in visual block mode, multibyte characters on the left of the selected block insert invalid bytes in their lines. To reproduce Run vim --clean. Type this in a buffer (...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/issues/6767","original_url":"https://github.com/vim/vim/issues/6767"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WEfuQ"}]},{"client_msg_id":"c3f2aa8a-7342-403a-a503-3da3ca1f7274","type":"message","user":"U03C6TEAZ","text":"\u003chttps://github.com/vim/vim/pull/6776\u003e","ts":"1598115246.026300","attachments":[{"fallback":"GitHub: 0 ? 0 break next evaluation. by mattn · Pull Request #6776 · vim/vim","id":1,"title":"0 ? 0 break next evaluation. by mattn · Pull Request #6776 · vim/vim","title_link":"https://github.com/vim/vim/pull/6776","text":"When evaluate broken ternary operator 0 ? 0, it break next evaluations.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/pull/6776","original_url":"https://github.com/vim/vim/pull/6776"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bRl1"}]},{"client_msg_id":"426163dc-98c4-44a6-ba2e-ada29a0f3a25","type":"message","user":"U03C6TEAZ","text":"たぶんこれで直る。\n```diff --git a/src/eval.c b/src/eval.c\nindex 4b1e0f19b..7d9db1c49 100644\n--- a/src/eval.c\n+++ b/src/eval.c\n@@ -2178,6 +2178,7 @@ eval1(char_u **arg, typval_T *rettv, evalarg_T *evalarg)\n \t    emsg(_(e_missing_colon));\n \t    if (evaluate \u0026amp;\u0026amp; result)\n \t\tclear_tv(rettv);\n+\t    evalarg_used-\u0026gt;eval_flags = orig_flags;\n \t    return FAIL;\n \t}\n \tif (getnext)```","ts":"1598115056.026100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UVR"}]},{"client_msg_id":"eff1cac8-4184-40ce-aba7-8a06880cd9d3","type":"message","user":"UP6PA1UBE","text":"沼だ","ts":"1598114309.025900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uxiag"}]},{"client_msg_id":"27d5383d-eb64-4db8-95ab-a2ef04ec6606","type":"message","user":"U03C71D7H","text":"themis.vim のテストが失敗する件、深堀りしていったらどうも Vim 本体のバグ説が出てきて、本体のソースコードの海に潜っている…\nthemis.vim を使えば 100% 再現するのだけど、最小の再現コードまでまだ辿り着けていない…\nわかっているのは、 v8.2.1189 \u003chttps://github.com/vim/vim/commit/8af81d656a4c501611f6211b6379ea9dd650c545\u003e から再現すると言うことと、 `eval('0 ? 0')` (条件演算子の条件が 0 かつ : 以降がない、文法エラー) をすると何かがおかしくなる、ということ…","ts":"1598112685.025600","attachments":[{"fallback":"GitHub: patch 8.2.1189: Vim9: line continuation in lambda doesn't always work · vim/vim@8af81d6","id":1,"title":"patch 8.2.1189: Vim9: line continuation in lambda doesn't always work · vim/vim@8af81d6","title_link":"https://github.com/vim/vim/commit/8af81d656a4c501611f6211b6379ea9dd650c545","text":"Problem: Vim9: line continuation in lambda doesn't always work. Solution: Do not use a local evalarg unless there isn't one. (closes #6439)","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/commit/8af81d656a4c501611f6211b6379ea9dd650c545","original_url":"https://github.com/vim/vim/commit/8af81d656a4c501611f6211b6379ea9dd650c545"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5qs"}]}]
