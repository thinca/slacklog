[{"type":"message","user":"U06BRP8VD","text":"<@U06BRP8VD> has joined the channel","ts":"1511191092.000391","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U03C6TEAZ","text":"<@U03C6TEAZ> has joined the channel","ts":"1511191093.000190","subtype":"channel_join","inviter":"U06BRP8VD","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"<@U06BRP8VD> set the channel purpose: カラー絵文字を実装してみる","ts":"1511191093.000202","subtype":"channel_purpose","purpose":"カラー絵文字を実装してみる","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U6XP9LZ6V","text":"<@U6XP9LZ6V> has joined the channel","ts":"1511191093.000248","subtype":"channel_join","inviter":"U06BRP8VD","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"<http://www.wabiapp.com/WabiSampleSource/windows/d2d_color_emoji.html>","ts":"1511191163.000362","attachments":[{"fallback":"Direct2Dでカラー絵文字を表示する - わびさびサンプルソース","id":1,"title":"Direct2Dでカラー絵文字を表示する - わびさびサンプルソース","title_link":"http://www.wabiapp.com/WabiSampleSource/windows/d2d_color_emoji.html","text":"わびさびサンプルソースのWindowsについてのサンプルコードを提供しているサイトです。プログラミング初心者の方や、サンデープログラマーのプログラミングの参考となれれば幸いです。","thumb_url":"http://www.wabiapp.com/WabiSampleSource/image/tw_icon.jpg","blocks":null,"service_name":"wabiapp.com","service_icon":"http://www.wabiapp.com/WabiSampleSource/image/icon.png","thumb_width":128,"thumb_height":128,"from_url":"http://www.wabiapp.com/WabiSampleSource/windows/d2d_color_emoji.html"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"URL を探してたところだったw","ts":"1511191186.000552","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<https://msdn.microsoft.com/ja-jp/library/windows/desktop/mt765165(v=vs.85).aspx>","ts":"1511191264.000489","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"こちらにあるサンプルコードの大まかな流れはこんな感じ。","ts":"1511191319.000733","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1511191534.000071","files":[{"id":"F837HM5JR","created":1511191533,"timestamp":1511191533,"name":"-.md","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"markdown","pretty_type":"Markdown (raw)","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":437,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F837HM5JR/-.md","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F837HM5JR/download/-.md","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F837HM5JR/-.md","permalink_public":"https://slack-files.com/T03C4RC8V-F837HM5JR-041d2934ef","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F837HM5JR/-.md/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"とりあえず 1, 2, 3 を実装して 4 はやらない状態まで行って、既存の絵文字部分が表示されなくなることを確認できたら、4を順番にやっていけば良いのかなって。","ts":"1511191584.000369","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"MSYS2(mingw)に関しては、最悪ヘッダー移植するのかねぇ。","ts":"1511191615.000023","edited":{"user":"U06BRP8VD","ts":"1511191658.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"↑のサンプルが win10 でも mingw だと落ちるなー。","ts":"1511191635.000474","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"わびさびサンプル?","ts":"1511191736.000515","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"です。","ts":"1511191813.000074","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そっちはVC10では、少し変更すればコンパイルできたやつでしたね。\n\n* .cpp として保存\n* user32 へリンクするプラグマ追加","ts":"1511191923.000275","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ポイントは DrawText(6引数版) か。","ts":"1511191955.000411","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"VC10 だと落ちないすね。","ts":"1511192048.000072","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"なにがちがうんだw","ts":"1511192057.000504","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"たぶんですが、mingw はロケールを持ってないので、std::wstring がおかしいんだと思います。","ts":"1511192112.000480","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あー…","ts":"1511192130.000024","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"まぁそれは STL じゃなくちゃんと書けば治るはず。","ts":"1511192147.000287","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<@U06BRP8VD> set the channel topic: カラー絵文字を表示できるようにするタスクフォース","ts":"1511192163.000039","subtype":"channel_topic","topic":"カラー絵文字を表示できるようにするタスクフォース","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U03C6TEAZ","text":"8個引数版はこれすね。 <https://msdn.microsoft.com/en-us/library/windows/desktop/dn280451(v=vs.85).aspx>","ts":"1511192249.000697","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"迷うのは、現状のDirectWrite対応はmemDC経由でメッチャ遅いので、そこでカラー絵文字に対応してもその努力は、DirectWrite完全対応の際に無駄になりそうなことなんですよね","ts":"1511192253.000715","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"なんで引数がデバイスコンテキストじゃなくウィンドウハンドルやねん","ts":"1511192344.000353","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"印刷どうやってんだ。","ts":"1511192361.000407","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"印刷非対応では…","ts":"1511192375.000336","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"いやそんなわけないか。","ts":"1511192419.000582","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"ブラウザやってるはずんなすよねー。","ts":"1511192439.000350","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"まず IDWriteFactory2 にしないとですね。","ts":"1511192523.000254","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"動作チェックのための設定とバッファを作ってくれるスクリプトがほしいな。","ts":"1511192705.000628","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"TranslateColorGlyphRun を呼んだりするのに IDWriteFactory2 を引き回さないといけない。","ts":"1511192936.000171","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"とりあえず僕は手元のVimのソースツリーを最新版にキャッチアップしてるw","ts":"1511193134.000169","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"そして if_ruby のビルドが通らないというヤク毛刈へ(あかん)","ts":"1511193575.000502","team":"T03C4RC8V","reactions":[{"name":"laughing","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そこは僕は大丈夫w","ts":"1511193602.000188","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あえて ruby のバージョンを上げないというソリューション","ts":"1511193613.001032","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"よし、大事な用事が終わった。","ts":"1511193855.000267","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"大事な用事 = ふるさと納税でカニを注文","ts":"1511193868.000078","team":"T03C4RC8V","reactions":[{"name":"pokemon-krabby","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":":pokemon-krabby:","ts":"1511194283.000352","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"VimってMeiryo 選べないのか…カラー絵文字が入ってるフォントってドレだ?","ts":"1511194323.000002","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"Cica にいっぱい入ってます。","ts":"1511194372.000755","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"では Cica をテスト用フォントとしますかね。","ts":"1511194453.000059","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"サンプルすくないなー","ts":"1511194600.000591","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"絵文字のサンプルテキストないですかね?","ts":"1511194698.000264","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"あ、いえ","ts":"1511194708.000767","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"glyphRun とglyphRunDescription を取ってくる方法を","ts":"1511194722.000592","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"BDF UM+に、モノクロながら絵文字入ってて草生えそうw","ts":"1511195094.000504","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"テスト用のスクリプト","ts":"1511195520.000268","files":[{"id":"F846YNNK1","created":1511195519,"timestamp":1511195519,"name":"emoji_vim.txt","title":"emoji.vim","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":1687,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F846YNNK1/emoji_vim.txt","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F846YNNK1/download/emoji_vim.txt","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F846YNNK1/emoji_vim.txt","permalink_public":"https://slack-files.com/T03C4RC8V-F846YNNK1-73ea27b7c2","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F846YNNK1/emoji_vim.txt/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U03C6TEAZ","text":"今日はここまでにします。(眠い...) <https://gist.github.com/mattn/b732772ba176a5141bd570621722b93c>","ts":"1511195672.000415","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","ts":"1511195676.000591","files":[{"id":"F8470JWG7","created":1511195673,"timestamp":1511195673,"name":"gui_dwrite.cpp","title":"gui_dwrite.cpp","mimetype":"text/plain","image_exif_rotation":0,"filetype":"cpp","pretty_type":"C++","user":"U03C6TEAZ","mode":"snippet","editable":true,"is_external":true,"external_type":"unknown","size":21398,"url":"","url_download":"","url_private":"https://gist.github.com/b732772ba176a5141bd570621722b93c#file-gui_dwrite-cpp","url_private_download":"https://gist.github.com/b732772ba176a5141bd570621722b93c#file-gui_dwrite-cpp","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/F8470JWG7/gui_dwrite.cpp","permalink_public":"","edit_link":"https://vim-jp.slack.com/files/U03C6TEAZ/F8470JWG7/gui_dwrite.cpp/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U03C6TEAZ","text":"TranslateColorGyphRun を呼び出そうとして glyphRun を作ってるところで断念。","ts":"1511195731.000263","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"`IDWriteFactory2` が無いって怒られる (´・ω・`)","ts":"1511195816.000542","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"`#include &lt;dwrite_2.h&gt;` か","ts":"1511195840.000819","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ああああWinSDKがv7.1a指定されてるwww","ts":"1511195981.000427","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"これはツライな…","ts":"1511196312.000523","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"僕もコンパイラ変えようとしてRuby問題にハマった…","ts":"1511196339.000505","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"IDWriteFactory4 が必要なんだけど、ヘッダーにないw","ts":"1511197960.000543","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"これ…VS2017入れないとダメなん?","ts":"1511198028.000274","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<https://msdn.microsoft.com/en-us/library/windows/desktop/mt761992(v=vs.85).aspx> 必要な TranslateColorGlyphRun はこっちっぽいな","ts":"1511198068.000039","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"GlyphRun を導入したのは、どうしてでしたっけ? DrawText でよければ DWrite2 レベルで行けるんだけど、GlyphRun を使うには VS2017 に最新の SDK (Fall Creators Update用) を使わないとだめそう。","ts":"1511198752.000652","edited":{"user":"U06BRP8VD","ts":"1511198783.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"dwrite_2 は mingw にもありました。","ts":"1511218701.000013","edited":{"user":"U03C6TEAZ","ts":"1511218710.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"IDWriteFactory4必要なの？","ts":"1511218765.000111","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"GlyphRunを使ったのは1文字単位で表示位置を調整するためですね。","ts":"1511218836.000038","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"はい。GDI に描くにはglyphrunが必要なんすよね。","ts":"1511219112.000088","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"で CresteFontFace は win7 で実行時エラーになる。これは想定どおり。","ts":"1511219232.000477","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"あ、ちなみに、glyphrun は IDWriteFactory2 で行けた気がします。","ts":"1511219344.000100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"GlyphRunで TranslateColorGlyphRun に SVGやPNGを吐かせるように指定するには IDWriteFactory4 が提供する TranslateColorGlyphRun が必要みたい。","ts":"1511224988.000218","edited":{"user":"U06BRP8VD","ts":"1511225013.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"DrawText では DWrite2 でイケるけど…GDIには書けない。って言う感じっぽい。","ts":"1511225060.000085","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"つらい","ts":"1511225849.000218","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"とりあえずあとでVS2017入れてやってみる。","ts":"1511226078.000095","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"`表示位置を調整` をいったん諦めて、DrawText で絵文字を出してみるという案もあるけど、その場合 ID2D1DCRenderTarget に差し替えれば良いのかな。","ts":"1511226437.000332","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"以下、どっちを先に試してみるのが良いですかね?\n\n1. いったんGlyphRun を諦めて ID2D1DCRenderTarget::DrawText に書かせてみる。dwrite2 レベルで行けそう\n2. IDWriteFactory4::TranslateColorGlyphRun で突っ走ってみる。dwrite4 レベルが必須と推測される","ts":"1511230149.000018","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"IDWriteFactory4 は作れたとしても取り込んで貰えない可能性が高そうですね。","ts":"1511230194.000107","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"実現可否を確認する為に 1 良いと思います。","ts":"1511230207.000170","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"おっ。印刷ワンチャン <https://msdn.microsoft.com/ja-jp/library/windows/desktop/dd371146(v=vs.85).aspx>","ts":"1511230806.000107","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"まぁ↑のサンプルが DrawText で絵文字出してるなら実現性としては見えてるのか。","ts":"1511231181.000268","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"会社が win7 なので日中は何も進捗が出せない。","ts":"1511250830.000195","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"むしろ会社で進捗を出すつもりなのが草","ts":"1511254751.000207","team":"T03C4RC8V","reactions":[{"name":"sweat_smile","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"DWriteではなく D2D1 を使えってことかぁ?","ts":"1511274113.000569","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"復習を兼ねて ID2D1DCRenderTarget::DrawText を呼び出してみたけど、描画されず。これは過去にやって期待通り。","ts":"1511275559.000446","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1511275595.000763","files":[{"id":"F83MT32G4","created":1511275595,"timestamp":1511275595,"name":"___________________________________________________.cpp","title":"具体的にはこんな感じのお手軽修正。","mimetype":"text/plain","image_exif_rotation":0,"filetype":"cpp","pretty_type":"C++","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":458,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F83MT32G4/___________________________________________________.cpp","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F83MT32G4/download/___________________________________________________.cpp","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F83MT32G4/___________________________________________________.cpp","permalink_public":"https://slack-files.com/T03C4RC8V-F83MT32G4-5eb118454d","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F83MT32G4/___________________________________________________.cpp/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"これで書けないから、ビットマップに書いて転送してた。","ts":"1511275616.000446","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
