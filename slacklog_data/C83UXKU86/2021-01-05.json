[{"type":"message","user":"ULQ0Y8VBQ","text":"\u003c@ULQ0Y8VBQ\u003e has joined the channel","ts":"1609846354.157000","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"4fd8a2e6-c67f-4a9b-9e1b-1480423279a0","type":"message","user":"U06BRP8VD","text":"キャッシュミスのメモリアクセス6-7回ってとこだな。","ts":"1609831748.156800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hax"}]},{"client_msg_id":"810647cf-605d-4d46-bd4f-07a25ed424b5","type":"message","user":"U06BRP8VD","text":"あ、1マイクロ切るか。666ナノ秒か?","ts":"1609827624.155300","edited":{"user":"U06BRP8VD","ts":"1609827658.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xa="}]},{"client_msg_id":"f624db2e-e10a-4429-84e6-fad3f9fb9f1e","type":"message","user":"U06BRP8VD","text":"1回あたり1.5マイクロ秒でしょ。","ts":"1609827610.155100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1nki"}]},{"client_msg_id":"fb16e9cb-d3ac-47a6-bdcd-f61c78882116","type":"message","user":"U06BRP8VD","text":"300万回のループで2秒、10%の差なら、たいした差とは言えないかな。","ts":"1609827594.154700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pmwN"}]},{"client_msg_id":"cdea22c7-f235-4be7-aff6-fadb4a2821ad","type":"message","user":"U06BRP8VD","text":"ifdef消しても実行時パフォーマンスは基本変わらないですね。コンパイル時にどっちかで決まるだけなので。","ts":"1609827498.153400","thread_ts":"1609824937.137700","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nV1dM"}],"root":{"client_msg_id":"15a9b56a-a957-488c-a1a2-94fd60cf67b2","type":"message","user":"UDDCM376D","text":"ifdefってvim scriptの実行に影響出るんスカ？","ts":"1609824937.137700","thread_ts":"1609824937.137700","reply_count":2,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bUM"}]}},{"client_msg_id":"022d5aad-a6d5-418b-9ed5-a0169ad104f0","type":"message","user":"U03C6TEAZ","text":"特に Bram の様な英語圏だと `_(` は空になるのでパフォーマンス劣化もないし、たぶん気にしてない。","ts":"1609825864.152800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=FUrL"}]},{"client_msg_id":"63c55a4d-6020-4b22-a957-f169d52a3324","type":"message","user":"U03C6TEAZ","text":"例えば\n```for (i = 0; i \u0026lt; n; i++) {\n    sprintf(buf, _(\"found %d\"), i);\n}```\nこういうコードが沢山ある。\n```const char* fmt = _(\"found %d\");\nfor (i = 0; i \u0026lt; n; i++) {\n    sprintf(buf, fmt, i);\n}```\nこうするだけでパフォーマンスだいぶ変わる。","ts":"1609825809.152100","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["U8R597E9H"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u/rW"}]},{"client_msg_id":"00b98c9c-8230-4839-8bae-d870b2b1011f","type":"message","user":"U7H4TJEG0","text":"コマンドのlook upとかはたしか最適化されてましたよね (だいぶ前の話","ts":"1609825667.150700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V942O"}]},{"client_msg_id":"f7ec0dc2-f945-47e9-9e80-71e63f1e7138","type":"message","user":"U03C6TEAZ","text":"逆に言えばプロファイル取れば最適化できる所がボロボロ出てくるはずなのでコントリビュートチャンス。","ts":"1609825608.150100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rlt"}]},{"client_msg_id":"35d8245d-2a04-401d-b8f3-e9f251d4f2c7","type":"message","user":"U03C6TEAZ","text":"vim8、誰もちゃんとプロファイル取ってないのでなぁ。最適化に関してだれも着手してない。","ts":"1609825528.149500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ex=s"}]},{"client_msg_id":"63b50bab-c090-4cb9-9b8d-5d73c7841605","type":"message","user":"U7JL1UKKL","text":"二年前はそこまでポーティング進んでなかったと思うし","ts":"1609825420.148800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KVR8r"}]},{"client_msg_id":"61b132a2-0e02-4583-976e-d9413895f980","type":"message","user":"U7JL1UKKL","text":"これは二年前の話だから今とは状況違うんじゃないかな","ts":"1609825408.148400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=xY1"}]},{"client_msg_id":"7f708895-95a6-4da9-9dec-3ed7acb783ea","type":"message","user":"U7H4TJEG0","text":"issueは \u003chttps://github.com/neovim/neovim/issues/9635\u003e","ts":"1609825352.147600","attachments":[{"fallback":"GitHub: has(\"patch-x.y.z\") to check for Vim 8.1 patches · Issue #9635 · neovim/neovim","id":1,"title":"has(\"patch-x.y.z\") to check for Vim 8.1 patches · Issue #9635 · neovim/neovim","title_link":"https://github.com/neovim/neovim/issues/9635","text":"nvim --version: v0.3.4 Vim (version: all) behaves differently?: yes Operating system/version: Centos 7.6 Terminal name/version: mate-terminal $TERM: xterm I did not look into has-patch implementati...","thumb_url":"https://avatars0.githubusercontent.com/u/6471485?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/neovim/neovim/issues/9635","original_url":"https://github.com/neovim/neovim/issues/9635"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"crgoH"}]},{"client_msg_id":"54314828-db06-45a0-ae7e-e60c271fbf80","type":"message","user":"U7JL1UKKL","text":"とはいえ、800のパッチはだいたい取り込んでいる認識","ts":"1609825351.147500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z+a"}]},{"client_msg_id":"c24220f3-665a-4c8c-9d95-fd1e8169cce6","type":"message","user":"U7JL1UKKL","text":"うむ","ts":"1609825331.146700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WOhFp"}]},{"client_msg_id":"d5fc422b-9f79-40b1-8534-63c99e873e6c","type":"message","user":"U7H4TJEG0","text":"(8.0のパッチを「全て」取り込まないとVIM_VERSION_MINORを上げないポリシーのため、8.1.xxxxのパッチを取り込んでいてもhas-patchは0になる)","ts":"1609825315.146400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xzLYr"}]},{"client_msg_id":"93187651-803e-486c-814e-d7074aacca12","type":"message","user":"U7JL1UKKL","text":"提案してみては","ts":"1609825307.146100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qkG3"}]},{"client_msg_id":"43720048-1a26-4afc-814e-01bda4525ee2","type":"message","user":"U7JL1UKKL","text":"そろそろversionあげても良い気がするが、パッチのポーティングどうなってるかな","ts":"1609825302.145900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7MfS7"}]},{"client_msg_id":"a96287ac-3e35-4b51-bb90-f30998949e85","type":"message","user":"U7H4TJEG0","text":"neovim はそろそろ v:version \u0026gt;= 801 になってもらえるとありがたい… (または has-patch がちゃんと動いてほしい)","ts":"1609825212.144300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fXNb"}]},{"client_msg_id":"94fe54c6-3f67-4c17-96b2-c16d6f2dc716","type":"message","user":"U03C6TEAZ","text":"busy loop じゃなければ「そうかもね」って感じですけど。","ts":"1609825121.143500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dw7pk"}]},{"client_msg_id":"9b4f2bbc-0f40-4d6d-8468-6b9e2ac93cd0","type":"message","user":"U7JL1UKKL","text":"これ、どちらも最適化掛けてるんですかね","ts":"1609825118.143300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1DV"}]},{"client_msg_id":"bf12b2fc-5d18-4899-8c70-81ee3e111dde","type":"message","user":"U03C6TEAZ","text":"busy loop なので。","ts":"1609825072.142100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1B4qb"}]},{"client_msg_id":"f2280e32-5e64-4d15-975c-a252049c3af5","type":"message","user":"U7JL1UKKL","text":"前はそういう予定もあったけど、今はLua化優先という","ts":"1609825072.142000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wa6vE"}]},{"client_msg_id":"e9fc1665-4630-4d9e-8d37-4b352077d8dd","type":"message","user":"U03C6TEAZ","text":"ただ2秒の差は付かない気がする。","ts":"1609825054.141300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gkJIX"}]},{"client_msg_id":"3ba43fa1-9469-4b0c-b1e0-7b1660bf0a17","type":"message","user":"U7JL1UKKL","text":"Vim scriptへの特定の最適化というのは入ってない認識","ts":"1609825035.140400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HwUpJ"}]},{"client_msg_id":"276e6678-2e90-48df-83cc-3f8722c989bd","type":"message","user":"U7JL1UKKL","text":"あとはNULLチェックもない","ts":"1609825005.139400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uA/"}]},{"client_msg_id":"18fa05f7-e68e-4e18-baab-60fdebb100d0","type":"message","user":"U7JL1UKKL","text":"はい、分岐が消える","ts":"1609824978.138900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KVfI"}]},{"client_msg_id":"2e0ce96a-be71-424f-ad47-83c30b777f03","type":"message","user":"UDDCM376D","text":"ifdefを消すときに必要ない処理も消したってことかな","ts":"1609824972.138700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vf1"}]},{"client_msg_id":"12cfc673-6f1e-41b6-aaf6-f2d2e7dcc144","type":"message","user":"UDDCM376D","text":"ビルドする時にしか使わないという認識です","ts":"1609824952.138200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FhQ9+"}]},{"client_msg_id":"15a9b56a-a957-488c-a1a2-94fd60cf67b2","type":"message","user":"UDDCM376D","text":"ifdefってvim scriptの実行に影響出るんスカ？","ts":"1609824937.137700","thread_ts":"1609824937.137700","reply_count":2,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bUM"}]},{"client_msg_id":"581d9a51-d71f-4f61-9500-f6aede473bff","type":"message","user":"U7JL1UKKL","text":"私は内部で大量のifdef消してるからだと思うんだよなぁ","ts":"1609824915.136900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XXP"}]},{"client_msg_id":"f2115cee-478f-449d-ba07-aeca8e648d9c","type":"message","user":"U03C6TEAZ","text":"neovim の開発者は Vim のソースを見るけど、Vim の開発者は neovim のコードは見ないので還元して貰わないと辛い物がある。","ts":"1609824848.136200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=e4y"}]},{"client_msg_id":"378289b7-173f-4b23-8323-af11fecdd089","type":"message","user":"UDDCM376D","text":"2秒は結構大きいな差なので、どんなことやっているのか気になっていました","ts":"1609824798.135500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zzDp"}]},{"type":"message","user":"U03C6TEAZ","text":"ここに関しては還元できる物あると思うんですけどね。","ts":"1609824770.134800","files":[{"id":"F01HZU9537U","created":1609824767,"timestamp":1609824767,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":0,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":46582,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F01HZU9537U/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F01HZU9537U/download/image.png","original_h":672,"original_w":926,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F01HZU9537U-468909d915/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F01HZU9537U-468909d915/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F01HZU9537U-468909d915/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F01HZU9537U-468909d915/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":261,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-F01HZU9537U-468909d915/image_480.png","thumb_480_w":480,"thumb_480_h":348,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-F01HZU9537U-468909d915/image_720.png","thumb_720_w":720,"thumb_720_h":523,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/F01HZU9537U/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-F01HZU9537U-9551523dd0","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-F01HZU9537U-468909d915/image_800.png","thumb_800_h":581,"thumb_800_w":800,"thumb_tiny":"AwAiADCvuPrRubNJSEYpiF3t60bjSUUwF3GjcaSigB236fnRt/zmnEUlIBNnuKNh9R+dOHNIeDQA3b70BfWnE5ooAKKKWgApKKKACilooA//2Q==","username":""}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q=WAT"}]},{"client_msg_id":"53457009-8fbf-46ff-a0ae-8325e10caba3","type":"message","user":"U7JL1UKKL","text":"だから還元不能なものが多い","ts":"1609824565.134500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3vC"}]},{"client_msg_id":"8cdd85dc-c920-4a88-91fb-4e2caf879d35","type":"message","user":"U7JL1UKKL","text":"特定の最適化してるというよりは\nいらない機能を省いている","ts":"1609824556.134100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xMl"}]},{"client_msg_id":"9d256dec-3fe6-4a3f-a06f-11068f58013e","type":"message","user":"U03C6TEAZ","text":"neovim 特化なら分かるけどなぜ Vim に還元しようとしないのかなぁ。","ts":"1609824203.133400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mZ1Bj"}]},{"client_msg_id":"a31ce25d-de32-495b-bac5-196fe9512ec9","type":"message","user":"U03C6TEAZ","text":"neovim って Vim script にどんな最適化入れてるんだろう。","ts":"1609824179.132800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d7n1a"}]},{"client_msg_id":"be1a4f3a-05e5-4093-bae2-50d1b55e9708","type":"message","user":"U03C6TEAZ","text":"\u003chttps://skanehira.github.io/blog/posts/20201210-vim-start-use-nvim/\u003e","ts":"1609824167.132400","attachments":[{"fallback":"Neovimを始めた話","id":1,"title":"Neovimを始めた話","title_link":"https://skanehira.github.io/blog/posts/20201210-vim-start-use-nvim/","text":"初めに 11月中旬くらいからNeovimを使い始めました。 Neovim自体は以前から知っていたが、自分が普段作っているプラグインがVimでしか","blocks":null,"ts":1607558400,"service_name":"skanehira.github.io","from_url":"https://skanehira.github.io/blog/posts/20201210-vim-start-use-nvim/","original_url":"https://skanehira.github.io/blog/posts/20201210-vim-start-use-nvim/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ipyri"}]},{"client_msg_id":"9c9adefc-b675-44b8-8bbc-f152976f7416","type":"message","user":"UDDCM376D","text":"なるほど","ts":"1609829781.155600","thread_ts":"1609824937.137700","parent_user_id":"UDDCM376D","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HYy4Y"}]}]
