[{"type":"message","user":"U6XP9LZ6V","text":"8.0.1369 の方が遅くなりそうな原因、カーソルの描画をD2Dに変更したことだろうか。","ts":"1512740369.000186","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"8.0.1376 +kaoirya on HP Folio G1 (Intel HD 515) ためしてみた。","ts":"1512740528.000313","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そもそも `scrlines:0` の際の1行ごとのスクロールが遅くて `scrlines:1` にした際の速度低下が微妙にしかわからない感じだった。","ts":"1512740589.000567","edited":{"user":"U06BRP8VD","ts":"1512740734.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"scrlines、どうしてもsrclinesって打鍵しちゃうw","ts":"1512740617.000416","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あと `scrolloff=5` の `&lt;C-F&gt;` は `scrlines:1` のほうが速く感じる。キーから手を離してからスクロールが止まるまでのタイムラグが短い。","ts":"1512740820.000013","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"gui_update_cursor() でカーソルを更新する際には、out_flush() を先に呼んでおく必要があるけど、out_flush() の中では DWriteContext_Flush() が呼ばれてしまう。一方、gui_update_cursor() でカーソルを更新した後は、もう一回 DWriteContext_Flush() を呼んでおかないと、カーソルの更新が表示に反映されない。結局、directxモードだと、カーソル更新のたびに DWriteContext_Flush() が2回呼ばれてすごい無駄ですね。","ts":"1512741333.000106","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"あと、gui_update_cursor() を呼んだ後、gui_mch_flush() を呼んでいない場所が結構有って、スクロールバーの上下ボタンでスクロールすると、カーソルが正しく反映されないのもこれが原因ですね。","ts":"1512741434.000187","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"GDIでカーソルを描いている場合には gui_update_cursor() でカーソルを更新したら、gui_mch_flush() を呼ばずともなんとなくうまい具合にカーソルが表示されているようですが。","ts":"1512741568.000071","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"結局、今のカーソル描画の方式とdirectxモードでの描画がうまくマッチしていないので、どうしたものだか…。","ts":"1512741821.000429","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"GDIは基本即時描画だからでは?","ts":"1512742080.000197","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"一つにはWM_PAINTに全部寄せちゃって、InvalidRect ということだと思うんだけど、そもそもメッセージループ回ってないことが多いので、そんな甘くないですよね。","ts":"1512742135.000081","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"`DWriteContext_Flush()` は、なにも描いてなければなにもしないので、問題は少ないコマンドが少ない時のFlush=EndDrawがどのくらい重いか、かなぁ。","ts":"1512742244.000229","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"観測範囲ではかなり重いってことかな。","ts":"1512742254.000198","edited":{"user":"U06BRP8VD","ts":"1512742262.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"前、作りかけた EndDraw 間引くの試してみます?","ts":"1512742285.000394","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1512742326.000015","files":[{"id":"F874EM4P4","created":1511966612,"timestamp":1511966612,"name":"suppress_flush_16msec.diff","title":"suppress_flush_16msec.diff","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":1418,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F874EM4P4/suppress_flush_16msec.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F874EM4P4/download/suppress_flush_16msec.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F874EM4P4/suppress_flush_16msec.diff","permalink_public":"https://slack-files.com/T03C4RC8V-F874EM4P4-060a75b26e","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F874EM4P4/suppress_flush_16msec.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"<@U06BRP8VD> commented on <@U06BRP8VD>’s file <https://vim-jp.slack.com/files/U06BRP8VD/F874EM4P4/suppress_flush_16msec.diff|suppress_flush_16msec.diff>: これか?","ts":"1512742326.000072","subtype":"file_comment","files":[{"id":"F874EM4P4","created":1511966612,"timestamp":1511966612,"name":"suppress_flush_16msec.diff","title":"suppress_flush_16msec.diff","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":1418,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F874EM4P4/suppress_flush_16msec.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F874EM4P4/download/suppress_flush_16msec.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F874EM4P4/suppress_flush_16msec.diff","permalink_public":"https://slack-files.com/T03C4RC8V-F874EM4P4-060a75b26e","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F874EM4P4/suppress_flush_16msec.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"comment":{"id":"Fc8BN57YH1","created":1512742326,"timestamp":1512742326,"user":"U06BRP8VD","comment":"これか?"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"あんまよくなさそう","ts":"1512742426.000150","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ああ、これもやっぱメッセージループネタだった。OnTimerが発生するタイミングがWM_TIMERなんで、遅延させた描画の反映が予期せぬところになる。","ts":"1512742471.000200","edited":{"user":"U06BRP8VD","ts":"1512742488.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"そういえば、Vimの動作中にWM_PAINTってどのくらい発生しているのかなと思って、ログを取ってみたら、ほとんど発生してなかった。さらに（例のまだ投げていない高速化パッチを当てた状態で） `scrlines:1` に設定すると、ウィンドウ最小化から戻るときぐらいしか発生せずｗ","ts":"1512742543.000327","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そう。ほぼないですよねw","ts":"1512742561.000330","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"suppress_flush_16msec.diff、vim_dev で 8.0.1369 以降遅くなったと言っている人に試してもらうのはありだろうか。これで改善するようであれば、カーソル更新時の2回flushを1回に変えることができれば、改善するかもしれない？","ts":"1512742821.000383","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ないとおもう。理由は↑のとおり。遅延描画が直感的でないから、混乱すると思う。","ts":"1512743055.000325","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"しかし 8.0.1369 以降遅くなるというの、余計なflushが実行されているくらいしか思い浮かばないので、flushが原因かどうか、どうやって確かめるべきか…","ts":"1512743711.000217","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"余計なflushといえば、FEAT_CONCEALが有効な場合に main.c の main_loop() の中で、ループを回るごとに update_single_line() が1回か2回呼ばれていて、そのたびに flush が発生していて速度低下を発生させている可能性あり。キー入力1回ごとに1,2回…","ts":"1512744316.000546","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"そういえば vim_dev とかで、画面のちらつきをなくすためにダブルバッファリングしよう、なんて話が上がることがあったけど、DirectX 使ってると結果的にダブルバッファになってますよね。ちらつきが減ったかどうか知らないがｗ","ts":"1512693029.000407","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"Can I write a patch for gui_win32.c to get rid of flicker in gvim like these ?\n<https://groups.google.com/d/topic/vim_dev/UWQ7es72c4I/discussion>\nこれとか。","ts":"1512693051.000085","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"微妙だなw ほんとにダブルバッファになってるのかなぁ?","ts":"1512693410.000230","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"ダブルバッファだとすると別のウィンドウかぶせてどかしたら描画メソッドは走らないはずなんですけどねw","ts":"1512693500.000145","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ゲーム(作る方の)脳なんで、ダブルバッファというとガチでダブルでスワップするほうしか…","ts":"1512693531.000205","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"別のウィンドウかぶせてってことだと、って最近のWindowsはOSレベルでバッファしてる気がしたんだけど、気のせいかしら? なんか昔とWM_PAINTが発生するタイミングが違うような気がするんですよね。","ts":"1512693606.000343","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"D2Dでいろいろ描画してもそれがHDCに反映されるのはEndDrawのタイミングですから、実質バッファのスワップのようなものかと？","ts":"1512694397.000166","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"VistaからはDWMが導入されたことで、システムレベルでバッファが入ってますね。他のウィンドウに隠された程度ではWM_PAINTは発生しないはず。","ts":"1512695050.000173","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"たぶんEndDraw前にも入ると思うんです。コマンドバッファがいっぱいになった時点で。","ts":"1512695064.000043","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"&gt; BeginDraw が呼び出された後、通常、レンダー ターゲットはレンダリング コマンドのバッチを作成しますが、これらのコマンドの処理は、内部バッファーがいっぱいになるか、Flush メソッドが呼び出されるか、または EndDraw が呼び出されるまで延期されます。","ts":"1512695091.000155","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<https://msdn.microsoft.com/ja-jp/library/windows/desktop/dd371924.aspx> より","ts":"1512695097.000096","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"もしかしたら Radeon 系はこの内部バッファーが小さくて、全画面書き換えの1行スクロールが遅くなるとかなのかもな。憶測なのでアレだけど。","ts":"1512695226.000003","edited":{"user":"U06BRP8VD","ts":"1512695245.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"koronさん、前に実験してませんでしたっけ。EndDrawをやめてFlushだけにしたら絵が出なかったとか。","ts":"1512695256.000012","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"おぼろげにしか覚えてないw","ts":"1512695331.000119","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あの時は、背景は塗られてたよな。だから GDI 描画が動いてる部分があったのか。","ts":"1512695426.000202","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あと下線も入ってた気がする。","ts":"1512695432.000086","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ということから、いろいろ半端な時期の実験だったので、何か根本的なことを見落としていた可能性も否めないです。","ts":"1512695977.000286","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"Hwndレンダーターゲットの説明を見るとダブルバッファを使ってると明記してあるが、DCレンダーターゲットの方は記載が無いか…。","ts":"1512696717.000326","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そういえばDirectX的なダブルバッファなサーフェスはHWNDから作るんだっけか。","ts":"1512696859.000303","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"いや、やっぱりバッファ持ってる。\n&gt; ID2D1DCRenderTarget を使用すると、Direct2D コンテンツが内部ビットマップにレンダリングされた後、GDI を使用してそのビットマップが DC にレンダリングされます。","ts":"1512697372.000022","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"…やってることはいぜんと大きく変わってないなw 大きな単位でやってるだけで。","ts":"1512697453.000214","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ゲーム脳で言うと、そのビットマップをDCレンダリングする際に、垂直同期とってないのでズレそう、ってなります。","ts":"1512697555.000149","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そろそろオフィスへ移動。GTX750Tiでの試験がまってるぜ。","ts":"1512697596.000217","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"うん。 scrlines=1 がやっぱ遅いな…ちょっと条件書き出しますね。","ts":"1512703472.000078","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"グラボ:GTX 750 Ti の画面サイズ 1920 x 1200 で拡大率 100% (変更なし)\nフォントは Ricty Diminished の h9 で `rop=type:directx,renmode:5`\nVimは 8.0.1376 +kaoriya で `guioptions=` (空) でフルスクリーン状態 (`simalt ~x`)\nバッファには +kaoriya の README.txt 表示で1ウィンドウ構成\nここで `:hi` を実行してその表示速度を観測。\n\n以上の条件。","ts":"1512703673.000248","edited":{"user":"U06BRP8VD","ts":"1512703754.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"`scrlines:1` はタラタラとゆっくり流れるけど `srclines:0` もしくは 2以上であればパッと表示される。","ts":"1512703718.000069","edited":{"user":"U06BRP8VD","ts":"1512703761.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あーあー","ts":"1512704479.000071","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"顔文字でfallbackが起きた時、fallback 先のフォントの幅じゃなくて、前のほうの幅が取れちゃうことがあるのか… `ambiwidth=auto` が効かない時がある :syobon:","ts":"1512704521.000167","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"それは現状そうなっちゃいますよね。","ts":"1512704603.000190","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"GDI+なら MeastureText みたいなのがあった記憶があるけど…","ts":"1512704705.000115","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"IntelのCPU付属のGPUだとscrlines:1の方が速い気がする。","ts":"1512704736.000097","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"guicursor 設定を変えて、カーソルの点滅を止めてスクロールするとカーソルが変なところに表示されたままになったりする。あかん","ts":"1512705060.000074","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"Intelってことは…ノートPCが良いか。","ts":"1512705105.000080","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ちなみにうちは `guicursor=a:blink0` ですね。特にカーソルの表示はきにならんかったけど…","ts":"1512705198.000104","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<https://stackoverflow.com/questions/9209308/how-to-measure-text-extent-using-dwrite>","ts":"1512705378.000069","attachments":[{"fallback":"How to measure text extent using DWrite?","id":1,"title":"How to measure text extent using DWrite?","title_link":"https://stackoverflow.com/questions/9209308/how-to-measure-text-extent-using-dwrite","text":"How can I get the text extent with DirectWrite? .Net provides it as part of the FormattedText class, for example.","thumb_url":"https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon@2.png?v=73d79a89bded","blocks":null,"service_name":"stackoverflow.com","service_icon":"https://cdn.sstatic.net/Sites/stackoverflow/img/favicon.ico?v=4f32ecc8f43d","thumb_width":316,"thumb_height":316,"from_url":"https://stackoverflow.com/questions/9209308/how-to-measure-text-extent-using-dwrite"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"&gt; Create an IDWriteTextLayout set up the way you want, and then use methods such as DetermineMinWidth() and GetMetrics() to retrieve the layout calculations.","ts":"1512705385.000005","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"やっぱTextLayoutに聞くしか無いか。","ts":"1512705394.000235","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"`:help` でウィンドウ分割して、スクロールバーの上下ボタンで上に行ったり下に行ったりすると、カーソルがフォーカスのないウィンドウに行ったりします。","ts":"1512705763.000140","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"僕の手元…スクロールバー、表示されてねぇ","ts":"1512705916.000137","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ほんとだ。カーソルが行方不明になったw","ts":"1512706010.000137","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
