[{"client_msg_id":"7e8493f2-3027-4fdf-8fa2-989a61315e45","type":"message","user":"U03C71D7H","text":"単に必要としている人がいなくて未対応の予感。Linux でも .so は生成できたので、やろうと思えばできそう","ts":"1601635892.193600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HFilh"}]},{"type":"message","user":"UPZHKAM7W","text":"```\n7. 動的ローディング                             *mzscheme-dynamic* *E815*\n \nMS-Windows では MzScheme ライブラリを動的に読み込むことが可能です。これを行う\nと |:version| の出力に |+mzscheme/dyn| が含まれるようになります。\n \nこの場合、Vim は必要なときだけ MzScheme の DLL ファイルを検索するようになりま\nす。MzScheme インターフェイスを使わないときは DLL を必要としないので、DLL な\nしで Vim を使うことができます。\nNOTE: 比較的新しいバージョンの MzScheme (Racket) は scheme_main_setup によるト\nランポリンを用いた事前初期化処理を必要とします。そのために Vim は可能であれば常\nに MzScheme の DLL を初期化時に読み込みます。これは Vim の起動を遅くするかもし\nれません。\n \nMzScheme インターフェイスを使うには MzScheme の DLL が検索パス内に存在しなけ\nればなりません。コンソールウィンドウで \"path\" とタイプすると、どのディレクト\nリが検索パスとなるか表示できます。\n \nMS-Windows では 'mzschemedll' および 'mzschemegcdll' オプションが読み込むライ\nブラリの名前として使用されます。初期値はビルド時に指定されます。\n \nDLL のバージョンは Vim をコンパイルした時の MzScheme のバージョンと一致しなけ\nればなりません。MzScheme 209 用ならば \"libmzsch209_000.dll\" と\n\"libmzgc209_000.dll\" となるでしょう。確認するには \":version\" コマンドの出力\nを見て、コンパイル情報から -DDYNAMIC_MZSCH_DLL=\"なんらか\" と\n-DDYNAMIC_MZGC_DLL=\"なんらか\" を探してください。\n \n例えば、MzScheme (Racket) が C:\\Racket63 にインストールされている場合、次のよう\nに環境変数を設定する必要があるかもしれません:  \n \n  PATH=%PATH%;C:\\Racket63\\lib\n  PLTCOLLECTS=C:\\Racket63\\collects\n  PLTCONFIGDIR=C:\\Racket63\\etc\n```","ts":"1601635790.192900","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"16e58cdb-d8fb-4414-9e00-5b9bd3279a4c","type":"message","user":"U03C71D7H","text":":h mzscheme-dynamic には Windows についてしか書いてないですねー","ts":"1601635789.192800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eOh2S"}]},{"client_msg_id":"d9f2b8c0-adc4-4c68-8c5e-89ffa6d2eaa9","type":"message","user":"U6XP9LZ6V","text":"そうでしたっけ。何でだろう？","ts":"1601635718.192400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FqHz"}]},{"client_msg_id":"6b199578-edea-48a8-8178-bd2eb4cd1d9b","type":"message","user":"U03C71D7H","text":"じゃあいいやw","ts":"1601635509.191500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Eyt"}]},{"client_msg_id":"fea854c9-a1f0-4544-acf3-10b536e2aeeb","type":"message","user":"U03C71D7H","text":"あーそもそも mzscheme の dyn 対応は Windows のみなのか","ts":"1601635506.191300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o+v"}]},{"client_msg_id":"44e89e13-65ef-4a5c-b8d0-d789e8b64f6b","type":"message","user":"U03C71D7H","text":"`--enable-mzschemeinterp` (静的リンク) だとビルド成功してちゃんと動くのだけど、\n`--enable-mzschemeinterp=dynamic` (動的リンク) だとビルドは成功するんだけど `-mzscheme` になっちゃうな…","ts":"1601634953.190900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cYRgN"}]},{"client_msg_id":"81075d31-085b-4859-b505-44a9af0c58ec","type":"message","user":"U03C71D7H","text":"Racket を動的ライブラリ入りでインストールすることに成功した (asdf で入れてる)\nそうしたところなぜか `librktio.a` がなくなり、例のパッチなしでも普通に Vim +if_mzscheme でビルドできた…w (/dyn なし)","ts":"1601634421.189300","edited":{"user":"U03C71D7H","ts":"1601634434.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BCecc"}]},{"client_msg_id":"05df3ed8-6669-4e54-afac-91a76e7e10c2","type":"message","user":"U03C71D7H","text":"if_tcl 特に問題が出ていない","ts":"1601630734.188200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Rh"}]},{"client_msg_id":"55728aa5-2a7c-44d3-ac05-26df82a1af66","type":"message","user":"U6XP9LZ6V","text":"そして、if_mzsch と違って話題にすらならない if_tcl","ts":"1601629989.187900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K0eI"}]},{"client_msg_id":"215da967-7a8e-4c5b-a6fa-7b35dbb8cd2b","type":"message","user":"U6XP9LZ6V","text":"Windows だと VIMDLL を有効にしてビルドすると、if_mzsch のテストが fail する問題が解決してなくて悩ましい","ts":"1601629658.187000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UuE"}]},{"client_msg_id":"39665223-3b95-4162-a93d-3353a61e2280","type":"message","user":"U06ECBRTJ","text":"optdepends にしておけば良い…？","ts":"1601629222.185300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"61i"}]},{"client_msg_id":"4fc2caae-b172-4fce-8394-00a4c4042c5d","type":"message","user":"U06ECBRTJ","text":"msys2/mingw{32,64} については、パッケージ依存があるのでなぁ…","ts":"1601629203.184800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wpo"}]},{"client_msg_id":"ec2e9392-556c-48c2-b766-21a6bf2e4518","type":"message","user":"UAZ33BKV2","text":"どっちもそうなんですよね(設定しても問題ない、PR待ちでもいい)","ts":"1601629183.184400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hS9E"}]},{"client_msg_id":"44402277-62bb-45f2-96ca-8f0dec462458","type":"message","user":"U06ECBRTJ","text":"PR welcome という言葉があって…","ts":"1601629134.182800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vhd"}]},{"client_msg_id":"0c943263-9b4a-4872-99f5-785aa97f671e","type":"message","user":"U9S4G0LJW","text":"入れておいても別に無かったら弾かれるだけだしな","ts":"1601629128.182600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GQH"}]},{"client_msg_id":"16690fbb-d6f3-423c-beb6-c5b0779b7cac","type":"message","user":"UAZ33BKV2","text":"開発側から想定する利用者としては、なにを使うかは不明だから、本当はなるべくサポート、なんだけど","ts":"1601629095.182100","edited":{"user":"UAZ33BKV2","ts":"1601629112.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iCS1D"}]},{"client_msg_id":"b2dd3e9a-cd24-4aef-a259-4c4d57ddf1e6","type":"message","user":"U06ECBRTJ","text":"+mzscheme で書かれた良プラグインが出たら考える くらいですね","ts":"1601629054.181200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NDPh6"}]},{"client_msg_id":"47b764d1-0a8a-4580-9db2-41f5a087baae","type":"message","user":"UAZ33BKV2","text":"(入れようか考え中だけど...)","ts":"1601629015.180300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Qib"}]},{"client_msg_id":"8a78726a-02be-4bf2-bbdd-8a7f5262877e","type":"message","user":"U06ECBRTJ","text":"使わないので…","ts":"1601629008.180000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S/c"}]},{"client_msg_id":"c259aadc-d281-4b5a-9a5e-20bd6a207cff","type":"message","user":"UAZ33BKV2","text":"そして忘れられる mzschemeたち","ts":"1601629000.179700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k8a08"}]},{"client_msg_id":"5d960158-cf00-4922-b9c0-f94ec06f5ea8","type":"message","user":"UAZ33BKV2","text":"じゃあ大丈夫ということで、よかったw","ts":"1601628978.179300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"izF=C"}]},{"client_msg_id":"71fb4a81-2c5b-4816-a346-aadabb167591","type":"message","user":"U6XP9LZ6V","text":"あとはhugeにしておけば、i/f系以外は明示的にenableを指定しなくても大抵のものはonになったような。","ts":"1601628914.178900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WODpl"}]},{"client_msg_id":"d1bf2981-0e53-4b91-90a2-277e2ea73315","type":"message","user":"UAZ33BKV2","text":"あー、ただasdf-vimなので、古いバージョンもくるかもしれないんですよ。\nなのでまあ一応はあったほうがいいかな。","ts":"1601628822.178100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ayAP"}]},{"client_msg_id":"2d827b82-6c4f-43cd-be0f-c4e1c6be9078","type":"message","user":"U6XP9LZ6V","text":"multibyteは今では常にonになりました。","ts":"1601628790.176800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BKW"}]},{"client_msg_id":"b1d18cdd-d9c0-4721-8e9a-8081866fed18","type":"message","user":"UAZ33BKV2","text":"過不足でいうとiconv関係かなあ?","ts":"1601628767.176500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TQs"}]},{"client_msg_id":"e6c654cd-33d2-40ea-aa4e-89718386f894","type":"message","user":"U06ECBRTJ","text":"\u003chttps://github.com/raa0121/mingw-gvim-transparency/blob/master/PKGBUILD#L45-L54\u003e\nconfigure 使ってないですが","ts":"1601628711.175800","attachments":[{"fallback":"GitHub: raa0121/mingw-gvim-transparency","id":1,"title":"raa0121/mingw-gvim-transparency","title_link":"https://github.com/raa0121/mingw-gvim-transparency/blob/master/PKGBUILD#L45-L54","text":"Contribute to raa0121/mingw-gvim-transparency development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/237271?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/raa0121/mingw-gvim-transparency/blob/master/PKGBUILD#L45-L54","original_url":"https://github.com/raa0121/mingw-gvim-transparency/blob/master/PKGBUILD#L45-L54"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K1cCO"}]},{"client_msg_id":"86af2c79-06fa-4f3d-babf-d10ceccecac4","type":"message","user":"UAZ33BKV2","text":"ありがとうございます。\nほぼhomebrewからもってきたので、参考としては「すでに参考にしてる」になってしまいますが...w\n# Linux/macで更新しつづけてる実績のものがそれだったので","ts":"1601628641.175400","team":"T03C4RC8V","reactions":[{"name":"pray","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oNo75"}]},{"client_msg_id":"03b6942c-220f-42a7-a29d-e4c786a941e3","type":"message","user":"UEACRCY0Z","text":"homebrew はこんな感じです\n\u003chttps://github.com/Homebrew/homebrew-core/blob/master/Formula/vim.rb#L45\u003e","ts":"1601628572.174300","attachments":[{"fallback":"GitHub: Homebrew/homebrew-core","id":1,"title":"Homebrew/homebrew-core","title_link":"https://github.com/Homebrew/homebrew-core/blob/master/Formula/vim.rb#L45","text":":beers: Default formulae for the missing package manager for macOS - Homebrew/homebrew-core","thumb_url":"https://repository-images.githubusercontent.com/52855516/4f1f7980-61d2-11e9-8d50-b1533a42f297","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":536,"thumb_height":250,"from_url":"https://github.com/Homebrew/homebrew-core/blob/master/Formula/vim.rb#L45","original_url":"https://github.com/Homebrew/homebrew-core/blob/master/Formula/vim.rb#L45"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ONP"}]},{"client_msg_id":"44539828-bb4c-4d96-8fb0-b54ac0683a2a","type":"message","user":"UAZ33BKV2","text":"ちなみにLinux/macでなるべく利用者環境を汲み取ったhugeビルドするに\n\u003chttps://github.com/tsuyoshicho/asdf-vim/blob/dd4c1e7387a6565867b15b9af7a73241dc2f85db/bin/install#L35-L47\u003e\nくらいで十分ですかね...なんか、「これはあったほうがいいよ」みたいなのあります?","ts":"1601628186.173700","attachments":[{"fallback":"GitHub: tsuyoshicho/asdf-vim","id":1,"title":"tsuyoshicho/asdf-vim","title_link":"https://github.com/tsuyoshicho/asdf-vim/blob/dd4c1e7387a6565867b15b9af7a73241dc2f85db/bin/install#L35-L47","text":"A simple asdf plugin for vim. Contribute to tsuyoshicho/asdf-vim development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/96727?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/tsuyoshicho/asdf-vim/blob/dd4c1e7387a6565867b15b9af7a73241dc2f85db/bin/install#L35-L47","original_url":"https://github.com/tsuyoshicho/asdf-vim/blob/dd4c1e7387a6565867b15b9af7a73241dc2f85db/bin/install#L35-L47"}],"team":"T03C4RC8V","reactions":[{"name":"yosasou","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YhK0x"}]},{"client_msg_id":"0a9ff7de-9f0a-45ac-93e1-1af4d9cb6ed8","type":"message","user":"U03C71D7H","text":"さっきのパッチ、よく考えたら dyn も対応した方がいい気がしてきたけど手元の Racket には .so がない","ts":"1601626362.172700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nQqA7"}]},{"client_msg_id":"5c25d1fe-83ab-47e9-9e55-7863f1ef2504","type":"message","user":"U03C6TEAZ","text":"ビルドの条件決定をソースの外側に委ね過ぎた結果ですね。","ts":"1601625910.172100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CtijA"}]},{"client_msg_id":"53d42650-871e-4a5e-a9db-3c393b636c2d","type":"message","user":"UAZ33BKV2","text":"goとかcargoとかのインフラ的にC/C++ in *nixが整備されたら覇権とれそうだが、そうじゃない限りにおいて、ビルド体験がなあ...","ts":"1601625620.170600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1xn+N"}]},{"client_msg_id":"deefbc23-e44c-4c67-a3eb-1d55c79f4d4c","type":"message","user":"U03C6TEAZ","text":"使えるかもと思って Windows に移植したけど。","ts":"1601625327.169200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"efl"}]},{"client_msg_id":"45c06c7a-d54f-4479-ab6a-5e2e5202b131","type":"message","user":"U06ECBRTJ","text":"ですよねー ＞小規模向き","ts":"1601625248.168700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1uO"}]},{"client_msg_id":"871f28bf-7bbd-419d-a44e-7a39da37052d","type":"message","user":"U03C6TEAZ","text":"あと clib のコードが好きじゃない。","ts":"1601625230.168300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I=vr"}]},{"client_msg_id":"b39b3a32-a734-4d5e-964e-6517024bfbdd","type":"message","user":"U03C6TEAZ","text":"clib 小規模向きなんですよねー。","ts":"1601625225.168000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hgz5P"}]},{"client_msg_id":"01fc7276-af34-4af7-8653-53a90109ba4a","type":"message","user":"U06ECBRTJ","text":"\u003chttps://mattn.kaoriya.net/software/lang/c/20140627222830.htm\u003e\nclib","ts":"1601625193.167700","attachments":[{"fallback":"Big Sky: Big Sky :: clib の使い勝手にマジ感動した","id":1,"title":"Big Sky :: clib の使い勝手にマジ感動した","title_link":"https://mattn.kaoriya.net/software/lang/c/20140627222830.htm","text":"システム開発屋がひっそり語るぼやき","thumb_url":"https://mattn.kaoriya.net/images/logo.png","blocks":null,"service_name":"Big Sky","service_icon":"https://mattn.kaoriya.net/favicon.ico","thumb_width":113,"thumb_height":113,"from_url":"https://mattn.kaoriya.net/software/lang/c/20140627222830.htm","original_url":"https://mattn.kaoriya.net/software/lang/c/20140627222830.htm"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HBgvX"}]},{"client_msg_id":"6ad3cdf3-2f07-44bd-868f-932429c7545a","type":"message","user":"U03C6TEAZ","text":"素の Makefile が好き。","ts":"1601625187.167600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BhwR"}]},{"client_msg_id":"53d0aa10-f98f-4aa1-8d73-dd3f78fc6dac","type":"message","user":"U03C6TEAZ","text":"cmake 便利なのは知ってるし、いくらかのプロジェクトで僕も使ってるけど、好きではない。","ts":"1601625172.167100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZmTGF"}]},{"client_msg_id":"ff1a5d52-caf3-45f0-a036-8411da652a13","type":"message","user":"U03C71D7H","text":"C 言語周りは決定的なエコシステムがないから、ビルド時に依存を取得するっていうのが難しいのよね","ts":"1601625096.166500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h=tx8"}]},{"client_msg_id":"6f6cf6c4-8407-41b9-9e23-7e4bf4d92cae","type":"message","user":"U03C71D7H","text":"if_mzscheme 別に使ってないけど直せたので直しました、という…","ts":"1601625055.165800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Aoy9"}]},{"client_msg_id":"1d2644d8-e4dd-4256-bc1c-9933a2cb5941","type":"message","user":"U9S4G0LJW","text":"あれ嫌い","ts":"1601625053.165700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YUh"}]},{"client_msg_id":"121ec3ba-3b62-4ab1-908a-1a57214fce7a","type":"message","user":"U06ECBRTJ","text":"ninja…","ts":"1601625053.165600","edited":{"user":"U06ECBRTJ","ts":"1601625058.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8VpP0"}]},{"client_msg_id":"b37a100c-e1e5-468a-a8bf-9c2ebae56dcc","type":"message","user":"U06ECBRTJ","text":"CMake…","ts":"1601625046.165100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vwi"}]},{"client_msg_id":"401d1fd1-3d46-4caf-9601-ad887a9acbac","type":"message","user":"U9S4G0LJW","text":"autotoolsつらいけど、マシな代替手段がないというのがつらい所","ts":"1601625038.164800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D8ca"}]},{"client_msg_id":"717c9dd1-82e7-473e-9e00-e535a9e6cd7e","type":"message","user":"U03C71D7H","text":"久々の PR がこれっていうのがとてもアレ (私自身の目的からだいぶ乖離しているw)","ts":"1601625028.164500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yh/ud"}]},{"client_msg_id":"1c61af2f-c305-4432-aee5-a532416c392a","type":"message","user":"U03C6TEAZ","text":"それをリネームして使う。","ts":"1601625023.164300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5MReU"}]},{"client_msg_id":"83504f3d-531f-40f4-8661-e4aef10a11ad","type":"message","user":"U03C6TEAZ","text":"configure.scan は autoscan した後にできるやつすね。","ts":"1601625018.163900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B=l0P"}]},{"client_msg_id":"9855098a-725b-4501-8219-c68680a8ead1","type":"message","user":"U03C71D7H","text":"PRed \u003chttps://github.com/vim/vim/pull/7062\u003e","ts":"1601624997.162900","attachments":[{"fallback":"GitHub: Update configure.ac for Racket 6.1+ by thinca · Pull Request #7062 · vim/vim","id":1,"title":"Update configure.ac for Racket 6.1+ by thinca · Pull Request #7062 · vim/vim","title_link":"https://github.com/vim/vim/pull/7062","text":"\u003chttps://download.racket-lang.org/v6.10.html\u003e A part of racket library was separated to rktio since Racket 6.1. I checked the operation with a Racket 7.8.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/pull/7062","original_url":"https://github.com/vim/vim/pull/7062"}],"team":"T03C4RC8V","reactions":[{"name":"tada","count":4,"users":["U9S4G0LJW","U06BRP8VD","UAZ33BKV2","U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TVT"}]},{"client_msg_id":"c74831e4-a409-4360-a60f-302e0d78c31d","type":"message","user":"U06ECBRTJ","text":"\u003chttp://www.02.246.ne.jp/~torutk/cxx/automake/automake.html\u003e","ts":"1601624995.162800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/orK"}]},{"client_msg_id":"bdf0e312-0ae1-4684-9eae-591a470c7869","type":"message","user":"U06BRP8VD","text":"Vimの話と一般の話がまざってた。","ts":"1601624975.162400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J+GX"}]},{"client_msg_id":"8f6ba2ae-8a06-4d32-ae92-53a7b7071e33","type":"message","user":"U03C6TEAZ","text":"元々は configure こそ環境非依存の Makefile を作る為のツールだったのに configure そのものが環境依存になって、いったい何が環境非依存なんだというお気持ち。","ts":"1601624972.162300","edited":{"user":"U03C6TEAZ","ts":"1601624989.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NE1"}]},{"client_msg_id":"ce4ba668-6ba6-46b4-90a6-ad0f5c68d76c","type":"message","user":"U06ECBRTJ","text":"configure.scan もあるのかな","ts":"1601624969.162000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JuN3"}]},{"client_msg_id":"832138a6-976a-40c0-95ed-8cd62ea1e311","type":"message","user":"U06BRP8VD","text":"ああそれ","ts":"1601624961.161500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ePNM"}]},{"client_msg_id":"07e6df28-e9d1-4858-a925-36e0d50cdf5e","type":"message","user":"U06ECBRTJ","text":"\u003chttp://Makefile.am|Makefile.am\u003e ですか？","ts":"1601624937.160900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gwsp8"}]},{"client_msg_id":"60056510-ede6-4ed7-b136-2080defc33b4","type":"message","user":"U06BRP8VD","text":"もう1つなんかなかったっけ? 気のせいか?","ts":"1601624926.160200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FvI"}]},{"client_msg_id":"321dd2d7-e50f-439a-8345-22aab52bb0d9","type":"message","user":"U06BRP8VD","text":"あれ?","ts":"1601624916.159800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DQdmM"}]},{"client_msg_id":"f1417e56-28ef-4bda-9cc1-40365e4eff69","type":"message","user":"U03C6TEAZ","text":"Makefile は configure で作られ、configure は \u003chttp://configure.ac|configure.ac\u003e で作れら、\u003chttp://configure.ac|configure.ac\u003e は人間によって作られる。","ts":"1601624881.159300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KP9"}]},{"client_msg_id":"d567436a-0101-43c3-8ca0-bca0dd02dcbc","type":"message","user":"U9S4G0LJW","text":"配布物にconfigure入ってるのは基本だけど、Gitリポジトリにコミットされてるのは珍しい印象","ts":"1601624830.157700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ORwZ"}]},{"client_msg_id":"8100bca6-e702-462c-9350-d6d0693768b0","type":"message","user":"U06BRP8VD","text":"configureはすぐに使えるという観点から99%配布物に混ざってるんですよね。ただそれ自体はautoconfで作られるという。","ts":"1601624812.157300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XMi0"}]},{"client_msg_id":"e4bfb0f4-6423-44eb-b2e2-0e5bd3334ac6","type":"message","user":"U03C6TEAZ","text":"あれほど綺麗に流されるとこちらも気持ちいい。","ts":"1601624770.155900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=Bt"}]},{"client_msg_id":"58d311ee-7c9e-43e8-a637-0582810c613c","type":"message","user":"U06ECBRTJ","text":"ふぁぼしてた","ts":"1601624741.155000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ozfc"}]},{"client_msg_id":"21116407-77c1-4a44-a134-32160edbe5c9","type":"message","user":"U03C6TEAZ","text":"～ あれから6年 ～ \u003chttp://quyo.hatelabo.jp/items/549241c433643700025f0000\u003e","ts":"1601624700.154500","attachments":[{"fallback":"Quyo | つづろう、モノの思い出: mruby で Vim を制御できるパッチ、if_mrubyの思い出 by mattn - Quyo","id":1,"title":"mruby で Vim を制御できるパッチ、if_mrubyの思い出 by mattn - Quyo","title_link":"http://quyo.hatelabo.jp/items/549241c433643700025f0000","text":"mruby は軽量な ruby の実装だ。 ソースの綺麗さが気に入り、コントリビュートする様になった。 そして僕は Vim も好きだ。 この2つが合わさったら面白いんじゃね？ そんな思いで Vim から mruby を使える、そして mruby から Vim を制御できるパッチを書いた。 気に入っていた。 実に機嫌よく動いた。 これはきっと、Vim の開発メーリングリストでも人気になるぞ！そう確信していた。 僕は意気揚々とパッチの紹介文を書き、vim-dev に送った。 返事が来ない。 誰も反応しない。 おかしい。これはメールサーバの不調に違いない。そんな風にも思ったかもしれない。 あれからそろそろ2年の月日が経とうとしている。 あのスレッドには未だだれも反応が無い。 \u003chttps://groups.google.com/d/msg/vim_dev/HSLOZYvPtbM/4lLHzso6qXcJ\u003e そろそろあのパッチも眠らせてあげたいと思う。 さようなら。if_mruby。 思い出をありがとう。","thumb_url":"http://quyo.hatelabo.jp/images/og-image.jpg","blocks":null,"service_name":"Quyo | つづろう、モノの思い出","service_icon":"http://quyo.hatelabo.jp/images/favicon.ico","thumb_width":1200,"thumb_height":630,"from_url":"http://quyo.hatelabo.jp/items/549241c433643700025f0000","original_url":"http://quyo.hatelabo.jp/items/549241c433643700025f0000"}],"team":"T03C4RC8V","reactions":[{"name":"heart","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o7s"}]},{"client_msg_id":"d74ec626-b3c3-41a3-a581-958dd625a737","type":"message","user":"U03C71D7H","text":"大抵の場合、自動生成系はそもそもリポジトリに入れないのがベストプラクティスだとは思うんだけど、まあ色々事情がありそうというのもなんとなく察せる","ts":"1601624696.154300","team":"T03C4RC8V","reactions":[{"name":"desune","count":3,"users":["U9S4G0LJW","UAZ33BKV2","U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/ETTv"}]},{"client_msg_id":"963b55e3-49a8-4b60-b1ee-caaeac795e8d","type":"message","user":"U9S4G0LJW","text":"まあ自動生成系なのでバージョン上げると中身が変わるのはしょうがないよな","ts":"1601624635.153400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8zs"}]},{"client_msg_id":"1b11f159-ec6e-4f1b-a489-e240f3e1d356","type":"message","user":"U03C6TEAZ","text":"if_mruby は可哀そうな子。","ts":"1601624633.153300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vLG"}]},{"client_msg_id":"74247b9f-ab3e-498d-97af-4e012b0f12bf","type":"message","user":"U03C71D7H","text":"環境依存…","ts":"1601624594.152700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u3/m"}]},{"client_msg_id":"12c800bd-4fa6-42a1-b819-99f2d9628557","type":"message","user":"U03C71D7H","text":"なるほど…。","ts":"1601624588.152500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PHQ"}]},{"client_msg_id":"1c172cd4-4dd4-4942-be34-2a5af386d3db","type":"message","user":"U6XP9LZ6V","text":"それも auto をパッチに含めなくてよい理由。","ts":"1601624585.152400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tkZ"}]},{"client_msg_id":"366804a6-f994-48a5-afaa-96dbbb40b287","type":"message","user":"U6XP9LZ6V","text":"autoconf のバージョンが bram が使っているものと一致していないといろいろ差分が出てしまいます。","ts":"1601624560.151800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"inpoy"}]},{"client_msg_id":"ea13e7b2-5b33-45ba-9060-4c159d047d6c","type":"message","user":"U03C71D7H","text":"`runstatedir` とか言うのが消えた。よくわかってない","ts":"1601624507.150900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DiX"}]},{"client_msg_id":"b67717d1-f99e-499a-8286-b7b7004cae0b","type":"message","user":"U03C71D7H","text":"できた。なんか関係ないところ色々変わったw","ts":"1601624489.150400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bxZC2"}]},{"client_msg_id":"651b563a-1269-4db3-9375-6b86803380b6","type":"message","user":"U03C71D7H","text":"なるほどそっちでやるんですね","ts":"1601624462.149900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/dY"}]},{"client_msg_id":"f3673778-f4da-471d-bfe5-d49a14d0ec7e","type":"message","user":"U6XP9LZ6V","text":"src の下で実行してますか？","ts":"1601624453.149700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ND27D"}]},{"client_msg_id":"8c766d37-891d-400b-93b9-b9ed60996d24","type":"message","user":"U03C71D7H","text":"```% make autoconf\nmake: *** ターゲット 'autoconf' を make するルールがありません.  中止.```\nあれ…","ts":"1601624432.149100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0Tzk"}]},{"client_msg_id":"2d0c628c-96c6-4a55-aeaa-1f0b01e1d19a","type":"message","user":"U6XP9LZ6V","text":"CI を動かす意味では auto も更新した方がいいのでしょうが、今回は if_mzsch なのでやっぱり無くても問題ないですね","ts":"1601624422.148900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UKOJB"}]},{"client_msg_id":"c743f054-ddb5-49a0-8da3-f25540423c90","type":"message","user":"U03C71D7H","text":"お、なるほど。ありがとうございます！","ts":"1601624375.147900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dHZM"}]},{"client_msg_id":"a283b2c8-dda7-4570-8e22-825b9a6bb4bf","type":"message","user":"U6XP9LZ6V","text":"`make autoconf` を実行すれば、auto のファイルが更新されます。が、どうせ bram が更新するので、パッチに含める必要はあまりありません。","ts":"1601624341.147500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N7Oor"}]},{"client_msg_id":"82374036-7ec3-48f8-a7a6-223f061df497","type":"message","user":"U03C71D7H","text":"てことは src/auto/configure を生成した状態でパッチを送らないとまずい?","ts":"1601624340.147400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p31xy"}]},{"client_msg_id":"0293de11-d47b-4c20-a692-d53e61b543e1","type":"message","user":"U06BRP8VD","text":"そうそう。autoしたは生成されたファイルなんですよ。","ts":"1601624260.145800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zIG/"}]},{"client_msg_id":"0fc6812f-db1f-4b88-a378-34000776d819","type":"message","user":"U03C71D7H","text":"生成されたファイルがリポジトリに入ってるのか","ts":"1601624257.145700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vyjMM"}]},{"client_msg_id":"1b6628e5-d7f9-465b-b7bd-1ec81b69b348","type":"message","user":"U03C71D7H","text":"おお、なるほど。やってみます！","ts":"1601624248.145300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2IYH"}]},{"client_msg_id":"fc1fcfa6-8516-4b17-98d0-a8bfa39b7037","type":"message","user":"U6XP9LZ6V","text":"パッチを送る場合は `src/configure.ac` の方を変更しましょう","ts":"1601624236.144900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4Xa"}]},{"client_msg_id":"69d0625f-4b0b-489c-8e32-318697e6e718","type":"message","user":"U03C71D7H","text":"でないと `git diff` で差分が出ない :innocent:","ts":"1601624232.144700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D0cU"}]},{"client_msg_id":"b417d41f-5ad1-4e96-9e09-21a616869e16","type":"message","user":"U03C71D7H","text":"おや? リポジトリに登録されてるファイルですが…","ts":"1601624221.144300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fzc"}]},{"client_msg_id":"733839b8-f5e6-4727-90c8-8a00c3853141","type":"message","user":"U06BRP8VD","text":"記憶があやふやなんだけど。","ts":"1601624212.143900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1i/"}]},{"client_msg_id":"862c38c0-bc25-40d7-ad8b-fa4763c4589b","type":"message","user":"U06BRP8VD","text":"これって生成されたコードのほうでなかったっけ?","ts":"1601624201.143400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a4J"}]},{"client_msg_id":"61f82fa5-5fb3-4ab4-b44a-0baae87a5164","type":"message","user":"U03C71D7H","text":"\u003chttps://download.racket-lang.org/v6.10.html\u003e\nRacket 6.1 で rktio がライブラリ分離されたらしいと言う情報は発見した","ts":"1601624195.143200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lK5"}]},{"client_msg_id":"428483f0-7895-483e-9663-b27fd5de7fbb","type":"message","user":"U06BRP8VD","text":"あ、れ?","ts":"1601624193.143000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1bl6"}]},{"client_msg_id":"5aa0b362-1bd9-428c-8900-53877ee81dd6","type":"message","user":"U03C71D7H","text":"```diff --git a/src/auto/configure b/src/auto/configure\nindex 37a60fad2..13eaea6f8 100755\n--- a/src/auto/configure\n+++ b/src/auto/configure\n@@ -5823,6 +5823,9 @@ $as_echo \"not found\" \u0026gt;\u0026amp;6; }\n          MZSCHEME_CFLAGS=\"-DMZ_PRECISE_GC\"\n        elif test -f \"${path}/libracket3m.a\"; then\n          MZSCHEME_LIBS=\"${path}/libracket3m.a\"\n+         if test -f \"${path}/librktio.a\"; then\n+           MZSCHEME_LIBS=\"${MZSCHEME_LIBS} ${path}/librktio.a\"\n+         fi\n          MZSCHEME_CFLAGS=\"-DMZ_PRECISE_GC\"\n        elif test -f \"${path}/libracket.a\"; then\n          MZSCHEME_LIBS=\"${path}/libracket.a ${path}/libmzgc.a\"```\nこのパッチで Racket 7.8 でビルド成功したんですけど、送って大丈夫ですかね…? なお細かい事情は何もわかっていない","ts":"1601624169.142300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iQQ4M"}]},{"client_msg_id":"8f995df8-630d-48cd-a40c-62976f843de5","type":"message","user":"U6XP9LZ6V","text":"vim-win32-installer では if_mzsch 付きでビルドして、ちゃんとテストもしています。","ts":"1601624164.142100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W6a4"}]},{"client_msg_id":"4f76afe3-2b09-419e-9692-edc06b756b33","type":"message","user":"U9S4G0LJW","text":"mrubyってそもそもリンクできるんでしたっけ","ts":"1601624157.141800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eHaz"}]},{"client_msg_id":"a85d6efd-97b8-456c-9af3-1a6c5bc6a7c0","type":"message","user":"U06ECBRTJ","text":"mruby…","ts":"1601624120.140300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tVy"}]},{"client_msg_id":"4037ff9b-dbe3-4cad-9b7c-b27a29ceda4f","type":"message","user":"U03C71D7H","text":"ふぇぇ","ts":"1601624114.140000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=z+b"}]},{"client_msg_id":"83a75eaf-ea38-4061-b37a-d72606d41b8f","type":"message","user":"U6XP9LZ6V","text":"知らない子","ts":"1601624095.139400","team":"T03C4RC8V","reactions":[{"name":"hai-small","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vMUs"}]},{"client_msg_id":"ac1194ba-128a-4677-852a-25d53e43ce70","type":"message","user":"U9S4G0LJW","text":"mzschemeェ…","ts":"1601624079.139200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uyfph"}]},{"client_msg_id":"fd88e3f9-c6d8-49e2-bc2e-9c6b72d09162","type":"message","user":"U6XP9LZ6V","text":"`.travis.yml` によると、linux-huge で `--enable-perlinterp --enable-pythoninterp --enable-python3interp --enable-rubyinterp --enable-luainterp --enable-tclinterp` となっている","ts":"1601624061.139000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cSc="}]},{"client_msg_id":"97d2b809-a9e6-41f5-a110-6f389d19f2a6","type":"message","user":"U03C71D7H","text":"\u003chttps://github.com/vim/vim/blob/master/ci/if_ver-1.vim\u003e なんかしてそうな気配","ts":"1601624018.138400","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/master/ci/if_ver-1.vim","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/master/ci/if_ver-1.vim","original_url":"https://github.com/vim/vim/blob/master/ci/if_ver-1.vim"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U/U3"}]},{"client_msg_id":"4fd53ae5-2070-4b50-88a6-b1043a657b1c","type":"message","user":"UAZ33BKV2","text":"最新がビルドできるか、しかチェックしてないなあ \u0026gt; asdf-vim","ts":"1601623964.137800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WdSM"}]},{"client_msg_id":"1796ffb5-8c2f-4950-991b-6a45c2661313","type":"message","user":"U03C71D7H","text":"どなたかご存じの方: Vim って各種外部インターフェース入りでビルドできるかって CI でテストしてたりします?","ts":"1601623836.137500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TTlhO"}]},{"client_msg_id":"22bfd922-064e-479d-af6b-5baba91713ab","type":"message","user":"U03C71D7H","text":"master 以外のブランチ…だと… (chrisbra が CI のテストしてるっぽいな)","ts":"1601622877.136900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IYj"}]},{"client_msg_id":"e2e42152-fcc0-482a-8f85-35bc027efb71","type":"message","user":"U03C71D7H","text":"ん? \u003chttps://github.com/vim/vim/tree/chrisbra-patch-1\u003e","ts":"1601622801.136100","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/tree/chrisbra-patch-1","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/tree/chrisbra-patch-1","original_url":"https://github.com/vim/vim/tree/chrisbra-patch-1"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MIjV8"}]},{"type":"message","user":"U03C6TEAZ","text":"つらいかんじだった。","ts":"1601622148.135600","files":[{"id":"F01C0HH7DLL","created":1601622143,"timestamp":1601622143,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":0,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":16933,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F01C0HH7DLL/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F01C0HH7DLL/download/image.png","original_h":197,"original_w":501,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F01C0HH7DLL-f7f2f45c1c/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F01C0HH7DLL-f7f2f45c1c/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F01C0HH7DLL-f7f2f45c1c/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F01C0HH7DLL-f7f2f45c1c/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":142,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-F01C0HH7DLL-f7f2f45c1c/image_480.png","thumb_480_w":480,"thumb_480_h":189,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/F01C0HH7DLL/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-F01C0HH7DLL-14eccb1401","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwASADCj6U3tTvSk9PpQAY4/+tTe5x0pTg9qaeexzQAlFGD6UUALk+ppMn1NFFABk+poyfU0UUAGT6miiigD/9k=","username":""}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9aY"}]},{"client_msg_id":"68e0b44f-63cf-4beb-821e-07b590117932","type":"message","user":"U8CC7MDCL","text":"vifmをvimに空目して\n「takataさんが初めてvimを使った…？妙だな…」\nってなった","ts":"1601621578.135400","team":"T03C4RC8V","reactions":[{"name":"grin","count":2,"users":["U6XP9LZ6V","U06ECBRTJ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HuA"}]},{"client_msg_id":"f163894c-16bd-46b6-8e23-6271efe11f63","type":"message","user":"U6XP9LZ6V","text":"ちなみに vifm は初めて使ってみましたが、zip を解凍するだけで簡単に動かせました。","ts":"1601621042.133700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tnkpl"}]},{"client_msg_id":"e09b3746-f929-4ba6-90ab-733cd166d4ab","type":"message","user":"U6XP9LZ6V","text":"ありがとうございました。","ts":"1601620994.132800","team":"T03C4RC8V","reactions":[{"name":"man-gesturing-ok","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"toW"}]},{"client_msg_id":"33539219-c0e4-43b8-a291-e57b2bc6f63f","type":"message","user":"U03C6TEAZ","text":"vifm 入れてないので既存動作の確認になりますが...","ts":"1601619392.132500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ir4tF"}]},{"client_msg_id":"5e2137b1-3a4a-472f-b32b-6b8bb1bc7562","type":"message","user":"U6XP9LZ6V","text":"一応、mingwでも問題ないか確認していただけるとありがたいです。","ts":"1601618447.132200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hWmN"}]},{"client_msg_id":"d21bca78-b1c0-4093-91a2-ea59e4cf6840","type":"message","user":"U6XP9LZ6V","text":"リダイレクトなにもわからない","ts":"1601618392.131600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cBP"}]},{"client_msg_id":"e5cf55ee-34cf-40cf-b41a-37bcdae105d9","type":"message","user":"U03C6TEAZ","text":"まじかーw","ts":"1601616830.131200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uhdc"}]},{"client_msg_id":"ea2b0bc5-21ca-4271-9dff-7ceea9e79798","type":"message","user":"U03C6TEAZ","text":"あー、そういう修正？w","ts":"1601616822.131000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o4fe"}]},{"client_msg_id":"40043cd5-aae2-4d89-a4d5-2d54b4ad35d5","type":"message","user":"U6XP9LZ6V","text":"なんか納得いっていないけど、とりあえず PRed\n\u003chttps://github.com/vim/vim/pull/7061\u003e","ts":"1601611521.130600","attachments":[{"fallback":"GitHub: win32,python3: Fix crash when executed from Vifm by k-takata · Pull Request #7061 · vim/vim","id":1,"title":"win32,python3: Fix crash when executed from Vifm by k-takata · Pull Request #7061 · vim/vim","title_link":"https://github.com/vim/vim/pull/7061","text":"Fixes #7053. It seems that freopen(\"CONIN$\", ...) fails when vim is executed from Vifm. Use \"NUL\" instead of \"CONIN$\".","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/pull/7061","original_url":"https://github.com/vim/vim/pull/7061"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rOBF="}]},{"client_msg_id":"86fe5dc6-18e0-49d4-abc0-6af2c31630d8","type":"message","user":"U6XP9LZ6V","text":"なぜ `NUL` で動くんだ、コンソールではないのに？","ts":"1601610764.129800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zJb"}]},{"client_msg_id":"c6e4431f-2c62-4e14-ac25-47625611083b","type":"message","user":"U6XP9LZ6V","text":"vifm 使ってみたら確かに再現した。なぜか `freopen(\"CONIN$\", ...)` で `CONIN$` のオープンに失敗している模様。reopen 後の stdin に対して `_get_osfhandle()` を呼ぶと -1 が返ってくる。`CONIN$` の代わりに `NUL` を reopen すると動いてそう。","ts":"1601610700.129200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HdK"}]},{"client_msg_id":"82352f10-3ba2-4cec-8548-11b741e3a188","type":"message","user":"U6XP9LZ6V","text":"`vim -c \"py3 print(1)\" \u0026lt; NUL` だと問題なく動いた","ts":"1601601398.125400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"f2K"}]},{"client_msg_id":"3eea871f-6c69-47eb-8e55-0055891e7fc5","type":"message","user":"U6XP9LZ6V","text":"vifm 使わないと再現しないと言っているのがめんどい","ts":"1601601325.124200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kaa"}]},{"client_msg_id":"67f29a4d-efeb-427d-bcd1-4e8456d6a2fd","type":"message","user":"U03C6TEAZ","text":"reset_stdin 呼び出すのを `if (isatty(fileno(stdin)))` でやる様にしたらどうだろう。vifm ないのでわからない。","ts":"1601599573.123600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"H1QCx"}]},{"client_msg_id":"a974da99-6ab8-4545-a544-18ec201cb91c","type":"message","user":"U03C6TEAZ","text":"ひとまず再現か。","ts":"1601598660.122800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S9WTP"}]},{"client_msg_id":"a5905861-10a7-4051-8e4c-f79b38d16e0a","type":"message","user":"U03C6TEAZ","text":"freopen かなんかでしたっけ。NUL でやったから？","ts":"1601598644.122600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"izz"}]},{"client_msg_id":"b54f42e4-43fd-4254-af48-31b2d1373b6f","type":"message","user":"U03C6TEAZ","text":"ぶひー","ts":"1601598604.122300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BIv="}]},{"client_msg_id":"8cde9c6e-820d-4fc3-a672-275a95ad44f5","type":"message","user":"U6XP9LZ6V","text":"まだ試していないけど、stdin がリダイレクトされているときに if_python3 が使えなかった問題を修正したパッチで問題が起きるようになったらしい。Cc: \u003c@U03C6TEAZ\u003e\n\u003chttps://github.com/vim/vim/issues/7053\u003e","ts":"1601598319.122000","attachments":[{"fallback":"GitHub: python3 crash related to stdin being redirected on Windows · Issue #7053 · vim/vim","id":1,"title":"python3 crash related to stdin being redirected on Windows · Issue #7053 · vim/vim","title_link":"https://github.com/vim/vim/issues/7053","text":"gVim started with NUL for standard input is aborted by Python3 on Windows. To Reproduce Only know how to reproduce it using Vifm 0.11 (source): Execute :!gvim \u0026amp; in vifm Execute :pythonx print(\u0026amp;...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/issues/7053","original_url":"https://github.com/vim/vim/issues/7053"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vfZpW"}]}]
