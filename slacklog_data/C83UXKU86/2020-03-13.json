[{"client_msg_id":"fd345e0e-c2ba-46e2-8e3c-5659d7109084","type":"message","user":"U6XP9LZ6V","text":"Ruby の st に比べると khash の方が圧倒的に速かった。\n<https://gist.github.com/k-takata/25ae2df8d236764ac33a77fa69410a45>","ts":"1584083532.367200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M5PkX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b168de0b-797c-482b-bd75-d94445b63f49","type":"message","user":"U6XP9LZ6V","text":"Vimに組み込むことを考えると、文字列をキーにしたベンチマークの方がいいのだろうけど。","ts":"1584083581.367900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ufwd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"45bf7a28-df7f-4586-9004-a8057e11d579","type":"message","user":"UAZ33BKV2","text":"桁1つ違いますねえ","ts":"1584083678.368100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NGw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7d5f2cf6-8fa7-47f2-91c8-a2ce5b634569","type":"message","user":"U6XP9LZ6V","text":"肝心のVimのhashを計ってないけど、たぶんkhashの方が速いだろうねー","ts":"1584084261.369000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RPp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"585df97e-fbd3-42cd-96da-e6c444a1f548","type":"message","user":"U03C6TEAZ","text":"khash はバケモンです。","ts":"1584084849.369300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4lup"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2a7cd3e-20fd-4c69-9a6e-77cdbc8a2ef9","type":"message","user":"U03C6TEAZ","text":"picohashmap の README.md にも書いた気がする。","ts":"1584084880.369600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eTr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"421ffd38-b8ef-4c02-b5d8-287b1d61856b","type":"message","user":"U03C6TEAZ","ts":"1584084888.369700","files":[{"id":"FUZ5QLT26","created":1584084884,"timestamp":1584084884,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":5597,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FUZ5QLT26/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FUZ5QLT26/download/image.png","original_h":156,"original_w":324,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FUZ5QLT26-1a44dd9ebd/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FUZ5QLT26-1a44dd9ebd/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FUZ5QLT26-1a44dd9ebd/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FUZ5QLT26-1a44dd9ebd/image_360.png","thumb_360_gif":"","thumb_360_w":324,"thumb_360_h":156,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FUZ5QLT26/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FUZ5QLT26-a460f3270e","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAXADDSOO5oyPUUHGOcUmV9qAFyPWjI9RSZX2oyg9KAFyPUUde9J8voKUcdBQAEZFJt46/pTqKAG7Tnr+lJsP8AeP6U+igBu3nOaWlooA//2Q==","username":""}],"upload":true,"reactions":[{"name":"goodjob","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"aa161ce5-409a-46a6-a16e-593154b7617a","type":"message","user":"U6XP9LZ6V","text":"さっきのベンチマーク、picohashmapのコードをそのまま拝借しましたｗ","ts":"1584085344.370800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1KgGt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d7c5694-5a21-49e8-a61c-2b5a45eb5649","type":"message","user":"U6XP9LZ6V","text":"picohashmap自体は試してないけど、mattnさんのベンチマーク結果と見比べると、stの方が若干速そう。","ts":"1584085484.371700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aqA0p"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"994f37fb-1c04-4d46-8262-1d679a333365","type":"message","user":"U03C6TEAZ","text":"すごい","ts":"1584085634.372000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sbt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"48e75fd8-995f-4fc0-9941-d91facbf77f1","type":"message","user":"U03C6TEAZ","text":"khash get がどちゃくそ速いのか。","ts":"1584085691.372300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NsJA5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"11a6bfa7-9be3-4b56-9fae-03d3bc616445","type":"message","user":"U03C6TEAZ","text":"まぁでも改善してもそんな変わらないレベルですねここ。","ts":"1584085727.372600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ECFl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c3028ea8-9cd1-429e-9e2c-7021d587c6ba","type":"message","user":"U6XP9LZ6V","text":"文字列をキーにすると、ちょっと差が縮まったかな。\n```&gt;khash_test\nklib hash put: 4.223000 [sec]\nklib hash get: 2.414000 [sec]\n\n&gt;st_test\nst hash put: 5.829000 [sec]\nst hash get: 3.870000 [sec]```\nputの方は `strdup` でキーをコピーするようにしたから遅くなって当然だけど、getが一気に遅くなったなー。","ts":"1584090421.374700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hwff"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76b9a115-4f51-412f-919b-6ed37ebf627a","type":"message","user":"U9S4G0LJW","text":"Vimのterminal、ひょっとしてたまにカーソル位置に行が存在しないケースがある？\nターミナルの存在するタブでcmdwin開いたら`E315: ml_get: 無効なlnumです: 9287` とか出てきた","ts":"1584106084.376200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bTBO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b450234a-39f3-483d-ac99-2386810566e6","type":"message","user":"U9S4G0LJW","text":"バックトレースも貼っておきます","ts":"1584106128.376600","files":[{"id":"FVCHM325N","created":1584106126,"timestamp":1584106126,"name":"無題","title":"無題","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U9S4G0LJW","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":4674,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FVCHM325N/______","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FVCHM325N/download/______","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U9S4G0LJW/FVCHM325N/______","permalink_public":"https://slack-files.com/T03C4RC8V-FVCHM325N-4282913cf1","edit_link":"https://vim-jp.slack.com/files/U9S4G0LJW/FVCHM325N/______/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i5EJ"}]},{"client_msg_id":"a546dab8-12aa-4f88-bf6c-a2228e600d40","type":"message","user":"UAZ33BKV2","text":"2D RPGの枠の外みたいな...","ts":"1584106267.377100","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+GV5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c3df29db-ed76-491d-ba2e-70a859286a86","type":"message","user":"U9S4G0LJW","text":"`#24`の`scroll_to_fraction`の中でカーソル位置を取ったものがlnumとして渡ってるので恐らく枠の外参照しちゃってるんだと思うんですが、別のvimで再現しようとしても上手くいかないので手詰まり","ts":"1584106494.379000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4QxIx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fcf63911-067d-44ab-aac7-2241724e0a42","type":"message","user":"U03C6TEAZ","text":"Windows では起きなかった。","ts":"1584109274.379200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=UqX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"57be4fa2-c3ef-4939-b5aa-dd35d986ff00","type":"message","user":"U9S4G0LJW","text":"Linuxでも何度も再現しようとしてるけど起きない","ts":"1584109357.379600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vQx4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"12f6758f-f288-4e2f-b144-7a8f34e223e0","type":"message","user":"U9S4G0LJW","text":"ここまで再現度低いなら問題ない気もするんだけどなんか気持ち悪い","ts":"1584109377.380100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mdbtX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"043df73f-05db-477e-92b5-f0823c263236","type":"message","user":"U03C6TEAZ","text":"k-takata さんに悲しいお知らせだ。 <https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket|https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket>","ts":"1584052156.364600","attachments":[{"fallback":"Bitbucket: Sunsetting Mercurial support in Bitbucket - Bitbucket","id":1,"title":"Sunsetting Mercurial support in Bitbucket - Bitbucket","title_link":"https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket","text":"The version control software market has evolved a lot since Bitbucket began in 2008. When we launched, centralized version control was…","image_url":"https://rlmr51w5rw3n7zek1m7tizzg-wpengine.netdna-ssl.com/wp-content/uploads/2019/08/bitbucket-logo-gradient-blue@2x.png","blocks":null,"ts":1566294922,"service_name":"Bitbucket","service_icon":"https://rlmr51w5rw3n7zek1m7tizzg-wpengine.netdna-ssl.com/wp-content/uploads/2017/09/cropped-android-chrome-512-1-180x180.png","from_url":"https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket","original_url":"https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=FIup"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"55a74e3b-8d3f-4ba3-a5d0-40a3e1b0e27a","type":"message","user":"U6XP9LZ6V","text":"すでにosdnに移っています。","ts":"1584055590.365300","team":"T03C4RC8V","reactions":[{"name":"otz","count":4,"users":["UAZ33BKV2","U03C6TEAZ","U06BRP8VD","U7JL1UKKL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"z+o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac0f6ce0-4e0b-4b94-a1c3-fa524b749343","type":"message","user":"U6XP9LZ6V","text":"パッチのリポジトリはここです。\n<https://osdn.net/users/k_takata/pf/vim-ktakata-mq/wiki/FrontPage>","ts":"1584064093.366000","attachments":[{"fallback":"vim-ktakata-mq Wiki - OSDN","id":1,"title":"vim-ktakata-mq Wiki - OSDN","title_link":"https://osdn.net/users/k_takata/pf/vim-ktakata-mq/wiki/FrontPage","text":"vim-ktakata-mq Wiki #osdn","thumb_url":"https://static.osdn.net/OSDN_icon_125x125.png","blocks":null,"service_name":"osdn.net","service_icon":"https://osdn.net/favicon.ico","thumb_width":125,"thumb_height":125,"from_url":"https://osdn.net/users/k_takata/pf/vim-ktakata-mq/wiki/FrontPage","original_url":"https://osdn.net/users/k_takata/pf/vim-ktakata-mq/wiki/FrontPage"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uIc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
