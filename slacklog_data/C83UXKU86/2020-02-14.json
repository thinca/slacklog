[{"client_msg_id":"8f0661d2-931b-4dad-85b1-9da187e3d44f","type":"message","user":"U03C6TEAZ","text":"vim9script なのに function 定義っていけるんでしたっけ。","ts":"1581606007.051900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lWEP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f74874e8-c98b-48c6-acfc-156c85d8365a","type":"message","user":"UDDCM376D","text":"あ","ts":"1581606030.052200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CLMB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"32d5607a-159f-43da-8a85-6b857fa43093","type":"message","user":"U03C6TEAZ","text":"```vim9script\nlet hoge: list&lt;string&gt; = [1, 2, 3]\ndef Hoge(fuga)\n  echo fuga\nenddef\ncall Hoge(hoge)```","ts":"1581606032.052300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qzW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"10af2a70-cc4f-448b-b0ae-8c63bd0fdc07","type":"message","user":"UDDCM376D","text":"&gt; vim9script なのに function 定義っていけるんでしたっけ。\nいけますね","ts":"1581606043.052500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JSnQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2c816fb7-25a3-4e18-b712-56b221c84416","type":"message","user":"UDDCM376D","text":"```vim9script\n\nfunction A()\n  echo 'a'\nendfunction\n\ndef B()\n  echo 'b'\nenddef\n\ncall A()\ncall B()```","ts":"1581606085.052800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"An/Nz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"477df768-1bbe-4091-b5dc-c6f84453c95a","type":"message","user":"UDDCM376D","text":"ヘルプには\n```When using `:function` in a Vim9 script file the legacy syntax is used.\nHowever, this is discouraged.\n\nVim9 script and legacy Vim script can be mixed.  There is no need to rewrite\nold scripts, they keep working as before.```","ts":"1581606112.053100","edited":{"user":"UDDCM376D","ts":"1581606131.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h8SNx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ea9b06b-b35e-4ffa-9dcb-1aef175ffb04","type":"message","user":"U9S4G0LJW","text":"非推奨だけど使えるって書いてある","ts":"1581606132.053500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K/4Hz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"222e2c24-eac1-45a5-9362-c963addd4ffa","type":"message","user":"U03C6TEAZ","text":"まぁ vim9script はコンパイルされてるのにそこに未コンパイルな物を入れれないんでしょう。","ts":"1581606175.054200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vQy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"98b4014e-f75e-4d48-a668-acdf244c31a9","type":"message","user":"U03C6TEAZ","text":"逆か。","ts":"1581606188.054400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"m/md"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74988956-a0ed-47de-b1e1-4ac0f4b2495c","type":"message","user":"U03C6TEAZ","text":"行けなきゃいけない気はする。","ts":"1581606204.054700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=M8L"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"38cf107f-792a-4127-bb97-36b07fafeddd","type":"message","user":"UDDCM376D","text":"いけると思っていました","ts":"1581606226.055200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"avncp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f2c68dae-09f8-457d-9ce2-854a412d4112","type":"message","user":"UDDCM376D","text":"レガシーVim scriptでもVim9 scriptで定義した変数を受け取ることができた方が良い気がします","ts":"1581606269.056000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3MI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bdde6f3b-f90f-41df-a75a-9d08aeefbf7f","type":"message","user":"U9S4G0LJW","text":"Issueに報告したった","ts":"1581606302.056200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HI44g"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9a4407e-e14b-4aa5-a961-173768f6f5d5","type":"message","user":"U9S4G0LJW","text":"型チェックが厳密になったらこのへん締められそうな気はするけど","ts":"1581606373.056800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"F77"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5527e2fd-1bc1-499c-88bb-7cffd2490ce8","type":"message","user":"UDDCM376D","text":"ですね","ts":"1581606424.057000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q/Bc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"91cbf398-438b-4594-aa47-4fbd88701768","type":"message","user":"UDDCM376D","text":"```vim9script\n\ndef A()\n  let animals: list&lt;string&gt; = ['gorilla', 2, 3]\n  echo animals\nenddef\n\ncall A()```","ts":"1581606956.057500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CCc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b413b895-054f-4feb-a928-1e31cd98d5b6","type":"message","user":"UDDCM376D","text":"これも実行できる","ts":"1581606971.058100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dvzQ+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7aad73e8-9153-45ec-8eb8-daf9d46495a4","type":"message","user":"UDDCM376D","text":"型チェックガバガバの件","ts":"1581606974.058300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EHuPj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5f0a7cfa-25ab-4ae4-ba45-b7323e565f57","type":"message","user":"UDDCM376D","text":"とりあえずissueへポイした","ts":"1581607129.058700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oTsLP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fe6af76a-2885-4685-9b36-30b875c34af2","type":"message","user":"U9S4G0LJW","text":"全然関係ないけどOCamlのコンパイラの独自実装書いてた人が型システム壊れててもセルフホストコンパイラ書けるって言ってたの思いだす","ts":"1581607171.059400","team":"T03C4RC8V","reactions":[{"name":"fuita","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Kr4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2c1a608d-56f7-48bc-bdc9-6e2d288a49ae","type":"message","user":"U03C6TEAZ","text":"1個目しか見とらんな。","ts":"1581607861.059800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u0S2E"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e979a2c8-beeb-49ef-b5ac-84478eb895eb","type":"message","user":"U03C6TEAZ","text":"```vim9script\ndef A()\n  let animals: list&lt;string&gt; = [1, 2, 3]\n  echo animals\nenddef\ncall A()```\nこれエラー。","ts":"1581607868.060200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GcIw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4149700b-3ee0-450d-9b35-670e6f27ad6d","type":"message","user":"U6XP9LZ6V","text":"1個目しか見てないってコメントがソースにあったような記憶","ts":"1581608073.061000","team":"T03C4RC8V","reactions":[{"name":"kawaii","count":2,"users":["U0M7GCBPD","U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uC1vR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"128ec1c7-b24d-4b61-89ec-3b4208ee07bc","type":"message","user":"U03C6TEAZ","text":"正直でよろしい。","ts":"1581608189.061300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qq+ug"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2571ce08-3352-434b-a604-c3e92815628f","type":"message","user":"U03C6TEAZ","text":"リテラル側に型がないから結構無茶感ある。","ts":"1581608227.061700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/V8Xr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"710480ac-a547-4b36-acd6-2ddf2f8042a2","type":"message","user":"U03C6TEAZ","text":"代入左辺の型を見ないといけないし。","ts":"1581608243.062000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NHMk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6af1b93-429e-4618-9865-cfbe3fba893a","type":"message","user":"U6XP9LZ6V","text":"<https://github.com/vim/vim/blob/7306d6b1c9528dcfe89eb77aa7ef354ffa9605a8/src/vim9compile.c#L814>","ts":"1581608355.062300","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/7306d6b1c9528dcfe89eb77aa7ef354ffa9605a8/src/vim9compile.c#L814","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/7306d6b1c9528dcfe89eb77aa7ef354ffa9605a8/src/vim9compile.c#L814","original_url":"https://github.com/vim/vim/blob/7306d6b1c9528dcfe89eb77aa7ef354ffa9605a8/src/vim9compile.c#L814"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lwoa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4A3C33BA-B560-4BDE-9990-3EDE2DC32243","type":"message","user":"UDDCM376D","text":"ってことは、これは仕様…？","ts":"1581631492.062900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xZ2z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"893EE94E-3301-4CCD-A995-CA53F32333F4","type":"message","user":"UDDCM376D","text":"そんなバナナ…","ts":"1581631507.063400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vUZv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d7282f53-d6c6-43b5-b466-395abb190acb","type":"message","user":"U6XP9LZ6V","text":"仕様のつもりなのか、単に現状そうしてあるという意味でのコメントなのかは不明","ts":"1581631686.064700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kM8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7be797b8-02a6-4b0d-97a2-c7f46d84cf7f","type":"message","user":"UDDCM376D","text":"なる","ts":"1581632466.064900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Jaw2q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d75b2f6d-98d7-4cf1-8596-f2fb4b2e077b","type":"message","user":"UDDCM376D","text":"listの場合、右辺が全部同じ型かどうかを見てから、左辺の型を見れば良さそうな気がした","ts":"1581632535.066300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IAt6R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a81e6f6b-e3a0-43e9-a6ad-353869ca4530","type":"message","user":"UDDCM376D","text":"そういえば、\nVim9 scriptって内部でコンパイルして、ビルドして実行ファイルを吐き出してから実行しているんですか？","ts":"1581633781.066900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gKGg/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c07bc16-7d59-41e3-855b-ddd13deeffc7","type":"message","user":"UDDCM376D","text":"そこらへんの動きどうなっているのかなぁと","ts":"1581633797.067200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3aod"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ddaa38be-955b-4a43-be4b-79ed3d887132","type":"message","user":"U9S4G0LJW","text":"詳しくは読んでないけど、Pythonなんかみたいに中でバイトコード作ってメモリ上に置いてそのまま実行してると思う","ts":"1581633852.068500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cgOH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"625252dc-0b14-4f1c-b36a-c55d1d7f9ea1","type":"message","user":"U03C6TEAZ","text":"バイトコードはファイルには吐いてないですね。","ts":"1581633982.069600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3Ik"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76bf7afc-28db-4803-bfaf-6214466d5a10","type":"message","user":"U03C6TEAZ","text":"コンパイルといっても elf や PE のような OS 固有の実行形式でなく、言ってみれば Java のクラスファイルのような独自形式なのでもちろん直接は実行できないです。","ts":"1581634284.074000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KLd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"320bb07f-577c-48f2-8553-459f3bf63ac7","type":"message","user":"U03C6TEAZ","text":"vim9 部分は op code 持ってるけどリストや文字列は vim8 のを借りてるだけなので保存できるような形式にするのはだいぶ遠いと思います。","ts":"1581634447.076400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6MgG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"02ea6dc8-db5c-46ce-8633-5d856a07a091","type":"message","user":"UDDCM376D","text":"なるほど","ts":"1581635158.076600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Lr3jr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"251d919e-10c7-4f40-a4de-8fb810c798d1","type":"message","user":"UDDCM376D","text":"ってことは実行ファイルではなく、そのままメモリ上に展開して実行しているんですね","ts":"1581635172.077000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ciWQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5c6f456c-e8dc-424a-b354-e7ed78b0e7ea","type":"message","user":"U9S4G0LJW","text":"実行ファイルをJITで作る処理系のほうが珍しい気がする","ts":"1581635290.078000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ko/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"31cff718-79ac-4606-803d-e70f8cdf1d71","type":"message","user":"U9S4G0LJW","text":"RubyとかKyoto Common Lisp(だっけ)くらいしか知らない","ts":"1581635359.080000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GK8fU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"08fe51ec-1e11-4665-a9f2-92f2ea2ca628","type":"message","user":"U9S4G0LJW","text":"バイトコード含めるならPythonやEmacsもそうか","ts":"1581635462.080800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mjmJv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"545b97f2-85fb-4107-a06d-dc748d1ccda3","type":"message","user":"U03C6TEAZ","text":"例えが良くなかった。","ts":"1581636323.081100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GF7fy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d28cbbba-0349-4116-84e1-cf3e9c175835","type":"message","user":"U03C6TEAZ","text":"独自という箇所だけ汲み取って下さい。","ts":"1581636356.081800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z7g"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9103571f-3ff5-4ef2-900e-1fffeba187ee","type":"message","user":"UDDCM376D","text":":rikai:","ts":"1581637180.082000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ia9oQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aef9f1ce-69ae-4158-b5f2-c640fbb758d1","type":"message","user":"UDDCM376D","text":"```vim9script\n\ndef ReadFile()\n  let text: list&lt;string&gt; = readfile(\"badapple.txt\")\nenddef\n\ncall ReadFile()```\nこれ、any型になってしまっています","ts":"1581637714.082500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XEEvn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1b4bd1e5-5594-4e8d-a0d2-0e0b8efedf0f","type":"message","user":"UDDCM376D","text":"```vim9script\n\ndef ReadFile()\n  let text = readfile(\"badapple.txt\")\n  \" result =&gt; 3\n  echo type(text)\nenddef\n\ncall ReadFile()```\n実態はlistっぽい","ts":"1581637737.083000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ebw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6bfc26ab-e7fc-46ff-8bcc-5af9bba8fdef","type":"message","user":"UDDCM376D","text":"でもanyなのでforを回せない","ts":"1581637759.083400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ae=R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1d4b7ad2-55d1-4a1c-8a62-66b482671abb","type":"message","user":"UDDCM376D","text":"型変換もできないみたいなので、実質 `def`内で `readfile`を使えない","ts":"1581637786.084000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Tzj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4a64a857-f83d-4112-8eb1-4e2d0bb0c8a8","type":"message","user":"UDDCM376D","text":"```vim9script\n\nfunction! s:read_file() abort\n  return readfile(\"badapple.txt\")\nendfunction\n\ndef ReadFile(text: list&lt;string&gt;)\n  for i in text\n    echo i\n  endfor\nenddef\n\ncall ReadFile(s:read_file())```","ts":"1581637873.084400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Yo0SG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"21514fcf-9e46-4f2a-a36b-7e70ae95ed3b","type":"message","user":"UDDCM376D","text":"回避策は一応ある","ts":"1581637878.084600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A4co="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3b4b46fc-be09-4044-bd10-38750a7f48cb","type":"message","user":"U6XP9LZ6V","text":"readfile() はBlobも返しうるので、any型で定義されているようですね。何らかの型変換の仕組みが必要か？","ts":"1581638085.085900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6bS74"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49f36357-346b-4ef6-9cc4-c80f24f093a8","type":"message","user":"UDDCM376D","text":"あー","ts":"1581638113.086100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dvE63"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2cbf2b51-4422-4c7e-bc4e-49c0bab6d7fe","type":"message","user":"UDDCM376D","text":"Blob頭から消えていた","ts":"1581638118.086300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DJm1a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e10f50e7-678c-413d-8749-55a0870bf693","type":"message","user":"UDDCM376D","text":"defでbadappleを流してみたが、チラツキは全然改善されなかった\n`function`を混ぜたからかな","ts":"1581638211.086900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BQI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3a150359-93cb-40a0-9b74-f8920c19ede9","type":"message","user":"UDDCM376D","text":"`def`めっちゃ早いから、描画も早くなると期待していたが、そもそもVim9 scriptと描画と関係なかった","ts":"1581638242.087500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7OTf1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65cc42f1-4d1d-4fcb-98fa-11583e126d01","type":"message","user":"UDDCM376D","text":"実験終了","ts":"1581638250.087700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j=3Dd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c3d43431-0a75-46f1-a3ad-612ff827bbed","type":"message","user":"UDDCM376D","text":"vim9 scriptで何かプラグインを作ろうと思ったが、まだ早かったようだ","ts":"1581638271.088000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lBvaV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"14395aa9-b970-48cc-98fd-5b1fb51a46b6","type":"message","user":"U6XP9LZ6V","text":"速度向上が見込めるのは、数値演算とか文字列結合とかループとか、vim9execute.cの中で処理が完結する基本的な処理ですね。組み込み関数を呼び出したりExコマンドを実行したりすると多分大して変わらない。","ts":"1581639216.091200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tCg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6808c2db-9fe8-4688-af33-f806934c5d68","type":"message","user":"U9S4G0LJW","text":"synstack()が重いの知らずにVim scriptが重いせいだと勘違いしたままLuaで全部書き直して、それでも遅くてそこで初めてhelp見たときの気持ちを思い出した","ts":"1581639490.092600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NEP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"45de70f7-6a4f-4fcd-b362-2732c0b171ac","type":"message","user":"UDDCM376D","text":"↑めっちゃ辛いやつ","ts":"1581640910.093100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1yM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7WFYQ5HU","text":"<@U7WFYQ5HU> has joined the channel","ts":"1581662615.093400","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"CC0B512F-F947-4EE6-8A8F-D50271F4C979","type":"message","user":"U7D5LRRQD","text":"`as` 「俺の出番か？」","ts":"1581671653.094100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hYIn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c5da3382-fe38-4f5e-bf33-17963689614d","type":"message","user":"U9S4G0LJW","text":"vim9script、 `&lt;C-c&gt;` で止まらないので無限ループするとkillするしかなくなる","ts":"1581675117.095400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Y9IU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b53cdbb4-2b70-474f-9e80-01766a007a3b","type":"message","user":"U9S4G0LJW","text":"これまずいのでは","ts":"1581675121.095700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2abhF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04a418f5-5370-44cf-8d01-05d4d30278a7","type":"message","user":"U03C71D7H","text":"まずそう","ts":"1581675771.095900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y+K"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"be414ec7-08b2-44b8-8caf-521283e47f5c","type":"message","user":"U9S4G0LJW","text":"ですよねー","ts":"1581676135.096300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ST+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"07c57524-153d-400d-a5a3-80f5ef715040","type":"message","user":"U9S4G0LJW","text":"vim9、独自でスタックフレーム持ってるから深い再帰かけても `'maxfuncdepth'` 由来のエラー拝むこともないしSEGVすることもない、夢が広がる","ts":"1581676219.097500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YVN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76872c93-3359-4782-b7f8-cb4b264ea3f7","type":"message","user":"U9S4G0LJW","text":"現実的にテキストエディタにそこまで深い再帰が必要かと言われると微妙","ts":"1581676257.097900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oNR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e15bab94-13b3-4fe4-b7c3-46a0811ce914","type":"message","user":"U9S4G0LJW","text":"disassembleするのがすごい楽しい","ts":"1581676291.098300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"20E"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"13171967-bf29-4158-a817-bf41ab3ea6b8","type":"message","user":"U03C6TEAZ","text":"ループに1行 echo 入れたら got_int 引っ掛かるので止められるというハック","ts":"1581676300.098600","team":"T03C4RC8V","reactions":[{"name":"benri","count":3,"users":["U9S4G0LJW","UDDCM376D","U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1i1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"AB4EF683-0459-4695-A187-273B6FB6313F","type":"message","user":"UDDCM376D","text":"無限ループつらい","ts":"1581676325.098900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W4BG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
