[{"client_msg_id":"f41ac4c7-7b3d-48f0-9134-42a83c6f2f63","type":"message","user":"U6XP9LZ6V","text":"大物PRを1個投げた。\n<https://github.com/vim/vim/pull/4000>","ts":"1550504078.241800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1afdca38-97df-4d7b-8fdb-e0e8faec8d84","type":"message","user":"U03C6TEAZ","text":"キリ番","ts":"1550504125.242000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"31823c11-b6b7-460d-ba1f-fc331d03e7f0","type":"message","user":"U03C6TEAZ","text":"ANSI を殺す気だ","ts":"1550504167.242400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d020b9f5-db4f-429e-b2b0-ca285be539ac","type":"message","user":"U03C6TEAZ","text":"うまく win32 系のソースだけの影響でいけましたね。 :+1:","ts":"1550504266.243700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f5b3171a-167f-42a1-974e-9de965648479","type":"message","user":"U6XP9LZ6V","text":"もっとでかいANSI滅殺パッチも用意してる。","ts":"1550504285.243900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"67d3bbff-9da4-4eea-a662-a2eb30d87c2a","type":"message","user":"U03C6TEAZ","text":"うひー","ts":"1550504301.244100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6c45afe0-7934-45f5-a2f8-3ac1f9b7978e","type":"message","user":"U03C6TEAZ","text":"まぁこれくらいのをマージさせて既成事実作らせるのもいいかもw","ts":"1550504328.244600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6f5d5809-e1e4-4ef2-a5ee-45993db4001c","type":"message","user":"U6XP9LZ6V","text":"<https://bitbucket.org/k_takata/vim-ktakata-mq/src/f4a118439f8101f113306130b726f13bc9ad8999/0002-Stop-using-ANSI-APIs.patch?at=default&amp;fileviewer=file-view-default>","ts":"1550504371.244800","attachments":[{"fallback":"Source file in Ken Takata / vim-ktakata-mq","id":1,"title":"0002-Stop-using-ANSI-APIs.patch","title_link":"https://bitbucket.org/k_takata/vim-ktakata-mq/src/f4a118439f8101f113306130b726f13bc9ad8999/0002-Stop-using-ANSI-APIs.patch?at=default&amp%3Bfileviewer=file-view-default&utm_term=file&utm_source=bb-slack&utm_medium=referral-external&atlOrigin=eyJpIjoiMWRiZjlmZjhkYmE3NDg0Mzk3NWI3ODZhZjczNGQyODQiLCJwIjoiYmItY2hhdHMtaW50ZWdyYXRpb24ifQ","pretext":"Source file in *Ken Takata* / <https://bitbucket.org/k_takata/vim-ktakata-mq?utm_term=repo&amp;utm_source=bb-slack&amp;utm_medium=referral-external&amp;atlOrigin=eyJpIjoiMWRiZjlmZjhkYmE3NDg0Mzk3NWI3ODZhZjczNGQyODQiLCJwIjoiYmItY2hhdHMtaW50ZWdyYXRpb24ifQ|vim-ktakata-mq>","fields":[{"title":"Lines","value":"2637","short":true},{"title":"Size","value":"74.2 kB","short":true},{"title":"","value":"```1  From 80f3537b5726f8a5ccd88daf5f36fb7f78ec3613 Mon Sep 17 00:00:00 2001\n2  From: \"K.Takata\" &lt;kentkt@csc.jp&gt;\n3  Date: Thu, 7 Feb 2019 19:25:21 +0900\n4  Subject: [PATCH 2/3] Stop using ANSI APIs\n5  ...```","short":false}],"mrkdwn_in":["pretext","fields"],"blocks":null,"footer":"<https://bitbucket.org/k_takata/vim-ktakata-mq?utm_term=repo&amp;utm_source=bb-slack&amp;utm_medium=referral-external&amp;atlOrigin=eyJpIjoiMWRiZjlmZjhkYmE3NDg0Mzk3NWI3ODZhZjczNGQyODQiLCJwIjoiYmItY2hhdHMtaW50ZWdyYXRpb24ifQ|vim-ktakata-mq>","footer_icon":"https://bytebucket.org/ravatar/%7Bef214593-e191-4e43-b8a5-5dc4aebf979e%7D?ts=default"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99def353-92ef-4d8c-8da6-5ce3f62191f4","type":"message","user":"U03C6TEAZ","text":"だいぶ見通し良くなりそうですね。","ts":"1550504446.245300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"03543b1d-d415-4bd2-b2c1-67942c38907d","type":"message","user":"U6XP9LZ6V","text":"FEAT_MBYTE がなくなったおかげ。","ts":"1550504502.245900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f147800-1038-49ef-8d6d-34da1ba3de5a","type":"message","user":"U03C6TEAZ","text":"両方書かなくても良くなったのはありがたい。","ts":"1550504531.246300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c610518a-4ece-452a-a4a3-96a7a893d979","type":"message","user":"U6XP9LZ6V","text":"すでに、この前のtempファイルのエンコーディング修正パッチではANSI用コードは書かなかった。","ts":"1550504629.247700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cb1c87d9-aaf8-49db-8bd6-14b293967444","type":"message","user":"U03C6TEAZ","text":"今の流れなら行けそうですね。","ts":"1550504658.248100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"875dfc11-1c9b-4e06-8291-16360e9c575c","type":"message","user":"U6XP9LZ6V","text":"期待","ts":"1550504740.248300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"986a97b2-4c97-4d2e-9524-97f62089776d","type":"message","user":"U03C4RC8X","text":"<https://github.com/vim/vim/pull/3000>","ts":"1550505017.250400","attachments":[{"fallback":"GitHub: Provide a way to tell if a command is executed from i_CTRL-O or not by ujihisa · Pull Request #3000 · vim/vim","id":1,"title":"Provide a way to tell if a command is executed from i_CTRL-O or not by ujihisa · Pull Request #3000 · vim/vim","title_link":"https://github.com/vim/vim/pull/3000","text":"Problem A user-defined command cannot tell if it&amp;#39;s executed as an Ex command, or as i_CTRL-O from insert mode. This makes it hard to implement some Vim plugins, such as one that inserts text in...","thumb_url":"https://avatars0.githubusercontent.com/u/11504?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim/vim/pull/3000","original_url":"https://github.com/vim/vim/pull/3000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"391e3920-c2a4-4bb2-b1b3-a4899babfc65","type":"message","user":"U03C6TEAZ","text":"<https://github.com/vim/vim/pull/2000>","ts":"1550505046.250800","attachments":[{"fallback":"GitHub: fix terminal on DBCS encodings by mattn · Pull Request #2000 · vim/vim","id":1,"title":"fix terminal on DBCS encodings by mattn · Pull Request #2000 · vim/vim","title_link":"https://github.com/vim/vim/pull/2000","text":"Support non-UTF-8 encodings on Windows","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim/vim/pull/2000","original_url":"https://github.com/vim/vim/pull/2000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bad501c8-9998-44ca-a915-657258722e60","type":"message","user":"U03C6TEAZ","text":"<https://github.com/vim/vim/pull/1000>","ts":"1550505067.251400","attachments":[{"fallback":"GitHub: Changed DB_COUNT to 16 by rchard2scout · Pull Request #1000 · vim/vim","id":1,"title":"Changed DB_COUNT to 16 by rchard2scout · Pull Request #1000 · vim/vim","title_link":"https://github.com/vim/vim/pull/1000","text":"There's really no reason why this should only be four, and I regularly needed to diff up to 7 or 8 files. Just to be on the safe side, I upped it to 16.","thumb_url":"https://avatars0.githubusercontent.com/u/4447610?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim/vim/pull/1000","original_url":"https://github.com/vim/vim/pull/1000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c584a454-61a4-4081-b531-e6f74e8a6257","type":"message","user":"U03C6TEAZ","text":"ざんねーん","ts":"1550505070.251800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0cd7247e-ff27-4aa3-882a-4f3b03812545","type":"message","user":"U03C4RC8X","text":"<https://github.com/vim/vim/pull/777>","ts":"1550505078.252100","attachments":[{"fallback":"GitHub: PWD not changed to follow buffer when writing a new file when &amp;autochdir is on · Issue #777 · vim/vim","id":1,"title":"PWD not changed to follow buffer when writing a new file when &amp;autochdir is on · Issue #777 · vim/vim","title_link":"https://github.com/vim/vim/pull/777","text":"The working directory doesn&amp;#39;t follow the buffer when it should, after writing a new file from a new buffer. This seems like it&amp;#39;s related to issue #704 Steps to reproduce: Start vim from hom...","thumb_url":"https://avatars0.githubusercontent.com/u/615684?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim/vim/pull/777","original_url":"https://github.com/vim/vim/pull/777"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"486e6302-9e10-40a2-8f09-acc5b3f15d2a","type":"message","user":"U6XP9LZ6V","text":"そういえば、ANSI APIしか使ってないところが他にも数か所残ってるのでそれも直さないとなー。環境変数の取得部分とか、eval.cのmodify_fname() とか。","ts":"1550505307.252900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8dc1396a-4268-47c3-a7bc-65f9cc97c381","type":"message","user":"U03C6TEAZ","text":"win 系のソースじゃない所で直接 API 呼んでる箇所ありますね。","ts":"1550505350.253300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"35af0d14-9f43-4e35-b7a0-05490e98b85d","type":"message","user":"U03C6TEAZ","text":"一旦この大きいのがマージされたら early return してネスト下げて綺麗に出来るのもありそう。","ts":"1550505574.254000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6659d017-0c0a-49eb-8a94-527497205da2","type":"message","user":"U03C6TEAZ","text":"あと goto が必要なくなったり。","ts":"1550505581.254400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UGBM3DN86","text":"<@UGBM3DN86> has joined the channel","ts":"1550532635.254600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"6c20587f-ebee-4515-a9a2-fc189ecb8b20","type":"message","user":"U6XP9LZ6V","text":"取り込まれてしまったけど、かなり修正不十分です。修正お願いします。\n<https://github.com/vim/vim/pull/3999>","ts":"1550532879.255400","attachments":[{"fallback":"GitHub: Remove compilation warnings by mattn · Pull Request #3999 · vim/vim","id":1,"title":"Remove compilation warnings by mattn · Pull Request #3999 · vim/vim","title_link":"https://github.com/vim/vim/pull/3999","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim/vim/pull/3999","original_url":"https://github.com/vim/vim/pull/3999"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"72b0285c-21e6-4621-a49d-bd71441ab882","type":"message","user":"U03C6TEAZ","text":"9 は \\vimfiles\\ の長さ","ts":"1550532981.256200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d7b8c0be-7504-4290-9ffd-9160f4a4a42b","type":"message","user":"U03C6TEAZ","text":"コピー対象のバッファより引数で与えるバッファの方が大きくなり得ると警告がでるんです。","ts":"1550533145.258100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b233618a-2912-4b5a-9827-f7392fa8a283","type":"message","user":"U6XP9LZ6V","text":"コンパイラの警告ですか？","ts":"1550533316.259200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"15655077-7c62-43f2-857e-d7e1e6705720","type":"message","user":"U03C6TEAZ","text":"はい。","ts":"1550533580.259400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b4924a64-4ef8-4485-9bcd-9be213a642cc","type":"message","user":"U03C6TEAZ","text":"なので変更前のソースでバッファオーバフローはあると思いますが、(警告が消えたという点で)修正後はバッファオーバフローが起きなくなってるという認識です。","ts":"1550533854.260400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"360833b6-7cdb-48f6-a435-f11278ef8f22","type":"message","user":"U6XP9LZ6V","text":"でも、バッファサイズを小さくしたのに、元のサイズを渡しているところがあってアウトですね。","ts":"1550534764.263000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0452fc8c-b884-4efa-99d5-ab6dc7bde19a","type":"message","user":"U03C6TEAZ","text":"```\ndiff --git a/src/dosinst.c b/src/dosinst.c\nindex 8ef72f6f2..93e415a61 100644\n--- a/src/dosinst.c\n+++ b/src/dosinst.c\n@@ -456,7 +456,7 @@ window_cb(HWND hwnd, LPARAM lparam)\n     static int\n run_silent_uninstall(char *uninst_exe)\n {\n-    char    vimrt_dir[MAX_PATH];\n+    char    vimrt_dir[BUFSIZE];\n     char    temp_uninst[BUFSIZE];\n     char    temp_dir[MAX_PATH];\n     char    buf[BUFSIZE * 2 + 10];\n```\nここです？","ts":"1550535646.263200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0ff5b2a0-c0fb-4d72-97de-9e1bf9c5bae1","type":"message","user":"U6XP9LZ6V","text":"PRにコメントを付けたので確認をお願いします。","ts":"1550535883.264400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2fc3264b-6ff5-4da5-959b-ea5b19c00f99","type":"message","user":"U03C6TEAZ","text":"はい。","ts":"1550535934.265000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2ff2441-c165-4b99-952d-08322d535591","type":"message","user":"U03C6TEAZ","text":"popup_gvim_path は引数で bufsize 渡してないのが不親切かな。そっちで直します。","ts":"1550535953.265500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b513a7c2-ac79-483f-911d-b13ccb54b2de","type":"message","user":"U03C6TEAZ","text":"2件指摘頂いてるのは必要な修正ですか？","ts":"1550535989.266100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2e74bc31-863f-457a-8adc-da28eb43dd10","type":"message","user":"U6XP9LZ6V","text":"コメント3件、全部修正が必要なはず。6カ所。","ts":"1550536144.267800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74daca75-077a-4d40-8cb6-d062ecfefbcb","type":"message","user":"U03C6TEAZ","text":"1個は質問ですか？","ts":"1550536204.268100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"162a428b-1a59-48b8-ab61-804a088a7c50","type":"message","user":"U6XP9LZ6V","text":"指摘がメインで、ついでに質問です。","ts":"1550536274.269700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3fee4b73-df7e-4df3-9a22-89a49d85205b","type":"message","user":"U6XP9LZ6V","text":"gcc 8 ならその警告が出るんですね。","ts":"1550536857.270900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a228149e-8c2f-41b1-b462-68945389cb8b","type":"message","user":"U03C6TEAZ","text":"オリジナル Bram が書いたんじゃない","ts":"1550538038.271200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bcebb910-7293-46a7-bafd-730dc237a721","type":"message","user":"U03C6TEAZ","text":"感じが凄い漂う。","ts":"1550538042.271500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7cc51d38-d343-49fd-a74a-6c6070df79e9","type":"message","user":"U03C6TEAZ","text":"今1か所 `_snprintf` 使ってる所って必要ないです？","ts":"1550540247.271900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2612cb99-7a55-4761-befd-4754243a6a9a","type":"message","user":"U03C6TEAZ","text":"1行上でチェックしてるので。","ts":"1550540277.272300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c8e72c25-e305-4d9c-88bc-a3a9965f34ee","type":"message","user":"U03C6TEAZ","text":"番兵も要らないかな。","ts":"1550540296.272500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac09080a-807e-47ee-b681-b1d227be0188","type":"message","user":"U03C6TEAZ","text":"<https://github.com/vim/vim/blob/bbd854dc57e82937eb7b95af220a2f137ded64f8/src/dosinst.c#L2212>","ts":"1550540584.272800","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/bbd854dc57e82937eb7b95af220a2f137ded64f8/src/dosinst.c#L2212","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/bbd854dc57e82937eb7b95af220a2f137ded64f8/src/dosinst.c#L2212","original_url":"https://github.com/vim/vim/blob/bbd854dc57e82937eb7b95af220a2f137ded64f8/src/dosinst.c#L2212"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b1367c08-27fe-4609-90d2-7a867f986c9f","type":"message","user":"U03C6TEAZ","text":"これはなんのチェックだろう。","ts":"1550540589.273100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ae09acc6-0a33-43e9-bd9e-9520fd1da20f","type":"message","user":"U03C6TEAZ","text":"vim で扱える行数が減るって事かな？ <https://github.com/vim/vim/pull/4003>","ts":"1550540732.273400","attachments":[{"fallback":"GitHub: Change linenr_T from long to int to save memory and speed up regexp e… by dpelle · Pull Request #4003 · vim/vim","id":1,"title":"Change linenr_T from long to int to save memory and speed up regexp e… by dpelle · Pull Request #4003 · vim/vim","title_link":"https://github.com/vim/vim/pull/4003","text":"This PR changes type of linenr_T from long to int. It should be fine since MAXLNUM is defined as a 32-bit number. It significantly reduces memory usage of the NFA regexpengine and speed speeds up t...","thumb_url":"https://avatars2.githubusercontent.com/u/2261629?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim/vim/pull/4003","original_url":"https://github.com/vim/vim/pull/4003"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c87004ca-2582-4027-a30e-2e6d578b0afa","type":"message","user":"U06BRP8VD","text":"HOMEDRIVE &amp; HOMEPATH 両方が空なら何もしなくて良い、みたいなイメージ?","ts":"1550541215.274200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f68563a2-9498-425b-a07b-5d08e1e06a55","type":"message","user":"U06BRP8VD","text":"よく見ると絶対falseにならねぇな","ts":"1550541256.274600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e83707b2-0b13-4486-8ca1-7b6c1496acf0","type":"message","user":"U03C6TEAZ","text":"なんです","ts":"1550541279.274800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eca3b96c-afb4-47ea-bddc-06a4a08a3f7a","type":"message","user":"U06BRP8VD","text":"あとからhomepathの条件(デフォルト値の設定)が挿入されたんちゃうかなぁ。","ts":"1550541307.275200","edited":{"user":"U06BRP8VD","ts":"1550541317.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22ff601d-9861-47e8-b44e-1b1efde48623","type":"message","user":"U03C6TEAZ","text":"現状も32ビットの行数しか行けてないのか。","ts":"1550541373.276400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d4d1cd2e-6e2c-4717-ad8a-290d5f9bca56","type":"message","user":"U06BRP8VD","text":"もともとはすっごい雑だったみたい <https://github.com/vim/vim/blame/447f6ce8bd42fe3adbdf97eff9a38a9bfef9eeed/src/dosinst.c#L1854>","ts":"1550541395.276700","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blame/447f6ce8bd42fe3adbdf97eff9a38a9bfef9eeed/src/dosinst.c#L1854","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blame/447f6ce8bd42fe3adbdf97eff9a38a9bfef9eeed/src/dosinst.c#L1854","original_url":"https://github.com/vim/vim/blame/447f6ce8bd42fe3adbdf97eff9a38a9bfef9eeed/src/dosinst.c#L1854"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d0bc73b-fd82-4aa2-b31b-26470c15ea11","type":"message","user":"U03C6TEAZ","text":"そうなんです。 dosinst 結構粗削りで。。。","ts":"1550541445.277600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"af6cbc1b-36c3-4007-938e-5c41a383d0d2","type":"message","user":"U06BRP8VD","text":"<https://github.com/vim/vim/commit/25a494ce609f54ce240b1986aad16ca27186d646#diff-0a16792bfcb38e870f7b5b4509a06407R2131>\n\nここで導入されたみたい。","ts":"1550541489.278600","attachments":[{"fallback":"GitHub: patch 8.1.0534: MS-Windows installer uses different $HOME than Vim · vim/vim@25a494c","id":1,"title":"patch 8.1.0534: MS-Windows installer uses different $HOME than Vim · vim/vim@25a494c","title_link":"https://github.com/vim/vim/commit/25a494ce609f54ce240b1986aad16ca27186d646#diff-0a16792bfcb38e870f7b5b4509a06407R2131","text":"Problem: MS-Windows installer uses different $HOME than Vim. Solution: Use the Vim logic also in the MS-Windows installer. (Ken Takata, closes #3564)","thumb_url":"https://avatars1.githubusercontent.com/u/8530623?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/vim/vim/commit/25a494ce609f54ce240b1986aad16ca27186d646#diff-0a16792bfcb38e870f7b5b4509a06407R2131","original_url":"https://github.com/vim/vim/commit/25a494ce609f54ce240b1986aad16ca27186d646#diff-0a16792bfcb38e870f7b5b4509a06407R2131"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47e0aff3-5b58-4a37-9ee5-ce0e44ea6371","type":"message","user":"U03C6TEAZ","text":"いま暇見つけて見つけたとこから直していこうと。","ts":"1550541504.279500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"453c3c5c-9398-421a-9935-24e5440e9493","type":"message","user":"U06BRP8VD","text":"直後の var == NULL のチェックで USERPROFILE にフォールバックしてるから…バグっぽいね。","ts":"1550541506.279600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c00f3f3b-f46f-4c29-87b1-7d47f50bd477","type":"message","user":"U03C6TEAZ","text":"gcc8 が結構賢くなってて粗削りなのが警告で出てるんです。","ts":"1550541571.280900","edited":{"user":"U03C6TEAZ","ts":"1550541585.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"94648f0d-234f-44e9-8b3f-40a221dccc6e","type":"message","user":"U06BRP8VD","text":"1. HOME があればそれ使う\n2. %HOMEDRIVE% + %HOMEPATH% があればそれを使う\n3. USERPROFILE があればそれを使う\n4. 全部ダメ、もしくは空ならNULL\n\nで、結果を homedir に strdup もしくはNULLで、か。\nちなみに「ある」は非NULLで1文字以上の文字列であること、ってなってるね。","ts":"1550541689.283500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4eec8b39-91c2-4cce-90f7-665e1faa5aed","type":"message","user":"U06BRP8VD","text":"全面書き直しちゃっても良いかも?","ts":"1550541704.284200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f9348e6e-12fd-4c83-b754-2f1cd8388386","type":"message","user":"U06BRP8VD","text":"<https://github.com/vim/vim/commit/25a494ce609f54ce240b1986aad16ca27186d646#diff-0a16792bfcb38e870f7b5b4509a06407R2107>\n\n&gt; This code is based on init_homedir() in misc1.c, keep in sync!\n\nwww","ts":"1550541733.285100","attachments":[{"fallback":"GitHub: patch 8.1.0534: MS-Windows installer uses different $HOME than Vim · vim/vim@25a494c","id":1,"title":"patch 8.1.0534: MS-Windows installer uses different $HOME than Vim · vim/vim@25a494c","title_link":"https://github.com/vim/vim/commit/25a494ce609f54ce240b1986aad16ca27186d646#diff-0a16792bfcb38e870f7b5b4509a06407R2107","text":"Problem: MS-Windows installer uses different $HOME than Vim. Solution: Use the Vim logic also in the MS-Windows installer. (Ken Takata, closes #3564)","thumb_url":"https://avatars1.githubusercontent.com/u/8530623?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/vim/vim/commit/25a494ce609f54ce240b1986aad16ca27186d646#diff-0a16792bfcb38e870f7b5b4509a06407R2107","original_url":"https://github.com/vim/vim/commit/25a494ce609f54ce240b1986aad16ca27186d646#diff-0a16792bfcb38e870f7b5b4509a06407R2107"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"36bfcaa0-3684-4551-9be8-c81bdc71aa8b","type":"message","user":"U6XP9LZ6V","text":"その関数、コメントに書いたとおり、misc1.cから持ってきてるから、同じ挙動でhomeを探す必要がある。","ts":"1550541797.286800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9b14e2f-006c-4fa9-b785-db046aa7d3af","type":"message","user":"U03C6TEAZ","text":"戻すか","ts":"1550541859.287000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8ff08e0d-9f6f-44f1-97e2-df634aacafd8","type":"message","user":"U06BRP8VD","text":"misc1.c はこっからきてるね。\n<https://github.com/vim/vim/commit/48340b62e812dc9280f621a2eb6db76d43555c66>","ts":"1550541991.287300","attachments":[{"fallback":"GitHub: patch 8.0.1012: MS-Windows: problem with $HOME when is was set intern… · vim/vim@48340b6","id":1,"title":"patch 8.0.1012: MS-Windows: problem with $HOME when is was set intern… · vim/vim@48340b6","title_link":"https://github.com/vim/vim/commit/48340b62e812dc9280f621a2eb6db76d43555c66","text":"…ally Problem: MS-Windows: Problem with $HOME when is was set internally. Solution: Only use the $HOME default internally. (Yasuhiro Matsumoto, closes #2013)","thumb_url":"https://avatars1.githubusercontent.com/u/8530623?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/vim/vim/commit/48340b62e812dc9280f621a2eb6db76d43555c66","original_url":"https://github.com/vim/vim/commit/48340b62e812dc9280f621a2eb6db76d43555c66"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d45189f-b6e6-4fb0-8181-5d17587b51bd","type":"message","user":"U06BRP8VD","text":"でそのもとになったPRは <https://github.com/vim/vim/pull/2013/> からだけど…さっきのチェックはBramオリジナルかなぁ。","ts":"1550542017.287900","attachments":[{"fallback":"GitHub: don't set HOME on Windows by mattn · Pull Request #2013 · vim/vim","id":1,"title":"don't set HOME on Windows by mattn · Pull Request #2013 · vim/vim","title_link":"https://github.com/vim/vim/pull/2013/","text":"close #1946","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim/vim/pull/2013/","original_url":"https://github.com/vim/vim/pull/2013/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22f21f9c-ab66-4dd3-89c3-db65032c2df5","type":"message","user":"U06BRP8VD","text":"いやその前からあるのか","ts":"1550542045.288200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4f35386b-1c2c-466b-90c5-15f8ab2453d4","type":"message","user":"U06BRP8VD","text":"7.2.326 までさかのぼったわw <https://github.com/vim/vim/commit/6f9770137369e00bdad6fe9dcfe282cac4dd8c40>","ts":"1550542203.288500","attachments":[{"fallback":"GitHub: updated for version 7.2.326 · vim/vim@6f97701","id":1,"title":"updated for version 7.2.326 · vim/vim@6f97701","title_link":"https://github.com/vim/vim/commit/6f9770137369e00bdad6fe9dcfe282cac4dd8c40","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/8530623?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/vim/vim/commit/6f9770137369e00bdad6fe9dcfe282cac4dd8c40","original_url":"https://github.com/vim/vim/commit/6f9770137369e00bdad6fe9dcfe282cac4dd8c40"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fa65761e-59e3-4c86-893d-8d8768a761f3","type":"message","user":"U06BRP8VD","text":"ああなるほどぉ\n\n&gt; Win32: $HOME doesn't work when %HOMEPATH% is not defined.\n<http://ftp.vim.org/pub/vim/patches/7.2/7.2.326>","ts":"1550542305.289000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"12402831-e784-48fb-8b9a-03e399a24b24","type":"message","user":"U03C6TEAZ","text":"戻して squash しときました。","ts":"1550542423.289800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"524a0a66-d138-4ecf-a10a-2e2ca60a50d4","type":"message","user":"U06BRP8VD","text":"もともとWinでは環境変数 HOME をVim自身が設定していたときの名残らしい。DRIVEとPATH両方ないと設定されてなかった。","ts":"1550542424.289900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"20b9becb-e1e1-4090-9bb9-847b0422c740","type":"message","user":"U06BRP8VD","text":"HOMEを設定するんじゃなくて、HOMEがあったらそれを利用するに変わった時に、こっちをいじらなかったからようわからんコードだけが残ったってことらしい。","ts":"1550542477.290700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4bf871d-c181-466d-ad9a-8fdb939bedd2","type":"message","user":"U03C6TEAZ","text":"2バイト目に `\\` ある様なフォルダにインストールすると失敗しそうだけどそんな人いないか。","ts":"1550542685.291600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49b59f08-eba6-42bf-b5c8-2df187ac1b8b","type":"message","user":"U03C6TEAZ","text":"<@U6XP9LZ6V> ぜんぜん周辺コード読んでないので検討違いだったらすいません。ここって ascii レンジで名前チェックしてるのって意図的なんでしょうか？ <https://github.com/vim/vim/pull/4000/commits/7aba80d49289e9376cad39830b217738fa97286c#diff-ec6011c80b211a3eb412c834fa37f1b0R3191>","ts":"1550545622.292800","attachments":[{"fallback":"GitHub: win32: Use Wide APIs for font handling by k-takata · Pull Request #4000 · vim/vim","id":1,"title":"win32: Use Wide APIs for font handling by k-takata · Pull Request #4000 · vim/vim","title_link":"https://github.com/vim/vim/pull/4000/commits/7aba80d49289e9376cad39830b217738fa97286c#diff-ec6011c80b211a3eb412c834fa37f1b0R3191","text":"Use LOGFONTW instead of LOGFONT, etc. Now we can use a font even which name cannot be represented in the current code page. (E.g. Use Japanese fonts on English version of Windows.)","thumb_url":"https://avatars0.githubusercontent.com/u/840186?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim/vim/pull/4000/commits/7aba80d49289e9376cad39830b217738fa97286c#diff-ec6011c80b211a3eb412c834fa37f1b0R3191","original_url":"https://github.com/vim/vim/pull/4000/commits/7aba80d49289e9376cad39830b217738fa97286c#diff-ec6011c80b211a3eb412c834fa37f1b0R3191"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16e15a41-e852-435f-8313-79b5d6b5070c","type":"message","user":"U6XP9LZ6V","text":"意図的です。エンコード名なので必ずASCIIの範囲に収まるので。で、テーブルの方は他への影響があるのでWideに変えたくなかった。","ts":"1550546151.296900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"84439c6f-af10-4268-8d52-79885d1e9f8a","type":"message","user":"U03C6TEAZ","text":"あー、なるほど。","ts":"1550546298.297200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dcd53387-50a9-468b-8cc3-8ad2c79015a5","type":"message","user":"U03C6TEAZ","text":"1行上に charset_pairs って書いてあった。","ts":"1550546326.297700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"80713c8e-bcb6-4fa2-af7d-4cfd1d7ea3b7","type":"message","user":"U03C6TEAZ","text":"パッチに全然関係ないんですが、フォントダイアログのフォント名一覧って何を元に出してるんだろう。","ts":"1550546466.298300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"一覧とフォント名が微妙に違っててモヤる。","ts":"1550546496.298400","files":[{"id":"FGALSU0R3","created":1550546494,"timestamp":1550546494,"name":"image.png","title":"画像がペーストされた日時: 2019-02-19, 12:21 午後","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":16263,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FGALSU0R3/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FGALSU0R3/download/image.png","original_h":167,"original_w":278,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FGALSU0R3-f3017a4b61/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FGALSU0R3-f3017a4b61/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FGALSU0R3-f3017a4b61/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FGALSU0R3-f3017a4b61/image_360.png","thumb_360_gif":"","thumb_360_w":278,"thumb_360_h":167,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FGALSU0R3/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FGALSU0R3-9842921329","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"81e37aff-2006-4d64-8bae-80ec88645c33","type":"message","user":"U06BRP8VD","text":"フォントって、いくつも名前持ってますよ。","ts":"1550547026.298900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"42d870ea-0fca-4708-8f6a-49d8fd66a77f","type":"message","user":"U06BRP8VD","text":"3つか。 Fontname, FontnameCP, あとファイル名","ts":"1550547071.299300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6415ed8c-2394-4f63-aa14-9eb6ac31bdb7","type":"message","user":"U03C6TEAZ","text":"そうなんですが、一覧とテキストボックスのは同じだと思ってたので。","ts":"1550547092.299700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2b9fa284-bbd5-4500-9474-00c772e3ea6d","type":"message","user":"U06BRP8VD","text":"一覧がFontnameCPで、テキストボックスはFontnameっぽいですねw","ts":"1550547121.300100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33adeecb-bb8f-4fcb-bc9b-ff7e7e742fcf","type":"message","user":"U03C6TEAZ","text":"そんでもって一覧の方が wide なのに fontforge が ansi で書いてるぽい？","ts":"1550547200.300800","edited":{"user":"U03C6TEAZ","ts":"1550547215.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6ecf17fa-1dd1-4ba4-a0b5-c84c302b9dc7","type":"message","user":"U06BRP8VD","text":"もしくはそのフォントのbouding boxが間違ってるか。なんかテキストボックスの中、そのフォントでフォント名書いてますよね?","ts":"1550547283.301600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fa61e1f3-056d-4084-a6dc-121f94dbcd4f","type":"message","user":"U03C6TEAZ","text":"あー","ts":"1550547299.301800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f5ccb106-a346-4eeb-a201-8eb29b41a45f","type":"message","user":"U6XP9LZ6V","text":"misc1.cの `init_homedir()` 、Wide関数使ってないけどいいのかな。カレントコードページで使えない名前を $HOME にする人なんていないよね？","ts":"1550549445.306100","team":"T03C4RC8V","reactions":[{"name":"laughing","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"980d78de-20ee-4efb-bc22-6b7c2f418726","type":"message","user":"U03C6TEAZ","text":"最近はカジュアルに日本語ユーザ名とか付けちゃうので、なんというか凄いですね。","ts":"1550549607.306700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"55a47708-373f-486f-baf1-55691f218e35","type":"message","user":"U03C6TEAZ","text":"ユニコード文字とか使ってたらそんな奴が悪い","ts":"1550549652.307400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"23f01837-6c7f-45c4-ae30-e569a1d40bb2","type":"message","user":"U06BRP8VD","text":"日本語ユーザー名、ほんと何度泣かされたか!","ts":"1550549905.307800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2c8b8d25-69fe-4582-a5d3-d68f35a56251","type":"message","user":"U6XP9LZ6V","text":"あと最近気になってるのが、ベータ版のコードページをutf-8にする機能。誰かが、少し古いVimは動いたけど、新しいVimは動かなかったと言ってたような。","ts":"1550550274.311900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b9f18c55-ee91-4720-abb8-46a20880ba67","type":"message","user":"U03C6TEAZ","text":"人柱すぎるなw","ts":"1550550661.312100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"34342128-ab62-42fb-b7c2-eed73acc5966","type":"message","user":"U03C6TEAZ","text":"捨てていい Windows PC 無いな","ts":"1550550675.312600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6b4d99a6-a173-441f-8a1e-88ad653bd014","type":"message","user":"U6XP9LZ6V","text":"怖くてまだ試してないｗ","ts":"1550551217.313800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"27dafb95-2223-4a14-9da3-499c9edf6884","type":"message","user":"U03C6TEAZ","text":"本当にそうなってくれると理想の世界だけど、いざなると言われても怖い。","ts":"1550551580.314300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a308e777-01d4-44b5-b3aa-9be75386767f","type":"message","user":"U03C6TEAZ","text":"このスクショはどんな環境でとってるんだろう。 <https://github.com/vim/vim/issues/3276>","ts":"1550554879.314700","attachments":[{"fallback":"GitHub: netrw opens empty buffer instead of actual file contents · Issue #3276 · vim/vim","id":1,"title":"netrw opens empty buffer instead of actual file contents · Issue #3276 · vim/vim","title_link":"https://github.com/vim/vim/issues/3276","text":"let g:netrw_browse_split=4 in .vimrc let g:netrw_liststyle=3 in .vimrc open netrw in a directory that contains two files each in separate directory/subdirectory expand the directories of both dirs ...","thumb_url":"https://avatars3.githubusercontent.com/u/646121?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim/vim/issues/3276","original_url":"https://github.com/vim/vim/issues/3276"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c5caa72d-d7ab-4e55-8acc-94de25b5152b","type":"message","user":"U03C6TEAZ","text":"劣化しすぎでは。","ts":"1550554884.315100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UG9MD3UJC","text":"<@UG9MD3UJC> has joined the channel","ts":"1550560506.315400","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"17f2e52b-148e-49c5-8207-d6f1020b24fb","type":"message","user":"U6XP9LZ6V","text":"テストを入れるとしたら、どこに入れるのがいいのだろう。\n<https://github.com/vim/vim/pull/4008>","ts":"1550575572.316300","attachments":[{"fallback":"GitHub: win32: Use Wide API in vim_getenv() in misc1.c by k-takata · Pull Request #4008 · vim/vim","id":1,"title":"win32: Use Wide API in vim_getenv() in misc1.c by k-takata · Pull Request #4008 · vim/vim","title_link":"https://github.com/vim/vim/pull/4008","text":"Currently, vim_getenv() cannot handle Unicode characters on Windows. E.g.: :let $a='Ā' :echo $a ? This patch makes it possible by using Wide API: :let $a='Ā' :echo $a Ā","thumb_url":"https://avatars0.githubusercontent.com/u/840186?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim/vim/pull/4008","original_url":"https://github.com/vim/vim/pull/4008"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b9be96d6-0690-483e-9d96-2e5d22e84aca","type":"message","user":"U03C6TEAZ","text":"ざっと見ましたが、新しく起こして良さそうな気がします。","ts":"1550575687.316900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"384b869c-065c-4cfa-843d-b662958b9c5f","type":"message","user":"U03C6TEAZ","text":"environ() 欲しい","ts":"1550575727.317400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c32a908b-d734-4364-88ed-3d79bf57f6bb","type":"message","user":"U6XP9LZ6V","text":"test_let に入れるのもありかな？","ts":"1550575964.318000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f5d6ad4e-9fa2-4603-85ed-1a41c6d3d583","type":"message","user":"U6XP9LZ6V","text":"今回直したのは let じゃないけどｗ","ts":"1550576312.318400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"08a1f5c8-049c-4d0e-ac05-746afe0a2fa0","type":"message","user":"U03C6TEAZ","text":"もういまのうちに `environ()` を wide API 対応にしておく。","ts":"1550576885.318800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"00b95115-bda6-4a54-a974-4829ec921ac5","type":"message","user":"U03C6TEAZ","text":"あまりいいテストじゃないな <https://github.com/vim/vim/pull/2875/files#diff-d5a4b9991c42423d65835f50ef6d0e44R8>","ts":"1550577575.319500","attachments":[{"fallback":"GitHub: add environ() by mattn · Pull Request #2875 · vim/vim","id":1,"title":"add environ() by mattn · Pull Request #2875 · vim/vim","title_link":"https://github.com/vim/vim/pull/2875/files#diff-d5a4b9991c42423d65835f50ef6d0e44R8","text":"This pull-request add getenv() to add a way to get environment variable or variables. getenv(&amp;quot;FOO&amp;quot;) works as same as $FOO. getenv() return dictionary of pairs of key and value. If you ha...","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim/vim/pull/2875/files#diff-d5a4b9991c42423d65835f50ef6d0e44R8","original_url":"https://github.com/vim/vim/pull/2875/files#diff-d5a4b9991c42423d65835f50ef6d0e44R8"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"17a2204e-a6db-451d-b264-5f7fe3493f1b","type":"message","user":"U03C6TEAZ","text":"外部から日本語の値を貰って vim で取れるというテストがしたいけど。","ts":"1550577588.320000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1e36ea6f-f3b7-4169-8b3d-1a4ce69a6bd6","type":"message","user":"U03C6TEAZ","text":"なんか方法あるかな。","ts":"1550577621.320200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2c097206-70db-47f4-9a7a-b415e1ab11b8","type":"message","user":"U6XP9LZ6V","text":"<https://github.com/vim-jp/issues/issues/1020#issuecomment-465096425> に書いたように、日本語環境以外では動かない可能性あり。","ts":"1550577812.320900","attachments":[{"fallback":"GitHub: win32: 環境変数の取得がユニコードに対応してない · Issue #1020 · vim-jp/issues","id":1,"title":"win32: 環境変数の取得がユニコードに対応してない · Issue #1020 · vim-jp/issues","title_link":"https://github.com/vim-jp/issues/issues/1020#issuecomment-465096425","text":"質問・報告の内容 環境変数の取得に wgetenv() を使用していないため、cp932 で表せない文字を正しく取得できません。 Vimのバージョン 8.0.0280 OSの種類/ディストリ/バージョン Windows その他 #108 の派生です。","thumb_url":"https://avatars0.githubusercontent.com/u/840186?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim-jp/issues/issues/1020#issuecomment-465096425","original_url":"https://github.com/vim-jp/issues/issues/1020#issuecomment-465096425"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"96d8d4ca-e529-4b79-acf6-468930b7ad8c","type":"message","user":"U6XP9LZ6V","text":"ところで、getenv()/setenv() より environ() の方がいいですか？","ts":"1550577987.322000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6484d5f1-a116-4186-9035-39d4778426f3","type":"message","user":"U03C6TEAZ","text":"設定出来るようにするには僕は getenv&amp;setenv がいいなと思うんですけどね。","ts":"1550578050.323200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"35665938-6613-49bb-9a0c-f3fb1136567f","type":"message","user":"U03C6TEAZ","text":"たぶんどっちもいるか。","ts":"1550578113.324100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5f8e84a0-eb24-4720-aee9-e9e690c59e3f","type":"message","user":"U03C6TEAZ","text":"環境変数一覧を取る術がない。","ts":"1550578162.325000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2156d04f-a921-4241-bc93-7bb33028c7f7","type":"message","user":"U03C6TEAZ","text":"引数なし getenv で一覧返すという可能性もありますね。","ts":"1550578277.327000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3fad654b-3cae-44a5-b315-1e7b47c47ab1","type":"message","user":"U6XP9LZ6V","text":"environ() は自由度が高すぎて何か好きじゃないけど…","ts":"1550578305.327400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fe590697-8fb0-4814-8241-17513085bfaf","type":"message","user":"U03C6TEAZ","text":"引数なしで environ の名前だけ返すとか。","ts":"1550578350.328600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33950a7c-2a60-44d9-a220-c1bd16c7e050","type":"message","user":"U03C6TEAZ","text":"二次元配列？w","ts":"1550578374.329100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6290edfe-f3fd-4d92-b9d3-54e6c130c862","type":"message","user":"U6XP9LZ6V","text":"ところで、VimをUnicode文字を含んだディレクトリにインストールしたらどうなるか試してみたら、 `$VIM` と `$VIMRUNTIME` が取得できずに空になってしまって、ツールバーが表示されなかったりしてまともに動かなかったｗ","ts":"1550580541.331900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f747dd14-a6cc-4899-92f9-2e32fee6f593","type":"message","user":"U03C6TEAZ","text":"do_runtime とかだったかな。","ts":"1550580684.332900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fdd52293-cc69-4722-979b-1e051d904824","type":"message","user":"U03C6TEAZ","text":"ワイド文字関連のパッチ果たしてすんなりマージされるだろうか。されると勢いつきそうだけど。","ts":"1550580906.335900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d37f98a0-b9ee-4a2d-b4c7-18930f3fb991","type":"message","user":"U6XP9LZ6V","text":"3つも投げちゃったけど…","ts":"1550581068.336400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f7912eec-f59f-4f89-b637-b0cb722b64c5","type":"message","user":"U6XP9LZ6V","text":"マルチバイトが標準になったら絶対直してやるぞと前から考えてた。","ts":"1550581258.337700","team":"T03C4RC8V","reactions":[{"name":"laughing","count":1,"users":["U06BRP8VD"]},{"name":"goodpoem","count":3,"users":["U06BRP8VD","U03C6TEAZ","U776661HA"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UGC5HPA7Q","text":"<@UGC5HPA7Q> has joined the channel","ts":"1550584862.337900","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null}]
