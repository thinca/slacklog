[{"client_msg_id":"57ed72f2-a2ac-4f61-8db5-266752f9d3f8","type":"message","user":"U03C6TEAZ","text":"こんな風にしてます。(最近 Windows で cpsm 動かないので)\n\n\u003chttps://gist.github.com/mattn/a455a8ebb64cd352ee73693714802779\u003e","ts":"1600437827.019600","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AgZJ"}]},{"client_msg_id":"71b5c796-7c4b-40a0-a540-6f5901c4c9d1","type":"message","user":"UAZ33BKV2","text":"自分は\n\u003chttps://github.com/FelikZ/ctrlp-py-matcher\u003e","ts":"1600437057.019000","attachments":[{"fallback":"GitHub: FelikZ/ctrlp-py-matcher","id":1,"title":"FelikZ/ctrlp-py-matcher","title_link":"https://github.com/FelikZ/ctrlp-py-matcher","text":"Fast vim CtrlP matcher based on python. Contribute to FelikZ/ctrlp-py-matcher development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/1080269?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/FelikZ/ctrlp-py-matcher","original_url":"https://github.com/FelikZ/ctrlp-py-matcher"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Okw8"}]},{"client_msg_id":"d9c6890a-310e-43e9-8146-ba2e78e804a7","type":"message","user":"UAZ33BKV2","text":"やばいなーw","ts":"1600436908.018800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kSItQ"}]},{"client_msg_id":"2e212857-8f95-4d14-88c8-0617610cba1d","type":"message","user":"U03C6TEAZ","text":"CtrlP のクエリに `\u0026amp;\u0026amp; rm -rf /*` とかタイプしたら死ねる。","ts":"1600436825.018600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EnK9"}]},{"client_msg_id":"1b385cb0-fa6d-4d25-b136-6540529815b5","type":"message","user":"U03C6TEAZ","text":"貧弱な PC ではこれを使う事にしたけど README に載ってる例が危なすぎる","ts":"1600436803.018100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wIUB"}]},{"client_msg_id":"e0675144-40fe-440b-af5b-af90af47de82","type":"message","user":"U03C6TEAZ","text":"\u003chttps://github.com/burke/matcher#using-with-ctrlpvim\u003e","ts":"1600436786.017400","attachments":[{"fallback":"GitHub: burke/matcher","id":1,"title":"burke/matcher","title_link":"https://github.com/burke/matcher#using-with-ctrlpvim","text":"[abandoned] Intelligently searches through a list of file names for the one you were probably looking for. - burke/matcher","thumb_url":"https://avatars0.githubusercontent.com/u/1284?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/burke/matcher#using-with-ctrlpvim","original_url":"https://github.com/burke/matcher#using-with-ctrlpvim"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zwFu"}]},{"client_msg_id":"0fb0c035-1b03-472f-87e2-5b51bd2b8b54","type":"message","user":"U03C6TEAZ","text":"カリカリで書くときには `+=` 使う事にする。","ts":"1600435820.017200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"990X"}]},{"client_msg_id":"6e578596-2fd1-4000-9134-73e477cbd9ac","type":"message","user":"U03C6TEAZ","text":"万のレベルになると `+= v` と `extend(arr, v)` の差が結構はっきり出てきますね。","ts":"1600435775.016600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6+tW"}]},{"client_msg_id":"2ee61104-4879-4967-ae63-4c3dae638a5f","type":"message","user":"U8R597E9H","text":"想像よりめちゃくちゃ早かった。","ts":"1600435618.015600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/zA8"}]},{"client_msg_id":"186b184a-6fbd-4b4f-aae8-38cebab41184","type":"message","user":"U8R597E9H","text":"え、36k ファイルこのスピードでフィルタできるのか。。。むしろキャッシュが遅いんですね。","ts":"1600435593.015100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q=+"}]},{"client_msg_id":"7e60ac0c-3b83-4e00-8485-0ecfef2a1c8a","type":"message","user":"UAZ33BKV2","text":"match側は拡張で、ファイルを本体ではわりとアリな気はしますね","ts":"1600435539.014300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ytN"}]},{"client_msg_id":"6ac8c086-c3da-4b2c-9dd8-bb30f92ba8e5","type":"message","user":"U03C6TEAZ","text":"まぁそこは ctrlp の matcher 使って貰えばいいんだけど。","ts":"1600435513.013800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fzO"}]},{"client_msg_id":"06eb63ce-1a24-4303-8cc1-87cc8445ccc5","type":"message","user":"UAZ33BKV2","text":"VimでCPU利用率の限界に挑んでおられる","ts":"1600435506.013600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8sE"}]},{"client_msg_id":"febbd612-b1f6-4aa9-9150-13b27ff0f711","type":"message","user":"U03C6TEAZ","text":"文字タイプするごとに CPU 100% で数秒はりつく。","ts":"1600435478.012800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CkDt5"}]},{"client_msg_id":"d9d57800-c04f-42f9-9f15-8de07b52569c","type":"message","user":"U03C6TEAZ","text":"問題は貧弱な PC で激重なのを何とかしたいけど、さすがに限界。","ts":"1600435450.012400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"f87"}]},{"client_msg_id":"994413b4-9675-4c3b-a3d0-cc972c622a34","type":"message","user":"UAZ33BKV2","text":":goodpoem:","ts":"1600435422.011900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XErbr"}]},{"client_msg_id":"7b917499-03f5-413f-b383-8459aab51b1b","type":"message","user":"U03C6TEAZ","text":"2回目からはキャッシュなので一瞬だし。","ts":"1600435411.011700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NBv4w"}]},{"type":"message","user":"U03C6TEAZ","text":"まだだいぶマシになったんです。tensorflow のリポジトリ 36000 くらいファイルがある状態でガクガクだったけど、いま Vim script だけでコレなので。","ts":"1600435384.011200","files":[{"id":"F01BBFANKFT","created":1600435380,"timestamp":1600435380,"name":"screenshot.gif","title":"screenshot.gif","mimetype":"image/gif","image_exif_rotation":0,"filetype":"gif","pretty_type":"GIF","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":292450,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F01BBFANKFT/screenshot.gif","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F01BBFANKFT/download/screenshot.gif","original_h":524,"original_w":796,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F01BBFANKFT-5219564a4f/screenshot_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F01BBFANKFT-5219564a4f/screenshot_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F01BBFANKFT-5219564a4f/screenshot_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F01BBFANKFT-5219564a4f/screenshot_360.png","thumb_360_gif":"https://files.slack.com/files-tmb/T03C4RC8V-F01BBFANKFT-5219564a4f/screenshot_360.gif","thumb_360_w":360,"thumb_360_h":237,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-F01BBFANKFT-5219564a4f/screenshot_480.png","thumb_480_w":480,"thumb_480_h":316,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-F01BBFANKFT-5219564a4f/screenshot_720.png","thumb_720_w":720,"thumb_720_h":474,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/F01BBFANKFT/screenshot.gif","permalink_public":"https://slack-files.com/T03C4RC8V-F01BBFANKFT-b52e6c416c","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"deanimate_gif":"https://files.slack.com/files-tmb/T03C4RC8V-F01BBFANKFT-5219564a4f/screenshot_deanimate_gif.png","display_as_bot":false,"has_rich_preview":false,"thumb_480_gif":"https://files.slack.com/files-tmb/T03C4RC8V-F01BBFANKFT-5219564a4f/screenshot_480.gif","thumb_tiny":"AwAfADCgSSck0UUUAFFFFABRRRQAUU8+Vnjfj8Kb8vvQAlFL8vvSjZjndn8KBDaKf+7/ANv9Kd+4/wCmv6UDP//Z","username":""}],"reactions":[{"name":"sokudo","count":2,"users":["U9S4G0LJW","U8R597E9H"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gcBGh"}]},{"client_msg_id":"13ed9460-5730-4ff4-ab69-61ac5f3e9b1f","type":"message","user":"U9S4G0LJW","text":"突然壊れるしneovimと互換性ないし…","ts":"1600435244.010400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/F1+"}]},{"client_msg_id":"ee277684-fb31-4f93-ab1a-85d446c9f409","type":"message","user":"U8R597E9H","text":"has(‘lua’)…","ts":"1600435227.010100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"56W"}]},{"client_msg_id":"dd70fd50-7e3a-4929-8155-ccc799ec5486","type":"message","user":"U03C6TEAZ","text":"ctrlp も一応非同期の仕組みは随分前から入ってはいるんですよね。","ts":"1600435155.009900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2kfHx"}]},{"client_msg_id":"31c1085b-9c8f-470e-a4cb-3025224a394f","type":"message","user":"U03C71D7H","text":"時代は非同期","ts":"1600435119.009300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nm9oQ"}]},{"client_msg_id":"b49e5013-4c75-4da9-8956-c9a4c35a6fe1","type":"message","user":"U03C6TEAZ","text":"ctrlp のパフォーマンスチューニング頑張ったけどさすがに限界が来た。","ts":"1600435042.009100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oM6"}]},{"client_msg_id":"cba35463-9219-42f3-91c6-705765929f58","type":"message","user":"UAZ33BKV2","text":"Vimのスクリプト処理部分、読んですぐに(できる処理なら)処理する、という感じに見えたので、callで関数の呼び出しのあれこれやったら、オーバーヘッドになりますねえ","ts":"1600433050.008700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GYD"}]},{"client_msg_id":"e00dab66-4ac9-4389-831b-474f9a34da71","type":"message","user":"U03C6TEAZ","text":"やっぱり関数呼び出しは遅い。","ts":"1600432847.007700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4NOIo"}]},{"client_msg_id":"d3a7c39a-c8ef-4f48-b733-9b7a69f64b3c","type":"message","user":"U03C6TEAZ","text":"物凄い数でテストすると戻り値ない `extend` より `+=` がちょっぴり速いですね。","ts":"1600432837.007400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wORmg"}]},{"client_msg_id":"20c830d9-92e7-4fec-868a-8ee352cb1c38","type":"message","user":"U6XP9LZ6V","text":"まあ、でもあまり速度は変わらないか","ts":"1600424004.006800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=L3"}]},{"client_msg_id":"fdcbae38-23f9-4a37-904a-e4abb48ca84b","type":"message","user":"U6XP9LZ6V","text":"\u0026gt; let a = extend(a, b)\nextend() は a を書き換えるから `call extend(a, b)` でよさそう","ts":"1600423837.006200","team":"T03C4RC8V","reactions":[{"name":"tashikani","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yUavT"}]},{"client_msg_id":"96f914e3-e67e-4618-bf1d-a2ac393eda35","type":"message","user":"UAZ33BKV2","text":"ですね...なるほど","ts":"1600421232.005200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"59Ri/"}]},{"client_msg_id":"3ec92870-631c-4116-97e9-06cbec17fdac","type":"message","user":"U7JL1UKKL","text":"extendは辞書に使えるのとオプションで挙動を変えられるのが利点ですね","ts":"1600421201.004800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N3da"}]},{"client_msg_id":"a8fe6a35-9875-4d33-8b3b-6c13389e63fd","type":"message","user":"UAZ33BKV2","text":"extend、あえていえば、a側を固定値とかからスタートするときに若干有用(copyして +=よりはよいとか)?","ts":"1600421000.003700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mlKPH"}]},{"client_msg_id":"25a8c470-2cf5-4f78-98f9-f60b9c42d4e2","type":"message","user":"U9S4G0LJW","text":"```let b = [5,6,7,8]\n\nlet t = reltime()\n  for i in range(10000)\n    let a = [1,2,3,4]\n    let a += b\n  endfor\nlet at = reltimefloat(reltime(t))\nlet t = reltime()\n  for i in range(10000)\n    let a = [1,2,3,4]\n    let a = extend(a, b)\n  endfor\nlet bt = reltimefloat(reltime(t))\necho bt/at```","ts":"1600420927.002800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FTwY"}]},{"client_msg_id":"d12ac27b-cc30-4e47-8b92-cd294b316040","type":"message","user":"U9S4G0LJW","text":"適当にベンチ取ってみたけど、  `+= : extend` がそれぞれ `1 : 1.2` くらいですね","ts":"1600420885.002600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ERm"}]},{"client_msg_id":"01f87ec9-19f2-4c77-beac-8f0b46fe761e","type":"message","user":"U7JL1UKKL","text":"関数呼び出しがない分+=の方が高速だと思いますけど","ts":"1600420052.001700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+Qm"}]},{"client_msg_id":"052272c7-428d-4bdc-a520-95bcf6d1a600","type":"message","user":"U03C6TEAZ","text":"list って `+=` と `extend` どっちが速いんでしたっけ。","ts":"1600419223.000700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NnRa"}]},{"type":"message","user":"U01AN1PQ2HH","text":"\u003c@U01AN1PQ2HH\u003e has joined the channel","ts":"1600401934.000200","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null}]
