[{"type":"message","user":"U6XP9LZ6V","text":"gui.c / gui_write() の gui_mch_flush() をコメントアウトするとちょっと速くなった気がする。","ts":"1511945317.000260","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"え、どういうことなの…","ts":"1511946778.000087","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"PCの構成が知りたい。","ts":"1511946789.000130","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"Core i5-6500 3.2GHz, mem 8GB, GPU GeForce GT 720 + Intel HD 530","ts":"1511949364.000144","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"D2D使ってるなら、スクロールより再描画しちゃった方が速そう。","ts":"1511949458.000586","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"www","ts":"1511951531.000194","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あ、実際GPU側につながってるんです?","ts":"1511951559.000006","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"ディスプレイは、それぞれ1個ずつつながっています。どっちのディスプレイで動かしても速度はあまり変わらないですね。","ts":"1511951781.000267","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"くっそーやっぱ完全DirectX化が好ましいのか…","ts":"1511951891.000257","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"たしかにゲームなら60FPSオーバーでも余裕で全画面書き換えるし、ポストプロセスまでできちゃうもんね。とはいえそれはシェーダーが活きれば、か。","ts":"1511951967.000043","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"ScrollWindowEx は要らない子","ts":"1511952087.000368","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"でもさすがに1行スクロールとかだと、ScrollWindowEx のが良いとか無いですかね?","ts":"1511959133.000095","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"それにしても… w48 なくなって見通しが良くなったわぁw","ts":"1511959329.000269","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1511960485.000431","files":[{"id":"F86CUDU9E","created":1511960485,"timestamp":1511960485,"name":"MS_KB_Q75236________________________________.c","title":"MS KB Q75236 ってドコにあるんだろ?","mimetype":"text/plain","image_exif_rotation":0,"filetype":"c","pretty_type":"C","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":197,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F86CUDU9E/ms_kb_q75236________________________________.c","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F86CUDU9E/download/ms_kb_q75236________________________________.c","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F86CUDU9E/ms_kb_q75236________________________________.c","permalink_public":"https://slack-files.com/T03C4RC8V-F86CUDU9E-79801d68e9","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F86CUDU9E/ms_kb_q75236________________________________.c/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U6XP9LZ6V","text":"ScrollWindowEx は要らない子パッチをプッシュ","ts":"1511960554.000028","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"```\n--- a/src/gui.c\n+++ b/src/gui.c\n@@ -1976,7 +1976,9 @@ gui_write(\n     gui.dragged_sb = SBAR_NONE;\n #endif\n \n+#ifndef WIN3264\n     gui_mch_flush();\t\t    /* In case vim decides to take a nap */\n+#endif\n }\n \n /*\n```","ts":"1511960748.000035","edited":{"user":"U6XP9LZ6V","ts":"1511960777.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"うん。たしかに全然早いw","ts":"1511960820.000378","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"そして、さらなる高速化。うまく描画されない場合があるかも？ 軽く試した感じでは問題なさそうですが。","ts":"1511960844.000585","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"それ、ええの?w","ts":"1511960866.000220","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"さあ？","ts":"1511960872.000194","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"ScrollWindowEx は要らない子パッチと上の flush 無効化パッチを組み合わせると、 `:ver` とか `:highlight` とかがスクロールせずに一瞬で出るようになりますｗ","ts":"1511961115.000108","edited":{"user":"U6XP9LZ6V","ts":"1511961136.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あーそれは逆にあかんきがするw Vim script でスクロールを期待してるみたいなのあるかも。","ts":"1511961163.000495","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"うーん、やっぱりダメですかｗｗｗ","ts":"1511961201.000435","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"1画面スクロールのコマンドを 行数x1行スクロールにしてスムーススクロールみたいな使い方、してる人いたんじゃなかったっけ?","ts":"1511961236.000118","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"あー、確かに。","ts":"1511961251.000194","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"gui_mch_flush の中で、前回の呼び出しからあまりに短かかったらすぐに何もせずに返すとかどうだろ? 16msec 未満とか。","ts":"1511961299.000291","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"16msec = 60fps の 1フレーム文","ts":"1511961341.000135","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"gui_mch_flush の呼び出しが連続している場合は、間引くのもありかもしれませんが、最後をどうやって判定しますかね。","ts":"1511961427.000163","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"もしくは実行をdelay させるかか。","ts":"1511961471.000093","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"goなら簡単なのになぁw","ts":"1511961478.000129","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"WM_TIMER とかか","ts":"1511961483.000622","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"SetTimer 仕掛けて、発火前だったら前回のをキャンセルして仕掛けなおして、WM_TIMER のほうで実際の flush をするとか?","ts":"1511961579.000407","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"ただ、間引いちゃうと、スムーズスクロールがカクカクスクロールになっちゃいますね。たぶん。","ts":"1511961597.000286","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"16msecなら60fpsくらいなので、ありじゃないですかね","ts":"1511961630.000029","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"問題は…実際の実行時にバッファ内容が書き換わってる可能性があることか。","ts":"1511961654.000566","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"必要以上に複雑になりそう。","ts":"1511961700.000270","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"とりあえず僕の方で実装してみましょか?","ts":"1511961723.000274","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"お任せします！","ts":"1511961738.000510","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"…なんかこれ、すでにTimerなにかしてるなw","ts":"1511961772.000077","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"ｗ","ts":"1511961811.000587","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"さすがにもうそろそろGDI, D2D併用での速度の限界に来ているんじゃないかと思っています。","ts":"1511961899.000111","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ですね。","ts":"1511961909.000025","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"最新コミットで、この環境での速度ってどんな感じですかね→ <https://github.com/vim-jp/issues/issues/994>","ts":"1511962057.000305","thread_ts":"1511962057.000305","attachments":[{"fallback":"GitHub: 画面描画が遅くなる · Issue #994 · vim-jp/issues","id":1,"title":"画面描画が遅くなる · Issue #994 · vim-jp/issues","title_link":"https://github.com/vim-jp/issues/issues/994","text":"報告の内容 Windows 10 の gvim において、ウィンドウ(正確には Vim text area) の下端が、ある線を超えると画面描画が遅くなります。その度合は様々な条件で異なりますが、最終的なトリガーはそこでした。 また ある線 はタスクバー(の上端の位置?)に依存しているようです。1920x1200のモニターにおいて、タスクバーを常時表示したデフォルトの状態ではウィンドウの下端...","thumb_url":"https://avatars0.githubusercontent.com/u/468368?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim-jp/issues/issues/994"}],"reply_count":14,"replies":[{"user":"U06BRP8VD","ts":"1511964052.000046"},{"user":"U6XP9LZ6V","ts":"1511964136.000388"},{"user":"U06BRP8VD","ts":"1511964160.000392"},{"user":"U6XP9LZ6V","ts":"1511964225.000174"},{"user":"U06BRP8VD","ts":"1511964258.000492"},{"user":"U06BRP8VD","ts":"1511964261.000477"},{"user":"U06BRP8VD","ts":"1511964280.000252"},{"user":"U06BRP8VD","ts":"1511964291.000139"},{"user":"U06BRP8VD","ts":"1511964307.000230"},{"user":"U6XP9LZ6V","ts":"1511964325.000177"},{"user":"U06BRP8VD","ts":"1511964840.000134"},{"user":"U06BRP8VD","ts":"1511964856.000667"},{"user":"U6XP9LZ6V","ts":"1511966277.000531"},{"user":"U6XP9LZ6V","ts":"1511966739.000859"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あ、あとで測ります。ただ、もうすでにかなり改善されていたのは間違いない。","ts":"1511962430.000222","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あ、間違った…","ts":"1511962711.000582","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"16msec は無視するんじゃなくて、最後のflushから16msecたたないとflushしないようになってもうた","ts":"1511962761.000171","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"ちらつきの原因は ScrollWindowEx ?","ts":"1511963091.000026","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"くっそSetTimerの解像度足りねぇよ。っていうかメッセージループが回ってるときにしか処理されないから、ダメだこれw","ts":"1511963667.000578","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"なんの成果も得られなかったパッチをご査収ください :syobon:","ts":"1511963776.000472","files":[{"id":"F86DMU4UQ","created":1511963776,"timestamp":1511963776,"name":"suppress_flush_15msec.diff","title":"suppress_flush_15msec.diff","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":1231,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F86DMU4UQ/suppress_flush_15msec.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F86DMU4UQ/download/suppress_flush_15msec.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F86DMU4UQ/suppress_flush_15msec.diff","permalink_public":"https://slack-files.com/T03C4RC8V-F86DMU4UQ-12399a1d44","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F86DMU4UQ/suppress_flush_15msec.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"では、最新パッチで、994の環境で試してみます。","ts":"1511963900.000014","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"<https://twitter.com/h0k0r0bi/statuses/935869419665928192>","ts":"1511963962.000128","attachments":[{"fallback":"<https://twitter.com/h0k0r0bi|@h0k0r0bi>: kaoriya版 Vim の develop を netupvim.exe で更新してカラーemojiを表示できるようにした。gVim の起動時に一瞬だけブラウザの表示内容が見えるっぽい。","id":1,"author_name":"hokorobi","author_subname":"@h0k0r0bi","author_link":"https://twitter.com/h0k0r0bi/status/935869419665928192","author_icon":"https://pbs.twimg.com/profile_images/1187873898/hokorobi_normal.png","text":"kaoriya版 Vim の develop を netupvim.exe で更新してカラーemojiを表示できるようにした。gVim の起動時に一瞬だけブラウザの表示内容が見えるっぽい。","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1511963631,"service_name":"twitter","from_url":"https://twitter.com/h0k0r0bi/statuses/935869419665928192"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"なんのことだろう","ts":"1511963966.000285","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"わがんね","ts":"1511964036.000551","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"爆速。まったく気にならない。","ts":"1511964052.000046","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"やった！","ts":"1511964136.000388","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"一応、パッチ当ててない状態(color emojiは入ってる)状態でも速度は改善済みでしたが、パッチあてたほうがチラツキが少ない感じ。","ts":"1511964160.000392","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"なるほど。実はGDIでもRedrawしちゃった方がいいんですかね？ｗ","ts":"1511964225.000174","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"最新だとありえなくはない。","ts":"1511964258.000492","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あと","ts":"1511964261.000477","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"MS KB Q75236 の謎があるんですよ。","ts":"1511964280.000252","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"これ16bit時代の KBじゃないかな?","ts":"1511964291.000139","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"で、実は要らなくなってる的な?","ts":"1511964307.000230","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"それで検索してもVimのソースぐらいしか見つからない件","ts":"1511964325.000177","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そうなんですよね","ts":"1511964840.000134","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"最近のは KBnnnnnnn だし、Q とか入ってないし…","ts":"1511964856.000667","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ちょっとリベンジしてみるかねぇ","ts":"1511964870.000145","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"Q75236 \"HOWTO: Determine Visible Window Area When Windows Overlap\" らしい？","ts":"1511966277.000531","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"とりあえずできた。flush から 16msec 以内の flush は無視して、無視した最後の flush を反映させるためのパッチ。\n\n今はわかりやすさのためにどのくらい間引いたかログを出すようにしてます。","ts":"1511966613.000382","files":[{"id":"F874EM4P4","created":1511966612,"timestamp":1511966612,"name":"suppress_flush_16msec.diff","title":"suppress_flush_16msec.diff","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":1418,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F874EM4P4/suppress_flush_16msec.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F874EM4P4/download/suppress_flush_16msec.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F874EM4P4/suppress_flush_16msec.diff","permalink_public":"https://slack-files.com/T03C4RC8V-F874EM4P4-060a75b26e","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F874EM4P4/suppress_flush_16msec.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U6XP9LZ6V","text":"get_scroll_flags() って、SM_CYFULLSCREEN 使ってるからマルチディスプレイ対応していないですよねｗ","ts":"1511966739.000859","thread_ts":"1511962057.000305","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","reactions":[{"name":"sweat_smile","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"うわ","ts":"1511966853.000402","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"これかえっておそくなってる…","ts":"1511966863.000068","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"未パッチの :version や :hi のほうが速い","ts":"1511966873.000368","edited":{"user":"U06BRP8VD","ts":"1511966883.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<@U6XP9LZ6V> ScrollWindowEx の代替で RedrawWindow する件ですが、スクロールする行数によっては ScrollWindowEx のほうが速いみたい。","ts":"1511967033.000802","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"なので :hi や :version は未パッチのほうが速いわ。","ts":"1511967059.000144","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ヤバイ。いよいよチューニングのカリカリな領域に踏み込みはじめてる感がw","ts":"1511967165.000565","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あ～たしかにフルスクリーンとかにしているとモロ影響出るかも。","ts":"1511910283.000215","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C4RC8X","text":"いつも4Kディスプレイで全画面gvim","ts":"1511911796.000271","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"たぶん :terminal のスクロールが遅いのも同じ原因な気がする","ts":"1511913006.000031","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そうか… terminal は描画コスト高そうだ。Vimの描画モデルと、合ってない可能性高い。","ts":"1511913483.000280","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"会社のデスクトップ、カラー絵文字対応前の方が動作が速くて謎 :thinking_face: ","ts":"1511926672.000091","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
