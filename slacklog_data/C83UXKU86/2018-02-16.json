[{"type":"message","user":"U7986PPFH","text":"jobを `'pty':1` で使うとき、channel の in/out/err 全てに pty master が設定されますが、err は不要ですよね？","ts":"1518760203.000130","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7986PPFH","text":"out と err で同じ fd (pty master) から読む意味がないと思うんですが","ts":"1518760407.000102","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"今って err は out の dup になってるんですかね","ts":"1518763237.000122","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7986PPFH","text":"dup でもなく同一の fd です","ts":"1518764795.000229","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"なるほど。では片方 close(2) するともう片方も close すか。","ts":"1518764973.000166","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7986PPFH","text":"out==err の場合は、両方(同じfdですが)からEOFを読んだ後に最後にcloseしてます\n`out_fd=err_fd=fd: outがEOF -&gt; out_fd=-1 -&gt; errがEOF -&gt; err_fd=-1 -&gt; close(fd)`","ts":"1518766013.000193","edited":{"user":"U7986PPFH","ts":"1518766046.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7986PPFH","text":"reference counting的な処理","ts":"1518766140.000202","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
