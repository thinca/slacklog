[{"client_msg_id":"5101212e-2a13-4bc7-99fd-e86e23c90e96","type":"message","user":"U06BRP8VD","text":"Windows で以下のように test_terminal の直後に test_undo を実行すると高確率で失敗することが分かった。失敗するのは Test_undofile_earlier","ts":"1595430824.127500","files":[{"id":"F017BS2AKN2","created":1595430822,"timestamp":1595430822,"name":"Untitled","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":193,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F017BS2AKN2/untitled","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F017BS2AKN2/download/untitled","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F017BS2AKN2/untitled","permalink_public":"https://slack-files.com/T03C4RC8V-F017BS2AKN2-91842e5712","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F017BS2AKN2/untitled/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"reactions":[{"name":"naruhodo","count":1,"users":["UB88NP1PY"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y6s1z"}]},{"client_msg_id":"32ac5008-5314-40fa-9c6f-7a431e401957","type":"message","user":"U06BRP8VD","text":"```nmake -f Make_dos.mak VIMPROG=..\\vim clean test_terminal.res test_undo.res report```\nみたいにまとめても起こる。","ts":"1595430860.128200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xdyAf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c0ec026-8d92-4eba-8a42-6cffe03e2fcc","type":"message","user":"UBQ2H65JQ","text":"ライブお疲れ様です。ライブ観ていて面白かったですw","ts":"1595431954.128800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"48TL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7cae4c8f-dea0-4b1d-bc60-922cf338e193","type":"message","user":"U06BRP8VD","text":"あざますw","ts":"1595431963.129000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iCj4D"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"59359275-9839-4bed-993c-786e8cbee4d5","type":"message","user":"U06BRP8VD","text":"`nmake ... test_terminal.res` 実行後に test.log を消してやると 直後の `nmake test_undo.res` が失敗しなくなる!","ts":"1595432522.129900","edited":{"user":"U06BRP8VD","ts":"1595432534.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EzXV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c42deb50-1fea-4db0-9a3e-51641097a623","type":"message","user":"U06BRP8VD","text":"つまり… test_undo は test.log の内容に依存してる…まじかよ…","ts":"1595432569.130600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"edfO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5108b3b1-4204-4ebd-b6af-3b9a57d5a525","type":"message","user":"U06BRP8VD","text":"いやおかしいな","ts":"1595432674.130800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TVy9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c2a0631d-a89d-48d3-8f2d-57288300aff0","type":"message","user":"U06BRP8VD","text":"わかった… test_terminal が Xfile というファイルに何か残してると、直後の test_undo が失敗する…","ts":"1595433154.131600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4hm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e448385e-4608-4971-9659-436b6b0dfad2","type":"message","user":"U06BRP8VD","text":":kanzenrikai: した。ココの delete が Win だと失敗してる。たぶん job_status() が dead 返してもまだ term_start のプロセスが生きてて出力ファイルのハンドルを握ってて消せない。UNIXは消せるんだよね。\n\nsleep 20m いれれば消せる。安全のために 50msec くらいいれようかと考えてる。\n\n<https://github.com/vim/vim/blob/bc6fcbe4ce52bc48c3d77b24086acc61ed3333bc/src/testdir/test_terminal.vim#L811>","ts":"1595434710.134100","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/bc6fcbe4ce52bc48c3d77b24086acc61ed3333bc/src/testdir/test_terminal.vim#L811","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/bc6fcbe4ce52bc48c3d77b24086acc61ed3333bc/src/testdir/test_terminal.vim#L811","original_url":"https://github.com/vim/vim/blob/bc6fcbe4ce52bc48c3d77b24086acc61ed3333bc/src/testdir/test_terminal.vim#L811"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N2Tl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a3b3dca1-46a8-4383-a1ef-728cd50f0ec2","type":"message","user":"U06BRP8VD","text":"本日の成果です! ご査収ください!\n<https://github.com/vim/vim/pull/6513>","ts":"1595435870.134500","attachments":[{"fallback":"GitHub: make sure Xfile is removed on Windows by koron · Pull Request #6513 · vim/vim","id":1,"title":"make sure Xfile is removed on Windows by koron · Pull Request #6513 · vim/vim","title_link":"https://github.com/vim/vim/pull/6513","text":"On Windows, removing file which used by job process may fail. Because the process may not end when job_status() returns &amp;quot;dead&amp;quot;. It takes a short time to finish process completely. If Xfil...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/pull/6513","original_url":"https://github.com/vim/vim/pull/6513"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u7NQ6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ab08a0f8-d206-4f3b-8bce-9aeea80f337d","type":"message","user":"U03C71D7H","text":"PROMPT のやつマージされた…はやい…","ts":"1595436022.134900","team":"T03C4RC8V","reactions":[{"name":"shiro-ohoo","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4JhVG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"56517526-bf95-48d6-ac70-ddec8beecb55","type":"message","user":"U06BRP8VD","text":"これでWindowsのテストを失敗させる原因は msys2 の more だけになった!","ts":"1595436171.135500","team":"T03C4RC8V","reactions":[{"name":"goodjob","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pQlT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b0d92d22-e83e-4675-b57b-91f5b7fd002b","type":"message","user":"U06BRP8VD","text":"まぁ、これは vim のせいじゃないからね。しかたない。","ts":"1595436184.135800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C6N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d989387a-ba4d-4416-a028-7234244dd7a5","type":"message","user":"U6XP9LZ6V","text":"Test_undofile_earlier が GitHub Actions で失敗してて、ローカルでは再現せず、何でだろうと半年前から思っていましたが、そういうことでしたか。分からなかったので GHA ではそのテスト、無効化してた。","ts":"1595466743.138600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MN/rA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65ad9ee2-e788-46d9-92a9-7753f96fdd2f","type":"message","user":"U6XP9LZ6V","text":"more は拡張子まで明示して `<http://more.com|more.com>` にすれば標準の more が使われるのでは？","ts":"1595467099.140200","thread_ts":"1595467099.140200","reply_count":1,"replies":[{"user":"U06BRP8VD","ts":"1595469883.151900"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rh6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"96b5881f-aa90-4004-8fba-f2b780442edb","type":"message","user":"U06BRP8VD","text":"more って cmd の 組み込みだと勘違いしてた。","ts":"1595467835.140900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"25hep"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"edf20b92-c374-4e01-9587-b97ba43e0389","type":"message","user":"U06BRP8VD","text":"その `<http://more.com|more.com>` にするPR、とおるかしらね?","ts":"1595467854.141300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5Hwzi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7a9a58b0-912a-4392-b751-53c622067350","type":"message","user":"U06BRP8VD","text":"まぁダメ元で出してみるかぁ","ts":"1595467862.141500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"96Ag"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ffb90a71-32cd-47d7-968d-7ea86ccc6301","type":"message","user":"U06BRP8VD","text":"GHAのほう、折を見て有効化してもらえれば。","ts":"1595468205.141800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O+H"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d93d4fe-ac72-482a-850d-8377a678e811","type":"message","user":"U06BRP8VD","text":"マージされた変更のブランチが git branch --meregd で確認できないのはちょっとつらいよなぁ。","ts":"1595468254.142200","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U6XP9LZ6V"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6BEeU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6ec0c55b-17f2-4f7e-bbe0-791b082cfefa","type":"message","user":"U06BRP8VD","text":"いま 1273 テスト中","ts":"1595468416.143100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"w64nh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e8087f87-cb05-4c26-8723-ffc301d82774","type":"message","user":"U06BRP8VD","text":"そうか… ConPTY のときに失敗するテストがまだあったな…","ts":"1595468528.144300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+a6i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a85a39f1-8989-46f3-9792-775951bdd5d7","type":"message","user":"U6XP9LZ6V","text":"(あ、GHAの話はあくまで自分のリポジトリのことなので。) vim/vim にも GHA 導入してテストの組み合わせ増やした上で、テスト時間削減できないかな…","ts":"1595468560.144700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cKw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b69889b2-f8e6-424c-bdf3-a17a9b5db475","type":"message","user":"U06BRP8VD","text":"同時実行できるようにするのが良いかと思います。","ts":"1595468590.145100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eTVcg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e56d1e6b-dcd3-4fb5-827b-a064ec371b49","type":"message","user":"U06BRP8VD","text":"あとは Flaky テストの繰り返し回数を減らす、みたいなのもありかも。","ts":"1595468620.146100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y5Pv2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a9c21535-b7f8-4141-86fb-e4e0d98921ff","type":"message","user":"U06BRP8VD","text":"っていうか Flaky テストを全部安定させれば良いというのはある。","ts":"1595468632.146600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4S6B"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8c5dbd1d-b3b3-4f30-ace0-8b5fc1e33c59","type":"message","user":"U6XP9LZ6V","text":"AppVeyor は VC2010 で流すのに必要だけど、同時実行できないので時間が掛かってる。","ts":"1595468677.147600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dQt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f59c472-1c84-44bb-818a-f3d1e9fe898e","type":"message","user":"U06BRP8VD","text":"テストの同時実行は、テストファイルごとにディレクトリ掘ってそっちで実行できるようにできればGUIとUNIX CLIはいけるとおもう。Win CLIはコンソールが干渉しそう。","ts":"1595468736.148700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ibAmw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b5af478-76a2-4bcc-9c15-c407893d4b87","type":"message","user":"U06BRP8VD","text":"並列実行","ts":"1595468752.149200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rGxO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"625e4e66-c3b6-48fd-a1ac-b46f7367a033","type":"message","user":"U06BRP8VD","text":"といったほうがよいかな","ts":"1595468759.149500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+Jhh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"23c285f0-d358-47ee-9e84-145333fc0dc7","type":"message","user":"U6XP9LZ6V","text":"ConPTY の件はまだほとんど見ていないのですが、ヌルポで引っかかる場合があるようでした。","ts":"1595468766.149600","thread_ts":"1595468766.149600","reply_count":1,"replies":[{"user":"U06BRP8VD","ts":"1595468841.150300"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BOiL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"やった","ts":"1595468777.149800","files":[{"id":"F0189LRD7G8","created":1595468771,"timestamp":1595468771,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":0,"filetype":"png","pretty_type":"PNG","user":"U06BRP8VD","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":2588,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F0189LRD7G8/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F0189LRD7G8/download/image.png","original_h":77,"original_w":230,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F0189LRD7G8-321f6fd6fb/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F0189LRD7G8-321f6fd6fb/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F0189LRD7G8-321f6fd6fb/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F0189LRD7G8-321f6fd6fb/image_360.png","thumb_360_gif":"","thumb_360_w":230,"thumb_360_h":77,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F0189LRD7G8/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-F0189LRD7G8-3a46ad0d7d","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAQADDPIH94flSEADIIP4UqvjIJPXjFDvuHVj9aADA25yM+mKCB/eH5UitgEEnGO1O3jHVvzoAjz7CjNFFAH//Z","username":""}],"reactions":[{"name":"+1","count":1,"users":["U6XP9LZ6V"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QmQc0"}]},{"client_msg_id":"8dd097b6-dbb0-44e1-8d07-c3942136ae6f","type":"message","user":"U06BRP8VD","text":"落ちることはなかったんですが、なんかterm_getlineが余計な空白を付けてくるせいで asset_equal に引っかかるんですよ。\n\nで確実に再現する。","ts":"1595468841.150300","thread_ts":"1595468766.149600","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=qWX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そして msys2 more だとこうなるw","ts":"1595468914.150800","files":[{"id":"F01753NNHPH","created":1595468900,"timestamp":1595468900,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":0,"filetype":"png","pretty_type":"PNG","user":"U06BRP8VD","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":10470,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F01753NNHPH/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F01753NNHPH/download/image.png","original_h":217,"original_w":332,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F01753NNHPH-db390769fc/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F01753NNHPH-db390769fc/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F01753NNHPH-db390769fc/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F01753NNHPH-db390769fc/image_360.png","thumb_360_gif":"","thumb_360_w":332,"thumb_360_h":217,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F01753NNHPH/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-F01753NNHPH-7a2f204ad5","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAfADCgFB5/r/8AWpn8WO1Lhu386bzn3oAcQAuabmjJxjNFABRRRQAHrUnYf5/pUZ608MOOf8/nQAo/z/nFGM8H/P6UgYY/+t/9el3r6/pQAm0EcfzpNnuKUMMDmgsPXv8A570Af//Z","username":""}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZB32E"}]},{"client_msg_id":"400bc767-7744-491a-b222-43ece54cc597","type":"message","user":"U06BRP8VD","text":"んーmoreよりもtype使うべきなのかな。moreってたしかページングするよね?","ts":"1595469002.151400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"krgt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8e6c9b7b-525e-40ec-9460-3ef0296404e2","type":"message","user":"U06BRP8VD","text":"あーtypeって標準入力受け付けないんだw","ts":"1595469102.151800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dDyb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"597aa02f-8281-4c7a-8b1d-717f4295ba21","type":"message","user":"U06BRP8VD","text":"PR しました!\n<https://github.com/vim/vim/pull/6517>\n\nありがとうございました～","ts":"1595469883.151900","thread_ts":"1595467099.140200","attachments":[{"fallback":"GitHub: use \"more.com\" instead of \"more(.exe)\" by koron · Pull Request #6517 · vim/vim","id":1,"title":"use \"more.com\" instead of \"more(.exe)\" by koron · Pull Request #6517 · vim/vim","title_link":"https://github.com/vim/vim/pull/6517","text":"test_system.vim may fail if more.exe (from msys2 or so) is installed to Windows box. test_system.vim expects that &amp;quot;more&amp;quot; means Windows&amp;#39;s one, and it can be specified by &amp;quot;more.com...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/pull/6517","original_url":"https://github.com/vim/vim/pull/6517"}],"subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CzGZ"}],"root":{"client_msg_id":"65ad9ee2-e788-46d9-92a9-7753f96fdd2f","type":"message","user":"U6XP9LZ6V","text":"more は拡張子まで明示して `<http://more.com|more.com>` にすれば標準の more が使われるのでは？","ts":"1595467099.140200","thread_ts":"1595467099.140200","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rh6"}]}},{"client_msg_id":"02e319fc-0f18-403a-a198-801fae00a022","type":"message","user":"U06BRP8VD","text":"これで小細工無しで `nmake` 一発でテストが回る!","ts":"1595469958.152500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QK7ea"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"98f2b8df-18b7-4aa3-8c43-762d49176953","type":"message","user":"U6XP9LZ6V","text":"そういえば、Python 3.4 を使うと test_python3.vim で fail する。（見なかったことにして、さっさと自分のCIで使ってるPythonのバージョンを上げるべきか？ｗ）","ts":"1595470876.154700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/2yHp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e7fa9727-671e-4e9f-b471-b256efd7d463","type":"message","user":"U9S4G0LJW","text":"サポート切れてるな","ts":"1595472562.155000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=Kh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"643ec1e6-9c23-423f-b658-81485cc009ee","type":"message","user":"U9S4G0LJW","text":"未だに新規で3.4来るような環境あるんかな","ts":"1595472577.155600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nlh9u"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49f8826b-2e5e-4bd8-8f87-75fd6deec5df","type":"message","user":"UAZ33BKV2","text":"ディストリの標準がどうなってるか、は気になる","ts":"1595473346.158200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7=Pha"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f37bf509-3d1d-41bb-b6ba-546a7c06699d","type":"message","user":"U6XP9LZ6V","text":"Ubuntu LTS とか RHEL とかで Python 3.4 がまだサポート期間内のディストリビューションあるかなと調べてみたけど、ぱっと見なさげ？ Ubuntu 16.04 は 3.5 っぽいし、少し前の RHEL はそもそも Python 3 が入ってなかったりするっぽいし。","ts":"1595473384.158800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aRh05"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c0d6b93a-1a17-4e8f-8d0d-d00a8dc3b910","type":"message","user":"U6XP9LZ6V","text":"まー、そうなると vim のサポート対象からさっさと切り捨てるのが楽だけど。","ts":"1595473481.159700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jFyS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"db59f4f4-037c-47c9-9e63-047d258e2333","type":"message","user":"U06BRP8VD","text":"Linux の gvim (gtk2) で `:` の tmap が聞かない。 vim なら問題ない。なんだろこれ?","ts":"1595474273.160800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/qZs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b5780177-9549-4384-94f5-2d341d3d4be2","type":"message","user":"U6XP9LZ6V","text":"Shift 押しながらのキーが上手く動かない件？","ts":"1595474365.161300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ndf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"80c6d4c5-3772-47b3-ad54-59caa152cd18","type":"message","user":"U9S4G0LJW","text":"US配列にしてるならこれかな <https://github.com/vim-jp/issues/issues/1347>","ts":"1595474367.161500","attachments":[{"fallback":"GitHub: Linux上のgVimで記号にtnoremapすると効かないケースがある · Issue #1347 · vim-jp/issues","id":1,"title":"Linux上のgVimで記号にtnoremapすると効かないケースがある · Issue #1347 · vim-jp/issues","title_link":"https://github.com/vim-jp/issues/issues/1347","text":"不具合の内容 US配列のキーボードを使っている状態でGTK(2/3)上のgVimで:tnoremap : &lt;C-w&gt;:&lt;C-u&gt;echom &amp;#39;hoge&amp;#39;&lt;CR&gt;を実行してもマッピングが反映されない 現象・ログ マッピングが効かずにターミナル上に:が入力されます 再現手順 $ setxkbmap us $ gvim --clean :tnor...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/issues/issues/1347","original_url":"https://github.com/vim-jp/issues/issues/1347"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LlgS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e36fc303-348b-4a8c-b1c7-5b2385aef9a6","type":"message","user":"U06BRP8VD","text":"まじかーmodifierのmapがおかしいんか","ts":"1595474527.162100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"leu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"868bda2d-9a6b-40b1-af4c-f35dc9c334f5","type":"message","user":"UAZ33BKV2","text":"どっかで見たとおもったらそうでしたね...","ts":"1595474559.162700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rd3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04dcc9e3-1f6c-49f2-9fcd-2e903f3af9b1","type":"message","user":"U06BRP8VD","text":"ああ imap はちゃんとできたので vim/vim#6457 とは別っぽい","ts":"1595474572.163000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"F22Y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"114cc887-5a31-4d45-a054-40fe899fdfab","type":"message","user":"U06BRP8VD","text":"shift 押して記号になるキーは全滅っぽいな","ts":"1595474979.163300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ziQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de9e7f5c-e09d-4cb8-8256-49fcecddb958","type":"message","user":"U6XP9LZ6V","text":"自分のところのCIのPythonを3.8に上げた。そしたら未だにVC 2010を使っていたせいでコンパイルで落ちたｗ\nVC 2015に上げてようやく解決。","ts":"1595475548.165200","team":"T03C4RC8V","reactions":[{"name":"laughing","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CsUdj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a57902e7-bb3c-49b2-bc74-b848762375bd","type":"message","user":"U6XP9LZ6V","text":"Python 3.4で落ちる件は忘れよう。","ts":"1595475585.165800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/Cpa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04d289a2-9637-45a6-a402-90878ffadba3","type":"message","user":"U6XP9LZ6V","text":"vim/vim の AppVeyor は、MinGW console/GUI 32bit と VC2010 console/GUI 64bit でビルドして、テストは VC GUI、MinGW console だけを流して、それを HUGE と NORMAL で実行して合計で 20分程度。上手い具合に一部を GHA に移して実行時間を減らしたいところ。","ts":"1595477185.169300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zrm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c6d7c601-d350-44ad-b192-b72b0d8c122e","type":"message","user":"U6XP9LZ6V","text":"ただ、自分の vim-kt リポジトリだと GHA で 15分くらい掛かってるので、なぜかテスト自体は AppVeyor よりかなり遅い。","ts":"1595477315.170900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GyQPr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4b2b7251-01fd-433a-bb3b-13d7ffadd249","type":"message","user":"U06BRP8VD","text":"おっけだいたいの原因と直し方にめどがたったよ <https://github.com/vim-jp/issues/issues/1347#issuecomment-662817371>","ts":"1595479946.171300","attachments":[{"fallback":"GitHub: Linux上のgVimで記号にtnoremapすると効かないケースがある · Issue #1347 · vim-jp/issues","id":1,"title":"Linux上のgVimで記号にtnoremapすると効かないケースがある · Issue #1347 · vim-jp/issues","title_link":"https://github.com/vim-jp/issues/issues/1347#issuecomment-662817371","text":"不具合の内容 US配列のキーボードを使っている状態でGTK(2/3)上のgVimで:tnoremap : &lt;C-w&gt;:&lt;C-u&gt;echom &amp;#39;hoge&amp;#39;&lt;CR&gt;を実行してもマッピングが反映されない 現象・ログ マッピングが効かずにターミナル上に:が入力されます 再現手順 $ setxkbmap us $ gvim --clean :tnor...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/issues/issues/1347#issuecomment-662817371","original_url":"https://github.com/vim-jp/issues/issues/1347#issuecomment-662817371"}],"team":"T03C4RC8V","reactions":[{"name":"subara","count":3,"users":["U9S4G0LJW","U7JL1UKKL","UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ECj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"337f0807-6c34-42d5-8e5a-4a492be713ab","type":"message","user":"U06BRP8VD","text":"僕のお昼がいけにえになった","ts":"1595480295.172100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BVw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d773b2e2-8fdd-4ebd-8ef1-502865079f3a","type":"message","user":"U06BRP8VD","text":"修正できたよ…いやしかしこれ(=この修正方法は)問題では…\n<https://github.com/vim-jp/issues/issues/1347#issuecomment-662826304>","ts":"1595482422.172600","attachments":[{"fallback":"GitHub: Linux上のgVimで記号にtnoremapすると効かないケースがある · Issue #1347 · vim-jp/issues","id":1,"title":"Linux上のgVimで記号にtnoremapすると効かないケースがある · Issue #1347 · vim-jp/issues","title_link":"https://github.com/vim-jp/issues/issues/1347#issuecomment-662826304","text":"不具合の内容 US配列のキーボードを使っている状態でGTK(2/3)上のgVimで:tnoremap : &lt;C-w&gt;:&lt;C-u&gt;echom &amp;#39;hoge&amp;#39;&lt;CR&gt;を実行してもマッピングが反映されない 現象・ログ マッピングが効かずにターミナル上に:が入力されます 再現手順 $ setxkbmap us $ gvim --clean :tnor...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/issues/issues/1347#issuecomment-662826304","original_url":"https://github.com/vim-jp/issues/issues/1347#issuecomment-662826304"}],"edited":{"user":"U06BRP8VD","ts":"1595482447.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"acbe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4e8b2be1-7a16-4512-b1b2-3393ecea5fe5","type":"message","user":"U06BRP8VD","text":"そして Linux で test_conceal.vim がコケてる…","ts":"1595484117.173100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KzqA2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"749055f0-efdf-482c-be1e-476a200d2b44","type":"message","user":"U06BRP8VD","text":"とりあえず `tmap :` できない件は PR した<https://github.com/vim/vim/pull/6519>","ts":"1595487150.173700","thread_ts":"1595487150.173700","attachments":[{"fallback":"GitHub: GTK: gvim cannot map ':' in terminal by koron · Pull Request #6519 · vim/vim","id":1,"title":"GTK: gvim cannot map ':' in terminal by koron · Pull Request #6519 · vim/vim","title_link":"https://github.com/vim/vim/pull/6519","text":"GTK gvim cannot map &amp;#39;:&amp;#39; in terminal. :tnoremap : &lt;C-w&gt;: never work. This removes MOD_MASK_SHIFT from modifier for : and other marks in may_remove_shift_modifier(). Which marks are req...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/pull/6519","original_url":"https://github.com/vim/vim/pull/6519"}],"reply_count":1,"replies":[{"user":"U06BRP8VD","ts":"1595812546.183900"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1R1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22cbfcc8-c83d-4b66-9985-3d93dbfab617","type":"message","user":"U03C6TEAZ","text":"なんでそんな実装になってたんだろw","ts":"1595487221.174400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"weZZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"91c7d9c0-01d4-4238-864c-abcd104b53b9","type":"message","user":"U06BRP8VD","text":"わっかんねぇw","ts":"1595487235.174600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hr8py"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0a4edd4f-3855-4a26-80d0-6bee9dd65607","type":"message","user":"U06BRP8VD","text":"まぁあとはBramがいい感じに直してくれるんちゃうかしら(ひとまかせ","ts":"1595487261.175000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WR/KS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
