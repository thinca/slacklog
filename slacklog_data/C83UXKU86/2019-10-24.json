[{"client_msg_id":"eb7473af-aa22-4a47-a9e8-3129a35b6c25","type":"message","user":"U9S4G0LJW","text":"<https://vim-jp.slack.com/archives/C03C4RC9F/p1571907792410400>","ts":"1571910848.015600","attachments":[{"fallback":"[October 24th, 2019 2:03 AM] thinca: ところで `:[count]messages` の count が半分になってしまってる気がするんですが皆さんどうでしょう? `:10messages` としても 5 件しか表示されない気がする","id":1,"author_id":"U03C71D7H","author_name":"thinca","author_subname":"thinca","author_link":"https://vim-jp.slack.com/team/U03C71D7H","author_icon":"https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg","text":"ところで `:[count]messages` の count が半分になってしまってる気がするんですが皆さんどうでしょう? `:10messages` としても 5 件しか表示されない気がする","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #random","ts":1571907792.410400,"from_url":"https://vim-jp.slack.com/archives/C03C4RC9F/p1571907792410400","original_url":"https://vim-jp.slack.com/archives/C03C4RC9F/p1571907792410400"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1b552cc6-3a93-4e9b-bae8-ab6ac7409245","type":"message","user":"U9S4G0LJW","text":"この流れで、gdbで該当部分眺めてたら、メッセージが無い場合でも、空のメッセージがバッファに追加されてるみたいで、パッチ書いてみたんですが、どなたか試していただけないでしょうか。","ts":"1571910951.016900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2f93b9f-2bf2-481c-bc4c-91559b2efde6","type":"message","user":"U9S4G0LJW","text":"```\ndiff --git a/src/message.c b/src/message.c\nindex 8af5d7b..e4eee96 100644\n--- a/src/message.c\n+++ b/src/message.c\n@@ -909,6 +909,9 @@ add_msg_hist(\n {\n     struct msg_hist *p;\n \n+    if (*s == '\\0')\n+\treturn;\n+\n     if (msg_hist_off || msg_silent != 0)\n \treturn;\n ```","ts":"1571910961.017100","edited":{"user":"U9S4G0LJW","ts":"1571910990.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
