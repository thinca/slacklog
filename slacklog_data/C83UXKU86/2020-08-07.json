[{"client_msg_id":"ea3afc8c-7e9d-4ed8-9537-b0256e5ace10","type":"message","user":"U03C6TEAZ","text":"<https://github.com/vim-jp/issues/issues/1250>","ts":"1596808192.281700","attachments":[{"fallback":"GitHub: Windows 版をパイプ読み取りで起動すると Python 初期化時にクラッシュする · Issue #1250 · vim-jp/issues","id":1,"title":"Windows 版をパイプ読み取りで起動すると Python 初期化時にクラッシュする · Issue #1250 · vim-jp/issues","title_link":"https://github.com/vim-jp/issues/issues/1250","text":"質問・報告の内容 表題の通り。 echo 1| vim -c &amp;quot;py3 print(1)&amp;quot; - Vimのバージョン 8.1.983 OSの種類/ディストリ/バージョン Windows 7/10 64bit 使用している or 関係していそうなプラグイン なし その他 調査の結果 Py_Initialize の中で io.py が呼ばれ、Windows 専用のロジックで標準...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/issues/issues/1250","original_url":"https://github.com/vim-jp/issues/issues/1250"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ti8A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"87d22372-8f12-4f0d-af15-1050e9c72175","type":"message","user":"U03C6TEAZ","text":"これなおったか。","ts":"1596808194.282000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7Dx3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"64f8e6fa-c6d9-44e1-bd32-d74ba106adb3","type":"message","user":"U03C6TEAZ","text":"↑の keywordprg 直すかな。","ts":"1596808297.282300","edited":{"user":"U03C6TEAZ","ts":"1596809052.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c28B"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"48b3bd7e-e6f3-4dc7-8b0c-45bb01aa088b","type":"message","user":"U03C6TEAZ","text":"原因分かった。 `set` は `isfname` に依存してるらしい。","ts":"1596809154.283700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oc/D"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"014a7f8e-a1e1-41de-9961-071383d29fb3","type":"message","user":"U03C6TEAZ","text":"僕は `dosbatch` 時に `C:\\Program Files` とかを補完したかったので `isfname` に空白を足してるんだけど `setlocal keywordprg=:term\\ help.exe` がエラーを起こすらしい。","ts":"1596809200.284600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hto4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"89c07f89-928a-4c10-b799-1a40b5244521","type":"message","user":"U03C6TEAZ","text":"それはどうなん...","ts":"1596809216.284900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2MZV6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"406ddb3e-c390-4573-a3c7-9862c46ad12d","type":"message","user":"U03C6TEAZ","text":"でここの isfilec が空白を見ちゃってる。 <https://github.com/vim/vim/blob/master/src/option.c#L1765>","ts":"1596809308.285200","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/master/src/option.c#L1765","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/master/src/option.c#L1765","original_url":"https://github.com/vim/vim/blob/master/src/option.c#L1765"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"INh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2f738d1-5a67-4ecf-9da4-e92c4254dda4","type":"message","user":"UAZ33BKV2","text":"各 `is&lt;hoge&gt;` がどこに影響するか、 むずかしいですね...不具合感もありますし","ts":"1596809452.286000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fnB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5fbdd13c-8057-4e3d-bb5a-01d744368cfa","type":"message","user":"U03C6TEAZ","text":"ひとまずここは空白じゃない処理のはずなので","ts":"1596809530.286500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I2a/V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"634e99fe-8172-4684-999b-7ffb4c18f792","type":"message","user":"U03C6TEAZ","text":"```diff --git a/src/option.c b/src/option.c\nindex f66fad947..b5b24446c 100644\n--- a/src/option.c\n+++ b/src/option.c\n@@ -1763,6 +1763,7 @@ do_set(\n #ifdef BACKSLASH_IN_FILENAME\n \t\t\t\t\t&amp;&amp; !((flags &amp; P_EXPAND)\n \t\t\t\t\t\t&amp;&amp; vim_isfilec(arg[1])\n+\t\t\t\t\t\t&amp;&amp; !VIM_ISWHITE(arg[1])\n \t\t\t\t\t\t&amp;&amp; (arg[1] != '\\\\'\n \t\t\t\t\t\t    || (s == newval\n \t\t\t\t\t\t\t&amp;&amp; arg[2] != '\\\\')))```","ts":"1596809534.286800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jRA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f0d07f19-9753-48c6-bce3-940337032c81","type":"message","user":"U03C6TEAZ","text":"でいい気がするな。","ts":"1596809539.287000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KZTFU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"db4e24f3-a302-4d97-90cf-ed7468fdc0d1","type":"message","user":"U03C6TEAZ","text":"<https://github.com/vim/vim/pull/6651>","ts":"1596810244.287200","attachments":[{"fallback":"GitHub: Fix set command contains escaped spaces with isfname+=32 by mattn · Pull Request #6651 · vim/vim","id":1,"title":"Fix set command contains escaped spaces with isfname+=32 by mattn · Pull Request #6651 · vim/vim","title_link":"https://github.com/vim/vim/pull/6651","text":"When adding whitespace to isfname, set command fail with escaped-spaces. Repro steps: set isfname+=32 set keywordprg=:term\\ help.exe I think set command should handle isfname since it enable compl...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/pull/6651","original_url":"https://github.com/vim/vim/pull/6651"}],"team":"T03C4RC8V","reactions":[{"name":"sasumatsu","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qpIV2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
