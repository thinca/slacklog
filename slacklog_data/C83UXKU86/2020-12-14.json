[{"client_msg_id":"7ef3a705-d1d7-4c11-9cc8-74db14eec36b","type":"message","user":"U03C6TEAZ","text":"ですです。","ts":"1607915258.054400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ffZ"}]},{"client_msg_id":"511e29a8-3068-4211-91a1-1811b9c17176","type":"message","user":"U6XP9LZ6V","text":"Vim では ReadConsoleOutput で画面を保存しておいて、WriteConsoleOutput で復元するのに使っているだけなので、バッファの中身は気にしておらず問題なしと。","ts":"1607915158.054100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NNgc"}]},{"client_msg_id":"aaea4d03-ba45-4e4d-8636-1cc3b9723277","type":"message","user":"UAZ33BKV2","text":"putに対してwrite(1)システムコール感(そこまで乖離してないかもだけど)","ts":"1607914999.052600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U6R"}]},{"client_msg_id":"26040609-2649-422e-8811-7b179ee3b08e","type":"message","user":"U6XP9LZ6V","text":"Read/WriteConsoleOutput は低レベルコンソール入出力関数という位置づけのようですから、まあ仕方ないのかな？ 普通は WriteConsole の方を使うだろうし。","ts":"1607914945.052100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bv="}]},{"client_msg_id":"b29ec895-3383-4a16-9437-3873c02a1161","type":"message","user":"U03C4RC8X","text":":hiee:","ts":"1607914052.049700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"f6qW"}]},{"client_msg_id":"9e679c7d-4f79-45e9-b01d-2401f63dcb28","type":"message","user":"U03C6TEAZ","text":"あほらしい。","ts":"1607913961.049400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rQL3N"}]},{"client_msg_id":"fa5abda1-d5e6-456e-ad8b-f0b706158564","type":"message","user":"U03C6TEAZ","text":"しかしまぁ、マルチバイトで `あいう` を出すのになんでこんなコード書かないといけないの。\n```#include \u0026lt;windows.h\u0026gt;\n#include \u0026lt;stdio.h\u0026gt;\n\nint\nmain(int argc, char* argv[]) {\n\tHANDLE h = GetStdHandle(STD_OUTPUT_HANDLE);\n\tCHAR_INFO ci[6] = {};\n\tCOORD buffer_size = { 6, 1 };\n\tCOORD start_coord = { 0, 0 };\n\tSMALL_RECT sr = { 0, 0, 80, 25 };\n\tSHORT white = FOREGROUND_BLUE | FOREGROUND_GREEN | FOREGROUND_RED;\n\n\tci[0].Char.UnicodeChar = L'あ';\n\tci[0].Attributes = white | COMMON_LVB_LEADING_BYTE ;\n\tci[1].Char.UnicodeChar = L'あ';\n\tci[1].Attributes = white | COMMON_LVB_TRAILING_BYTE ;\n\tci[2].Char.UnicodeChar = L'い';\n\tci[2].Attributes = white | COMMON_LVB_LEADING_BYTE ;\n\tci[3].Char.UnicodeChar = L'い';\n\tci[3].Attributes = white | COMMON_LVB_TRAILING_BYTE ;\n\tci[4].Char.UnicodeChar = L'う';\n\tci[4].Attributes = white | COMMON_LVB_LEADING_BYTE ;\n\tci[5].Char.UnicodeChar = L'う';\n\tci[5].Attributes = white | COMMON_LVB_TRAILING_BYTE ;\n\tWriteConsoleOutputW(h, (CHAR_INFO*)ci, buffer_size, start_coord, \u0026amp;sr);\t\n\treturn 0;\n}```","ts":"1607913955.049200","team":"T03C4RC8V","reactions":[{"name":"gunnyari","count":2,"users":["U9S4G0LJW","U776661HA"]},{"name":"scream_cat","count":1,"users":["UBZ0430DQ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"64368"}]},{"client_msg_id":"b0097c80-959f-461c-9838-2afcf9d59346","type":"message","user":"U03C6TEAZ","text":"あれなんか vim は大丈夫ぽい感じもする。","ts":"1607913509.048700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YtR"}]},{"client_msg_id":"1772df36-606e-40ce-9463-29ee59f765ee","type":"message","user":"U03C6TEAZ","text":"これ vim も直さないとなぁ。","ts":"1607913173.048100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"shJ"}]},{"client_msg_id":"9ee70f69-6811-442b-9e0f-ca7d150e71d0","type":"message","user":"U03C6TEAZ","text":"\u003chttps://twitter.com/yks15468166/status/1338304432870584320\u003e","ts":"1607913168.047800","attachments":[{"fallback":"\u003chttps://twitter.com/yks15468166|@yks15468166\u003e: \u003chttps://twitter.com/mattn_jp|@mattn_jp\u003e \u003chttps://teratail.com/questions/309658の「質問への追記・修正の依頼」欄\u003e\n2セルに同じ文字コードをセットして、Attributesの左側部分にCOMMON_LVB_LEADING_BYTE、右側部分にCOMMON_LVB_TRAILING_BYTEを設定するようですよ。","id":1,"author_name":"yks","author_subname":"@yks15468166","author_link":"https://twitter.com/yks15468166/status/1338304432870584320","author_icon":"https://abs.twimg.com/sticky/default_profile_images/default_profile_normal.png","text":"\u003chttps://twitter.com/mattn_jp|@mattn_jp\u003e \u003chttps://teratail.com/questions/309658の「質問への追記・修正の依頼」欄\u003e\n2セルに同じ文字コードをセットして、Attributesの左側部分にCOMMON_LVB_LEADING_BYTE、右側部分にCOMMON_LVB_TRAILING_BYTEを設定するようですよ。","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1607911615,"service_name":"twitter","from_url":"https://twitter.com/yks15468166/status/1338304432870584320","original_url":"https://twitter.com/yks15468166/status/1338304432870584320"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+GmFe"}]},{"client_msg_id":"52941816-006d-4cd2-911d-fee79867b56f","type":"message","user":"U776661HA","text":"ありがとうございます :bow:","ts":"1607908149.047600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ql97"}]},{"client_msg_id":"d21106a6-3d19-44b4-bf3e-9f694774e652","type":"message","user":"U03C71D7H","text":"あとこれ Bram も言ってるけど command 関係なくて、 `|` でつないでるかどうかだね。\n\n```try | let s:x = var_not_exist | catch | echo 'caught' | endtry```\nこれでも再現した。でもパッチの説明は user command になってるw","ts":"1607889541.047000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uUib"}]},{"client_msg_id":"0537c026-d121-4bdc-8869-fec89053ae71","type":"message","user":"U03C71D7H","text":"なんか別のテストが落ちてる…? けど matrix のうち1つだけなので flaky test かな","ts":"1607889287.045800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qzmio"}]},{"client_msg_id":"1ee88643-c8f2-4ea9-a62d-5378b1f12787","type":"message","user":"U03C71D7H","text":"\u003chttps://github.com/vim/vim/commit/8143a53c533bc7776c57e5db063d185bdd5750f3\u003e\n直してもらえたー","ts":"1607889102.045100","attachments":[{"fallback":"GitHub: patch 8.2.2141: a user command with try/catch may not catch an expres… · vim/vim@8143a53","id":1,"title":"patch 8.2.2141: a user command with try/catch may not catch an expres… · vim/vim@8143a53","title_link":"https://github.com/vim/vim/commit/8143a53c533bc7776c57e5db063d185bdd5750f3","text":"…sion error Problem: A user command with try/catch may not catch an expression error. Solution: When an expression fails check for following \"|\". (closes #7469)","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/commit/8143a53c533bc7776c57e5db063d185bdd5750f3","original_url":"https://github.com/vim/vim/commit/8143a53c533bc7776c57e5db063d185bdd5750f3"}],"team":"T03C4RC8V","reactions":[{"name":"subara","count":3,"users":["UAZ33BKV2","U9S4G0LJW","U776661HA"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6X41r"}]},{"client_msg_id":"f9e7fd00-b4c6-406e-ab9a-4dc3c4177d19","type":"message","user":"U9S4G0LJW","text":"Can'tと書くと個数間違えなくなって便利そう","ts":"1607883075.044900","thread_ts":"1607883075.044900","last_read":"1607940700.057400","subscribed":true,"reply_count":4,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wd4N"}]},{"client_msg_id":"ad31c1f5-f28e-49ef-9661-9f819a1a0a62","type":"message","user":"U03C71D7H","text":"普通に can + not でいいのではw","ts":"1607882982.044200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gKT0i"}]},{"client_msg_id":"fa2bf172-3134-4ca7-81b1-0faa94b5dbda","type":"message","user":"U03C4RC8X","text":"anno1404で覚えるとnの数を間違いないので安心です \u0026gt; cannot","ts":"1607882825.043800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c3nE"}]},{"client_msg_id":"042f26a7-fe4e-4878-ac7b-9477a0de5351","type":"message","user":"U03C71D7H","text":"n が多かったw (Cannnot)","ts":"1607882785.043400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D=eT"}]},{"client_msg_id":"fa9f3a31-0f27-4050-abcc-2529aeba6beb","type":"message","user":"U03C71D7H","text":"\u003chttps://github.com/vim/vim/issues/7469\u003e\nBram が活動している今がチャンス","ts":"1607882555.042900","attachments":[{"fallback":"GitHub: Cannnot catch an exception in toplevel of user command · Issue #7469 · vim/vim","id":1,"title":"Cannnot catch an exception in toplevel of user command · Issue #7469 · vim/vim","title_link":"https://github.com/vim/vim/issues/7469","text":"Describe the bug Cannnot catch an exception in toplevel of user command. To Reproduce function s:throw() abort throw \u0026amp;#39;error\u0026amp;#39; endfunction command! Execute \\ try \\ | let s:x = s:throw() \\ | c...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/issues/7469","original_url":"https://github.com/vim/vim/issues/7469"}],"team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U9S4G0LJW"]},{"name":"bow","count":1,"users":["U776661HA"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ztB"}]},{"client_msg_id":"02F6AD4D-81D9-46AA-98A1-949CF1272AC4","type":"message","user":"U776661HA","text":"かなり難易度","ts":"1607881732.042400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0cKX"}]},{"client_msg_id":"b162a57b-9dcc-4a57-979a-c21efbda7d30","type":"message","user":"U03C71D7H","text":"command 介さずに top レベルで try しても問題ない","ts":"1607881672.042200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"me+"}]},{"client_msg_id":"42EEBDBD-E888-4AF2-81A9-A1B9FEDF81B2","type":"message","user":"U776661HA","text":"vim-jpのissueです？明日まとめますー","ts":"1607881650.041900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iu/"}]},{"client_msg_id":"862f3990-fa69-4725-980b-ff6fed9b21af","type":"message","user":"U03C71D7H","text":"報告を…w","ts":"1607881620.041200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MSI"}]},{"client_msg_id":"22D54588-7CF4-4BB4-97B0-9E2F1BA0C6FA","type":"message","user":"U776661HA","text":"「明日そのコミットで調査して見ます！」って書いてたら再現手順まで揃ってた:bow: ","ts":"1607881599.041000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZWZD"}]},{"client_msg_id":"48855D9F-9FF4-421D-9690-A7B90CC76B71","type":"message","user":"U776661HA","text":"すごい","ts":"1607881560.040000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/6VM"}]},{"client_msg_id":"6d87d79e-9984-4d7f-88e7-7d0dd0bddb14","type":"message","user":"U03C71D7H","text":"この `let s:x =` を `call` にすると再現しない","ts":"1607881549.039800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Oyw6"}]},{"client_msg_id":"f482f80b-aff0-4a89-8f60-feca802fa248","type":"message","user":"U03C71D7H","text":"全然しないと思ったら古い Vim で試してた…","ts":"1607881531.039400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ogV"}]},{"client_msg_id":"754351c5-2fe7-44ad-89da-75a4781cdc77","type":"message","user":"U03C71D7H","text":"```function s:throw() abort\n  throw 'error'\nendfunction\n\ncommand! Execute\n\\   try\n\\ |   let s:x = s:throw()\n\\ | catch\n\\ |   echo 'cought: ' .. v:exception\n\\ | endtry\n\nExecute```\n再現した","ts":"1607881521.039100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wWm"}]},{"client_msg_id":"3586f5ce-33cb-4437-8e2a-3f01e1213043","type":"message","user":"U03C71D7H","text":"再現条件がわからん…","ts":"1607879800.037500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UeT0"}]},{"client_msg_id":"4d1fb4d6-6e18-46a6-8b22-9beb43b5c06d","type":"message","user":"U03C71D7H","text":"\u003chttps://github.com/vim/vim/commit/d0fe620cbbf5f5e00446efa89893036265c5c302\u003e\nこいつが犯人っぽい","ts":"1607878938.037200","attachments":[{"fallback":"GitHub: patch 8.2.2094: when an expression fails getting next command may be … · vim/vim@d0fe620","id":1,"title":"patch 8.2.2094: when an expression fails getting next command may be … · vim/vim@d0fe620","title_link":"https://github.com/vim/vim/commit/d0fe620cbbf5f5e00446efa89893036265c5c302","text":"…wrong Problem: When an expression fails getting the next command may be wrong. Solution: Do not check for a next command after :eval fails. (closes #7415)","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/commit/d0fe620cbbf5f5e00446efa89893036265c5c302","original_url":"https://github.com/vim/vim/commit/d0fe620cbbf5f5e00446efa89893036265c5c302"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mILj"}]},{"client_msg_id":"d13d25f6-e83e-4fb3-948a-c67f04229c8f","type":"message","user":"U03C71D7H","text":"can't はカジュアルなシーンや会話で使われるらしい","ts":"1607940590.056600","thread_ts":"1607883075.044900","edited":{"user":"U03C71D7H","ts":"1607940621.000000"},"parent_user_id":"U9S4G0LJW","team":"T03C4RC8V","reactions":[{"name":"hee","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/h3pu"}]},{"client_msg_id":"c144badb-1f6a-4b49-a46c-b36ff83e1961","type":"message","user":"U9S4G0LJW","text":"意味違うの全然知らなかった…","ts":"1607940650.057000","thread_ts":"1607883075.044900","parent_user_id":"U9S4G0LJW","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Uu6mV"}]},{"client_msg_id":"2b1a5e6b-921d-4160-92a4-14001c5940a9","type":"message","user":"U03C71D7H","text":"意味は同じですけどね。ニュアンスが違うっぽい","ts":"1607940670.057200","thread_ts":"1607883075.044900","parent_user_id":"U9S4G0LJW","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FNveq"}]},{"client_msg_id":"d29286a6-381c-455e-bbe5-2bac3dfd7b1a","type":"message","user":"U9S4G0LJW","text":"なるほど、英語むずい","ts":"1607940700.057400","thread_ts":"1607883075.044900","parent_user_id":"U9S4G0LJW","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"n19"}]}]
