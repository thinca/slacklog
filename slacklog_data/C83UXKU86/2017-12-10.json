[{"type":"message","user":"U6XP9LZ6V","text":"正直あまり効果は期待できないが、一応 PR#3 を紹介しておいた。\n<https://groups.google.com/d/msg/vim_dev/2AaZMN1T6K8/AfvyfNSsBgAJ>","ts":"1512913077.000025","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"あとは、文字の位置がずれている件はどうなんだろう。このパッチで直ったのだろうか。\n<https://groups.google.com/d/msg/vim_dev/2AaZMN1T6K8/4p1mvS9uBgAJ>","ts":"1512913569.000014","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"少し前に DIRECTX=yes をデフォルトにするパッチを投げようかとも考えていたのだが、8.0.1369 で遅くなったと言っている人がいる現状、微妙か？","ts":"1512914520.000095","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ですねぇ","ts":"1512914862.000091","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"BramのオフィシャルビルドはDIRECTX=noで、vim-win32-installerのナイトリービルドはDIRECTX=yesな不一致はそろそろ何とかしたいところではあるが…","ts":"1512915268.000034","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"<https://groups.google.com/d/msg/vim_dev/2AaZMN1T6K8/mnrR9ZJrBgAJ>\n8.0.1369から文字の下が切れてるとの指摘だが、それ以前からdirectxでの文字の位置はGDIに比べて少し下にずれていた気がする。","ts":"1512844782.000084","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","ts":"1512866194.000001","files":[{"id":"F8CA400N6","created":1512866193,"timestamp":1512866193,"name":"profile-flush_diff.diff","title":"profile-flush.diff","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U6XP9LZ6V","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":323,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F8CA400N6/profile-flush_diff.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F8CA400N6/download/profile-flush_diff.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U6XP9LZ6V/F8CA400N6/profile-flush_diff.diff","permalink_public":"https://slack-files.com/T03C4RC8V-F8CA400N6-636cd3809e","edit_link":"https://vim-jp.slack.com/files/U6XP9LZ6V/F8CA400N6/profile-flush_diff.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U6XP9LZ6V","text":"こんな感じで flush に掛かる時間を計ってみたら、うちのノートPCだと 0.8 ～ 1.5msec ぐらい掛かっていて、予想通りかなり遅かった。","ts":"1512866290.000069","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"↑のdiff、中身が空っぽ?","ts":"1512868763.000004","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"展開できない。なんだこれ?","ts":"1512868767.000106","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"mjd?","ts":"1512868933.000070","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"Click to expand... をクリックしても5行目まで。いまDLして中見てみます。","ts":"1512869215.000031","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"を。こっちは入ってるw","ts":"1512869223.000077","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"なんかひっかかるのかw","ts":"1512869230.000027","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"Flushなんかしょかあるけど","ts":"1512869470.000021","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"1箇所だけ?","ts":"1512869477.000008","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"だいたいの処理時間が分かれば十分かと思って、そこで調べましたが、場所によって違う可能性はあるかな？","ts":"1512869602.000023","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"発行されるコマンドの量によって違うかなとは考えてます。","ts":"1512869619.000016","edited":{"user":"U06BRP8VD","ts":"1512869637.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"いま、全部の場所に足してみます。","ts":"1512869797.000046","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"`gui_mch_flash()` と `gui_mch_flush()` ってのがあるのか…いまさらながら意識してびっくりした","ts":"1512869894.000090","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1512870328.000056","files":[{"id":"F8CBJBBE0","created":1512870328,"timestamp":1512870328,"name":"KoRoN________________.txt","title":"KoRoN の計測結果","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":2295,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F8CBJBBE0/koron________________.txt","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F8CBJBBE0/download/koron________________.txt","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F8CBJBBE0/koron________________.txt","permalink_public":"https://slack-files.com/T03C4RC8V-F8CBJBBE0-46e24cfe5f","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F8CBJBBE0/koron________________.txt/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"かなりばらつくけど基本サブミリで、全画面書き換え(スクロール)だと10msec超える感じかな。","ts":"1512870400.000011","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"EndDraw を測ったほうが良いかしらね?","ts":"1512870440.000036","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1512870482.000005","edited":{"user":"U06BRP8VD","ts":"1512870512.000000"},"files":[{"id":"F8CAB2L2E","created":1512870481,"timestamp":1512870481,"name":"Flush_____________diff.diff","title":"Flush時間計測.diff","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":2871,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F8CAB2L2E/Flush_____________diff.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F8CAB2L2E/download/Flush_____________diff.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F8CAB2L2E/Flush_____________diff.diff","permalink_public":"https://slack-files.com/T03C4RC8V-F8CAB2L2E-1b649f0a49","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F8CAB2L2E/Flush_____________diff.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"どの Flush が動いたか、見れるようにしたほうが良いかしら?","ts":"1512870683.000001","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","ts":"1512871493.000042","files":[{"id":"F8D6JKPDL","created":1512871493,"timestamp":1512871493,"name":"Ctrl-F__________________.txt","title":"Ctrl-F押しっぱなし","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U6XP9LZ6V","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":1007,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F8D6JKPDL/ctrl-f__________________.txt","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F8D6JKPDL/download/ctrl-f__________________.txt","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U6XP9LZ6V/F8D6JKPDL/ctrl-f__________________.txt","permalink_public":"https://slack-files.com/T03C4RC8V-F8D6JKPDL-a6c090809a","edit_link":"https://vim-jp.slack.com/files/U6XP9LZ6V/F8D6JKPDL/ctrl-f__________________.txt/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"お、これは面白い結果が取れそう。scrlinesの有無で、出方が異なるわ。","ts":"1512871553.000034","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"こっちだと、Ctrl-Fでのスクロールでもせいぜい1.5ms程度ですね。","ts":"1512871566.000075","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"一応、こっちはデバッグビルドしてmさう。","ts":"1512871578.000089","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1512871606.000103","files":[{"id":"F8C87644T","created":1512871606,"timestamp":1512871606,"name":"Flush____________________________________________________.diff","title":"Flush 前のモードがわかるようにしてみた。","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":5240,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F8C87644T/flush____________________________________________________.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F8C87644T/download/flush____________________________________________________.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F8C87644T/flush____________________________________________________.diff","permalink_public":"https://slack-files.com/T03C4RC8V-F8C87644T-1410462677","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F8C87644T/flush____________________________________________________.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U6XP9LZ6V","text":"こっちはリリースビルドで Trace() だけ有効化。","ts":"1512871613.000046","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あとデバッガで動かしてる。","ts":"1512871614.000068","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"DebugView使ってます。","ts":"1512871641.000025","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ちょっとちゃんと計測してみます。scrlinesの有無と、スクロールが1行か1画面かの4パターンで。","ts":"1512871657.000009","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1512871913.000102","edited":{"user":"U06BRP8VD","ts":"1512872176.000000"},"files":[{"id":"F8BQN3U1F","created":1512871913,"timestamp":1512871913,"name":"Untitled.txt","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":876,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F8BQN3U1F/Untitled.txt","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F8BQN3U1F/download/Untitled.txt","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F8BQN3U1F/Untitled.txt","permalink_public":"https://slack-files.com/T03C4RC8V-F8BQN3U1F-76a2d55906","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F8BQN3U1F/Untitled.txt/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"+kaoriya の README.txt の先頭で C-F か C-E したやつ。","ts":"1512871938.000023","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"面白いのは C-F のほうは scrlines:0 にある 3msec の Flush が scrlines:1 では短く(=速く)なってるのに対し、C-E のほうは gui_mch_flush から呼ばれるやつの先頭2つが0.3msecから0.6msecに伸びて遅くなってる。","ts":"1512872075.000041","edited":{"user":"U06BRP8VD","ts":"1512872418.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"scrlines:0 のほうにある gui_mch_delete_flush からの呼び出しは、scrlines:1 ではなくなってる。","ts":"1512872105.000100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"↑のデータ、読みやすいように並べ替えた。","ts":"1512872202.000032","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"これ、gui_mch_flushがどこから呼ばれたか、知りたいなw","ts":"1512872245.000062","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"C-Eはgui_mch_delete_flushが消えた分と相殺して 0.3msec くらいは遅くなってるんだな","ts":"1512872457.000010","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"1行のスクロールが 1.7msec から 2.0msec くらいになってるから、:hiとかでズラと1行ずつスクロールするときには、体感的にはかなり遅く感じるのも納得だ。","ts":"1512872543.000001","edited":{"user":"U06BRP8VD","ts":"1512872559.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","ts":"1512873521.000038","files":[{"id":"F8C8ACT5Z","created":1512873520,"timestamp":1512873520,"name":"result.txt","title":"result","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U6XP9LZ6V","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":627,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F8C8ACT5Z/result.txt","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F8C8ACT5Z/download/result.txt","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U6XP9LZ6V/F8C8ACT5Z/result.txt","permalink_public":"https://slack-files.com/T03C4RC8V-F8C8ACT5Z-6400b0e19b","edit_link":"https://vim-jp.slack.com/files/U6XP9LZ6V/F8C8ACT5Z/result.txt/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"おもしろいですね。こっちは1割減ってる。","ts":"1512873642.000085","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"こっちだとやはりflushが少ない分速い。flushのばらつきが少なめな感じ。","ts":"1512873692.000036","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そうですね1回分、まるまる短縮したイメージ。","ts":"1512873732.000045","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"これ、かなりちゃんとしたプロファイル機能をdwriteに足してデータとらないと、みんなの環境で速くはできなさそうね…","ts":"1512873959.000041","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"僕の C-E, scrlines:1 は、最初の gui_mch_flush が遅くなってるのが謎だな。","ts":"1512874031.000071","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"一応 takata さんのほうも遅くはなってるけど…","ts":"1512874059.000034","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"やっぱ、どこから呼ばれたか、知りたい。","ts":"1512874189.000036","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1512874700.000069","files":[{"id":"F8BQSMM1P","created":1512874699,"timestamp":1512874699,"name":"___________________________________________________.diff","title":"どこから呼ばれたかわかるようにした","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":10905,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F8BQSMM1P/___________________________________________________.diff","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F8BQSMM1P/download/___________________________________________________.diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F8BQSMM1P/___________________________________________________.diff","permalink_public":"https://slack-files.com/T03C4RC8V-F8BQSMM1P-9f447e5487","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F8BQSMM1P/___________________________________________________.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","ts":"1512874724.000038","files":[{"id":"F8CBRNJDS","created":1512874723,"timestamp":1512874723,"name":"____________.txt","title":"その結果","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":920,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F8CBRNJDS/____________.txt","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F8CBRNJDS/download/____________.txt","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F8CBRNJDS/____________.txt","permalink_public":"https://slack-files.com/T03C4RC8V-F8CBRNJDS-4d05ba7be3","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F8CBRNJDS/____________.txt/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"基本、5=gui_write() の最後みたいだな。","ts":"1512874760.000025","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"6=gui_wait_for_chars()の最初の方","ts":"1512874777.000037","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"gui_write() ということは out_write() 経由で呼ばれているのでしょうから、どこの out_write() かというのが気になりますね。Ctrl-E 1回で何でこんなに何回も flush が呼ばれるのかと。","ts":"1512875972.000020","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"たぶんステータスラインの書き換えがあるんですよね。","ts":"1512876839.000016","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あと新しく現れた行の描画。","ts":"1512876871.000091","edited":{"user":"U06BRP8VD","ts":"1512876883.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"なので2回は説明が付く。なので、わかんないのは後2回分の呼び出しかな。","ts":"1512876904.000026","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"いま `gui_write()` を遡ってみたら、 `out_flush()` (term.c) に行き着いた。というかほぼソコからしか呼ぶパスが無さそうw","ts":"1512877161.000005","edited":{"user":"U06BRP8VD","ts":"1512877208.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そして out_flush の呼び出しはめちゃくちゃおおい (grepで182個)","ts":"1512877398.000018","edited":{"user":"U06BRP8VD","ts":"1512877437.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"Oh, 間違えてた。さっきの書き込みの out_write は out_flush のつもりだったｗ","ts":"1512878594.000069","team":"T03C4RC8V","reactions":[{"name":"grin","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"out_flush、まとめられないんですかねぇ","ts":"1512878943.000079","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"これだけ呼ばれてると、カーソル描画で1回減らしただけでは、例の遅くなったと言ってる人の環境では、大して変わらないだろうか。","ts":"1512879597.000030","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そんな感じします。なんか根本のところで…原因がわかってないし。","ts":"1512882169.000088","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
