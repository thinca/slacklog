[{"client_msg_id":"a4597fa7-1730-4fd9-9ca3-2f35b7087cae","type":"message","user":"U06BRP8VD","text":"とりあえず現状ではないことがわかった。ただ、fcitxのアドオンで現在の status を dbus に流すやつがあることもわかった。","ts":"1553181877.456800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a0be8ca6-0148-408d-9001-b6838af51d13","type":"message","user":"U06BRP8VD","text":"で、それは debian の sid からデフォで入りそう。","ts":"1553181901.457200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e32c360b-28b3-4fe1-bac5-3e8bca0c0b86","type":"message","user":"U06BRP8VD","text":"vim本体で dbus 見るのはどうなんだろうか…","ts":"1553181913.457500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"62e99c2a-7d73-4380-8984-7af13f6002ec","type":"message","user":"U06BRP8VD","text":"最低限 libdbus-c++ を使うことになるんか。vim自身が D-Bus 経由での fcitx をサポートする形での対応が一番使いやすそう。でも D-Bus\n\n<http://www.silex.jp/blog/wireless/2017/01/d-bus.html>","ts":"1553182924.458500","attachments":[{"fallback":"D-Bus のはなし｜Wireless・のおと｜サイレックス・テクノロジー株式会社","id":1,"title":"D-Bus のはなし｜Wireless・のおと｜サイレックス・テクノロジー株式会社","title_link":"http://www.silex.jp/blog/wireless/2017/01/d-bus.html","text":"サイレックスの無線LAN 開発者が語る、無線技術についてや製品開発の秘話、技術者向け情報、新しく興味深い話題、サイレックスが提供するサービスや現状などの話題などを配信していきます。","blocks":null,"service_name":"silex.jp","service_icon":"http://www.silex.jp/images/common/silex_favicon.ico","from_url":"http://www.silex.jp/blog/wireless/2017/01/d-bus.html","original_url":"http://www.silex.jp/blog/wireless/2017/01/d-bus.html"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"86da7187-1d80-4bf4-98cc-c0598be00cf1","type":"message","user":"U06BRP8VD","text":"IMをONにした瞬間にカーソルの色を変えるためだけに、これほどの作業をやらにゃならんのはちょっと見合わない感じするわぁw","ts":"1553183443.459500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8a093ed7-a7d3-4965-9723-a0e872e2d41d","type":"message","user":"U06BRP8VD","text":"D-Bus扱うのに、Pythonなら数行のところC (not C++) だと100行近くになりかねないのも割に合わない。だったらjobとPython組み合わせて、ってのも考えたけどそれでカーソルの色変えるの容易でない。","ts":"1553183526.460800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5a333a0f-1722-4810-8bc4-08fb6b932268","type":"message","user":"U03C71D7H","text":"悩んでてもしゃーなさそうだったので、えいやっと PR 出しました <https://github.com/vim/vim/pull/4147>","ts":"1553218989.461200","attachments":[{"fallback":"GitHub: Fix 3 bugs in prop_remove() by thinca · Pull Request #4147 · vim/vim","id":1,"title":"Fix 3 bugs in prop_remove() by thinca · Pull Request #4147 · vim/vim","title_link":"https://github.com/vim/vim/pull/4147","text":"The second argument {lnum} could not be omitted. curbuf had been used instead of buf. cur_prop was not updated after allocating new memory. First, I found the 1st bug. I fixed it and wrote test. ...","thumb_url":"https://avatars1.githubusercontent.com/u/20474?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":240,"thumb_height":240,"from_url":"https://github.com/vim/vim/pull/4147","original_url":"https://github.com/vim/vim/pull/4147"}],"team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U06BRP8VD"]},{"name":"goodpoem","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"これちょっと気になる。3.5 とリンクしていたのに 3.6 が使えるとかありえるのかな? 観測ミスなら良いけど、そういうふう言うふうにインスールできる罠とかあるんかなぁ?","ts":"1553234663.461600","attachments":[{"color":"D0D0D0","fallback":"[March 22nd, 2019 2:31 PM] fuu989: py3 import sys\npy3 print(sys.version)で3.6.8と出ています\nまた上記以外の動作は問題ありません","author_id":"UH360A6GP","author_name":"oroka","author_subname":"oroka","author_link":"https://vim-jp.slack.com/team/UH360A6GP","author_icon":"https://avatars.slack-edge.com/2019-03-19/580385076770_1dcbbff7a209774d5e40_48.png","text":"py3 import sys\npy3 print(sys.version)で3.6.8と出ています\nまた上記以外の動作は問題ありません","mrkdwn_in":["text"],"blocks":null,"footer":"Thread in #random","ts":1553232673.388700,"from_url":"https://vim-jp.slack.com/archives/C03C4RC9F/p1553232673388700?thread_ts=1553232673388700&cid=C03C4RC9F"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6c3e5d9-4a30-4944-97ed-959619d9b095","type":"message","user":"U03C6TEAZ","text":"python3.dll という dll 名で import してて vim がバージョンチェックしてないならありえるかと。","ts":"1553234790.462300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"38e32166-dc82-4530-9c9e-c6cd7342113b","type":"message","user":"U06BRP8VD","text":"背景説明: +kaoriya の vim 8.1.0005 を使ってて py3 が使えることのエビデンスとして↑をあげられた。ただ +kaoriya の8.1.0005は python35.dll を読み込んでるはずなので、なにかおかしく見える。\n\npythonthreedll とか指定してたのかな?","ts":"1553234800.462500","edited":{"user":"U06BRP8VD","ts":"1553234812.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bf7c3fd4-dd01-4108-82e4-28cfc17e2f6b","type":"message","user":"U6XP9LZ6V","text":"コンパイル時にPython 3.5を使っていても、pythonthreedll でPython 3.6や3.7を指定すると実はうごいちゃったりします。","ts":"1553235316.465700","team":"T03C4RC8V","reactions":[{"name":"sweat_smile","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f7ddcb67-8436-4960-b632-3d7bbc72d261","type":"message","user":"U03C6TEAZ","text":"ABI がそこそこ同じなら動くでしょうね。","ts":"1553235341.466100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b955ce26-766f-4030-9d98-14ccc25d1682","type":"message","user":"U06BRP8VD","text":"Python 3.5 と 3.6 の間には、ランタイムが変わるとか断絶大きんですけどね… そういう賭けはしないで欲しいw","ts":"1553235459.466800","thread_ts":"1553235459.466800","reply_count":1,"replies":[{"user":"U6XP9LZ6V","ts":"1553243527.475000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"80da7838-7304-4cd6-809c-45e7638cac8f","type":"message","user":"U03C6TEAZ","text":"vim 側からすると GetProcAddress でしかないからそれほど変わらない気もする。","ts":"1553235529.468300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"722c9a0f-de46-4cb0-bf46-a86a873ae2f1","type":"message","user":"U6XP9LZ6V","text":"if_python3.c を PY_VERSION_HEX で検索すると分かるけど、3.3 以降ほとんど ABI に変更がない。","ts":"1553235603.470200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1402954b-8fbc-4f5d-a319-7bcc28119939","type":"message","user":"U06BRP8VD","text":"Vim側で確保したメモリをPython側で開放したり、その逆をしてたりするとランタイムが異なってる時になにかしら死にませんかね?","ts":"1553235644.471100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e2c39f1c-5499-4806-ab11-63da3cf878ff","type":"message","user":"U03C6TEAZ","text":"そこまでドラスティックだと python 側も別の関数を用意しそうな気はしますね。","ts":"1553235742.471700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"adb2220a-2bee-4fdf-a674-58f32af56ad2","type":"message","user":"U03C6TEAZ","text":"勝手な印象だけど python はそれほど壊れない印象がある。","ts":"1553235822.472500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"72d229d9-75f5-496c-8fb6-8b5f35d56d34","type":"message","user":"U03C6TEAZ","text":"言語のバージョンアップに伴う vim の壊れ度\n\nruby &gt;&gt;&gt;&gt; 超えられない壁 &gt; python &gt; perl","ts":"1553235837.472900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"57f5967a-b0d6-4131-9ff6-ca37f17b6632","type":"message","user":"U06ECBRTJ","text":"ruby はやばいっすね 毎度","ts":"1553235870.473200","edited":{"user":"U06ECBRTJ","ts":"1553235874.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"166b4e74-0194-413b-a34b-2a965271bf5e","type":"message","user":"U6XP9LZ6V","text":"Python 3.2以降には安定ABIというものがあるのを知った。python3.dll って何のためにあるんだろうと思っていたが、このためのものだったか。\n<https://docs.python.org/ja/3/c-api/stable.html>","ts":"1553238889.474700","team":"T03C4RC8V","reactions":[{"name":"memo","count":2,"users":["U06BRP8VD","U06ECBRTJ"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bdb4e1f1-2e4e-4d5c-8c8d-6378d736a8ad","type":"message","user":"U6XP9LZ6V","text":"調べたらどっちも2015で同じランタイムだった。差分が大きいのは3.4の方。","ts":"1553243527.475000","thread_ts":"1553235459.466800","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":null,"root":{"client_msg_id":"b955ce26-766f-4030-9d98-14ccc25d1682","type":"message","user":"U06BRP8VD","text":"Python 3.5 と 3.6 の間には、ランタイムが変わるとか断絶大きんですけどね… そういう賭けはしないで欲しいw","ts":"1553235459.466800","thread_ts":"1553235459.466800","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null}},{"client_msg_id":"6df68f3d-6096-47c4-b7a1-43a6bb782a65","type":"message","user":"U06BRP8VD","text":"ええ、うそん","ts":"1553243578.475500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7e39e3bf-c5e0-4a56-9de8-77fce070facc","type":"message","user":"U06BRP8VD","text":"ほんまや。今の手元はたしかにそうなってる…あれ? なんでぼくは3.x の更新渋ったんだ?","ts":"1553243638.476100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ab9cab18-2ea4-4305-954d-6909009d1ac4","type":"message","user":"U6XP9LZ6V","text":"ビルドが通るかどうかはまた別の話だったかと","ts":"1553243740.477700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fa785e39-f02a-4803-8683-a07f7ce59216","type":"message","user":"U06BRP8VD","text":"inttypes.h とかか…","ts":"1553243800.477900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb23bada-f097-4b3b-8225-886a0a3a2b5f","type":"message","user":"U03C71D7H","text":"vim に出した PR の CI が apt-get で落ちちゃうのつらい","ts":"1553247672.478300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8436b8c1-43ec-4d5f-a590-184c5134cdba","type":"message","user":"U6XP9LZ6V","text":"権限があったっぽいのでRestart jobしてみた。","ts":"1553248692.479500","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6cb94b0c-366c-48ed-8ec9-21aa9c5baf54","type":"message","user":"U03C71D7H","text":"ありがたや","ts":"1553248768.479700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d3bab61-73f9-47bc-943d-8fc4b6a84a65","type":"message","user":"U03C71D7H","text":"最近の PR のテスト軒並み落ちてる感。でも #4148 とか落ちてなかったりするのでやっぱり運なのかな…","ts":"1553248807.480400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c981ef33-9b97-48e3-8f22-801f334c4d0c","type":"message","user":"U03C71D7H","text":"私のも再実行で通ったっぽいですねー。ありがとうございます！","ts":"1553248868.480800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0bdc91a9-0890-4056-b144-4f532b9dfb62","type":"message","user":"U03C71D7H","text":"落ち率やばいので何か対策入れた方が良さそう…? どうにかできるのかな、これ","ts":"1553248913.481300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4e8c5a37-d41a-46dc-bebf-634213f0efbf","type":"message","user":"U6XP9LZ6V","text":"バツになってるのは、カバレッジが落ちたせいなのが多い気が。","ts":"1553249117.483100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2dd06614-9330-43cf-8acb-805230a48fc9","type":"message","user":"U03C71D7H","text":"確かに…たまたま開いた1つが Travis で落ちてたのでてっきり","ts":"1553249414.483600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aeb5338c-620c-4232-8a87-5cc0fa86f472","type":"message","user":"U03C71D7H","text":"(開いたのがどれだったかもうわからなくなってしまった)","ts":"1553249461.484500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04ba2f6b-1991-43c4-90c6-8c64775ad6a8","type":"message","user":"U03C6TEAZ","text":"知らない間に vim のカバレッジ 79% まで上がってたのか。","ts":"1553249512.486200","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":2,"users":["U77E0CBHQ","UEB17JJJE"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"60acd3c1-4cb3-4ff9-adc7-a94b9bdba7f0","type":"message","user":"U6XP9LZ6V","text":"coverallsはスレッショルドを指定できるはずだけどBramしか権限がない","ts":"1553249513.486300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b7ff4c42-a88b-4163-9bfb-70dfa95c3100","type":"message","user":"U6XP9LZ6V","text":"ドミニク氏、テスト追加しまくって、パッチ採用件数2位だし","ts":"1553249778.488800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b23f522d-c201-4799-acf1-3c56c8306d9b","type":"message","user":"U03C71D7H","text":"やったー textprop のパッチマージされたー\n<https://github.com/vim/vim/commit/0a2f578e22de7e4d82075578afdd5fc2d2dd8134>","ts":"1553260114.489600","attachments":[{"fallback":"GitHub: patch 8.1.1035: prop_remove() second argument is not optional · vim/vim@0a2f578","id":1,"title":"patch 8.1.1035: prop_remove() second argument is not optional · vim/vim@0a2f578","title_link":"https://github.com/vim/vim/commit/0a2f578e22de7e4d82075578afdd5fc2d2dd8134","text":"Problem: prop_remove() second argument is not optional. Solution: Fix argument count. Use \"buf\" instead of \"curbuf\". (closes #4147)","thumb_url":"https://avatars1.githubusercontent.com/u/8530623?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/vim/vim/commit/0a2f578e22de7e4d82075578afdd5fc2d2dd8134","original_url":"https://github.com/vim/vim/commit/0a2f578e22de7e4d82075578afdd5fc2d2dd8134"}],"team":"T03C4RC8V","reactions":[{"name":"tada","count":8,"users":["U06BRP8VD","U8CC7MDCL","UEB17JJJE","UA1GWETAA","UAZ33BKV2","U9S4G0LJW","UEACRCY0Z","UDDCM376D"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"969c4754-8657-40fb-9eea-d12970536948","type":"message","user":"U03C71D7H","text":"(パッチに名前が入ってないっぽいけど。まあそこは個人的にはどうでも良かったりする)","ts":"1553260162.490200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
