[{"client_msg_id":"da487c8f-f06d-404d-b3c2-6b65ea1e361c","type":"message","user":"U7H4TJEG0","text":"<https://github.com/vim/vim/issues/4888#issuecomment-527076810> Bramの `I can reproduce it.` もらった","ts":"1567418420.052300","attachments":[{"fallback":"GitHub: Crash with filter against object since v8.1.1957 · Issue #4888 · vim/vim","id":1,"title":"Crash with filter against object since v8.1.1957 · Issue #4888 · vim/vim","title_link":"https://github.com/vim/vim/issues/4888#issuecomment-527076810","text":"Describe the bug Using filter function twice against an object causes SIGABRT. See the following script. let x = {&amp;quot;x&amp;quot;:10} echo map(range(2), &amp;#39;filter(copy(x), &amp;quot;1&amp;quot;)&amp;#39;) To R...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/issues/4888#issuecomment-527076810","original_url":"https://github.com/vim/vim/issues/4888#issuecomment-527076810"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b6d78f24-f259-42f6-9217-f765f428111c","type":"message","user":"U7H4TJEG0","text":"けど `filter() and map() are not implemented in a way they can be used recursively.`  ってほんまか？","ts":"1567418434.052700","team":"T03C4RC8V","reactions":[{"name":"innocent","count":1,"users":["U0M7GCBPD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"32371e7d-acd3-404d-8a01-f14461d5240f","type":"message","user":"U0M7GCBPD","text":"filter()/map() で再帰できないのつらい","ts":"1567418490.053300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2119e7e4-eada-44fa-8d0e-24fa9d346b51","type":"message","user":"U03C71D7H","text":"報告ありがとうございます！Bram さん直してくれないかなー","ts":"1567427217.054700","edited":{"user":"U03C71D7H","ts":"1567427226.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"25f10280-7016-441b-8985-de92fe96f704","type":"message","user":"U03C71D7H","text":"以前はクラッシュしなかったので、非互換の変更のはず。というか再帰してる箇所なんて山程あるはず…","ts":"1567427262.055500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f922b004-8533-42dc-b292-e2e8cc2f5872","type":"message","user":"UAZ33BKV2","text":"以前はスタック的とかなにかで、たまたま耐えれたとか?","ts":"1567429888.056100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99bfb69d-53a3-434d-85a1-3037ba03ed7a","type":"message","user":"U03C71D7H","text":"すでに書いてるけど、以前のバージョンでは動いていたって改めて書いてみるといいかも。これはデグレだよって","ts":"1567429991.056700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"af1ecba8-1ab8-4483-afd9-dbed089d65ed","type":"message","user":"UAZ33BKV2","text":"というか、vimのビルトイン関数で、明確に再帰呼び出しできない、みたいな仕様をもってるのって、redir(意味がちょっとちがうけど)くらいしか思いつかないですし、説明不足or互換性破壊じゃないかですよね...","ts":"1567430529.058300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f500c2cd-6bc6-4440-8a7a-99af96ed703d","type":"message","user":"U03C71D7H","text":"`lalloc` がまだ使ってるメモリを返している…?","ts":"1567354158.028000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4d15de3-b06e-48cb-8f28-9b1a0d93ae54","type":"message","user":"U03C71D7H","text":"<https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/DateTime.vim#L391> ここで呼んだ `a:<http://dt.to|dt.to>(0)` で、 `call_func` 内の `name` に割り当てたローカル変数が、 `to()` → `_clone()` <https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/DateTime.vim#L289> ここで呼び出した `filter()` の `v:key` の初期化で同じアドレスがアロケートされて `name` が死亡したところまではわかった。なんで同じアドレスが `alloc()` から返ってくるのかがまだわかってない","ts":"1567356227.030300","attachments":[{"fallback":"GitHub: vim-jp/vital.vim","id":1,"title":"vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/DateTime.vim#L391","text":"A comprehensive Vim utility functions for Vim plugins - vim-jp/vital.vim","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/DateTime.vim#L391","original_url":"https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/DateTime.vim#L391"},{"fallback":"GitHub: vim-jp/vital.vim","id":2,"title":"vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/DateTime.vim#L289","text":"A comprehensive Vim utility functions for Vim plugins - vim-jp/vital.vim","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/DateTime.vim#L289","original_url":"https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/DateTime.vim#L289"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cff1e895-0137-46fb-9de1-e95b90011318","type":"message","user":"U03C6TEAZ","text":"再現できる最小のスクリプト書いて貰えると手伝えるかも。","ts":"1567356835.031400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b7558ea5-86d5-4b8a-a0e1-6356f12621d9","type":"message","user":"U03C71D7H","text":"最小のスクリプトを作るために原因を調べている最中ですね。最小ではないですが再現手順は判明してます。最新の vital.vim と themis.vim を入れて、 `themis test/Web/HTTP/CookieJar.vimspec --target '.sweep_expired()'` です","ts":"1567356964.032400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6ddf7dc-ec33-4c5f-9f7d-835ca6bcee91","type":"message","user":"U03C6TEAZ","text":"もしかして ASLR 関連","ts":"1567358705.032900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1aa21d24-b9ef-49fd-95db-1131a3d669df","type":"message","user":"U03C71D7H","text":"bisect を回し始めた。てかコードに詳しくないんだから最初からそうしろという…起きる頃には結果が出てるはず","ts":"1567364939.033700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8432c907-14ac-4995-8551-421c27e3e38c","type":"message","user":"U03C4RC8X","text":"〜3年後〜","ts":"1567369151.033900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7JL1UKKL","text":"<@U7JL1UKKL> has joined the channel","ts":"1567381710.034200","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"853f73a6-3221-44f6-a8d6-dfecb8a5b21c","type":"message","user":"U03C71D7H","text":"`git bisect` によるとこのコミットらしい <https://github.com/vim/vim/commit/c507a2d164cfa3dcf31a7ba9dad6663a17243bb4>","ts":"1567382377.034600","attachments":[{"fallback":"GitHub: patch 8.1.1938: may crash when out of memory · vim/vim@c507a2d","id":1,"title":"patch 8.1.1938: may crash when out of memory · vim/vim@c507a2d","title_link":"https://github.com/vim/vim/commit/c507a2d164cfa3dcf31a7ba9dad6663a17243bb4","text":"Problem: May crash when out of memory. Solution: Initialize v_type to VAR_UNKNOWN. (Dominique Pelle, closes #4871)","thumb_url":"https://avatars1.githubusercontent.com/u/8530623?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/vim/vim/commit/c507a2d164cfa3dcf31a7ba9dad6663a17243bb4","original_url":"https://github.com/vim/vim/commit/c507a2d164cfa3dcf31a7ba9dad6663a17243bb4"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"46650a72-1f29-4994-af48-1de00859c5cb","type":"message","user":"UAZ33BKV2","text":"タイトルが不穏かつ、今回の不具合に直球なやつので、原因のにおいがしますね...","ts":"1567382433.035300","edited":{"user":"UAZ33BKV2","ts":"1567383442.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UMUPYCYN8","text":"<@UMUPYCYN8> has joined the channel","ts":"1567383949.035600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"3be9e044-1956-49db-a2c8-10222d4254c5","type":"message","user":"U03C71D7H","text":"あれ、git bisect の見方間違えてた。これは最後のセーフのコミットっぽい","ts":"1567393422.036100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2b80d202-3e18-45f7-93a6-10bbf8ba199b","type":"message","user":"U03C71D7H","text":"<https://github.com/vim/vim/commit/e5cdf153bcb348c68011b308c8988cea42d6ddeb>","ts":"1567393462.036500","attachments":[{"fallback":"GitHub: patch 8.1.1939: code for handling v: variables in generic eval file · vim/vim@e5cdf15","id":1,"title":"patch 8.1.1939: code for handling v: variables in generic eval file · vim/vim@e5cdf15","title_link":"https://github.com/vim/vim/commit/e5cdf153bcb348c68011b308c8988cea42d6ddeb","text":"Problem: Code for handling v: variables in generic eval file. Solution: Move v: variables to evalvars.c. (Yegappan Lakshmanan, closes #4872)","thumb_url":"https://avatars1.githubusercontent.com/u/8530623?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/vim/vim/commit/e5cdf153bcb348c68011b308c8988cea42d6ddeb","original_url":"https://github.com/vim/vim/commit/e5cdf153bcb348c68011b308c8988cea42d6ddeb"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"55949b76-b0bb-49af-9228-9cf7ce83bc90","type":"message","user":"U03C71D7H","text":"こっちが死亡コミット","ts":"1567393470.036800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c529887f-cb26-4cf9-aade-31e7a5ecb60d","type":"message","user":"U03C6TEAZ","text":"そいつがルパンだー！","ts":"1567393470.037000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ae664331-24e7-4737-95a1-efea762eeaef","type":"message","user":"U03C71D7H","text":"`v:key` が怪しくなってたので割と怪しい","ts":"1567393482.037300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a18a4955-29d5-4677-986d-38924e1d147b","type":"message","user":"U03C71D7H","text":"そしてでかい","ts":"1567393490.037600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd93f522-7a1f-41a4-82c4-33f674f48e72","type":"message","user":"U03C6TEAZ","text":"ちなみに make clean 済みです？","ts":"1567393534.038000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b98333e-8d32-44a7-b4ff-a147456adcb0","type":"message","user":"U03C71D7H","text":"`git clean` で不要ファイルを全部消してます","ts":"1567393859.038600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"92da7d1c-e68d-41ba-8f8f-45b17754fc95","type":"message","user":"UAZ33BKV2","text":"ほうほう...なんでしょうね、修正した不具合が復活しちゃうような内容とかだったとか他のあかんところをつつくとかかな...","ts":"1567393903.039500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c8cca97d-6c48-448e-b151-7fb276d3b754","type":"message","user":"U7H4TJEG0","text":"移動しただけではないのかな","ts":"1567393967.040200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d3ce7a6-c48b-49fb-aacf-8a9bff76f337","type":"message","user":"U03C6TEAZ","text":"ファイルを分割するのが最近はやりですが make clean しないとシンボルが変な方に残ったりする事がたまにあります。","ts":"1567394045.040900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ea7c373e-2d23-4ec8-83c9-68c25dc1db8a","type":"message","user":"U03C6TEAZ","text":"Windows で `themis test/Web/HTTP/CookieJar.vimspec --target \".sweep_expired()\"` してみたけど落ちなかった。","ts":"1567394074.041400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5c69f08a-dffe-4c14-bb1a-fbcd20b6c1bc","type":"message","user":"U03C6TEAZ","text":"まぁでも travis で落ちてるなら関係ないか。","ts":"1567394136.041700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ef8f731-da38-4eb4-86ba-2f2542493bc2","type":"message","user":"U7H4TJEG0","text":"テスト落ちるのは再現しました","ts":"1567394342.042500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0e973826-5410-4762-ab8f-9b5b44d37d3e","type":"message","user":"U03C71D7H","text":"差分がでかすぎてつらい","ts":"1567394427.042700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1219b1c1-2df5-4653-8246-7f20115e53b7","type":"message","user":"U7H4TJEG0","text":"`s:Class._clone()` を `return copy(self)` にしたら落ちなくなるが、 `return filter(copy(self), '1')` にすると落ちる","ts":"1567396821.043400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd643697-e306-460f-b41d-f99ebf70f0d5","type":"message","user":"U03C6TEAZ","text":"filter(copy(self)) って事は dict ?","ts":"1567397041.044000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1677a818-d5d5-4d38-9a5f-7cadcb96a19a","type":"message","user":"U7H4TJEG0","text":"<https://github.com/vim-jp/vital.vim/blob/7806e3f7013f5ec6539dd9441ddebf1de75b6392/autoload/vital/__vital__/DateTime.vim#L287-L289>","ts":"1567397089.044300","attachments":[{"fallback":"GitHub: vim-jp/vital.vim","id":1,"title":"vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/blob/7806e3f7013f5ec6539dd9441ddebf1de75b6392/autoload/vital/__vital__/DateTime.vim#L287-L289","text":"A comprehensive Vim utility functions for Vim plugins - vim-jp/vital.vim","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/blob/7806e3f7013f5ec6539dd9441ddebf1de75b6392/autoload/vital/__vital__/DateTime.vim#L287-L289","original_url":"https://github.com/vim-jp/vital.vim/blob/7806e3f7013f5ec6539dd9441ddebf1de75b6392/autoload/vital/__vital__/DateTime.vim#L287-L289"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5df236b0-ec3a-456a-b0f6-257b32e07e5f","type":"message","user":"U03C6TEAZ","text":"```\nlet s:foo = {'1': 1}\necho filter(copy(s:foo), '1')\n```\nって動くんでしたっけ。","ts":"1567397165.044600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4023cad2-0d9e-4c3a-9c27-23bd1a37f560","type":"message","user":"U03C6TEAZ","text":"あー、filter か。","ts":"1567397171.044800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7d25ac47-ce23-458c-a65f-11ef8d8455e6","type":"message","user":"U03C6TEAZ","text":"```\nlet s:foo = {'1': 1, '2': 2}\n\nfunction! s:something() abort\n  return filter(copy(s:foo), 'v:key == \"1\"')\nendfunction\n\necho s:something()\n```\nこういうのが最小手？","ts":"1567397223.045100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UMVBWU3NG","text":"<@UMVBWU3NG> has joined the channel","ts":"1567398477.047200","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"321638ce-24dd-43f3-b740-26d5e1fa3321","type":"message","user":"U7H4TJEG0","ts":"1567401279.047700","files":[{"id":"FMXGBEN3F","created":1567401279,"timestamp":1567401279,"name":"crash______.txt","title":"crashする","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U7H4TJEG0","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":2834,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FMXGBEN3F/crash______.txt","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FMXGBEN3F/download/crash______.txt","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U7H4TJEG0/FMXGBEN3F/crash______.txt","permalink_public":"https://slack-files.com/T03C4RC8V-FMXGBEN3F-dbea1e1edb","edit_link":"https://vim-jp.slack.com/files/U7H4TJEG0/FMXGBEN3F/crash______.txt/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"be6f68a9-5890-4df1-abf3-68d4a7cdc8ce","type":"message","user":"U7H4TJEG0","text":":point_up:これをsourceするとcrashする","ts":"1567401336.048600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9a4366b4-9d17-464e-93ad-9088a361d526","type":"message","user":"U7H4TJEG0","text":"```let s:Base = {}\nfunction! s:Base.clone() abort\n  \" return copy(self) \" これを使うとcrashしない\n  return filter(copy(self), '1')\nendfunction\n\nfunction! s:_new_class(class) abort\n  return extend({'class': a:class}, s:Base)\nendfunction\n\nlet s:Y = s:_new_class('Y')\n\ncall map(range(2), 'copy(s:Y).clone()')\n```\nこれで再現する","ts":"1567401744.049000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9a74d69c-fb7f-4e6f-b5bc-a5531bca417d","type":"message","user":"U7H4TJEG0","text":"Yいらないな","ts":"1567401873.049300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f855a1de-dd96-4914-9d3a-dd494ff0445c","type":"message","user":"U7H4TJEG0","text":"```let s:X = {}\nfunction! s:X.clone() abort\n  \" return copy(self) \" これを使うとcrashしない\n  return filter(copy(self), '1')\nendfunction\n\necho map(range(2), 's:X.clone()')\n```\nこれでどうか","ts":"1567401911.049500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2bbd6a2-1606-4e4b-b44f-44ab8e06df6e","type":"message","user":"U03C6TEAZ","text":"Windows 7 落ちない","ts":"1567401933.049800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e4e2b6a-fc89-4b50-bfcf-7e07900cf189","type":"message","user":"U7H4TJEG0","text":"```let x = {\"x\":10}\necho map(range(2), 'filter(copy(x), \"1\")')\n```\nメソッドがあるかは関係ないっぽい？","ts":"1567402163.050100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7179276f-f2dc-40f5-a340-9068667a852b","type":"message","user":"UAZ33BKV2","text":"8.1.1927なので発生しない版だった","ts":"1567402184.050600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"42295dc3-bb40-48f8-beb6-29e6d3024e95","type":"message","user":"U7H4TJEG0","text":"不安になってきた","ts":"1567402227.050800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6f1b9190-c9f8-439e-b087-74256747875f","type":"message","user":"U7H4TJEG0","text":"いや、:point_up:の二行でcrashするな","ts":"1567402404.051200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"550c65a2-7abd-48c1-b454-34b41d478645","type":"message","user":"U03C71D7H","text":"お、最小手順ありがとうございます！","ts":"1567402980.051400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9a277f94-89bf-4e2b-9a96-e3bafc04befd","type":"message","user":"U03C71D7H","text":"む、クラッシュしない…","ts":"1567403105.051700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1ed44ec4-1ee8-4f1b-8a44-9963491bb710","type":"message","user":"U7H4TJEG0","text":"あれー","ts":"1567406787.051900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
