[{"client_msg_id":"143fb8c7-f3ce-4b21-aa8b-709030a1775a","type":"message","user":"U03C71D7H","text":"memline むずい…","ts":"1552836283.352600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e6ddc048-0377-4024-97f4-6e051c0071ff","type":"message","user":"U03C71D7H","text":"たぶんここかなって箇所をいじったら直ったっぽいのだけど、ちゃんと理解してないので本当にこれでいいのかわからん…w","ts":"1552842051.353200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b406dff1-d818-4eda-8674-b37ecc4d35db","type":"message","user":"U03C71D7H","text":"ちょっと明日辺りに再現スクリプトと修正パッチをここに投げます…","ts":"1552842080.353800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9c8abf17-de7e-4f26-bc90-8f7169a4b826","type":"message","user":"U03C6TEAZ","text":"パッチに vim-jp のクレジットが &gt; 8.1.1017","ts":"1552861960.354500","edited":{"user":"U03C6TEAZ","ts":"1552862022.000000"},"team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3ae95668-a674-48b8-8f4c-348913e15602","type":"message","user":"U06BRP8VD","text":"8.1.1016 だった。\n<https://github.com/vim/vim/commit/049ca59236d5a981f23cf5dfe40f54536fe7cad2>","ts":"1552863722.355300","attachments":[{"fallback":"GitHub: patch 8.1.1016: MS-Windows: No color in shell when using \"!\" in 'guio… · vim/vim@049ca59","id":1,"title":"patch 8.1.1016: MS-Windows: No color in shell when using \"!\" in 'guio… · vim/vim@049ca59","title_link":"https://github.com/vim/vim/commit/049ca59236d5a981f23cf5dfe40f54536fe7cad2","text":"…ptions Problem: MS-Windows: No color in shell when using &amp;quot;!&amp;quot; in &amp;#39;guioptions. Solution: Don&amp;#39;t stop termcap when using a terminal window for the shell. (vim-jp, c...","thumb_url":"https://avatars1.githubusercontent.com/u/8530623?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/vim/vim/commit/049ca59236d5a981f23cf5dfe40f54536fe7cad2","original_url":"https://github.com/vim/vim/commit/049ca59236d5a981f23cf5dfe40f54536fe7cad2"}],"team":"T03C4RC8V","reactions":[{"name":"man-bowing","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e1df02e8-6c07-418c-8a29-463c85d39e60","type":"message","user":"U6XP9LZ6V","text":"そのパッチ、1st authorはntakさんであるべきだと思う。あと8.1.1014の作者間違えられた。","ts":"1552870043.359200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"047f07d4-26cf-4bf5-b185-20083930ab4e","type":"message","user":"U03C6TEAZ","text":"そうですね。僕は何もヒントになるもの出してないw","ts":"1552873538.360400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6e90146-661d-4bdf-83b4-1971157b824b","type":"message","user":"U6XP9LZ6V","text":"8.1.1007辺りからvim-win32-installerがluaのテストで落ちてる。","ts":"1552875784.362100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7a64bb94-e0df-4135-bdc2-6598c5bbaf2c","type":"message","user":"U6XP9LZ6V","text":"luaが元々バグってたのが、8.1.1004でテストが追加されたことで露呈したのか？","ts":"1552880050.364400","team":"T03C4RC8V","reactions":[{"name":"grin","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UH21LF8LD","text":"<@UH21LF8LD> has joined the channel","ts":"1552880545.364600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"b670a17d-cdf8-445a-86cb-79473abaec5f","type":"message","user":"U7986PPFH","text":"luaの問題はPR準備中です","ts":"1552885090.365400","team":"T03C4RC8V","reactions":[{"name":"subara","count":1,"users":["U06BRP8VD"]},{"name":"goodpoem","count":1,"users":["U06BRP8VD"]},{"name":"+1","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d29abba1-2adc-4e46-ac7b-3259a7fc2b71","type":"message","user":"U03C71D7H","text":"最近触ってる textprop について現在のところの進捗です\n<https://gist.github.com/thinca/36897fa4e0df40aaf3bd7c35ff59091b>\n個人的な課題は memline についての理解を深めるところですが、現段階で vim_dev に報告するべきか相談したいです。今回用にテストを足すべきかどうかも。\nもし問題を完全に理解したって方で代わりに報告してくれる方いるのであればしてもらっちゃっても大丈夫です。私の名前はあってもなくても良いです。","ts":"1552897217.368400","thread_ts":"1552897217.368400","reply_count":9,"replies":[{"user":"U06BRP8VD","ts":"1552898976.380300"},{"user":"U03C71D7H","ts":"1552899074.380500"},{"user":"U03C71D7H","ts":"1552899171.380700"},{"user":"U06BRP8VD","ts":"1552899203.380900"},{"user":"U06BRP8VD","ts":"1552899217.381100"},{"user":"U03C71D7H","ts":"1552899253.381300"},{"user":"U06BRP8VD","ts":"1552899267.381500"},{"user":"U03C71D7H","ts":"1552899296.381700"},{"user":"U06BRP8VD","ts":"1552899303.381900"}],"team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"695195ad-338b-4460-bde7-67e8c5bae7ff","type":"message","user":"U03C6TEAZ","text":"十分修正に値すると思いますよ。","ts":"1552897439.368700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e09a7322-45d9-477a-9129-28432e595007","type":"message","user":"U03C6TEAZ","text":"テストもそのままの形で TestPropRemove みたいなのを追加すればいい感じかと。","ts":"1552897481.369300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dbfd14f7-278c-42de-bb01-5d35327e43c4","type":"message","user":"U03C71D7H","text":"これ元々は別のバグの修正でテストを足していたら発覚したやつだったんですが、一緒に出してしまおうかな…ついでに直したよ、とか言って","ts":"1552897565.370100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"90a461e1-e772-46bb-aca5-32594be494f4","type":"message","user":"U03C71D7H","text":"これ単体についてだと私の理解が曖昧なので、なんとなくバグってたのでなんとなくいじったらなんとなく直りましたって報告の仕方しかできなくてつらいw","ts":"1552897621.371200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4cbda0b6-bbbf-40cc-a071-cab562eda3fe","type":"message","user":"U03C6TEAZ","text":"とはいえ単純ミスなのでテキストプロパティに関連づけなくても良さそうな気もしますね。","ts":"1552897630.371400","edited":{"user":"U03C6TEAZ","ts":"1552897637.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e243768b-c56b-4499-9b99-371d1c6d8c3b","type":"message","user":"U03C71D7H","text":"あ、でもこれ `f_prop_remove` 内なんですよ。このバグ","ts":"1552897665.372100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7ec8f3b9-4831-4a47-bbe7-3cd3983648fd","type":"message","user":"U03C71D7H","text":"`prop_remove()` 使わないと発生しない","ts":"1552897675.372400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47470d90-a7a2-487b-ac95-11b9530fa025","type":"message","user":"U03C6TEAZ","text":"まぁでもやっぱりテスト書いた方がよさげ。","ts":"1552897709.372900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5477c3de-530b-4776-bbbb-532f7386e3f6","type":"message","user":"U03C71D7H","text":"ちなみに元々やってた修正は、 `prop_remove({props} [, {lnum} [, {lnum-end}]])` これの第2引数が省略できないってバグで、関数のシグネチャの定義がミスってただけで実装はされてるっぽいので修正は一瞬でした","ts":"1552897884.374000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d8c924b6-30da-4abb-8e09-d1b9405a7d55","type":"message","user":"U03C6TEAZ","text":"テキストプロパティでなんで dirty フラグを見ないといけないかがイマイチ理解できないなぁ。","ts":"1552898111.374500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"114b893e-2a0b-4c7d-ae2d-56668a95d8bc","type":"message","user":"U03C6TEAZ","text":"あー分かった。","ts":"1552898179.375300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3bfad92d-bed8-4402-b964-f70f8a4a82fc","type":"message","user":"U03C6TEAZ","text":"テキストプロパティって、テキストのバッファのお尻に付け足してるんや。","ts":"1552898195.375700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"70d681c1-a851-4563-b113-7f90fbf96123","type":"message","user":"U03C6TEAZ","text":"なので追加すると行のバッファを allocate しなおさないといけない。","ts":"1552898216.376300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1fb619a6-0924-4e4c-b525-a0558266c548","type":"message","user":"UAZ33BKV2","text":"ああ、本気で素直に+文字列なんですね","ts":"1552898246.376700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b508af92-5c49-427d-a2b5-43fc088ed0cf","type":"message","user":"U03C71D7H","text":"行単位で一緒に移動することを考えるとこの方がラクなのかってのはわかる","ts":"1552898273.377500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"02196279-b35d-4489-892e-952c7b9d5d0f","type":"message","user":"U03C71D7H","text":"カラム方向の移動はがんばらないといけないけど","ts":"1552898285.378100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6ae211d-e192-4bc8-9546-1621c950ec59","type":"message","user":"U03C6TEAZ","text":"で、削除の際にプロパティを消して回って、実際に消した後に DIRTY フラグを付けるんだけど、それが対象のバッファじゃなくカレントバッファに付けてしまってるので本来確保されてない行バッファがもう1回 free される。","ts":"1552898305.378500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e6b9925f-36b2-40a1-ad0c-ea2c074832d0","type":"message","user":"U03C71D7H","text":"ちなみにこの DIRTY フラグの役割とかからしてまだわかってない… :innocent: (ソースを読めてないのであとで読みたい)","ts":"1552898419.379300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d3271dde-86a9-4d2a-8672-0f0f338d2d75","type":"message","user":"U03C6TEAZ","text":"ml_line_ptr ってキャッシュなんです。キャッシュやでというフラグです。","ts":"1552898483.379900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2bebea49-8ab2-4af8-b7ed-726ae6081a85","type":"message","user":"U03C71D7H","text":"な、るほど","ts":"1552898587.380100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49ca5cba-b73f-472d-99ad-64db00f0ea6f","type":"message","user":"U06BRP8VD","text":"これまさにただしいかと。ぼくもmattnさんに賛成で、パッチはまんまで送るべきだと思います。","ts":"1552898976.380300","thread_ts":"1552897217.368400","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"454ecaa4-7a7d-4faf-a45c-552e27094257","type":"message","user":"U03C71D7H","text":"この修正に対するピンポイントなテストが現状むずい感じです。問題を理解していないので再現コードが問題に対して適切かが判断できてない状況","ts":"1552899074.380500","thread_ts":"1552897217.368400","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ce32c5be-1c50-4711-93d7-2ae34a84b6b6","type":"message","user":"U03C71D7H","text":"許されるなら別件のパッチに混ぜ込んでしまいたいけど…さすがに行儀悪いですかね…","ts":"1552899171.380700","thread_ts":"1552897217.368400","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5967c12c-0dbe-41a8-9074-6cd43b58183e","type":"message","user":"U06BRP8VD","text":"あーじゃあ「こういう操作すると落ちるんだけど、このパッチで直るよ」程度でも大丈夫ですよ。","ts":"1552899203.380900","thread_ts":"1552897217.368400","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1d54704d-bdc5-469f-943c-736072a42acf","type":"message","user":"U06BRP8VD","text":"たぶんより良いテストをBramが作ってくれる。","ts":"1552899217.381100","thread_ts":"1552897217.368400","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7b7f4c0c-3792-494b-b104-5ff2f8e2d0d9","type":"message","user":"U03C71D7H","text":"なるほど。Bram に負担かけちゃいそうだけど、それでも良いのであれば投げてみようかな…","ts":"1552899253.381300","thread_ts":"1552897217.368400","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f9ecd39b-5e3c-404c-9e70-7e099206e823","type":"message","user":"U06BRP8VD","text":"で、出てきたテストをみて「あーこういうときはこういうテスト書けば良いのね。ありがとう次からは頑張るよ」って。","ts":"1552899267.381500","thread_ts":"1552897217.368400","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f46adec6-97c2-4277-a58f-b3e17bbb82b5","type":"message","user":"U03C71D7H","text":"カンペキな布陣","ts":"1552899296.381700","thread_ts":"1552897217.368400","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e0200975-face-45dd-9985-7b192b9b876f","type":"message","user":"U06BRP8VD","text":"再現するケースをちゃんと付けてあげるだけでも :+1: って感じです。","ts":"1552899303.381900","thread_ts":"1552897217.368400","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a1dfaab4-da85-4853-87bf-24d55a5b0406","type":"message","user":"UFZL441S8","text":"shell色付けの件、少し余計なことを書いてしまったようです。すみません、お手数をおかけしました…。","ts":"1552909652.383300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UH360A6GP","text":"<@UH360A6GP> has joined the channel","ts":"1552918917.383500","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null}]
