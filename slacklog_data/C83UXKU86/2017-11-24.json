[{"type":"message","user":"U06BRP8VD","text":"あ","ts":"1511449332.000288","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"renderingParams 使ってねぇじゃん","ts":"1511449339.000259","thread_ts":"1511449339.000259","reply_count":3,"replies":[{"user":"U6XP9LZ6V","ts":"1511449672.000380"},{"user":"U06BRP8VD","ts":"1511449922.000059"},{"user":"U6XP9LZ6V","ts":"1511449967.000209"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"taamode しか使ってないw","ts":"1511449373.000273","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"hdc から logfont 取ると誤差が出るのかな","ts":"1511449515.000288","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ちょっとまってて。今から出す修正を試してみて欲しい。いま手元で動作確認中","ts":"1511449538.000482","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"伝わってなかったｗ","ts":"1511449672.000380","thread_ts":"1511449339.000259","parent_user_id":"U06BRP8VD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"いれた","ts":"1511449706.000526","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"SetTextRenderingParams を呼んでなかったよ。ただ…あんまかわらない","ts":"1511449722.000292","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","ts":"1511449754.000272","files":[{"id":"F85LBALCE","created":1511449752,"timestamp":1511449752,"name":"修正後.png","title":"修正後","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":42217,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F85LBALCE/_________.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F85LBALCE/download/_________.png","original_h":489,"original_w":656,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F85LBALCE-115e1f3077/__________64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F85LBALCE-115e1f3077/__________80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F85LBALCE-115e1f3077/__________160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F85LBALCE-115e1f3077/__________360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":268,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-F85LBALCE-115e1f3077/__________480.png","thumb_480_w":480,"thumb_480_h":358,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/F85LBALCE/_________.png","permalink_public":"https://slack-files.com/T03C4RC8V-F85LBALCE-dc67d8a098","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U03C6TEAZ","text":"完璧","ts":"1511449757.000269","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"taamode:3 でフォントが消えるwww","ts":"1511449904.000289","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"いや設定してたつもりだったのw","ts":"1511449922.000059","thread_ts":"1511449339.000259","edited":{"user":"U06BRP8VD","ts":"1511449933.000000"},"parent_user_id":"U06BRP8VD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"お、そういうことでしたかｗ","ts":"1511449967.000209","thread_ts":"1511449339.000259","parent_user_id":"U06BRP8VD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"www","ts":"1511450086.000507","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あとは…VC10でビルドできると嬉しいくらいか。","ts":"1511450427.000030","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"INCLUDE通せばいけちゃうかな?","ts":"1511450432.000490","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","ts":"1511450510.000090","files":[{"id":"F84UDTKFF","created":1511450508,"timestamp":1511450508,"name":"dwrite_2.h","title":"dwrite_2.h","mimetype":"text/plain","image_exif_rotation":0,"filetype":"c","pretty_type":"C","user":"U03C6TEAZ","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":16131,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F84UDTKFF/dwrite_2.h","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F84UDTKFF/download/dwrite_2.h","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/F84UDTKFF/dwrite_2.h","permalink_public":"https://slack-files.com/T03C4RC8V-F84UDTKFF-9b511dc70a","edit_link":"https://vim-jp.slack.com/files/U03C6TEAZ/F84UDTKFF/dwrite_2.h/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U03C6TEAZ","text":"msys2 に付属のものです。","ts":"1511450516.000101","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ダメだた(INCLUDEの設定だけでは)","ts":"1511450572.000100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"おりょ","ts":"1511450593.000141","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1511450597.000247","files":[{"id":"F84UEK2MB","created":1511450596,"timestamp":1511450596,"name":"___________________________.txt","title":"こんなエラーがでた","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":137,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F84UEK2MB/___________________________.txt","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F84UEK2MB/download/___________________________.txt","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F84UEK2MB/___________________________.txt","permalink_public":"https://slack-files.com/T03C4RC8V-F84UEK2MB-e4d825ff12","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F84UEK2MB/___________________________.txt/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U03C6TEAZ","text":"あー","ts":"1511450604.000255","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"そこから違うのかー...","ts":"1511450630.000125","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"dwrite_1.h もincludeしてるけど、SDK 7.1には無かったような。","ts":"1511450670.000200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"予想通りかもしれないけど、 VS12.0 以降から大丈夫みたい。","ts":"1511450760.000123","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"8.1だわね。","ts":"1511450778.000311","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"この状態でVS10いってみるか","ts":"1511450783.000458","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あーだめだ。 v8.1 の時点でVS10(VC10)でビルドできない。同じエラー。","ts":"1511450873.000418","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"これは2017にしろということだろうか。","ts":"1511450895.000239","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"ちなみに vim-win32-installer は、最近 VC2015 を使うように変えましたが、SDKは7.1を使っています。XPで実行できるバイナリを作るために。","ts":"1511450950.000105","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そうか新しいコンパイラで古いSDKは使えるのか。さすがMSだw","ts":"1511450978.000021","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"VC2015でXP向けにビルドするための設定方法は src/INSTALLpc.txt に書いてあります。（今回の件には全く役に立たないｗ）","ts":"1511451118.000232","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"VC10 でのコンパイルに成功した。","ts":"1511451774.000064","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"VS12以上のコンパイルガードがわかれば…","ts":"1511451801.000206","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"VC10 って VS2012 とかでしたっけ","ts":"1511452075.000060","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<https://github.com/koron/vim/pull/1/commits/5999a33d5cae2cf1aec9e2edb0758db985af0808>","ts":"1511452090.000293","attachments":[{"fallback":"GitHub: WIP: color emoji! by koron · Pull Request #1 · koron/vim","id":1,"title":"WIP: color emoji! by koron · Pull Request #1 · koron/vim","title_link":"https://github.com/koron/vim/pull/1/commits/5999a33d5cae2cf1aec9e2edb0758db985af0808","text":"./gvim -u emoji.vim -U NONE --noplugins","thumb_url":"https://avatars0.githubusercontent.com/u/468368?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/koron/vim/pull/1/commits/5999a33d5cae2cf1aec9e2edb0758db985af0808"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"2010 か","ts":"1511452093.000295","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"これでなおった。","ts":"1511452101.000101","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"っていうかアノテート用のマクロ、全潰し","ts":"1511452117.000159","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"とりあえずこれのお世話になった <https://qiita.com/yumetodo/items/8c112fca0a8e6b47072d>","ts":"1511452168.000325","attachments":[{"fallback":"Qiita: _MSC_VERと_MSC_FULL_VERをまとめる - Qiita","id":1,"title":"_MSC_VERと_MSC_FULL_VERをまとめる - Qiita","title_link":"https://qiita.com/yumetodo/items/8c112fca0a8e6b47072d","text":"# 情報提供 情報提供お待ちしています。編集リクエストなりコメントでいただければなるべく早く反映します。 # Visual Studioのバージョンと判別マクロ 空欄はわからないところです。 |``_MSC_VER``| ``...","thumb_url":"https://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png","thumb_width":200,"thumb_height":200,"from_url":"https://qiita.com/yumetodo/items/8c112fca0a8e6b47072d"}],"edited":{"user":"U06BRP8VD","ts":"1511452178.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"issue 7 (mingw) は閉じてもいいすね。問題あったとしてもトピックでしかないので。","ts":"1511452296.000092","thread_ts":"1511452296.000092","reply_count":1,"replies":[{"user":"U06BRP8VD","ts":"1511452414.000438"}],"team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"twitvim がめっちゃ賑やかになったw","ts":"1511452354.000123","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"<https://go-gyazo.appspot.com/cc3593022afd2dd5.png>","ts":"1511452355.000170","attachments":[{"fallback":"441x285px image","id":1,"image_url":"https://go-gyazo.appspot.com/cc3593022afd2dd5.png","blocks":null,"from_url":"https://go-gyazo.appspot.com/cc3593022afd2dd5.png"}],"team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U06BRP8VD"]},{"name":"laughing","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"常用している人が問題なければ :+1:","ts":"1511452414.000438","thread_ts":"1511452296.000092","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"VC10でSDK10のdwrite_2.hとdwrite_1.hを使ったということ？","ts":"1511452499.000327","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ですです。","ts":"1511452546.000006","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"これ、明日で良ければ僕見ます。 <https://github.com/koron/vim/issues/11>","ts":"1511452592.000503","attachments":[{"fallback":"GitHub: カラー絵文字が使えない環境でのフォールバック · Issue #11 · koron/vim","id":1,"title":"カラー絵文字が使えない環境でのフォールバック · Issue #11 · koron/vim","title_link":"https://github.com/koron/vim/issues/11","text":"カラー絵文字が使えない Win 8.0 以前の環境では、IDWriteFactory を使う方式にフォールバックすべき。","thumb_url":"https://avatars0.githubusercontent.com/u/840186?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/koron/vim/issues/11"}],"team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1511452598.000291","files":[{"id":"F85LXTLMU","created":1511452597,"timestamp":1511452597,"name":"INCLUDE_____________________________________w.txt","title":"INCLUDE に乗ってるのはこんな感じw","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":718,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F85LXTLMU/include_____________________________________w.txt","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F85LXTLMU/download/include_____________________________________w.txt","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F85LXTLMU/include_____________________________________w.txt","permalink_public":"https://slack-files.com/T03C4RC8V-F85LXTLMU-c02848f64f","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F85LXTLMU/include_____________________________________w.txt/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"<https://github.com/koron/vim/issues/10> ＜これ僕はもう満足なので、あとは k_takata さんのほうでOKになったら閉じてください。","ts":"1511452700.000397","attachments":[{"fallback":"GitHub: 古いコンパイラ用のifdef追加 · Issue #10 · koron/vim","id":1,"title":"古いコンパイラ用のifdef追加 · Issue #10 · koron/vim","title_link":"https://github.com/koron/vim/issues/10","text":"Windows SDK 7.1 には、dwrite_2.h が無いので、そのような場合でも（カラー絵文字非対応で）コンパイルできるように、#ifdef を追加する。","thumb_url":"https://avatars0.githubusercontent.com/u/840186?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/koron/vim/issues/10"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"vim-win32-installer は SDK7.1 + DIRECTX=yes でビルドしてるからなあ。どうするか。","ts":"1511452889.000148","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"SDK v8.1 も追加したら?","ts":"1511452925.000272","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"XPで動かなくなるか?","ts":"1511452951.000313","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"ちなみに SDK のバージョンは","ts":"1511453203.000163","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"```\n#include &lt;ntverp.h&gt;\n#if VER_PRODUCTBUILD &gt; 9600\n```\nとかで判別できるらしい。","ts":"1511453216.000071","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"VS2015のIDEでもXP向けにビルドする設定があるのですが、それをするとSDK 7.1を使うようなんですよね。で、それに合わせて7.1を使うようにしています。新しいSDKでもXPで動くかもしれませんが試してないので…。","ts":"1511453340.000196","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"すいません。そろそろ眠いので寝ます。","ts":"1511453445.000289","team":"T03C4RC8V","reactions":[{"name":"sleeping","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"なお、Bramによる公式ビルドは DIRECTX=no なはず。","ts":"1511453451.000477","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"おやすみなさい。","ts":"1511453477.000296","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1511453689.000219","files":[{"id":"F849NGG65","created":1511453689,"timestamp":1511453689,"name":"__________include_________________________________________________.txt","title":"こんな include の設定でもコンパイルできました。","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":357,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F849NGG65/__________include_________________________________________________.txt","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F849NGG65/download/__________include_________________________________________________.txt","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F849NGG65/__________include_________________________________________________.txt","permalink_public":"https://slack-files.com/T03C4RC8V-F849NGG65-3ab245fb24","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F849NGG65/__________include_________________________________________________.txt/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"v7.1a のうしろに 8.1 を読み込む形。これならば多分問題にならないはず。","ts":"1511453733.000322","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"僕もそろそろ寝ます :sleepy:","ts":"1511454295.000066","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"そういえば、公式の環境変数設定用のバッチファイル src/msvc2015.bat ではVC2015のデフォルトのincludeの前に、SDK 7.1のincludeを置くようにしたんだっけ…。","ts":"1511454375.000169","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"VC2015 + SDK7.1 でも問題なくビルドできた。","ts":"1511454515.000450","team":"T03C4RC8V","reactions":[{"name":"slow-loris","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"やはりflushはもう少し減らした方がいいかもしれない。若干遅くなっているような気がする。","ts":"1511457159.000270","team":"T03C4RC8V","reactions":[{"name":"syobon","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"win7 で落ちたなう","ts":"1511480379.000056","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"フォールバック入れました。","ts":"1511481276.000035","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"今回最適化されてるので win7 でも速くなってて良い。","ts":"1511481429.000049","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"フォールバックは IDWriteFactory じゃなくて IDWriteFactory1 でいいんでしたっけ？","ts":"1511481833.000050","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"<https://msdn.microsoft.com/ja-jp/library/windows/desktop/hh780401.aspx>\nMinimum supported client: Windows 8 and Platform Update for Windows 7","ts":"1511481981.000027","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"同じ物だと思ってました... 直します","ts":"1511482012.000154","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"Platform Update for Windows 7って何でしたっけ？素のWin7だと動かないってことかな？","ts":"1511482062.000016","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"IDWriteFactory なら Vista から使えますね。","ts":"1511482148.000091","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"直しました～","ts":"1511482161.000083","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"IDWriteFactory2 の方の _RPT2(_CRT_WARN,...) は要らないと思う。","ts":"1511482352.000097","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そう。僕も、昨日ヘッダーみるまでは IDWriteFactory = IDWriteFactory1 → IDWriteFactory2 だと思ってたw","ts":"1511482905.000057","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"Windows7 でもっさり感がなくなったの良いなー。","ts":"1511482991.000102","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"色つき絵文字出ないので残念と思わせつつも、パフォーマンスが良くなってるので残念感が無い。","ts":"1511483022.000118","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"clear_rect() の flush は余計だった。消したらカーソル表示修正前の速度に戻った。","ts":"1511483103.000041","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"環境によるのかなー。僕のところは最後のコミット前でもパフォーマンスが良くなった様に感じた。","ts":"1511483231.000026","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"taamode:3 で消えちゃうのどうしますかね","ts":"1511483322.000083","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":":h eval.txt などで Ctrl-F をずっと押しっぱなしにしていると、離してもしばらくスクロールが続くことがあったのが、これでパッと止まるようになりました。","ts":"1511483335.000055","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"k_kataka さんのマシンスペックってどんな感じでしょう？","ts":"1511483403.000061","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"ノートPCなので遅いです。特にGPU。","ts":"1511483457.000055","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"あー、全画面で eval.txt 開くと分かりやすかったです。","ts":"1511483533.000008","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"FillRect の部分って、GDI も同じコード実行する必要あるんでしょうか？","ts":"1511483666.000079","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"よく見てないんですがこれでも動いてそうに見えます。 <https://gist.github.com/9cc33799ebc81b1199149408d432bb81>","ts":"1511483769.000052","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","ts":"1511483770.000087","files":[{"id":"F84U03PEE","created":1511483769,"timestamp":1511483769,"name":"gistfile1.diff","title":"gistfile1.diff","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U03C6TEAZ","mode":"snippet","editable":true,"is_external":true,"external_type":"unknown","size":1327,"url":"","url_download":"","url_private":"https://gist.github.com/9cc33799ebc81b1199149408d432bb81#file-gistfile1-diff","url_private_download":"https://gist.github.com/9cc33799ebc81b1199149408d432bb81#file-gistfile1-diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/F84U03PEE/gistfile1.diff","permalink_public":"","edit_link":"https://vim-jp.slack.com/files/U03C6TEAZ/F84U03PEE/gistfile1.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"ああ、もうなくなってるかも。","ts":"1511483856.000060","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"type:directx2 を実装するのに必要だったはず。","ts":"1511483888.000031","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"ok, commit &amp; push します","ts":"1511483898.000085","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"そこ、ちょっと変えたいな。","ts":"1511483921.000022","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"お、ではお任せした方がいいすね","ts":"1511483943.000110","team":"T03C4RC8V","reactions":[{"name":"cat-salute","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"自前で fillRect みたいなの作って、その中で呼び分けるのどうだろう?","ts":"1511483946.000035","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"任されます。","ts":"1511483983.000018","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ちょっと関係した話ですが、一応、一昨日だったか使ってるGDI全部リストアップしたんですよね。","ts":"1511484019.000085","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","ts":"1511484054.000024","files":[{"id":"F84VCHEQL","created":1511484053,"timestamp":1511484053,"name":"gdi.txt","title":"gdi.txt","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":1682,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F84VCHEQL/gdi.txt","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F84VCHEQL/download/gdi.txt","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F84VCHEQL/gdi.txt","permalink_public":"https://slack-files.com/T03C4RC8V-F84VCHEQL-19bfad40fd","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F84VCHEQL/gdi.txt/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U06BRP8VD","text":"Pixel操作以外は、ほぼ置き換えられそうな予感。ただそうすると…Flushのタイミング増やさないとアカン気がしてて。","ts":"1511484075.000032","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"これを全て dwrite で置き換えようとか言い出す koron 氏。。。と書こうとしていたら既に書かれた","ts":"1511484102.000097","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"イケるんちゃうか","ts":"1511484133.000048","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"とりあえず FillRect と Flush のタイミング見直しはあとでやっときます～","ts":"1511484226.000167","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"ビットマップフォントを指定すると、全く字が出なくなってしまいましたね。何らかの形でエラーメッセージを出した方がいいのだろうか。","ts":"1511484615.000093","thread_ts":"1511484615.000093","reply_count":1,"replies":[{"user":"U06BRP8VD","ts":"1511484772.000072"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"およ? 僕は BDFUM+ が出てた記憶が…","ts":"1511484698.000035","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あ、今見たら出ねぇ。なんで?","ts":"1511484742.000143","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"これ issue 入れておいてもらえますか? 出すように頑張るにしても、エラー出すにしても。","ts":"1511484772.000072","thread_ts":"1511484615.000093","parent_user_id":"U6XP9LZ6V","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あれ?","ts":"1511484813.000060","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"古いやつでも出ない?","ts":"1511484821.000102","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"renmode 次第っぽい。","ts":"1511484855.000038","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"renmode:5 はでないけど renmode:0 は出る。","ts":"1511484872.000039","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<https://github.com/koron/vim/issues/14>","ts":"1511485070.000098","attachments":[{"fallback":"GitHub: additional documentation · Issue #14 · koron/vim","id":1,"title":"additional documentation · Issue #14 · koron/vim","title_link":"https://github.com/koron/vim/issues/14","text":"「こういうときは見えなくなるよ」とかそういう注意事項・ノウハウ集を、ドキュメントに追記したほうが良さげ。","thumb_url":"https://avatars0.githubusercontent.com/u/468368?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/koron/vim/issues/14"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<https://github.com/koron/vim/issues/13>","ts":"1511485082.000086","attachments":[{"fallback":"GitHub: more refactorings · Issue #13 · koron/vim","id":1,"title":"more refactorings · Issue #13 · koron/vim","title_link":"https://github.com/koron/vim/issues/13","text":"optimize FillRect calls optimize Flush calls","thumb_url":"https://avatars0.githubusercontent.com/u/468368?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/koron/vim/issues/13"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"2点追加","ts":"1511485086.000059","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"gui_mch_draw_string() の DWriteContext_FillRect を `IS_ENABLE_DIRECTX() &amp;&amp; font_is_ttf_or_vector` の時だけ実行するようにすればよさそう。","ts":"1511485189.000142","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"フォントは FixedSys、renmode は未設定で、上記変更で字が出るようになりました。","ts":"1511485262.000148","team":"T03C4RC8V","reactions":[{"name":"slow-loris","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"FillRectのリファクタリングと合わせてkoronさんに任せてよい？","ts":"1511485344.000179","team":"T03C4RC8V","reactions":[{"name":"makasena","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ええまかせてくださk","ts":"1511485438.000044","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"gui_mch_draw_string() 内の FillRect は、GDI側もやっておかないと、前の画面が残ってしまう。","ts":"1511490215.000047","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"そして、FixedSys を使った場合の表示がなんか変。DirectWrite側で上書きされる場合があるみたい。（正直、ビットマップフォントの対策はあまり真面目にやりたくないｗ）","ts":"1511490489.000010","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"たしかに頑張りたくない。","ts":"1511490824.000025","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","ts":"1511490983.000066","files":[{"id":"F84SETS4B","created":1511490983,"timestamp":1511490983,"name":"workaround-for-bitmap-fonts.diff","title":"workaround-for-bitmap-fonts.diff","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U6XP9LZ6V","mode":"snippet","editable":true,"is_external":true,"external_type":"unknown","size":1328,"url":"","url_download":"","url_private":"https://gist.github.com/c9e87d00474b68192fe94b6e79997d62#file-workaround-for-bitmap-fonts-diff","url_private_download":"https://gist.github.com/c9e87d00474b68192fe94b6e79997d62#file-workaround-for-bitmap-fonts-diff","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U6XP9LZ6V/F84SETS4B/workaround-for-bitmap-fonts.diff","permalink_public":"","edit_link":"https://vim-jp.slack.com/files/U6XP9LZ6V/F84SETS4B/workaround-for-bitmap-fonts.diff/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U6XP9LZ6V","text":"ビットマップフォント対策、今のところこんな感じ↑","ts":"1511491030.000094","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"&gt;DirectWrite側で上書き","ts":"1511491048.000180","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"どんな症状でしょうか？","ts":"1511491053.000051","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"と思ったら再現","ts":"1511491065.000144","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"clear_rect() の DWriteContext_FillRect をやめたらbmpフォントはちゃんと出るようになった。","ts":"1511491254.000016","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"どう両立させるか…。","ts":"1511491277.000053","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"bmpフォントかどうかの判別をもっと上位の層でやっておくべきなのか？","ts":"1511491454.000062","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"gfnとgfwで混在したら面倒だな。","ts":"1511491485.000045","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"set guifont&amp; でも消えるので根本解決が必要そう。","ts":"1511491623.000138","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"dwrite の API、とにかく難易度高いし、これをシンプルに提供出来なかったMSの罪はデカい。","ts":"1511492802.000026","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"うーん…全部 DirectX/Write に置き換えたらシンプルなのでは? あとは Vim の描画モデルがあまりにアレだし…","ts":"1511493226.000213","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"やっぱ全部WM_PAINT 内でやってて欲しかった…","ts":"1511493254.000041","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"bmpフォントの場合は、逆に全部GDIでやる必要があるかと。","ts":"1511497798.000068","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あ、FixedSys って .FNT か。","ts":"1511497869.000056","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"つまり gui_mch_set_rendering_options の時点でフォントが TrueType か見る必要があるって事すね。","ts":"1511497894.000084","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"しかも gfn 変えたらそのタイミングでも判定が必要か。","ts":"1511497916.000029","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"SetFont の時点で見て、代替フォントつかっちゃうってのは?","ts":"1511497959.000137","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"めんどい","ts":"1511497997.000121","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"とりあえず、bmpフォントでも動くようにしたのをコミットしておきました。","ts":"1511499476.000045","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"ちょうど GetTextMetrics を見つけたところだった","ts":"1511499546.000159","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"ところで、regexpのデバッグログを黙らせるのはこっちの方がお手軽だと思います。\n<https://bitbucket.org/k_takata/vim-ktakata-mq/src/697572fbef7e112fbfd4d07b5c1f4de1da4d8a40/disable-regexp-debug-log.patch?at=default&amp;fileviewer=file-view-default>","ts":"1511500128.000139","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あ、たしかにw","ts":"1511500238.000081","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"常用のgvimをこれに差し替えた。","ts":"1511502124.000030","team":"T03C4RC8V","reactions":[{"name":"benri","count":2,"users":["U03C6TEAZ","U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"方向性ですが、GDI 置き換えてから pr 投げられます？","ts":"1511513159.000194","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"2段階でもいいかなと言う思いもあります。","ts":"1511513215.000054","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あ、まずは置き換えないです。","ts":"1511513403.000025","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"とりあえず FillRect とかの見直しだけ、今夜やってしまう。","ts":"1511513416.000106","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ちなみに私は仕事中 :syobon:","ts":"1511513423.000225","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"ttamode:3 で消える件、原因が分かったのでラフですが修正しました。","ts":"1511533845.000167","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"現在選択されているフォントが anti-aliased なのに ttamode:3 (ALIASED) なので表示されないって事でした。","ts":"1511533886.000211","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"return FALSE ではなく return FAIL な気がする。","ts":"1511534122.000336","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"oh","ts":"1511534192.000217","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U6XP9LZ6V","text":"あれ？ `lf.lfQuality &amp;&amp; ANTIALIASED_QUALITY`\n&amp;&amp; で合ってる？","ts":"1511534263.000418","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"なおしed","ts":"1511534394.000049","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"ラフなので、他もチェックが必要。","ts":"1511534410.000188","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"いっそエラーにしないという選択肢もあると思います。","ts":"1511534515.000374","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"とりあえずコードで原因を周知","ts":"1511534524.000207","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"renmode:5 とかも、かな","ts":"1511534642.000054","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ぼくはまず FillRect から手を付けよう。","ts":"1511534804.000460","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"taamode についてはエラーで失敗するのと、自動で書き換えちゃうのどっちが良いんだろう?","ts":"1511534874.000191","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"font_is_ttf_or_vector って、DirectX で描画できないフォントの時はGDIにフォールバックする意図なのか","ts":"1511535317.000137","edited":{"user":"U06BRP8VD","ts":"1511535343.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"だったらそもそも DirectX それ自体が disabled のほうがスマートかな?","ts":"1511535372.000236","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"難しいのは、そうか。やっぱり字ごとにフォントが決まる可能性があることか。","ts":"1511535598.000290","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
