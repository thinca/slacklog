[{"client_msg_id":"9ddbf0ee-5c39-4b45-a6f1-74a5062ef55a","type":"message","user":"U06BRP8VD","text":"一応メモっておいた\u003chttps://github.com/vim-jp/issues/issues/1358\u003e","ts":"1604588192.076800","attachments":[{"fallback":"GitHub: coverage support: memo for implementation · Issue #1358 · vim-jp/issues","id":1,"title":"coverage support: memo for implementation · Issue #1358 · vim-jp/issues","title_link":"https://github.com/vim-jp/issues/issues/1358","text":"Vim scriptのカバレッジを取れないか、という話。 とりあえずあたりだけ付けてみた。 (ref. \u003chttps://vim-jp.slack.com/archives/C83UXKU86/p1604587807074800\u003e) \u003chttps://github.com/vim/vim/blob/66669fc6647201649e75a214e72b768fc86b7ed3/src/ex_do\u003e...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/issues/issues/1358","original_url":"https://github.com/vim-jp/issues/issues/1358"}],"team":"T03C4RC8V","reactions":[{"name":"pray","count":1,"users":["U03C71D7H"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pDDk"}]},{"client_msg_id":"a80a684b-02c7-4dc4-bd51-d6884a78bba8","type":"message","user":"U06BRP8VD","text":"あとコメントとか読み飛ばしたみたいな情報が必要なら、`do_one_cmd` のなかからそれを外側に伝える方法が必要になる。","ts":"1604587902.076500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8zVF"}]},{"client_msg_id":"e6172969-0e5a-40e7-b024-0a57db976ae8","type":"message","user":"U06BRP8VD","text":"ファイルに直書きしちゃうのが速いけど、メモリの持つ必要があるならそれを収める場所と開放するタイミングを作らなきゃいけない。","ts":"1604587855.075600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SYXI"}]},{"client_msg_id":"77425e92-2b33-424f-874b-61f7935e79f1","type":"message","user":"U06BRP8VD","text":"\u003chttps://github.com/vim/vim/blob/66669fc6647201649e75a214e72b768fc86b7ed3/src/ex_docmd.c#L984-L990\u003e\n\nここ。ここの前後でいろいろ情報かき集めればよい。","ts":"1604587807.074800","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/66669fc6647201649e75a214e72b768fc86b7ed3/src/ex_docmd.c#L984-L990","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/66669fc6647201649e75a214e72b768fc86b7ed3/src/ex_docmd.c#L984-L990","original_url":"https://github.com/vim/vim/blob/66669fc6647201649e75a214e72b768fc86b7ed3/src/ex_docmd.c#L984-L990"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u2Yr"}]},{"client_msg_id":"dd24bb67-c425-45c9-9521-097685ab5411","type":"message","user":"U03C71D7H","text":"実現可能性とかは特に考えずの発言でした","ts":"1604587481.074300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QCQW"}]},{"client_msg_id":"e4ecfcf5-5830-4c1c-9f06-1aba19ac41be","type":"message","user":"U03C71D7H","text":"まあその辺りが最悪なので本体でサポートされてると嬉しいなー、くらいのつぶやきですw","ts":"1604587466.074000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jVQ"}]},{"client_msg_id":"c41f9c39-f17c-49ba-90fa-831d2520d180","type":"message","user":"U06BRP8VD","text":"Vimってコメント部分どう捌いてたかな…","ts":"1604587453.073700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BvU3P"}]},{"client_msg_id":"3dd89189-531e-4aba-863c-b832112cd0d4","type":"message","user":"U06BRP8VD","text":"まぁ最悪vimparserでパースする手はある。","ts":"1604587439.073300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wwSqa"}]},{"client_msg_id":"dedc27e4-6fb4-45af-ae64-16c823cd6af6","type":"message","user":"U03C71D7H","text":"まあ既存の Vim script のカバレッジツールはこの後から別途パースするってのを無理矢理やってるわけなんですけど…","ts":"1604587420.072700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ev6"}]},{"client_msg_id":"62b38d78-29ca-48ed-8dcf-a2a3e0cd86c5","type":"message","user":"U06BRP8VD","text":"Vimは構造上それむりちゃうかな","ts":"1604587373.071900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2jx"}]},{"client_msg_id":"50186259-32c9-443e-b7a6-49085248d5a8","type":"message","user":"U03C71D7H","text":"いや、そもそも計測対象ではない行というのがあります。計測対象でない行と実行されてない行を区別するためにパースする必要があります。","ts":"1604587351.071500","edited":{"user":"U03C71D7H","ts":"1604587359.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZbM"}]},{"client_msg_id":"befbd3ef-b042-4ea3-9b5b-13bdea71c336","type":"message","user":"U06BRP8VD","text":"本格パースである必要ないでしょ? ぶっちゃけ行区切りだけわかれば良い。","ts":"1604587315.070900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"emv1p"}]},{"client_msg_id":"af3d984f-6c22-4d33-a08a-da198b2ff140","type":"message","user":"U03C71D7H","text":"それはつまり別途ソースファイルをパースしないといけないんですよ","ts":"1604587293.070400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"avz6m"}]},{"client_msg_id":"b2889275-c8d8-49e9-9e2c-c5354762e572","type":"message","user":"U06BRP8VD","text":"0はあとでソースファイルと突合せて計算すればよいのでは?","ts":"1604587272.070000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/nL3F"}]},{"client_msg_id":"f236537e-e15c-43a2-9b72-608c1a7c61a6","type":"message","user":"U03C71D7H","text":"カバレッジツールにとって 0 は重要な情報です","ts":"1604587260.069700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZQE"}]},{"client_msg_id":"08797e05-13f0-4e89-a803-4144fb398a43","type":"message","user":"U03C71D7H","text":"0 が表現できないので","ts":"1604587237.069000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6VXFK"}]},{"client_msg_id":"5669cd71-c165-4339-8473-dedfa38e5bdb","type":"message","user":"U06BRP8VD","text":"大きくして良いのなら別にいらんやろ、という気がしなくもない。","ts":"1604587220.068800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fV4p"}]},{"client_msg_id":"b0e948fd-0d06-4b90-800d-d1165909dd82","type":"message","user":"U06BRP8VD","text":"countって要る? まぁ、ログファイルを小さくするためか。","ts":"1604587196.068500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MdUP"}]},{"client_msg_id":"f2b1c3b8-d95c-49dd-b415-12e901dda7e0","type":"message","user":"U03C71D7H","text":"`foo; bar; buz;` で 3 みたいな数かな? \u0026gt; `numberOfStatements`","ts":"1604587178.068100","edited":{"user":"U03C71D7H","ts":"1604587183.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qqA"}]},{"client_msg_id":"6dc949af-8baa-4c73-863f-65bdbcce760d","type":"message","user":"U03C71D7H","text":"Go の output は count が入っているので、つまりカバレッジを取っている間は結果をずっと保持していますね","ts":"1604587134.067500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Cz/"}]},{"client_msg_id":"511aae7f-2342-422b-a836-bf5d7bedb371","type":"message","user":"U06BRP8VD","text":"`numberOfStatements` がちょっと何だかわからないな","ts":"1604587108.067000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8eo"}]},{"client_msg_id":"e768d317-f39e-460b-b67f-2babe58db090","type":"message","user":"U06BRP8VD","text":"元のファイルとガッチャンコすれば実行してない箇所分かりそう。","ts":"1604587073.066500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"t4Z"}]},{"client_msg_id":"f3f965c2-a442-43e9-a1e9-98c028255c79","type":"message","user":"U06BRP8VD","text":"上のGoの方式だと、実行した範囲が結構細かくわかるので","ts":"1604587060.066100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=OqW"}]},{"client_msg_id":"fd26e7a7-9e1e-4afd-850a-56fc3597ad14","type":"message","user":"U03C71D7H","text":"codecov は力技で古今東西のカバレッジツールの出力を処理していたと思います","ts":"1604587055.066000","team":"T03C4RC8V","reactions":[{"name":"muscle","count":1,"users":["U6XP9LZ6V"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ajd"}]},{"client_msg_id":"9870c77c-6e35-4f70-a875-3d3ea66a2794","type":"message","user":"U03C71D7H","text":"どの行を何回通ったかってレポートをしようと思ったら結局内部で結果を保持する必要があるかな、と。それすらやらずにログを吐き出すだけというのは、さっきも言った「実行されていない行」をレポートできないので、カバレッジのレポートとしては不適かと思います。","ts":"1604587022.065100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XEaeh"}]},{"client_msg_id":"f1ad7596-638d-426f-b335-f077bf7962a8","type":"message","user":"U6XP9LZ6V","text":"\u003chttp://codecov.io|codecov.io\u003e のカバレッジ収集スクリプト、いろんな言語に対応してるようだけどどうなってるんだろう。","ts":"1604586936.063900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vY0p"}]},{"client_msg_id":"e5304a69-686c-4051-9aed-a45023471d9b","type":"message","user":"U06BRP8VD","text":"\u003chttps://stackoverflow.com/questions/31413281/golang-coverprofile-output-format\u003e","ts":"1604586907.062800","attachments":[{"fallback":"Stack Overflow: Golang coverprofile output format","id":1,"title":"Golang coverprofile output format","title_link":"https://stackoverflow.com/questions/31413281/golang-coverprofile-output-format","text":"I'm trying to make sense of the -coverprofile cover.out option in go test, specifically the format of the file. Covering server.go for example, yields the output in cover.out: mode: set \u003chttp://github.com/|github.com/\u003e","thumb_url":"https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded","blocks":null,"service_name":"Stack Overflow","service_icon":"https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon.png?v=c78bd457575a","thumb_width":316,"thumb_height":316,"from_url":"https://stackoverflow.com/questions/31413281/golang-coverprofile-output-format","original_url":"https://stackoverflow.com/questions/31413281/golang-coverprofile-output-format"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/0k5+"}]},{"client_msg_id":"2e216977-855b-42ed-8ff5-0ccb0500d4f2","type":"message","user":"U06BRP8VD","text":"\u003chttps://github.com/golang/go/blob/0104a31b8fbcbe52728a08867b26415d282c35d2/src/cmd/cover/profile.go#L56\u003e","ts":"1604586900.062400","attachments":[{"fallback":"GitHub: golang/go","id":1,"title":"golang/go","title_link":"https://github.com/golang/go/blob/0104a31b8fbcbe52728a08867b26415d282c35d2/src/cmd/cover/profile.go#L56","text":"The Go programming language. Contribute to golang/go development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/go/blob/0104a31b8fbcbe52728a08867b26415d282c35d2/src/cmd/cover/profile.go#L56","original_url":"https://github.com/golang/go/blob/0104a31b8fbcbe52728a08867b26415d282c35d2/src/cmd/cover/profile.go#L56"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mJIl"}]},{"client_msg_id":"1d87a5ce-234f-4f3e-8d12-a14b603679d1","type":"message","user":"U03C71D7H","text":"古いプログラムが使ってるフォーマットは行単位前提だったりして、ブランチカバレッジへの拡張性がないものもあったりしますね","ts":"1604586896.062100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fWgM"}]},{"client_msg_id":"58753291-f5c9-458f-be40-be32a457b30b","type":"message","user":"U06BRP8VD","text":"メモリ食うから変数はよろしくないのでは。","ts":"1604586887.061800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1+DF"}]},{"client_msg_id":"4d4e65cf-998d-4ae7-8898-30a473c7ec22","type":"message","user":"U03C71D7H","text":"Vim script の変数として吐き出して、外部に出すのは別途やってねって方法もありそう","ts":"1604586793.060300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xZbp+"}]},{"client_msg_id":"b2f4051a-3bdd-4bbb-a099-58a75cc4cad6","type":"message","user":"U06BRP8VD","text":"Goのあの出力はどうなってんだろう?","ts":"1604586787.060200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"m=w"}]},{"client_msg_id":"af4cb9f1-8ace-49f9-aad9-bc758a27de33","type":"message","user":"U03C71D7H","text":"カバレッジの出力フォーマットって、統一的なものが一切ないんですよねぇ","ts":"1604586766.059500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cFui8"}]},{"client_msg_id":"34ec86db-bcb9-4181-b56f-d50542ac4655","type":"message","user":"U06BRP8VD","text":"ログのようにただ吐き出して後処理(別プログラム)で構造化するほうが好ましい","ts":"1604586744.059000","edited":{"user":"U06BRP8VD","ts":"1604586752.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MJwgG"}]},{"client_msg_id":"3e5fba84-35f1-485f-aecd-b8effa4a2da8","type":"message","user":"U03C71D7H","text":"レポートされないと別途実行可能な行をパースしないといけないのでされるのだと思うけども","ts":"1604586730.058600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YSim"}]},{"client_msg_id":"aa0072b1-d97a-4693-9638-8e7309a47145","type":"message","user":"U06BRP8VD","text":"あとはカバレッジをどういうフォーマットで吐き出すか","ts":"1604586718.058100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TvU"}]},{"client_msg_id":"6b0c0306-3ca1-4cd2-be24-732f3ce15ca0","type":"message","user":"U03C71D7H","text":"そう言えば一般的に、カバレッジの結果って、「実行されていない行」についてもレポートされるのだろうか。あんまり把握していないな…","ts":"1604586703.057600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OGA"}]},{"client_msg_id":"2a9bbf24-535a-426a-8033-df873af1ffec","type":"message","user":"U06BRP8VD","text":"あとは記録するファイルを限定するとかそういう機能は別途要るかもね。","ts":"1604586654.056700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ajf"}]},{"client_msg_id":"36250b9a-922d-4cbb-92aa-5d401a3d29dd","type":"message","user":"U06BRP8VD","text":"それもbreakpointがあるからなんとかなるやろ、って感じはする。","ts":"1604586638.056300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FKQ6s"}]},{"client_msg_id":"c5e5b696-57b2-4b9f-904b-eb8d4c12bdf0","type":"message","user":"U06BRP8VD","text":"行数の補正は要るかもだけど。","ts":"1604586624.056000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"86CrP"}]},{"client_msg_id":"ca7b3264-c012-453d-a1d8-49ae81bbb5e7","type":"message","user":"U06BRP8VD","text":"とりあえず行単位で読み込んだタイミングで記録するなら簡単そう。","ts":"1604586615.055800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hJv"}]},{"client_msg_id":"f2eea279-fca2-4234-be23-fd3d17f7e080","type":"message","user":"U03C71D7H","text":"実現可能性は割とありそうな感じですかね\nしかし今のタイミングだと当然 Vim9 script でも動いてほしいっていう話はありそう (そして Vim9 script はまだバンバン壊れるw)","ts":"1604586586.055300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T2by"}]},{"client_msg_id":"49de4479-7820-4e70-ba57-39b320a1c8c7","type":"message","user":"U06BRP8VD","text":"do_cmdline内の `getline_is_func` という変数に微妙な気持ちになったw","ts":"1604586565.054900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C1Uv"}]},{"client_msg_id":"2a9a00bd-254d-46d5-ad22-df2b8de59285","type":"message","user":"U06BRP8VD","text":"前で良ければまぁリーズナブルなコストでできそうな感じ?","ts":"1604586490.053900","edited":{"user":"U06BRP8VD","ts":"1604586502.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R33"}]},{"client_msg_id":"c80f088b-c92c-4314-9475-9369c6e1fe00","type":"message","user":"U06BRP8VD","text":"関数を呼び出すだけの行は、呼び出し先の関数にジャンプする前にマークを残すべきか、帰ってきてから(=呼び出し先の関数の実行が終わってから)マークすべきか。","ts":"1604586465.053500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qZl"}]},{"client_msg_id":"25cd1a70-8356-482b-8df4-b4702a951c39","type":"message","user":"U06BRP8VD","text":"知れた=吐いた","ts":"1604586361.052600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JMv"}]},{"client_msg_id":"018d03c2-215c-4ed1-9020-4d117d57cb82","type":"message","user":"U06BRP8VD","text":"実行完了後に行数を知れたほうが良いよねぇ","ts":"1604586351.052400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ujc"}]},{"client_msg_id":"36f130d3-cf3d-476b-a22c-03d0d53dddec","type":"message","user":"U06BRP8VD","text":"breakpointの仕組みに近いんだけど","ts":"1604586342.052100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h7f="}]},{"client_msg_id":"e5e3f0fa-72b3-4262-970e-18697cc020ff","type":"message","user":"U06BRP8VD","text":"do_cmdline + get_func_line で握るとそこそこできそう","ts":"1604586297.051800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2XWc"}]},{"client_msg_id":"e43af4ae-ba80-49f8-9bd1-ec108bfd570a","type":"message","user":"U03C71D7H","text":"大事なことなので2回","ts":"1604586295.051700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QUl"}]},{"client_msg_id":"568bceec-70e9-4448-a2f4-fc0ed9861aaf","type":"message","user":"U06BRP8VD","text":"んー","ts":"1604586277.051200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/Q/zO"}]},{"client_msg_id":"f7389189-3d81-487b-8abc-4dbeb3387432","type":"message","user":"U06BRP8VD","text":"んー","ts":"1604586201.050800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T1oC"}]},{"client_msg_id":"e2c9cc5a-75c5-40ab-8b46-c84fc193b5f7","type":"message","user":"U03C71D7H","text":"Vim9 どうなるんだろう…","ts":"1604586201.050700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PusB"}]},{"client_msg_id":"2e26972d-d4d1-4ca0-aa3b-27a3fb965784","type":"message","user":"U03C71D7H","text":"とは言え本体にほしいなーと言うところ","ts":"1604586175.050200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LL0ii"}]},{"client_msg_id":"b5e26688-3396-4121-89c9-382316ea676d","type":"message","user":"U03C71D7H","text":"実際のところ `:profile` の結果を無理矢理パースしてカバレッジを出すツールはすでにありますね","ts":"1604586155.049900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vZ7"}]},{"client_msg_id":"900f4a7f-a2e1-4760-b57a-dcef591ea1bf","type":"message","user":"U6XP9LZ6V","text":"（vim9 だとどうなるんだ？）","ts":"1604586084.049100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C2g"}]},{"client_msg_id":"eb879311-8141-4b00-9850-c80525d7f3f1","type":"message","user":"U6XP9LZ6V","text":"`:profile` があるから C0 カバレッジは取れそう","ts":"1604586033.048300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QFj"}]},{"client_msg_id":"33602d1b-4511-451b-9616-c911bf7287d7","type":"message","user":"U06BRP8VD","text":"`uf_script_ctx` かな","ts":"1604585899.047200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xqECx"}]},{"client_msg_id":"99787e79-3ef7-4448-a7d4-d0e495929eba","type":"message","user":"U06BRP8VD","text":"\u003chttps://github.com/vim/vim/blob/master/src/structs.h#L1580-L1644\u003e","ts":"1604585874.046900","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/master/src/structs.h#L1580-L1644","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/master/src/structs.h#L1580-L1644","original_url":"https://github.com/vim/vim/blob/master/src/structs.h#L1580-L1644"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OaTF"}]},{"client_msg_id":"3aa799a8-3d4a-41ae-914f-4d3c51e68c83","type":"message","user":"U03C71D7H","text":"関数単位で、どの関数がどのファイルで定義されたかは保持されているはず","ts":"1604585772.046700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mn1"}]},{"client_msg_id":"0239adf9-55c7-40ac-aa5b-4725bac88f34","type":"message","user":"U06BRP8VD","text":"元ファイルの名前までたどり着かないじゃないかなって話。","ts":"1604585655.046300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BRKK"}]},{"client_msg_id":"349c16c8-7189-472d-9345-305996b82e4f","type":"message","user":"U06BRP8VD","text":"実行時には関数もただの文字列になっちゃってるから。でもエラーになったとき関数内での行数が取れてるからどっかに記憶はしてあるんだろうけど。あとstackで取れるなら、その部分の情報もどっかにある。","ts":"1604585633.045900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aVZmG"}]},{"client_msg_id":"293d3475-3256-4ae4-bf33-d93cdb71afc6","type":"message","user":"U03C71D7H","text":"なんと…","ts":"1604585629.045700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wAxyS"}]},{"client_msg_id":"4d329a38-546a-412b-a0b2-a0c8212816bd","type":"message","user":"U06BRP8VD","text":"んー記憶にある限りだと無理臭いんだよな。","ts":"1604585578.044700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Pv7"}]},{"client_msg_id":"4ba3adf5-bac2-49eb-b781-08b45dd20e28","type":"message","user":"U03C71D7H","text":"ブランチってのも本当に突き詰めると任意の式で例外が飛ぶ可能性があるので式単位に…さすがにつらそう","ts":"1604585259.043300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xe8z"}]},{"client_msg_id":"6a60f7c4-4c34-4e9b-ab08-ca4a49429e4a","type":"message","user":"U03C71D7H","text":"カバレッジは、最低でも行単位、可能であればブランチ単位でほしいところ (むずそう)","ts":"1604585224.042600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"060E"}]},{"client_msg_id":"c7793d00-c85b-413f-8bc9-f6cc80c7d176","type":"message","user":"U06BRP8VD","text":"スタック情報って…関数呼び出しのタイミングか","ts":"1604585138.042000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1kbx"}]},{"client_msg_id":"b8c126d2-2ab5-4a31-9e33-072347cb5ba3","type":"message","user":"UAZ33BKV2","text":"`expand('\u0026lt;stack\u0026gt;')` は入ってましたな","ts":"1604584934.041500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BjS"}]},{"client_msg_id":"94e4f68b-d7a6-4510-b138-79c273b43315","type":"message","user":"U06BRP8VD","text":"実行している関数からファイルの情報や、ファイル中での行数情報に遡れたっけか?","ts":"1604584898.040900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fP8"}]},{"client_msg_id":"ba5baa20-06fa-4c13-bb69-93c2198a3708","type":"message","user":"U03C71D7H","text":"Vim 本体側に Vim script のカバレッジを取る機能とか入れられないだろうか (どういう形で入るのがいいとかは完全にノーアイデア :innocent:)","ts":"1604584825.040200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UgTIr"}]}]
