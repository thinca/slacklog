[{"client_msg_id":"44783474-d6b3-4731-8c34-c53ef649d98e","type":"message","user":"U6XP9LZ6V","text":"いまだにこのissueに文句言ってくる人がいるけど、知らんがな、って感じだな…\n設定ファイルの読み込み順序はもう当分変わらないだろうし。個々の設定については議論可能だろうけど。\n<https://github.com/vim/vim/issues/2042>","ts":"1582853193.068700","attachments":[{"fallback":"GitHub: Certain configs in /etc/vimrc are ignored if ~/.vimrc does not exist · Issue #2042 · vim/vim","id":1,"title":"Certain configs in /etc/vimrc are ignored if ~/.vimrc does not exist · Issue #2042 · vim/vim","title_link":"https://github.com/vim/vim/issues/2042","text":"If ~/.vimrc doesn&amp;#39;t exist, some configs in /etc/vimrc has no effect. E.g. set scrolloff=&lt;n&gt; Some configs changes the behaviour. E.g. highlight Todo doen&amp;#39;t work. I have to use highligh...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/issues/2042","original_url":"https://github.com/vim/vim/issues/2042"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hThxv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"14e842e3-1d52-4a47-87b8-8ca2f87c4f5d","type":"message","user":"U6XP9LZ6V","text":"macな人、この現象再現しますか？\n<https://github.com/vim/vim/issues/5609>","ts":"1582853811.069300","attachments":[{"fallback":"GitHub: Version 8.1 (Included patches: 1-2234) breaks support for long paths · Issue #5609 · vim/vim","id":1,"title":"Version 8.1 (Included patches: 1-2234) breaks support for long paths · Issue #5609 · vim/vim","title_link":"https://github.com/vim/vim/issues/5609","text":"Describe the bug When the path for the file being opened is longer than 66 characters, MacVim shows &amp;quot;Press ENTER or type command to continue.&amp;quot; This is something that did not happen in pre...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/issues/5609","original_url":"https://github.com/vim/vim/issues/5609"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zGIH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"25138139-a7f9-4d7e-a53b-742818a7b05e","type":"message","user":"U03C6TEAZ","text":"-u NONE での再現をお願いしたいなぁ。","ts":"1582854143.069800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"n2HG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"688064c4-377c-430e-9508-02af4143a499","type":"message","user":"U03C71D7H","text":"今仕事で Mac だけど MacVim は使ってないなー","ts":"1582854393.070200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4HPD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47e133e5-c603-44db-bdb8-66d56cd2234c","type":"message","user":"U8CC7MDCL","text":"またMacVimか","ts":"1582854449.070700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2isj9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"USLACKBOT","text":"<https://camo.githubusercontent.com/c0902a34963fbb9067608c148774365033479dd7/687474703a2f2f63646e2d616b2e662e73742d686174656e612e636f6d2f696d616765732f666f746f6c6966652f752f756a69686973612f32303130313031322f32303130313031323133303233342e706e67>","ts":"1582854451.070800","attachments":[{"fallback":"655x135px image","id":1,"image_url":"https://camo.githubusercontent.com/c0902a34963fbb9067608c148774365033479dd7/687474703a2f2f63646e2d616b2e662e73742d686174656e612e636f6d2f696d616765732f666f746f6c6966652f752f756a69686973612f32303130313031322f32303130313031323133303233342e706e67","blocks":null,"from_url":"https://camo.githubusercontent.com/c0902a34963fbb9067608c148774365033479dd7/687474703a2f2f63646e2d616b2e662e73742d686174656e612e636f6d2f696d616765732f666f746f6c6966652f752f756a69686973612f32303130313031322f32303130313031323133303233342e706e67","original_url":"https://camo.githubusercontent.com/c0902a34963fbb9067608c148774365033479dd7/687474703a2f2f63646e2d616b2e662e73742d686174656e612e636f6d2f696d616765732f666f746f6c6966652f752f756a69686973612f32303130313031322f32303130313031323133303233342e706e67"}],"subtype":"slackbot_response","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"5d965d98-78bc-47cf-8bfc-189db9c99957","type":"message","user":"U6XP9LZ6V","text":"`vim --clean`で起きるとか返してきていますね。","ts":"1582854474.071300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uKFR="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4a4f6712-1fe1-44fe-988a-8faeb8a104a4","type":"message","user":"U6XP9LZ6V","text":"いつ見ても「またMacYimか」に見えるｗ","ts":"1582854561.072000","team":"T03C4RC8V","reactions":[{"name":"sorena","count":4,"users":["U9S4G0LJW","U8CC7MDCL","U06BRP8VD","UKHUVMBJR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mWKy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b05d1876-4106-4216-834e-0482f5df2b68","type":"message","user":"U03C6TEAZ","text":"MacVim って何が違うんですか？","ts":"1582854662.073100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3K/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7e41e04e-c05d-4ee5-8f19-e2037e6c2a43","type":"message","user":"U03C6TEAZ","text":"Carbon UI?","ts":"1582854672.073600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q1R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3964a0c8-4b37-4636-b77d-0547b5982d67","type":"message","user":"U7TMPGWJ0","text":"ちょっと前に MacVim アプデきてて今は 8.2.319 ですね\n```VIM - Vi IMproved 8.2 (2019 Dec 12, compiled Feb 28 2020 10:32:40)\nmacOS version\nIncluded patches: 1-319       ```","ts":"1582854836.073800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3C1QS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"54441b13-d768-43e0-b77a-915db62d4f25","type":"message","user":"U7TMPGWJ0","text":"Releaseからダウンロードのはずっと(まだ) 8.1.2234 のままか。","ts":"1582854903.074600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZwEO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a5325435-de14-498b-92bc-83c0f6ea4b0e","type":"message","user":"U03C71D7H","text":"MacVim も daily release してほしさある (使ってないけど)","ts":"1582854978.075000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u0mT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1682f072-3914-44d8-b6d7-afaa8815fc37","type":"message","user":"U03C6TEAZ","text":"repro step が無いので何も分からない。","ts":"1582855615.075500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AFe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d0d69ae-64b6-4c76-af8d-452807e11f86","type":"message","user":"U7TMPGWJ0","ts":"1582855672.075600","files":[{"id":"FUB64V7ND","created":1582855667,"timestamp":1582855667,"name":"macvim_cd.png","title":"macvim_cd.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U7TMPGWJ0","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":22091,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FUB64V7ND/macvim_cd.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FUB64V7ND/download/macvim_cd.png","original_h":152,"original_w":1602,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FUB64V7ND-c2186e823d/macvim_cd_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FUB64V7ND-c2186e823d/macvim_cd_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FUB64V7ND-c2186e823d/macvim_cd_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FUB64V7ND-c2186e823d/macvim_cd_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":34,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FUB64V7ND-c2186e823d/macvim_cd_480.png","thumb_480_w":480,"thumb_480_h":46,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FUB64V7ND-c2186e823d/macvim_cd_720.png","thumb_720_w":720,"thumb_720_h":68,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-FUB64V7ND-c2186e823d/macvim_cd_960.png","thumb_960_w":960,"thumb_960_h":91,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-FUB64V7ND-c2186e823d/macvim_cd_1024.png","thumb_1024_w":1024,"thumb_1024_h":97,"permalink":"https://vim-jp.slack.com/files/U7TMPGWJ0/FUB64V7ND/macvim_cd.png","permalink_public":"https://slack-files.com/T03C4RC8V-FUB64V7ND-c43bebed41","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FUB64V7ND-c2186e823d/macvim_cd_800.png","thumb_800_h":76,"thumb_800_w":800,"thumb_tiny":"AwAEADCltGaNope/40UgG4oxRRTAMUYoooA//9k=","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"5ad15bed-f349-42a5-acc4-9e10752fd04a","type":"message","user":"U7TMPGWJ0","text":"うお、ちっちゃい。","ts":"1582855679.076000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uNWR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e509ca2c-4773-4092-803b-c262196f2a23","type":"message","user":"U7TMPGWJ0","text":"`:cd` で移動するタイミングでは  `Press enter command to continue` が出るのは確認しました。その後にファイルを開くとかは特に普通でしたが。","ts":"1582855732.076900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"64C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"908d44eb-512f-4971-8887-30e491b9ff11","type":"message","user":"U7TMPGWJ0","text":"CLIの普通の Vim では出ないので MacVim 側に...でしょうか","ts":"1582855877.077600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=TN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e2f81b0-057d-4c39-8ff1-8f91f8d754e1","type":"message","user":"U7TMPGWJ0","text":"なるほど。。あっちではこっち...と言われてたりするのか <https://github.com/macvim-dev/macvim/issues/1000>","ts":"1582856002.078300","attachments":[{"fallback":"GitHub: Version 8.1 (Included patches: 1-2234) breaks support for long paths · Issue #1000 · macvim-dev/macvim","id":1,"title":"Version 8.1 (Included patches: 1-2234) breaks support for long paths · Issue #1000 · macvim-dev/macvim","title_link":"https://github.com/macvim-dev/macvim/issues/1000","text":"Describe the bug When the path for the file being opened is longer than 66 characters, MacVim shows &amp;quot;Press ENTER or type command to continue.&amp;quot; This is something that did not happen in pre...","thumb_url":"https://avatars1.githubusercontent.com/u/11452312?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/macvim-dev/macvim/issues/1000","original_url":"https://github.com/macvim-dev/macvim/issues/1000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EVW58"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f948edc8-17f8-46f1-a107-0986b19ae95e","type":"message","user":"U6XP9LZ6V","text":"とりあえず、正確なコマンドは？って3連続で書いておいたｗ","ts":"1582856085.078900","team":"T03C4RC8V","reactions":[{"name":"warau","count":3,"users":["U9S4G0LJW","U8R597E9H","U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=WOMd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0856cfb5-de06-4d52-bf06-9c604862ab14","type":"message","user":"U7TMPGWJ0","text":"66文字が〜ということではなさそう","ts":"1582856357.079500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"z=k2p"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7f471a31-2449-4af8-9d24-27438b1bb6dc","type":"message","user":"U7TMPGWJ0","ts":"1582856392.079800","files":[{"id":"FUPFT3JUE","created":1582856389,"timestamp":1582856389,"name":"macvim_cd_11.png","title":"macvim_cd_11.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U7TMPGWJ0","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":29054,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FUPFT3JUE/macvim_cd_11.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FUPFT3JUE/download/macvim_cd_11.png","original_h":150,"original_w":468,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FUPFT3JUE-0e2f7160b4/macvim_cd_11_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FUPFT3JUE-0e2f7160b4/macvim_cd_11_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FUPFT3JUE-0e2f7160b4/macvim_cd_11_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FUPFT3JUE-0e2f7160b4/macvim_cd_11_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":115,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U7TMPGWJ0/FUPFT3JUE/macvim_cd_11.png","permalink_public":"https://slack-files.com/T03C4RC8V-FUPFT3JUE-e81b7afee6","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAPADChRg+lOB47UZ47GgBuD6UYPpS5P+TRn2/WgBMEdRQKXOe360D6UAf/2Q==","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"ab134c8e-d8ca-455f-aa0c-a6404d33e3a5","type":"message","user":"U7TMPGWJ0","text":"ウィンドウサイズをちっちゃくすればもっと短い文字でも `Press enter command to continue` はでましたね","ts":"1582856421.080600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yClLU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9a14210f-b29d-4a5b-9354-7d3fff7e1170","type":"message","user":"U6XP9LZ6V","text":"`:cd` の際にですか？","ts":"1582856509.081000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eal7e"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"954f5325-b8f4-4bb5-821f-1cb2d76e7710","type":"message","user":"U7TMPGWJ0","text":"はい","ts":"1582856515.081200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jFz3E"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f354f8ad-fafe-477a-be27-5fe80964a198","type":"message","user":"U7TMPGWJ0","text":"CLI の Vim でも ターミナルエミュレータ のアプリ自体のウィンドウサイズを小さくしたら同じですが。","ts":"1582856610.082000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1WGa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f2f075a5-2dbb-4352-a36c-b98593c308ee","type":"message","user":"U6XP9LZ6V","text":"Christianも `:cd` の際にメッセージが出たけどそれは想定通りと言っていますね。正確な手順待ちかな？","ts":"1582856763.083200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cM0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"defdd423-3e97-4664-8c20-3742ebb8dfe6","type":"message","user":"U7TMPGWJ0","text":"MacVim (最新) でもアプリのウィンドウサイズを小さくすれば勿論それなので何も問題なさそう...","ts":"1582856948.084900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BuV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a7f6d27a-b361-4351-be98-96aa83679e9a","type":"message","user":"U9S4G0LJW","text":"気になるならsilentなりredrawなりすればいいのでは感","ts":"1582856998.085300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7Y+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"80A162D1-6731-45F6-A7B9-C40A320B73C2","type":"message","user":"U7TMPGWJ0","text":"PC買い替えてモニターのサイズ小さくなっちゃったんで出るようになったとか、フォント変えたからとかなのでしょうかねw","ts":"1582857498.087600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y3Xp3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6f8ed420-ab0b-4c3e-aa61-da19e63ded79","type":"message","user":"U6XP9LZ6V","text":"vim9 インタプリタ、もっと高速化できないかなーって、ここ辺り見てる。","ts":"1582880218.088500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"w+Kzy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"737f3dc6-083b-4304-aa1c-173d63a5364f","type":"message","user":"U6XP9LZ6V","text":"<https://magazine.rubyist.net/articles/0008/0008-YarvManiacs.html>","ts":"1582880225.088700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hdd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"85de43eb-ba8f-4d28-8195-df9b84ae6016","type":"message","user":"U6XP9LZ6V","text":"<http://www.complang.tuwien.ac.at/forth/threaded-code.html>","ts":"1582880234.088900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ItnJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d6bbb366-706a-4960-aed2-3d01e42f3dd2","type":"message","user":"U9S4G0LJW","text":"Bram氏GCC拡張とか嫌いそう","ts":"1582880356.089400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I1B"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"11462826-a385-4330-8de1-f8c79f9d7404","type":"message","user":"U6XP9LZ6V","text":"自分自身もVCメインで使っているので、GCC拡張はあまり使いたくない…","ts":"1582880498.090100","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Lx+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e85f6e27-3f0a-42d5-b4c8-0985239c0526","type":"message","user":"U6XP9LZ6V","text":"2個目のサイトに載ってるSwitch ThreadingのSeparate NEXTsはあまり大きな変更をせずに組み込めそうな感じ。どの程度速くなるのかわからないけど。","ts":"1582880641.091700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uLkD3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"84494688-7a84-4af5-ae97-da227468d789","type":"message","user":"U6XP9LZ6V","text":"Continuation-passing styleは、tail-call optimizationが効かないと速くならないけど、少し前に話題になったwasm3では、最近のCコンパイラはTCOをしてくれるということで、正にこれを使って高速化している。けど、vimに組み込むなら大改造が必要。","ts":"1582880869.094100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l5cxK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"df352288-d0fd-499c-a133-5fedbba56721","type":"message","user":"U03C6TEAZ","text":"tail-call は速くできる条件にマッチしないと速くならないので書き手に結構強制感ある。","ts":"1582881003.094900","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U7H4TJEG0"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7vb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3dabcbb6-853a-4b9a-a467-1e52e650a820","type":"message","user":"U6XP9LZ6V","text":"onigmoでは、GCC拡張を使ったtoken threadingと、単なるswitch threadingをマクロで切り替えられるようになってる。（というかしてもらった。）\n<https://keens.github.io/blog/2015/05/26/onigmowosaidai49_kousokukashitahanashi/>","ts":"1582881292.096600","attachments":[{"fallback":"Onigmoを最大49%高速化した話 | κeenのHappy Hacκing Blog","id":1,"title":"Onigmoを最大49%高速化した話 | κeenのHappy Hacκing Blog","title_link":"https://keens.github.io/blog/2015/05/26/onigmowosaidai49_kousokukashitahanashi/","text":"κeenです。Rubyでも使われてる高速な正規表現エンジン、Onigmo(鬼雲)を高速化したのでその話を。","blocks":null,"service_name":"keens.github.io","service_icon":"http://KeenS.github.io/apple-touch-icon.png","from_url":"https://keens.github.io/blog/2015/05/26/onigmowosaidai49_kousokukashitahanashi/","original_url":"https://keens.github.io/blog/2015/05/26/onigmowosaidai49_kousokukashitahanashi/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Qo4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d723766-ea8c-43e3-83e7-91cfa91be550","type":"message","user":"U03C6TEAZ","text":"keen さんか。","ts":"1582881435.097000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZvQW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"967cd763-f094-43e5-85b4-2783d3e897e1","type":"message","user":"U7H4TJEG0","text":"マクロで切り替えるのは本で見たことがある (matzの本だったかなぁ","ts":"1582881470.097600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"00sW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68d64807-282b-46c8-9594-348e89afca07","type":"message","user":"U03C6TEAZ","text":"そもそも vim は 8 の時点で速度度外視してるし 9 の末端関数は 8 ベースなのよね。本気で 8 部分をカリカリチューンしたことがないのがなぁ。","ts":"1582881590.099600","team":"T03C4RC8V","reactions":[{"name":"tashikani","count":1,"users":["U6XP9LZ6V"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pbom"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b483e212-e212-4561-8b1c-7f5b3c22d9f6","type":"message","user":"UAZ33BKV2","text":"そしてチューンするに、整理とかとかが必要そうなのが...","ts":"1582881645.100200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6s5="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1a13aacb-f907-4769-9de1-6073f05dab69","type":"message","user":"U6XP9LZ6V","text":"lambdaが遅いのも残念度が高い","ts":"1582881724.100800","team":"T03C4RC8V","reactions":[{"name":"totemoturai","count":2,"users":["U7H4TJEG0","U9S4G0LJW"]},{"name":"sorena","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"f+tU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f137215b-edd3-4b61-8b6c-ae95494b767e","type":"message","user":"U03C6TEAZ","text":"```for (i = 0; i &lt; n; i++) {\n  do_something(_(\"foo\"));\n}```\nみたいなの、libintl が有効になってる人達(我々)だと毎回 gettext 走ってるというアレ。","ts":"1582881800.102100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5T+k"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b93ba6bb-ecc7-463b-92dd-d98792ed66b0","type":"message","user":"U03C6TEAZ","text":"それのせいで海外の人達と我々でベンチマーク結果も違うしなぁ。いやはや。","ts":"1582881847.103200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5iK/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7d1e4275-72ea-43b4-9942-145b8f70022c","type":"message","user":"U03C6TEAZ","text":"lambda って生成が遅いんですかね？","ts":"1582881864.103600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cRO2k"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"46e2f014-b727-450e-b2e0-b18c7d5e9b4a","type":"message","user":"U6XP9LZ6V","text":"ですかね？（ちゃんとベンチマーク取ったことない…","ts":"1582881908.104700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4G0w"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ed0dbf81-fa97-44f0-844f-ebb15731a559","type":"message","user":"U03C6TEAZ","text":"まぁ `s:` と違って関数毎回作ってるでしょうからね。","ts":"1582881933.105200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Nqs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a30acf55-0b3d-4c1e-9cfc-4a66f186ca41","type":"message","user":"U6XP9LZ6V","text":"あとこの前から考えているのが、Listの中身をArrayに差し替えた方が一般的な使用用途では速くなるのではという妄想…","ts":"1582882063.106400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v9s"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3dc45df1-93d1-4103-90ff-5098f06a2c15","type":"message","user":"U03C6TEAZ","text":"lambda、コンパイル結果を `s:` の内部的な個所に置いておくだけでも結構速くなりそうな予感はします。","ts":"1582882271.107100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T7u"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aff4b2f5-0467-475f-a9cd-a02213ac3e1f","type":"message","user":"UAZ33BKV2","text":"lambda局在キャッシュ、みたいな","ts":"1582882375.107400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rxsz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9f4d7b3d-3169-44cb-b1ac-2feed04fa446","type":"message","user":"U03C6TEAZ","text":"`:so %` されるまで消さなければいいですね。","ts":"1582882392.107700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GZroz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dcba3791-1e2b-46ef-b71a-1f34487ebc8f","type":"message","user":"U6XP9LZ6V","text":"少なくとも、map(), filter() 等の中だけでもキャッシュできるとよさそうですね。","ts":"1582882519.108600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KJ=+2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c71e0920-e766-4884-a13a-7a4b70aef87f","type":"message","user":"U03C6TEAZ","text":"そんなに重そうな事はやってなさそうだけど、ループ内でこれ毎回やるのか、という感じはしますね。","ts":"1582882525.108800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i6N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a950b847-70a8-4a9c-924d-a6078eec2807","type":"message","user":"U03C6TEAZ","text":"`get_lambda_tv`","ts":"1582882545.109000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uEpBA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e7f981f4-fae9-4839-bf54-521c4f8bbfb3","type":"message","user":"U6XP9LZ6V","text":"なんか見覚えのある関数名。実装は既に忘れたｗ","ts":"1582882582.109400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"G6jP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"939cdea4-cb1d-47cc-81ab-8887cda7f87b","type":"message","user":"U6XP9LZ6V","text":"lambdaの方が文字列に比べて7倍くらい遅かった。(´・ω・｀)","ts":"1582885037.109500","files":[{"id":"FU906UAEN","created":1582885035,"timestamp":1582885035,"name":"lambda-bench.vim","title":"lambda-bench.vim","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U6XP9LZ6V","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":227,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FU906UAEN/lambda-bench.vim","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FU906UAEN/download/lambda-bench.vim","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U6XP9LZ6V/FU906UAEN/lambda-bench.vim","permalink_public":"https://slack-files.com/T03C4RC8V-FU906UAEN-c513da60bb","edit_link":"https://vim-jp.slack.com/files/U6XP9LZ6V/FU906UAEN/lambda-bench.vim/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tCD"}]},{"client_msg_id":"f0a10522-9762-4f8f-9619-4f82f7d1071f","type":"message","user":"U9S4G0LJW","text":"文字列が速いのすごく意外だった","ts":"1582885097.110500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WKC1Z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3814e6d7-45b6-4d14-9742-820064b016f4","type":"message","user":"U9S4G0LJW","text":"どうせ全部evalするから意外でもなんでもない","ts":"1582885125.111700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"piv3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b4019a8f-7adc-488b-a790-8c98338923d6","type":"message","user":"U03C6TEAZ","text":"```let num = 1000000\nlet l = range(num)\nlet start = reltime()\nlet F = {-&gt; v:val * 2}\ncall map(l, 'F(v:val)')\necho start-&gt;reltime()-&gt;reltimestr()\nlet l = range(num)\nlet start = reltime()\ncall map(l, \"v:val * 2\")\necho start-&gt;reltime()-&gt;reltimestr()```\nこれでも遅いので関数呼び出しが遅いんでしょうなー。","ts":"1582885544.112100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GAB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ce9b7fa1-b349-4d4e-81ed-5af24df2d04c","type":"message","user":"U03C6TEAZ","text":"```func! F(val)\n  return a:val * 2\nendfun```\nこれでも遅い","ts":"1582885627.112300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Bto/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"57824347-177d-435c-a962-7842e078a669","type":"message","user":"U03C6TEAZ","text":"<https://github.com/vim/vim/blob/1fa8d2c33d7290eda7dc2a94d4ec6a599a2d61dd/src/userfunc.c#L1720>","ts":"1582885682.113400","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/1fa8d2c33d7290eda7dc2a94d4ec6a599a2d61dd/src/userfunc.c#L1720","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/1fa8d2c33d7290eda7dc2a94d4ec6a599a2d61dd/src/userfunc.c#L1720","original_url":"https://github.com/vim/vim/blob/1fa8d2c33d7290eda7dc2a94d4ec6a599a2d61dd/src/userfunc.c#L1720"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aFAdu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4131fadc-130b-4c3f-924e-9cc5514eff41","type":"message","user":"U03C71D7H","text":"なんなら組み込み関数も呼び出し遅い。試したのかなり昔だけど、 `empty(list)` より `list == []` の方が速かった","ts":"1582885682.113500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LnkZV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"88f30a8e-9b7f-4912-8923-7587af9551a9","type":"message","user":"U03C6TEAZ","text":"遅い張本人","ts":"1582885686.113800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"b6dhA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"69745bce-c671-4e42-a3a7-405e53020170","type":"message","user":"U03C6TEAZ","text":"て事は関数一覧から目的の関数を引いてる所もありそう。","ts":"1582885734.114300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Df9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"30d1a3d1-2d8b-4006-b395-fba8b420ebae","type":"message","user":"U03C6TEAZ","text":"find_internal_func は一応、二分探索","ts":"1582885859.114500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wna1U"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"73724aa9-94f7-4773-a3fc-01e494a5c33f","type":"message","user":"U6XP9LZ6V","text":"map() の中で get_lambda_tv() は1回しか呼ばれてないですね。なので、ここではキャッシュは意味がなさそう。","ts":"1582886211.115800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oMgn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f319c6f2-427e-4d6b-9d95-69a01d94993d","type":"message","user":"U03C6TEAZ","text":"find_internal_func をキャッシュさせてみたけど意味無さそう。","ts":"1582886376.116400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NZ0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd82e38c-f212-4271-abe8-18f17a76218e","type":"message","user":"U03C6TEAZ","text":"てことで残るはスコープ作る処理、引数を作る処理、戻り値を作る処理","ts":"1582886396.116900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r9LWN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f8afcf66-a17f-4358-94a7-74448828acf0","type":"message","user":"U03C6TEAZ","text":"まぁでも `eval_expr_typval` からのコードを見ると遅いだろうなという感じ。","ts":"1582886692.117600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"23en6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6b7da65a-ca18-4047-9153-d2ec33b40352","type":"message","user":"U03C6TEAZ","text":"違う処理なんですが\n```let start = reltime()\ncall map(l, \"pow(v:val,2)\")\necho start-&gt;reltime()-&gt;reltimestr()```\nこれが速いのを見ると「ユーザ関数が遅い」に絞れそうですね。","ts":"1582886839.117800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"67VHs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"58a3d7be-3b68-4c57-95a3-9ce862578f78","type":"message","user":"U03C6TEAZ","text":"コード見てると色々やってるなぁ。","ts":"1582887130.118000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"82Te"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"82151cad-7beb-485c-983d-43db774ba840","type":"message","user":"U03C6TEAZ","text":"`call_user_func`","ts":"1582887144.118400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"61lbF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4dbef13f-2c4e-4f23-8a78-9fa7f3be05a8","type":"message","user":"U03C6TEAZ","text":"`a:000` `a:firstline` `a:lastline` `l:` の dict 生成、関数呼び出し毎に検索パターンと redobuf の保持と復帰","ts":"1582887246.119700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=Fp+7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9cbb2284-adce-4bed-b337-9ee7d3673b7e","type":"message","user":"U03C6TEAZ","text":"そうか、文字列だと eval1 からスタートだけど、関数だと do_cmdline からか。","ts":"1582887419.120200","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SJ4n3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"693a4373-0faa-4c70-8d17-a3500c8511e9","type":"message","user":"U03C6TEAZ","text":"そりゃ遅いわ。","ts":"1582887439.120600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TS15c"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b7006125-ebf7-4b22-9824-3d74b9b18e17","type":"message","user":"U03C6TEAZ","text":"`:` で始まるコマンド毎回実行してるみたいなもんですからね。","ts":"1582887461.121000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Cs0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"607a7af8-0e0e-42e6-a08f-b92b20255254","type":"message","user":"U03C6TEAZ","text":"lambda なのに do_cmdline 呼んでるのは無駄ぽいなぁ。eval1 でいいのに。","ts":"1582887622.121500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FTd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ec4688e8-e881-471b-84f0-6b7e1aa9ee1d","type":"message","user":"U6XP9LZ6V","text":"とはいえ、lambda自身がスコープを持ってますからね。eval1だけだと不十分","ts":"1582887997.123800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2UkY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"95a4bdc6-bafc-451c-b116-9c9ceb84d4c8","type":"message","user":"U03C6TEAZ","text":"スコープ作ってる所はしょうがないんですが `call_user_func` の中で `do_cmdline` はもったいないなぁと。","ts":"1582888050.124400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qAW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0dc5276a-ccdf-46c0-a6eb-803efdef2966","type":"message","user":"U03C6TEAZ","text":"lambda であれば `((char_u**)fp-&gt;uf_lines-&gt;ga_data)[0];` とかをそのまま eval に流せばいろいろショートカットできそうな気がしたので。","ts":"1582888091.125200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AJw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9ad0403-dd67-4a48-a40f-d33e1389d05f","type":"message","user":"U03C6TEAZ","text":"<https://github.com/vim/vim/blob/1fa8d2c33d7290eda7dc2a94d4ec6a599a2d61dd/src/userfunc.c#L1298>","ts":"1582888127.125400","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/1fa8d2c33d7290eda7dc2a94d4ec6a599a2d61dd/src/userfunc.c#L1298","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/1fa8d2c33d7290eda7dc2a94d4ec6a599a2d61dd/src/userfunc.c#L1298","original_url":"https://github.com/vim/vim/blob/1fa8d2c33d7290eda7dc2a94d4ec6a599a2d61dd/src/userfunc.c#L1298"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LX+y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7247398b-81df-44cb-b3fa-1f1ddab3521c","type":"message","user":"U03C6TEAZ","text":"`islambda` 見て幾らか削れそうな気が(だけ)した。","ts":"1582888297.126400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZdKXl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cc8592d7-8787-40e5-a7b0-13f4cde3d1aa","type":"message","user":"U03C6TEAZ","text":"時間無いのでまた今度見ようかな。","ts":"1582888376.126700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d/M"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ee3f800-6a2d-4dba-ab2d-12e59d24948b","type":"message","user":"U6XP9LZ6V","text":"まー、今は従来の関数に合わせるために、わざわざ式の頭に `return` を付けてますからね。無駄無駄無駄ぁー","ts":"1582888593.130000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zOZvN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4be8a4c1-fb0c-4f7a-bafa-8cc79d4f8c26","type":"message","user":"U03C6TEAZ","text":"w","ts":"1582888692.130200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fbE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fcf2f8ce-c66b-430d-83b1-b00c9cbada05","type":"message","user":"U03C6TEAZ","text":"僕も return してる実装覚えてはいましたが、これ return 付けてステートメント評価って事はもしかして bar 使えたりするんですかね。","ts":"1582889315.132600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xPz8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"56ce145e-9329-479d-914b-3cb0989decd7","type":"message","user":"U03C6TEAZ","text":"パースの時点で蹴ってるか。","ts":"1582889523.133200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aKchd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1bbaac60-0229-4e1e-b905-a3f3ae407911","type":"message","user":"U6XP9LZ6V","text":"ヤバいかもｗ","ts":"1582889959.133900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OIi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e78bf918-bf6d-42ad-8457-0f52d47639a2","type":"message","user":"U03C6TEAZ","text":"帰路中なのであとで試そうかなw","ts":"1582890033.134400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qe=+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d2dcbd7-336f-43c1-8637-0cd3aef7b975","type":"message","user":"UAZ33BKV2","text":"vimの闇から闇の力を引き出そうとしているw","ts":"1582895621.134700","team":"T03C4RC8V","reactions":[{"name":"zap","count":2,"users":["U9S4G0LJW","U8R597E9H"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q7N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"169da199-a1d6-4ea8-a300-7eba4a4ca023","type":"message","user":"U03C6TEAZ","text":"return いけてそう。","ts":"1582896743.135200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IfbW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4e0eb4cd-8f0f-4416-b18c-b25b545853f5","type":"message","user":"U03C6TEAZ","text":"さて何が出るでしょう、みたいな頭おかしいスクリプト書いてる。\n```let g:return = 1\nlet s:return = 2\nlet F = {return-&gt;return}\necho {s:return: F(return)}```","ts":"1582896774.135700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PbV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"14c93150-9f77-421d-89d8-ff84f3b87f01","type":"message","user":"U9S4G0LJW","text":"本来のreturnとして解釈されるものは一個もないが正解か","ts":"1582896864.136200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hpz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1307984b-2c94-4e97-b403-fcb364d79262","type":"message","user":"U8R597E9H","text":"echo の行がわからないw","ts":"1582896899.136900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"n1FK/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"916b115a-a7e2-478f-84b2-b527ebb154e1","type":"message","user":"U9S4G0LJW","text":"予約キーワードという概念がないとこうなるのか的な","ts":"1582896969.137200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ess"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c820898-649f-4612-9dcc-d4d720cc770a","type":"message","user":"UBQ2H65JQ","text":"Vim scriptって今更だけど辞書のキーに数字ありなのか。\n`echo {3:2}`","ts":"1582897051.137900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kE3Mu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"816d9f11-cb13-45d8-a0ec-f1f11b950563","type":"message","user":"U9S4G0LJW","text":":h E713","ts":"1582897082.138100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R/q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UPZHKAM7W","text":"```\n                                                        *E713* *E716* *E717*\nキーは必ず文字列である。数値を使うこともできるが、自動的に文字列に変換される。\nよって文字列 '4' のキーと数値4のキーは同一の要素を参照する。\nNote 文字列 '04' と数値04は異なることに注意。なぜなら数値04は文字列 '4' に変換\nされるからである。空文字列もまたキーとして使用できる。\n```","ts":"1582897083.138200","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"d8c2b50a-1741-4e7a-9140-09770c8773a6","type":"message","user":"UBQ2H65JQ","text":"※正確には暗黙変換がかかる","ts":"1582897109.138600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GknE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fbbbd4a4-71f3-4f6b-a167-3087ebd30ff3","type":"message","user":"UAZ33BKV2","text":"やり方次第で、JavaScriptより凶悪な暗黙変換がががw","ts":"1582897160.139100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KU4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"425c74db-b401-44e3-8edc-be0beac107f8","type":"message","user":"U03C6TEAZ","text":"暗黙変換こわい","ts":"1582898632.139300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9qqQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f65c6eec-9541-48be-9d2b-a3ec61255ae5","type":"message","user":"U03C6TEAZ","text":"```let Z = {f-&gt; {x-&gt; f({y-&gt; x(x)(y)})}({x-&gt; f({y-&gt; x(x)(y)})})}```","ts":"1582898639.139500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3eJq5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a1823b1a-b655-48d5-bfbd-19999cfa3d06","type":"message","user":"U03C6TEAZ","text":"```echo Z({f-&gt; {n-&gt; n == 0 ? 1 : (n * f(n - 1))}})(5)```","ts":"1582898647.139700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xpkQO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2a5a7787-1c5b-4055-bbc2-acd5ba25feda","type":"message","user":"U03C6TEAZ","text":"Zコンビネータちゃんと動くので Vim script エラい。","ts":"1582898697.140100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4mb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f1ba2d8e-2aae-485e-84d3-1a4eaa3bfc17","type":"message","user":"U6XP9LZ6V","text":"手抜きのお試しパッチ\n文字列の7倍遅かったのが4倍程度に改善？","ts":"1582898931.140200","files":[{"id":"FUAJL3UGK","created":1582898930,"timestamp":1582898930,"name":"lambda-eval1.patch","title":"lambda-eval1.patch","mimetype":"text/plain","image_exif_rotation":0,"filetype":"diff","pretty_type":"Diff","user":"U6XP9LZ6V","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":372,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FUAJL3UGK/lambda-eval1.patch","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FUAJL3UGK/download/lambda-eval1.patch","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U6XP9LZ6V/FUAJL3UGK/lambda-eval1.patch","permalink_public":"https://slack-files.com/T03C4RC8V-FUAJL3UGK-884b1762a5","edit_link":"https://vim-jp.slack.com/files/U6XP9LZ6V/FUAJL3UGK/lambda-eval1.patch/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"m4VwT"}]},{"client_msg_id":"66a4132d-caa6-48d6-85da-90f3f2598107","type":"message","user":"U03C6TEAZ","text":"いい話","ts":"1582899095.141200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jYe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7f45529e-6962-4f0e-93ac-d0054f5d1d65","type":"message","user":"U03C6TEAZ","text":"return 足してる所が抜けるのでは","ts":"1582899111.141700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mkmu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4660d7e9-7de1-42e1-8459-ebf270428769","type":"message","user":"U03C6TEAZ","text":"あ、あかんか。","ts":"1582899132.142200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HiIC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"796ef4dc-5dc2-4361-9b92-be256634209b","type":"message","user":"U6XP9LZ6V","text":"Zコンビネータを動くようにするのは結構苦労した記憶","ts":"1582899134.142300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LWJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3a0af78-302f-446a-a579-d7d3d17226b7","type":"message","user":"U03C6TEAZ","text":"スコープむずいんですよね。","ts":"1582899151.142500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OTV8u"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5262fd1e-7bac-492d-b552-328082671b6b","type":"message","user":"U6XP9LZ6V","text":"get_lambda_tv() で return を足してるところをいじらずに、eval1() に渡すところで +7 してるのが手抜きなところｗ\n単純な例で動くのは確認したけど、クロージャとかは動作未確認","ts":"1582899392.144900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eE1b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7416a1ba-b81a-467e-873c-a9dff6940eae","type":"message","user":"U03C6TEAZ","text":"w","ts":"1582899474.145200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PPIM1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3822488e-0153-42a2-a218-c75df81db492","type":"message","user":"U03C6TEAZ","text":"わりとアリなパッチと思います。","ts":"1582899513.145500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=pu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0238846f-5cc5-4abf-8a1c-cabc04bf2393","type":"message","user":"U6XP9LZ6V","text":"しかし、やっぱりスコープを作ったりいろいろ準備する部分は重いんでしょうね。","ts":"1582899695.146700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rgGUg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
