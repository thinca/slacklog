[{"client_msg_id":"f3eb3aab-d8d7-410d-958f-de411aebf67e","type":"message","user":"U7JL1UKKL","text":"あらら","ts":"1610015734.182900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CKvc"}]},{"client_msg_id":"eaac206c-9b45-49cc-b604-bd29f9a28eef","type":"message","user":"UAZ33BKV2","text":"ファイルパス展開を開く最後までもちまわせるほうが現実的ですかね?","ts":"1610015393.182700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e/KVP"}]},{"client_msg_id":"833348f4-4a3f-491c-9834-3ac5fd034d8c","type":"message","user":"U6XP9LZ6V","text":"`enc_codepage` の初期値をもっと早い段階で設定すれば良さそうですが、あまり積極的に直そうという気が起きない…","ts":"1610015280.182200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Nfqc2"}]},{"client_msg_id":"10913b7b-6f75-41fb-8bdc-205cdc1d8d44","type":"message","user":"U6XP9LZ6V","text":"`'helpfile'` のデフォルト値は `$VIMRUNTIME/doc/help.txt` ですが、Vim の起動のかなり初期の段階で `$VIMRUNTIME` が実際の値に展開されます。ただ、その時点ではエンコーディングが決定されておらず、`enc_codepage` が設定されていないせいで `$VIMRUNTIME` に日本語が含まれる場合に実際の値に展開できず、ヘルプが開けなくなってしまっていました。","ts":"1610015199.181200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7Jom"}]},{"client_msg_id":"eb9007ef-c811-4e2e-a45b-98dcb7b9b319","type":"message","user":"U6XP9LZ6V","text":"enc=cp932 で日本語を含むディレクトリにインストールしたときにヘルプが開けなくなるのは、どうやらしばらく前にANSI系APIをバッサリ切ったときの不具合の模様。","ts":"1610014825.177400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xgz46"}]},{"client_msg_id":"a4948020-4fc8-42d1-9a7c-caa5701b3298","type":"message","user":"U6XP9LZ6V","text":"enc=utf-8 で日本語を含むディレクトリにインストールしたときにうまく動かなくなるのは、これのせいでした。\n\u003chttps://github.com/vim-jp/issues/issues/229\u003e","ts":"1610014682.175500","attachments":[{"fallback":"GitHub: Win: native以外のencを指定した場合に動作がおかしくなる · Issue #229 · vim-jp/issues","id":1,"title":"Win: native以外のencを指定した場合に動作がおかしくなる · Issue #229 · vim-jp/issues","title_link":"https://github.com/vim-jp/issues/issues/229","text":"#103 からの継続issue 基本的に要議論な内容。 状況 日本版WindowsではVimは enc=cp932 で起動される。幾つかのオプション( rtp など)はenc=cp932な生バイトで採取\u0026amp;保存されてしまう。そののちvimrcなどでenc=utf-8に変更した場合、それらのオプションの値はcp932のままとなり利用時にはutf-8解釈されるのでいわゆる文字化け状態となり...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/issues/issues/229","original_url":"https://github.com/vim-jp/issues/issues/229"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oLqa"}]}]
