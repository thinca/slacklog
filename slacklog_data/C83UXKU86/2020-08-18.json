[{"client_msg_id":"4b1839ac-483b-4fb0-bb80-8e872a224c7a","type":"message","user":"U06BRP8VD","text":"一応、どっちもあるようにみえるね。","ts":"1597744062.405000","files":[{"id":"F018LBU13D5","created":1597744060,"timestamp":1597744060,"name":"Untitled","title":"Untitled","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"プレーンテキスト","user":"U06BRP8VD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":1076,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F018LBU13D5/untitled","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F018LBU13D5/download/untitled","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F018LBU13D5/untitled","permalink_public":"https://slack-files.com/T03C4RC8V-F018LBU13D5-0c987b858b","edit_link":"https://vim-jp.slack.com/files/U06BRP8VD/F018LBU13D5/untitled/edit","preview":"~/Downloads/lua-5.4.0\n$ grep -nr 'lua\\(L_typeerror\\|_newuserdatauv\\)' src\nsrc/lapi.c:1298:LUA_API void *lua_newuserdatauv (lua_State *L, size_t size, int nuvalue) {\nsrc/lauxlib.c:193:int luaL_typeerror (lua_State *L, int arg, const char *tname) {\nsrc/lauxlib.c:208:  luaL_typeerror(L, arg, lua_typename(L, tag));","preview_highlight":"\u003cdiv class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\"\u003e\n\u003cdiv class=\"CodeMirror-code\"\u003e\n\u003cdiv\u003e\u003cpre\u003e~/Downloads/lua-5.4.0\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv\u003e\u003cpre\u003e$ grep -nr 'lua\\(L_typeerror\\|_newuserdatauv\\)' src\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv\u003e\u003cpre\u003esrc/lapi.c:1298:LUA_API void *lua_newuserdatauv (lua_State *L, size_t size, int nuvalue) {\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv\u003e\u003cpre\u003esrc/lauxlib.c:193:int luaL_typeerror (lua_State *L, int arg, const char *tname) {\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv\u003e\u003cpre\u003esrc/lauxlib.c:208:  luaL_typeerror(L, arg, lua_typename(L, tag));\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n","lines":14,"lines_more":9,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LBra"}]},{"client_msg_id":"98c6228e-73b3-4c0b-9d98-68fc017f05c8","type":"message","user":"U7H4TJEG0","text":"\u003chttps://github.com/vim/vim/pull/6452\u003e 関係？","ts":"1597744048.404800","thread_ts":"1597744048.404800","attachments":[{"fallback":"GitHub: if_lua.c: new Lua 5.4.0 defines luaL_typeerror, so don't define it twice by zdohnal · Pull Request #6452 · vim/vim","id":1,"title":"if_lua.c: new Lua 5.4.0 defines luaL_typeerror, so don't define it twice by zdohnal · Pull Request #6452 · vim/vim","title_link":"https://github.com/vim/vim/pull/6452","text":"Hi, Fedora updated Lua to version 5.4.0, where luaL_typeerror is defined, so the compilation now fails with double declaration. We configure Vim to be with dynamic Lua interpreter. The fix defines ...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/pull/6452","original_url":"https://github.com/vim/vim/pull/6452"}],"reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/Vx"}]},{"client_msg_id":"82fbd757-3830-4da2-8199-faf10fd9c4ff","type":"message","user":"U06BRP8VD","text":"なんかAPI変わった?","ts":"1597743872.404400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IYx"}]},{"client_msg_id":"3c09162d-b685-47c9-be9d-7b5a1c9e21fd","type":"message","user":"U06BRP8VD","text":"lua 5.4、7月にでたばっかか。","ts":"1597743861.404200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ivp7A"}]},{"client_msg_id":"b953fe66-021c-449b-8213-0b5c617b57c7","type":"message","user":"U6XP9LZ6V","text":"Windowsで /dyn で問題なくコンパイルできてますが、逆に /dyn じゃないとコンパイルできないとかあったりするだろうか？","ts":"1597743422.403800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ovp"}]},{"client_msg_id":"a0b2f040-1be1-4240-8366-dde58f071690","type":"message","user":"U03C71D7H","text":"なんでもいいねん","ts":"1597741590.402300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nmSI"}]},{"client_msg_id":"6d883356-3a32-4c05-b15d-80785b93d5ec","type":"message","user":"UAZ33BKV2","text":"っても良い例ないんですよねw","ts":"1597741582.402200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oZZQ"}]},{"client_msg_id":"676250ae-58d6-4392-8cf9-a21edc6ae667","type":"message","user":"UAZ33BKV2","text":"ユーザー名をxxx(ピー)にしがち -\u0026gt; 匿名化","ts":"1597741568.401800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M+as"}]},{"client_msg_id":"4868ada2-b46e-40d2-8384-86e22ef1368b","type":"message","user":"U776661HA","text":"manbou","ts":"1597741560.401600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kYb9"}]},{"client_msg_id":"44cf4cca-5d72-4699-a946-187721b7bd79","type":"message","user":"U03C71D7H","text":"Mac は会社マシンなので本名が入っている…","ts":"1597741528.401200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2pg"}]},{"client_msg_id":"d5107c0e-7108-40bd-b1de-bf6d43b445fe","type":"message","user":"U03C6TEAZ","text":"(そこじゃない)","ts":"1597741507.400900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xFoUx"}]},{"client_msg_id":"f9b2683b-5341-46e7-8d30-3704aa9b163d","type":"message","user":"U03C6TEAZ","text":"ユーザ名が thinca じゃないなんて","ts":"1597741502.400700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2nY1Z"}]},{"client_msg_id":"60ed2c36-eb6d-4c54-bfb5-2440a539b8fd","type":"message","user":"U03C71D7H","text":"macOS Catalina (10.15.6)\nv8.2.1471 (+tabsidebar)\n\n+lua (5.4) でリンクエラー出るんですけど、同じ人いますか? (ログのユーザー名は隠してあります)\n\n```  gcc   -L. -L/Users/xxx/.asdf/installs/ruby/2.7.1/lib  -fstack-protector-strong -L/usr/local/lib -Wl,-rpath,/Users/xxx/.asdf/installs/python/3.8.5/lib:/Users/xxx/.asdf/installs/python/2.7.18/lib -L/usr/local/lib      -o vim objects/arabic.o objects/arglist.o objects/autocmd.o objects/beval.o objects/buffer.o objects/change.o objects/blob.o objects/blowfish.o objects/cindent.o objects/clientserver.o objects/clipboard.o objects/cmdexpand.o objects/cmdhist.o objects/crypt.o objects/crypt_zip.o objects/debugger.o objects/dict.o objects/diff.o objects/digraph.o objects/drawline.o objects/drawscreen.o objects/edit.o objects/eval.o objects/evalbuffer.o objects/evalfunc.o objects/evalvars.o objects/evalwindow.o objects/ex_cmds.o objects/ex_cmds2.o objects/ex_docmd.o objects/ex_eval.o objects/ex_getln.o objects/fileio.o objects/filepath.o objects/findfile.o objects/fold.o objects/getchar.o objects/gui_xim.o objects/hardcopy.o objects/hashtab.o objects/help.o objects/highlight.o objects/if_cscope.o objects/if_xcmdsrv.o objects/indent.o objects/insexpand.o objects/list.o objects/locale.o objects/map.o objects/mark.o objects/match.o objects/mbyte.o objects/memline.o objects/menu.o objects/misc1.o objects/misc2.o objects/mouse.o objects/move.o objects/normal.o objects/ops.o objects/option.o objects/optionstr.o objects/os_unix.o objects/pathdef.o objects/popupmenu.o objects/popupwin.o objects/profiler.o objects/pty.o objects/quickfix.o objects/regexp.o objects/register.o objects/screen.o objects/scriptfile.o objects/search.o objects/session.o objects/sha256.o objects/sign.o objects/sound.o objects/spell.o objects/spellfile.o objects/spellsuggest.o objects/syntax.o objects/tabsidebar.o objects/tag.o objects/term.o objects/terminal.o objects/testing.o objects/textformat.o objects/textobject.o objects/textprop.o objects/time.o objects/typval.o objects/ui.o objects/undo.o objects/usercmd.o objects/userfunc.o objects/version.o objects/vim9compile.o objects/vim9execute.o objects/vim9script.o objects/vim9type.o objects/viminfo.o objects/window.o objects/bufwrite.o  objects/vterm_encoding.o objects/vterm_keyboard.o objects/vterm_mouse.o objects/vterm_parser.o objects/vterm_pen.o objects/vterm_screen.o objects/vterm_state.o objects/vterm_unicode.o objects/vterm_vterm.o objects/if_lua.o   objects/if_python.o objects/if_python3.o  objects/if_ruby.o objects/os_macosx.o objects/os_mac_conv.o objects/netbeans.o objects/channel.o objects/xdiffi.o objects/xemit.o objects/xprepare.o objects/xutils.o objects/xhistogram.o objects/xpatience.o  objects/charset.o objects/json.o objects/main.o objects/memfile.o objects/message.o        -lm -lncurses  -liconv -lintl -framework AppKit  -L/Users/xxx/.asdf/installs/lua/5.4.0/lib -llua\nUndefined symbols for architecture x86_64:\n  \"_luaL_typeerror\", referenced from:\n      _luaV_checkudata in if_lua.o\n  \"_lua_newuserdatauv\", referenced from:\n      _luaV_pushtypval in if_lua.o\n      _luaV_pushbuffer in if_lua.o\n      _luaV_pushwindow in if_lua.o\n      _luaV_list in if_lua.o\n      _luaV_dict in if_lua.o\n      _luaV_blob in if_lua.o\n      _luaV_funcref in if_lua.o\n      ...\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)```","ts":"1597740467.400500","thread_ts":"1597740467.400500","last_read":"1597750649.406700","subscribed":true,"reply_count":6,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iAv"}]},{"client_msg_id":"97109a8a-514a-43c3-9ea0-f9e55e388f4f","type":"message","user":"UAZ33BKV2","text":"はや","ts":"1597732565.398600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vtf"}]},{"client_msg_id":"56359139-bb1c-4404-abc9-6ea8b26bee27","type":"message","user":"U03C6TEAZ","text":"マージされた。 \u003chttps://github.com/msys2/MINGW-packages/pull/6821\u003e","ts":"1597732481.398200","attachments":[{"fallback":"GitHub: Apply patch to fix the-silversearcher by mattn · Pull Request #6821 · msys2/MINGW-packages","id":1,"title":"Apply patch to fix the-silversearcher by mattn · Pull Request #6821 · msys2/MINGW-packages","title_link":"https://github.com/msys2/MINGW-packages/pull/6821","text":"the-silversearcher does not work when use pipe with external command on Windows. C:\\Temp\u0026gt; ag foo | vim - This seems to be a bug of git that it break terminal sequences. This fix use \u0026amp;quot;\u0026lt;N...","thumb_url":"https://avatars3.githubusercontent.com/u/6759993?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":139,"thumb_height":139,"from_url":"https://github.com/msys2/MINGW-packages/pull/6821","original_url":"https://github.com/msys2/MINGW-packages/pull/6821"}],"team":"T03C4RC8V","reactions":[{"name":"+1","count":2,"users":["U06ECBRTJ","U06BRP8VD"]},{"name":"sokudo","count":1,"users":["UEBF2KQTD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=8vd3"}]},{"client_msg_id":"d998151f-fea1-4e46-a80b-1128e967ce7e","type":"message","user":"U03C6TEAZ","text":"ずっと vim のバグだと思ってたけど、ag の、いや git のバグだった事が判明し、msys2/mingw64 や ag にパッチを出すなど進捗のある日だった。","ts":"1597727769.397800","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":2,"users":["U8CC7MDCL","UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cdw"}]},{"client_msg_id":"d2092346-e70a-44a3-a4c7-fcbd29fbaddc","type":"message","user":"U03C6TEAZ","text":"ビルド通った。","ts":"1597727596.397100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aCez"}]},{"client_msg_id":"8d44114f-43b7-4032-896f-12fe268d2bbb","type":"message","user":"U03C6TEAZ","text":"sha256 が直さないと","ts":"1597726914.396800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=Gn"}]},{"client_msg_id":"c6fdaee7-0099-4dfd-bd6d-4b9ded9f52c1","type":"message","user":"U03C6TEAZ","text":"温かみのあるコンフリクト修正を行いました。","ts":"1597726894.396500","team":"T03C4RC8V","reactions":[{"name":"nukumori","count":1,"users":["U6XP9LZ6V"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eNA"}]},{"client_msg_id":"85bc4978-cb19-48fb-86e0-764d82b28a23","type":"message","user":"U6XP9LZ6V","text":"MINGWのパッチは先っちょに当たるように自分で手直しして使ってたっけ。\n\u003chttps://github.com/k-takata/the_silver_searcher-win32/tree/master/patches\u003e","ts":"1597726469.396000","attachments":[{"fallback":"GitHub: k-takata/the_silver_searcher-win32","id":1,"title":"k-takata/the_silver_searcher-win32","title_link":"https://github.com/k-takata/the_silver_searcher-win32/tree/master/patches","text":"The silver searcher Win32 unofficial daily builds. Contribute to k-takata/the_silver_searcher-win32 development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/840186?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":320,"thumb_height":320,"from_url":"https://github.com/k-takata/the_silver_searcher-win32/tree/master/patches","original_url":"https://github.com/k-takata/the_silver_searcher-win32/tree/master/patches"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JZv4A"}]},{"client_msg_id":"15968b23-451d-413e-9cb0-6aa149a01531","type":"message","user":"UAZ33BKV2","text":"だめよーん(パッチ)","ts":"1597724554.394800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UJS"}]},{"client_msg_id":"b2ec843c-ff1d-4f94-8443-eb49d5bde3c3","type":"message","user":"U03C6TEAZ","text":"そして先っちょだと他のパッチが当たらねぇw","ts":"1597724431.394500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FEZ"}]},{"client_msg_id":"cc9f7454-4258-42b1-ac9b-7f017d21e82b","type":"message","user":"U6XP9LZ6V","text":"先っちょもってくるしかない","ts":"1597723990.394200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wwl"}]},{"client_msg_id":"8e476ea8-0624-4d72-81b8-f4b3ac05d777","type":"message","user":"U03C6TEAZ","text":"タグが打たれてねぇ","ts":"1597723937.393900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XH802"}]},{"client_msg_id":"466a8227-70bf-4ff1-b93b-e413c9ed3cc4","type":"message","user":"U03C6TEAZ","text":"バージョン上げればなおるか。","ts":"1597723904.393700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5yLq1"}]},{"client_msg_id":"6f6e4bff-9202-41c3-b6b1-66a58442910e","type":"message","user":"U03C6TEAZ","text":"それ","ts":"1597723864.393500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6K/Gf"}]},{"client_msg_id":"cedb9a74-2381-473c-8fb2-f39f5bc7fb63","type":"message","user":"U6XP9LZ6V","text":"これ？\n\u003chttps://github.com/ggreer/the_silver_searcher/issues/1378\u003e","ts":"1597723801.393100","attachments":[{"fallback":"GitHub: Fail to build with GCC-10 · Issue #1378 · ggreer/the_silver_searcher","id":1,"title":"Fail to build with GCC-10 · Issue #1378 · ggreer/the_silver_searcher","title_link":"https://github.com/ggreer/the_silver_searcher/issues/1378","text":"I installed GCC-10 from experimental in Debian sid environment. In this environment, the build has failed with linker error. The cause is that the -fno-common option is the default in GCC-10. The w...","thumb_url":"https://avatars1.githubusercontent.com/u/200121?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/ggreer/the_silver_searcher/issues/1378","original_url":"https://github.com/ggreer/the_silver_searcher/issues/1378"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6hY"}]},{"client_msg_id":"856dd0d8-8e2a-4e42-903a-e9359b42854e","type":"message","user":"U03C6TEAZ","text":"がしかし duplicate symbol","ts":"1597723750.392800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9ans"}]},{"client_msg_id":"0a45a430-ad2b-491c-8f58-4f22401c351d","type":"message","user":"U03C6TEAZ","text":"win32- lang- の prefix が推奨ぽかったので。","ts":"1597723628.392600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vZ4"}]},{"client_msg_id":"36f24af3-e038-402a-9f38-037d7d2cb542","type":"message","user":"U03C6TEAZ","text":"ファイル名をリネームしました。。。","ts":"1597723617.392200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mA1ul"}]},{"client_msg_id":"e28d5726-125a-4033-a0bc-e98f916d66e3","type":"message","user":"U6XP9LZ6V","text":"MINGW-packages の方、パッチファイルが無くなってませんか","ts":"1597723602.392000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WppSm"}]},{"client_msg_id":"abdf48a3-6f15-4a53-a6cf-98666c11af37","type":"message","user":"U03C6TEAZ","text":"duplicate-symbol","ts":"1597723469.391500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sbDi"}]},{"client_msg_id":"1f5be966-0561-4ecc-bdec-1b36b77fcb23","type":"message","user":"U03C6TEAZ","text":"ビルドこけとるな。他の要因ぽいけど。","ts":"1597723456.391300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N+O"}]},{"client_msg_id":"b0ffc50a-8083-48e7-9856-847df6be2dd6","type":"message","user":"U03C6TEAZ","text":"\u003chttps://github.com/ggreer/the_silver_searcher/pull/1400\u003e","ts":"1597722901.390600","attachments":[{"fallback":"GitHub: Use \"","id":1,"title":"Use \"","title_link":"https://github.com/ggreer/the_silver_searcher/pull/1400","text":"the-silversearcher does not work when use pipe with external command on Windows. C:\\Temp\u0026gt; ag foo | vim - This seems to be a bug of git that it break terminal sequences. This fix use \u0026amp;quot;\u0026lt;N...","thumb_url":"https://avatars1.githubusercontent.com/u/200121?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/ggreer/the_silver_searcher/pull/1400","original_url":"https://github.com/ggreer/the_silver_searcher/pull/1400"}],"team":"T03C4RC8V","reactions":[{"name":"sasumatsu","count":1,"users":["U6XP9LZ6V"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wTpPG"}]},{"client_msg_id":"20b17a72-b559-448f-a961-62b4ba722e50","type":"message","user":"U03C6TEAZ","text":"done \u003chttps://github.com/msys2/MINGW-packages/pull/6821\u003e","ts":"1597722793.390300","attachments":[{"fallback":"GitHub: Apply patch to fix the-silversearcher by mattn · Pull Request #6821 · msys2/MINGW-packages","id":1,"title":"Apply patch to fix the-silversearcher by mattn · Pull Request #6821 · msys2/MINGW-packages","title_link":"https://github.com/msys2/MINGW-packages/pull/6821","text":"the-silversearcher does not work when use pipe with external command on Windows. C:\\Temp\u0026gt; ag foo | vim - This seems to be a bug of git that it break terminal sequences. This fix use \u0026amp;quot;\u0026lt;N...","thumb_url":"https://avatars3.githubusercontent.com/u/6759993?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":139,"thumb_height":139,"from_url":"https://github.com/msys2/MINGW-packages/pull/6821","original_url":"https://github.com/msys2/MINGW-packages/pull/6821"}],"team":"T03C4RC8V","reactions":[{"name":"+1::skin-tone-5","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1SH"}]},{"client_msg_id":"f47b702f-0943-4401-9eef-e7d49f625e82","type":"message","user":"U6XP9LZ6V","text":"ま、念のため両方に投げておいて、MINGW-package に先行してマージしてもらうというのが現実的ですかねー？","ts":"1597722700.390100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pap"}]},{"client_msg_id":"6f9f209e-960f-4359-a74d-6d1630585cbc","type":"message","user":"U03C6TEAZ","text":"あとで MINGW-package の方に投げるか。","ts":"1597721194.389100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o=JMo"}]},{"client_msg_id":"2f694df8-93e8-45bc-aad2-c0f662e9efe7","type":"message","user":"U6XP9LZ6V","text":"ちなみに、ag の自前ビルドは Win10 1903 以降では UTF-8 で動かすようにしました。\n\u003chttps://github.com/k-takata/the_silver_searcher-win32/blob/master/patches/0005-win32-Enable-UTF-8-mode-on-Windows-10-1903-or-later.patch\u003e","ts":"1597720638.388300","attachments":[{"fallback":"GitHub: k-takata/the_silver_searcher-win32","id":1,"title":"k-takata/the_silver_searcher-win32","title_link":"https://github.com/k-takata/the_silver_searcher-win32/blob/master/patches/0005-win32-Enable-UTF-8-mode-on-Windows-10-1903-or-later.patch","text":"The silver searcher Win32 unofficial daily builds. Contribute to k-takata/the_silver_searcher-win32 development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/840186?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":320,"thumb_height":320,"from_url":"https://github.com/k-takata/the_silver_searcher-win32/blob/master/patches/0005-win32-Enable-UTF-8-mode-on-Windows-10-1903-or-later.patch","original_url":"https://github.com/k-takata/the_silver_searcher-win32/blob/master/patches/0005-win32-Enable-UTF-8-mode-on-Windows-10-1903-or-later.patch"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FdJn+"}]},{"client_msg_id":"eae97f74-7eb0-4e21-bbb9-2f1d9628c7e2","type":"message","user":"U6XP9LZ6V","text":"ag、ファイルタイプ(?)の追加用のPRは忘れたころに時々マージされているのですが、それ以外の重要そうなPRは全然マージされてないですね。","ts":"1597720446.387400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mf7M"}]},{"client_msg_id":"8d98f284-43f9-465d-9239-88083500e0fb","type":"message","user":"U03C6TEAZ","text":"ag の作者、だいぶフェードアウトしてるので....","ts":"1597720314.386100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UlL"}]},{"client_msg_id":"61b5a0a2-e965-42fc-8c90-a91a7a8199e7","type":"message","user":"UAZ33BKV2","text":"最初はパッチング、次はag本体、ほんでできればgit側にも連絡的なのだけど、手間ががが...ですねえ","ts":"1597720299.385800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yk2Q"}]},{"client_msg_id":"b8739918-97f8-42dd-b72c-79b683b2a100","type":"message","user":"U03C6TEAZ","text":"なるほど。ag のマージは可能性薄?","ts":"1597720282.385500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qA3"}]},{"client_msg_id":"e7c32740-9477-41d2-a256-f6550c382d4c","type":"message","user":"U6XP9LZ6V","text":"ag 本体への修正は諦めて、mingw64 版だけパッチを当てるというのもありかもしれない。(iscygpty のように)","ts":"1597720258.384800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OVq+"}]},{"client_msg_id":"29b5e878-6c57-4341-8d5c-734094e5bd0c","type":"message","user":"UAZ33BKV2","text":"input系に初期化ミスというか終了処理不足がある、的な?","ts":"1597720246.384500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O+N5"}]},{"client_msg_id":"c7f6437b-ac18-4db8-be6b-8fe0b39cc394","type":"message","user":"U03C6TEAZ","text":"```diff --git a/src/options.c b/src/options.c\nindex 2145b33..c38f8d3 100644\n--- a/src/options.c\n+++ b/src/options.c\n@@ -698,7 +698,7 @@ void parse_options(int argc, char **argv, char **base_paths[], char **paths[]) {\n         char *gitconfig_res = NULL;\n \n #ifdef _WIN32\n-        gitconfig_file = popen(\"git config -z --path --get core.excludesfile 2\u0026gt;NUL\", \"r\");\n+        gitconfig_file = popen(\"git config -z --path --get core.excludesfile 2\u0026gt;NUL \u0026lt;NUL\", \"r\");\n #else\n         gitconfig_file = popen(\"git config -z --path --get core.excludesfile 2\u0026gt;/dev/null\", \"r\");\n #endif```\nこれでも ok でした。","ts":"1597720171.383100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kMlKc"}]},{"client_msg_id":"c567158e-7cfb-4b8e-9b6a-9ef583ad33f3","type":"message","user":"U6XP9LZ6V","text":"なんか最近 ag が全然活発じゃないからなー","ts":"1597720149.382800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CteW"}]},{"client_msg_id":"23014346-d7fa-4e7f-9394-629a2c90da0f","type":"message","user":"U03C6TEAZ","text":"`\u0026lt;NUL` でもいいかも。","ts":"1597720138.382600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"t1a"}]},{"client_msg_id":"0487e2f6-7f2f-4137-9c00-83fa690ee5c6","type":"message","user":"U03C6TEAZ","text":"ag のコミッタがいると助かる。","ts":"1597720100.382100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ch+j"}]},{"client_msg_id":"60b4605f-04c1-4d22-9b28-cd6e192a628a","type":"message","user":"U03C6TEAZ","text":"1. popen 使わない\n2. `type NUL` ハック","ts":"1597720085.381800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8h5"}]},{"client_msg_id":"66ac1a81-f81e-4131-bcc3-62d8c12f69d6","type":"message","user":"U03C6TEAZ","text":"PR るならどの方法がいいですか？ \u003c@U6XP9LZ6V\u003e","ts":"1597720068.381400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"17e"}]},{"client_msg_id":"85319761-854b-48e7-a768-b7593af9dc09","type":"message","user":"U03C6TEAZ","text":"バグってるのは git ぽい。","ts":"1597720027.380800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B2W"}]},{"client_msg_id":"0d84afba-ae01-4b94-858e-a4420dc3a7d0","type":"message","user":"U03C6TEAZ","text":"```diff --git a/src/options.c b/src/options.c\nindex 2145b33..3358a97 100644\n--- a/src/options.c\n+++ b/src/options.c\n@@ -698,7 +698,7 @@ void parse_options(int argc, char **argv, char **base_paths[], char **paths[]) {\n         char *gitconfig_res = NULL;\n \n #ifdef _WIN32\n-        gitconfig_file = popen(\"git config -z --path --get core.excludesfile 2\u0026gt;NUL\", \"r\");\n+        gitconfig_file = popen(\"type NUL | git config -z --path --get core.excludesfile 2\u0026gt;NUL\", \"r\");\n #else\n         gitconfig_file = popen(\"git config -z --path --get core.excludesfile 2\u0026gt;/dev/null\", \"r\");\n #endif```\nこうしたら直った。","ts":"1597720004.380500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l6k9"}]},{"client_msg_id":"a715365e-9856-41e4-92d0-5382c21264dd","type":"message","user":"U6XP9LZ6V","text":"msys2 (mintty) 上では、msys2 な ag をコンパイルして使ってる。その方がトラブルが少ない。","ts":"1597719894.379700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wcp"}]},{"client_msg_id":"7ca5118c-c83c-4061-8493-791b6748c66b","type":"message","user":"U03C6TEAZ","text":"mingw64 な ag が msys2 な git を起動して、何か端末設定が残されたままになってるぽい。","ts":"1597719554.378900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Bsg9r"}]},{"client_msg_id":"4084166B-340C-4F8B-A8F1-CE942BF55E90","type":"message","user":"U06ECBRTJ","text":"git config 叩くのか…","ts":"1597719521.378000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iJ+/"}]},{"client_msg_id":"2c85024f-81b0-4d5f-833e-1a6f93afa415","type":"message","user":"U03C6TEAZ","text":"分かった。ag が中で実行してる\n```        gitconfig_file = popen(\"git config -z --path --get core.excludesfile 2\u0026gt;NUL\", \"r\");```\nが起因してる。","ts":"1597719252.377000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pqeq"}]},{"client_msg_id":"93ea78d7-9d33-4fe0-af0f-6db99ffd32be","type":"message","user":"U03C6TEAZ","text":"`ag 1 | vim -` は発生するけど `cat README.md | ag 1 | vim -` は発生しない。なんだこりゃ。","ts":"1597718698.376500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4HF"}]},{"client_msg_id":"eb4ebf7a-6fcb-4336-80e0-d14a0416541e","type":"message","user":"U03C6TEAZ","text":"と思って the_silversearcher をビルドして試してますが NG","ts":"1597717329.375600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KBx"}]},{"client_msg_id":"b5d28607-5441-4f84-b277-b814a3246982","type":"message","user":"UAZ33BKV2","text":"msys2 agがなんかまずい?","ts":"1597717253.375100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vqlx"}]},{"client_msg_id":"06a61ffa-83d4-49bd-bc0a-3e9a8426e0ae","type":"message","user":"UAZ33BKV2","text":"pt,agともに \u003chttp://chocolatey.org/\u003e 経由、vimは同じくvim-tuxです。改行コードに問題あるけどそれ以外は平気?","ts":"1597717237.374500","files":[{"id":"F0190GNDD34","created":1597717236,"timestamp":1597717236,"name":"pt/ag result","title":"pt/ag result","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"プレーンテキスト","user":"UAZ33BKV2","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":2677,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F0190GNDD34/pt_ag_result","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F0190GNDD34/download/pt_ag_result","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/UAZ33BKV2/F0190GNDD34/pt_ag_result","permalink_public":"https://slack-files.com/T03C4RC8V-F0190GNDD34-c8c0414f48","edit_link":"https://vim-jp.slack.com/files/UAZ33BKV2/F0190GNDD34/pt_ag_result/edit","preview":"pt pacman . | vim - in vim/vim\n\n.\\runtime\\doc\\version8.txt:47647:Problem:    No filetype set for pacman config files.\n.\\runtime\\doc\\version8.txt:47648:Solution:   Recognize pacman.conf and *.hook. (Guido Cella, closes #6335)\n.\\runtime\\filetype.vim:1144:au BufNewFile,BufRead */etc/pacman.conf\t\tsetf dosini","preview_highlight":"\u003cdiv class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\"\u003e\n\u003cdiv class=\"CodeMirror-code\"\u003e\n\u003cdiv\u003e\u003cpre\u003ept pacman . | vim - in vim/vim\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv\u003e\u003cpre\u003e.\\runtime\\doc\\version8.txt:47647:Problem:    No filetype set for pacman config files.\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv\u003e\u003cpre\u003e.\\runtime\\doc\\version8.txt:47648:Solution:   Recognize pacman.conf and *.hook. (Guido Cella, closes #6335)\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv\u003e\u003cpre\u003e.\\runtime\\filetype.vim:1144:au BufNewFile,BufRead */etc/pacman.conf     setf dosini\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n","lines":56,"lines_more":51,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WH4g1"}]},{"client_msg_id":"97a7049d-8469-48cc-9f2f-48d05e5687cb","type":"message","user":"UAZ33BKV2","text":"おおう...","ts":"1597716976.374400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gJsl"}]},{"client_msg_id":"1a079f97-8654-4ec6-bfe5-73ff69ee6ccc","type":"message","user":"U03C6TEAZ","text":"関係なかった...","ts":"1597716956.374000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VpeH"}]},{"client_msg_id":"060c896f-e84d-4486-9eb4-a3d07eb117dd","type":"message","user":"U03C6TEAZ","text":"あれ、そんなことない。","ts":"1597716921.373800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZQDX"}]},{"client_msg_id":"5bc7fbaa-87fc-4166-887c-9bf80a3fdb1e","type":"message","user":"U03C6TEAZ","text":"てことはパスかなんかを弄ってる？","ts":"1597716809.373600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0Pm1u"}]},{"client_msg_id":"a66b1cde-ce3b-4f45-a9c8-346a11c9851d","type":"message","user":"U03C6TEAZ","text":"ag は msys2/mingw64 の pacman で入れたやつだけど\n```C:\\\u0026gt; ag foo | vim -```\nすると msys2/mingw64 の vim が実行されてるらしい。","ts":"1597716781.373300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pLZk"}]},{"client_msg_id":"f4e2b721-f492-4971-86c9-8d74ab4d1e5b","type":"message","user":"U03C6TEAZ","text":"おーっと、なんかわかった。","ts":"1597716738.372200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0s55v"}]},{"client_msg_id":"8b1911f1-174c-4f10-9f93-ef432d233cda","type":"message","user":"U9S4G0LJW","text":"Vim立ち上げて:grepが癖になっている(中身はripgrep)","ts":"1597716141.372000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wYj"}]},{"client_msg_id":"ed176ffc-7d70-40e4-9e05-035ec38a4fb8","type":"message","user":"UAZ33BKV2","text":"rgのほうが早いかもしんないけど、慣れはおそろしい","ts":"1597716004.370800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Mvf1"}]},{"client_msg_id":"13879b88-f74d-4026-b5c0-de7fa2b3df9a","type":"message","user":"UAZ33BKV2","text":"わたしはptが手癖にw、ただパイプするときはgrep","ts":"1597715988.370500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v9wu"}]},{"client_msg_id":"ca788b45-29ec-4bbc-8f97-841003a3ae65","type":"message","user":"U06BRP8VD","text":"ぼくはやっとgit switchへの切り替えが…","ts":"1597715193.370100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"X8ccl"}]},{"client_msg_id":"b970bbc0-7fa0-4751-a8fa-cb4fdc7fc297","type":"message","user":"U06BRP8VD","text":"一度手癖が付いちゃうと、矯正にすごい精神力要るんですよね。","ts":"1597715175.369600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mNFjL"}]},{"client_msg_id":"71f01d20-fe34-46e4-afa8-3a302ab8def6","type":"message","user":"U06BRP8VD","text":"w","ts":"1597715158.369200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+h7"}]},{"client_msg_id":"e0e6e6b9-f688-4a6c-9084-561e26d92231","type":"message","user":"U03C6TEAZ","text":"ag が手癖なんですよねぇ。dos の macro で ag=jvgrep にしてしまおうかしら...w","ts":"1597715143.369000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xehul"}]},{"client_msg_id":"2c5ee677-6bb2-41c1-bb20-667428987059","type":"message","user":"U06BRP8VD","text":"最近は日本語使わないならgrepで十分になってしまってる。","ts":"1597715110.368500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6dQa8"}]},{"client_msg_id":"c776ec5a-20e1-445b-a172-ca107f187684","type":"message","user":"U06BRP8VD","text":"w","ts":"1597715090.368200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+hQDy"}]},{"client_msg_id":"08e5f2b4-267e-4d5c-a2b1-47f13c9666bb","type":"message","user":"U03C6TEAZ","text":"ag の windows 版、僕が作ったので僕のバグ説が大きいw","ts":"1597715086.368000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xfMl"}]},{"client_msg_id":"4f052566-1c81-4599-b172-309f7e2c9a51","type":"message","user":"U06BRP8VD","text":"んじゃファイルにリダイレクトしてもエスケープシーケンス出すんだ…","ts":"1597715081.367800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TIgi"}]},{"client_msg_id":"6f13ba1e-237d-4295-8aca-3694fdc10bbf","type":"message","user":"U03C6TEAZ","text":"おそらく。","ts":"1597715054.367200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=3G"}]},{"client_msg_id":"f0160cd2-26a3-4f3a-92d1-8fe9c4cae4c1","type":"message","user":"U06BRP8VD","text":"isatty的なのしてないのかしらね。","ts":"1597715049.366900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FfZml"}]},{"client_msg_id":"dd785764-a174-49f3-9fd5-7c208fad6af8","type":"message","user":"U06BRP8VD","text":"出力先がコンソールじゃないから…","ts":"1597715038.366600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Thn/"}]},{"client_msg_id":"bd2228ec-e194-493f-ad00-96e0293fbffc","type":"message","user":"U03C6TEAZ","text":"というか ag はパイプ出力の時点で端末ステータス変える必要ないんよなぁ。","ts":"1597715028.366400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lzKyK"}]},{"client_msg_id":"f6072c5f-7397-45df-9aa2-c8106cdf2768","type":"message","user":"U03C6TEAZ","text":"もしくは一時的に設定してる端末ステータスを vim が読み取ってる.","ts":"1597715015.365600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h64B"}]},{"client_msg_id":"47a6b99b-9485-4541-a05e-c38bc5e77b24","type":"message","user":"U03C6TEAZ","text":"これ ag が端末ステータスか何かを復帰してない？","ts":"1597714992.365100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YOZ"}]},{"client_msg_id":"4b1f59bf-58d7-4db1-b9b1-d88d0f96090b","type":"message","user":"U03C6TEAZ","text":"```C:\\\u0026gt; jvgrep foo | vim -```\nこれは文字化けしない。","ts":"1597714968.364500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PPj"}]},{"type":"message","user":"U03C6TEAZ","ts":"1597714953.363900","files":[{"id":"F019QAQR8F2","created":1597714952,"timestamp":1597714952,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":0,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":7213,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F019QAQR8F2/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F019QAQR8F2/download/image.png","original_h":94,"original_w":921,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F019QAQR8F2-a32593e629/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F019QAQR8F2-a32593e629/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F019QAQR8F2-a32593e629/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F019QAQR8F2-a32593e629/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":37,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-F019QAQR8F2-a32593e629/image_480.png","thumb_480_w":480,"thumb_480_h":49,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-F019QAQR8F2-a32593e629/image_720.png","thumb_720_w":720,"thumb_720_h":73,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/F019QAQR8F2/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-F019QAQR8F2-0c7de9dfdf","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-F019QAQR8F2-a32593e629/image_800.png","thumb_800_h":82,"thumb_800_w":800,"thumb_tiny":"AwAEADCp58v/AD0b86PPl/56P+dR0UASefL/AM9H/Ojz5f8Ano/51HRQBJ58v/PR/wA6PPl/56P+dR0UAf/Z","username":""}],"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"ca36e265-f577-4771-a19f-19335ba529a4","type":"message","user":"U03C6TEAZ","text":"```C:\\\u0026gt; ag foo | vim -```\n文字化け","ts":"1597714943.363800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Pc2"}]},{"client_msg_id":"69ea1a5c-c4e0-4942-9647-145de3e0bbce","type":"message","user":"U03C6TEAZ","text":"以前から発生してた\n```C:\\\u0026gt; ag foo | vim -```\nが文字化けする件、挙動にルールがあるぽいのが分かった。","ts":"1597714929.363500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ha4QO"}]},{"client_msg_id":"846e4819-ecdb-429a-b18d-4e2b5939dd48","type":"message","user":"U06BRP8VD","text":"```#if LUA_VERSION_NUM \u0026gt; 501 \u0026amp;\u0026amp; LUA_VERSION_NUM \u0026lt; 504```\nこれがあやしげね","ts":"1597744253.405400","thread_ts":"1597744048.404800","parent_user_id":"U7H4TJEG0","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LuQqa"}]},{"client_msg_id":"2eca3493-32dd-4bea-aee2-24012f9642a0","type":"message","user":"UEACRCY0Z","text":"homebrew で入れましたけど、普通にビルドできますね\n\n```$ otool -L /usr/local/bin/vim\n/usr/local/bin/vim:\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1292.0.0)\n\t/usr/lib/libncurses.5.4.dylib (compatibility version 5.4.0, current version 5.4.0)\n\t/usr/lib/libiconv.2.dylib (compatibility version 7.0.0, current version 7.0.0)\n\t/usr/local/opt/gettext/lib/libintl.8.dylib (compatibility version 11.0.0, current version 11.0.0)\n\t/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit (compatibility version 45.0.0, current version 2004.101.0)\n\t/usr/local/opt/lua/lib/liblua.5.4.dylib (compatibility version 5.4.0, current version 5.4.0)\n\t/usr/local/opt/perl/lib/perl5/5.32.0/darwin-thread-multi-2level/CORE/libperl.dylib (compatibility version 5.32.0, current version 5.32.0)\n\t/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/Python (compatibility version 3.8.0, current version 3.8.0)\n\t/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1749.101.0)\n\t/usr/local/opt/ruby/lib/libruby.2.7.dylib (compatibility version 2.7.0, current version 2.7.1)\n\t/System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices (compatibility version 1.0.0, current version 1112.0.9)\n\t/System/Library/Frameworks/Foundation.framework/Versions/C/Foundation (compatibility version 300.0.0, current version 1749.101.0)\n\t/usr/lib/libobjc.A.dylib (compatibility version 1.0.0, current version 228.0.0)```","ts":"1597747391.405600","thread_ts":"1597740467.400500","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xw7H8"}]},{"client_msg_id":"ad06091b-fe0e-43ee-9a12-cea5c1d261a7","type":"message","user":"UEACRCY0Z","text":"lua 5.4 はまだ homebrew の master には来ていないのでこれを使いました\n\u003chttps://github.com/Homebrew/homebrew-core/pull/57133\u003e","ts":"1597747694.405800","thread_ts":"1597740467.400500","attachments":[{"fallback":"GitHub: lua 5.4.0 by chenrui333 · Pull Request #57133 · Homebrew/homebrew-core","id":1,"title":"lua 5.4.0 by chenrui333 · Pull Request #57133 · Homebrew/homebrew-core","title_link":"https://github.com/Homebrew/homebrew-core/pull/57133","text":"Created with brew bump-formula-pr.","thumb_url":"https://repository-images.githubusercontent.com/52855516/4f1f7980-61d2-11e9-8d50-b1533a42f297","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":536,"thumb_height":250,"from_url":"https://github.com/Homebrew/homebrew-core/pull/57133","original_url":"https://github.com/Homebrew/homebrew-core/pull/57133"}],"parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0LPR"}]},{"client_msg_id":"653c3777-9214-43b8-98c5-39f6d72924fa","type":"message","user":"U03C71D7H","text":"私の Lua が何かおかしい説…ちなみに Lua は asdf で入れました","ts":"1597747829.406100","thread_ts":"1597740467.400500","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gQt5Q"}]},{"client_msg_id":"7b54f6e2-fc56-4c5b-a23a-1d0dc6dfc71d","type":"message","user":"UEACRCY0Z","text":"lua 単体は動くのでしょうか？なんとなく i386 でビルドされてそう","ts":"1597748149.406300","thread_ts":"1597740467.400500","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mVUcY"}]},{"client_msg_id":"24e7a80c-05d5-4614-82d4-75d4af5c4b4e","type":"message","user":"U03C71D7H","text":"単体は動きますね","ts":"1597750344.406500","thread_ts":"1597740467.400500","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CKff"}]},{"client_msg_id":"a72156b1-7907-448b-9d63-eee9897fa5de","type":"message","user":"U03C71D7H","text":"`Mach-O 64-bit executable x86_64` Lua 自体も 64bit ですね(`file` コマンドで確認)","ts":"1597750649.406700","thread_ts":"1597740467.400500","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wz3S"}]}]
