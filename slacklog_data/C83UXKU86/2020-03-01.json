[{"client_msg_id":"711172a8-9d15-4f83-8242-d6bfd22554d1","type":"message","user":"U6XP9LZ6V","text":"L3719-3721 は不要なはず。これだと確保してない `\"\"` を vim_free() に渡すことになってしまうので問題。そして ga_concat に NULL を渡しても問題ない。(PRのコメント参照)","ts":"1582988896.189700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QqyOa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2B813E53-38ED-4837-814A-5C8D1F7B2939","type":"message","user":"U7D5LRRQD","text":"おっ、ありがとうございます！","ts":"1582989038.190600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ytce"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"64C23904-3233-43C2-A26B-AEEF123A30C5","type":"message","user":"U7D5LRRQD","text":"明日見ます:ok_hand:","ts":"1582989060.191000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4FR0Y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"db8a8008-01ea-45e8-b204-1bd9f4d52bad","type":"message","user":"U6XP9LZ6V","text":"8.2.0329 のテストが、Windows で VIMDLL を有効にした vim.exe で落ちるんだけど、単にスキップすればいいのかな？\n<https://github.com/vim/vim/pull/5716>","ts":"1583027057.192600","attachments":[{"fallback":"GitHub: win32: Fix that 8.2.0329 fails when VIMDLL is enabled by k-takata · Pull Request #5716 · vim/vim","id":1,"title":"win32: Fix that 8.2.0329 fails when VIMDLL is enabled by k-takata · Pull Request #5716 · vim/vim","title_link":"https://github.com/vim/vim/pull/5716","text":"If vim.exe is built with VIMDLL, the following error occurs: From test_popupwin.vim: Found errors in Test_popupwin_filter_input_multibyte(): function RunTheTest[40]..Test_popupwin_filter_input_mult...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/pull/5716","original_url":"https://github.com/vim/vim/pull/5716"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gao"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a88bd1b0-547f-4458-989d-1186b93a3a18","type":"message","user":"U7986PPFH","text":"GUI有効でビルドした場合にCSIがエスケープされていたので  `has('gui')` としたんですが、そもそも場合分けは必要なかった","ts":"1583050203.195300","edited":{"user":"U7986PPFH","ts":"1583050266.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C985R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e6883a55-7666-40f5-8f5b-681c14b34cb4","type":"message","user":"U6XP9LZ6V","text":"うーん、VIMDLL版vim.exeだと、`call feedkeys(\"\\u301b\", 'xt')`がバグってるのかな。手動で U+301b を入力した場合は動くけど、テストが落ちる。","ts":"1583051398.197100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xm3V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1e53aa64-61d2-4211-9327-2d932b66ecd5","type":"message","user":"U7986PPFH","text":"`feedkeys()` で UTF-8シーケンスに 0x9b がある文字を入力すると、一旦 0x9b がエスケープされて 0x9b 0xfd 0x51 になり、受信 (`getchar()` や popupwin-filter) の時に 0x9b に戻るんですが、VIMDLL版vim.exe だと戻らず、0xfd の部分を余計に受信しています","ts":"1583072339.202100","edited":{"user":"U7986PPFH","ts":"1583072365.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vm0HU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dbe166f5-6029-4f51-acf6-5a4eb6a9ee2f","type":"message","user":"U7986PPFH","text":"<https://github.com/vim/vim/blob/master/src/getchar.c#L1776-L1778>","ts":"1583072485.202400","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/master/src/getchar.c#L1776-L1778","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/master/src/getchar.c#L1776-L1778","original_url":"https://github.com/vim/vim/blob/master/src/getchar.c#L1776-L1778"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C/cs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b7dd1798-c1f4-4409-945c-cadd04919b5c","type":"message","user":"U6XP9LZ6V","text":"その部分ですが、vim.exe で `回` が入力できなかったということで 8.1.1239 で `gui.in_use` のチェックを入れて、Linux で問題が出たということで 8.1.1358 で `gui.in_use` のチェックを VIMDLL に限定していました。\nvim.exe でどこかで 0x9b をエスケープする処理が抜けているということか…","ts":"1583074750.206100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D9i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
