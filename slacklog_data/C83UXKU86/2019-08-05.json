[{"client_msg_id":"9f30c0a7-3b33-4997-9a06-d571c0a83761","type":"message","user":"U03C6TEAZ","text":"tyru さんが言ってる  `:echo 2-&gt;{n -&gt; n * 2}` は最新では出来なくなったけど、それでいいのかな？","ts":"1564996314.451500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e214d94-c86d-4592-ab7b-b29f105f1cce","type":"message","user":"U0M7GCBPD","text":"できてほしい… というかそもそもできてなかったと思います\nあと Bram が lambda の例に対してこれでよくない？って言ってました\n```\nlet percent = {x -&gt; x * 100}\necho Fraction()-&gt;percent()\n```","ts":"1564996473.453000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2a395655-25ff-45d1-86e5-2f757ee6c95e","type":"message","user":"U0M7GCBPD","text":"変数に受け取る必要なくできてほしいんですけどね…","ts":"1564996496.453600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d2ab077-52ba-46cc-84e9-1b5b71bb34fb","type":"message","user":"U0M7GCBPD","text":"というか lambda ってそもそも関数を定義する必要なく書くための記法だからワンクッションあるのは本末転倒な気も","ts":"1564996521.454200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d158f541-62bf-47ec-aeca-734cb054bc01","type":"message","user":"U03C6TEAZ","text":"あれ、cwd 取るの無かったんだ。 <https://github.com/vim/vim/pull/4775>","ts":"1564996761.454600","thread_ts":"1564996761.454600","attachments":[{"fallback":"GitHub: Add job_getcwd() by ichizok · Pull Request #4775 · vim/vim","id":1,"title":"Add job_getcwd() by ichizok · Pull Request #4775 · vim/vim","title_link":"https://github.com/vim/vim/pull/4775","text":"job_getcwd({job}) is to get the current working directory of {job}. For example, this can be useful to restore the working directory of the shell of :terminal when using :mksession.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/pull/4775","original_url":"https://github.com/vim/vim/pull/4775"}],"reply_count":1,"replies":[{"user":"UDDCM376D","ts":"1564997557.463300"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"919ce94b-6f17-435a-bb51-727b8f942249","type":"message","user":"U0M7GCBPD","text":"あっ…","ts":"1564996951.455000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c1e9224-7a33-499c-982d-2d85f08704d6","type":"message","user":"U0M7GCBPD","text":"あ、pull request か (パッチかと思ってびっくりした)","ts":"1564996966.455300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6568e417-7205-4284-86de-d5d95bab2aad","type":"message","user":"U0M7GCBPD","text":"<https://vim-jp.slack.com/archives/C83UXKU86/p1564791275345700>","ts":"1564996989.455600","attachments":[{"fallback":"[August 2nd, 2019 5:14 PM] tyru: いっそ任意の pid の cwd 取る関数追加してほしさがある (多分↑ができるならできるはず？)","id":1,"author_id":"U0M7GCBPD","author_name":"tyru","author_subname":"tyru","author_link":"https://vim-jp.slack.com/team/U0M7GCBPD","author_icon":"https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F00b63%2Fimg%2Favatars%2Fava_0026-48.png","text":"いっそ任意の pid の cwd 取る関数追加してほしさがある (多分↑ができるならできるはず？)","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #dev","ts":1564791275.345700,"from_url":"https://vim-jp.slack.com/archives/C83UXKU86/p1564791275345700","original_url":"https://vim-jp.slack.com/archives/C83UXKU86/p1564791275345700"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22450bb6-9e95-4513-b20c-30f53dcd9a1d","type":"message","user":"U0M7GCBPD","text":"<@U7986PPFH> 実装見たらやっぱり procfs とか見てとってるみたいなので↑みたいにしてもらうと job のプロセスでなくても cwd 取れるので嬉しいかな？と思いました","ts":"1564997031.456700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a20a959f-3d2e-47d9-8763-f8ad5eea7ee4","type":"message","user":"U03C71D7H","text":"プロセス一覧取れないとあまり意味ない気も?","ts":"1564997046.457000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"79c1d3dc-c47f-4577-90a0-9dd742edfefc","type":"message","user":"U0M7GCBPD","text":"job のってことですか？","ts":"1564997061.457200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dbb757ec-d906-48c2-b9a2-bb3434b79eb3","type":"message","user":"U0M7GCBPD","text":"それとも OS 上の？","ts":"1564997083.457500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cc0e6f7c-8a19-45bc-b7d3-2c608b43e0a7","type":"message","user":"U03C71D7H","text":"そもそも pid がわからないと pid から cwd 取る関数だけあっても仕方ないですよね","ts":"1564997113.457900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7f113b9e-062d-4848-98ec-ba0007bcff42","type":"message","user":"U0M7GCBPD","text":"はい","ts":"1564997120.458100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de732435-e939-4187-8033-4455468483d3","type":"message","user":"U0M7GCBPD","text":"ただ Vim script に閉じた話ではなく `system()` とか pid を取る手段はいくらでもあると思います","ts":"1564997154.458800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2bdad033-6032-437d-b71a-bebc532ea5f3","type":"message","user":"U03C6TEAZ","text":"cwd じゃなくコマンド文字列だった。 <https://github.com/vim/vim/pull/1921>","ts":"1564997186.459200","attachments":[{"fallback":"GitHub: [WIP] Add `term_getruncmd` function by ichizok · Pull Request #1921 · vim/vim","id":1,"title":"[WIP] Add `term_getruncmd` function by ichizok · Pull Request #1921 · vim/vim","title_link":"https://github.com/vim/vim/pull/1921","text":"term_getruncmd() is to get information of the process running on the shell of terminal window. Windows support was done by @mattn. Example: Do :terminal to run &amp;shell and execute sleep 10 on th...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/pull/1921","original_url":"https://github.com/vim/vim/pull/1921"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c1022b58-3726-4be6-91f7-ff03e3039dce","type":"message","user":"U03C6TEAZ","text":"たしか Windows でプロセスの cwd 取るのめんどくさかったんだよな。","ts":"1564997238.459700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a44c0881-6786-452b-ae9a-5112c78db95f","type":"message","user":"U0M7GCBPD","text":"job からじゃないと任意の pid の cwd 取るのはめんどいって意味です？","ts":"1564997348.460600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"169172b1-9983-49ac-97bc-6b90310cef1f","type":"message","user":"U7D5LRRQD","text":"これめっちゃいい！！\n今すぐ欲しい……","ts":"1564997428.460900","thread_ts":"1564899073.443600","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":null,"root":{"client_msg_id":"79e35b5b-79f3-429e-90d2-091bb353f75a","type":"message","user":"U0M7GCBPD","text":"lambda できた。こんな感じ (Ruby の tap みたいな感じで使えそう)\n<https://github.com/vim/vim/compare/master...tyru:chain-op-allow-lambda?expand=1>\n```\necho 2-&gt;{n -&gt; n * 2}\necho 'hello'-&gt;{s -&gt; execute('echon s')}\n```","ts":"1564899073.443600","thread_ts":"1564899073.443600","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/compare/master...tyru:chain-op-allow-lambda?expand=1","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/compare/master...tyru:chain-op-allow-lambda?expand=1","original_url":"https://github.com/vim/vim/compare/master...tyru:chain-op-allow-lambda?expand=1"}],"reply_count":8,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null}},{"client_msg_id":"5d681ecb-71c0-41c3-b87c-37f589096b56","type":"message","user":"U03C71D7H","text":"それを言ったら別に Vim script が cwd を取る手段を提供しなくても取る方法はいくらでもありますよね","ts":"1564997456.461600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1afbc042-0b31-48b4-9c43-6ec9d39a0832","type":"message","user":"U03C71D7H","text":"pid 取る手段がないのにいきなり pid を渡す関数を作るのは提供する順番がおかしいと思います","ts":"1564997482.462100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d607e210-5bf5-4303-9f3c-04ddb9b19ec1","type":"message","user":"U03C6TEAZ","text":"ローカルのゴミコード置き場から引っ張り出してきた。 <https://gist.github.com/mattn/d2171691e0c4c6f737e21170b6d1865f>","ts":"1564997542.462600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","ts":"1564997543.462700","files":[{"id":"FLVPKJHMX","created":1564997543,"timestamp":1564997543,"name":"getcwd.c","title":"getcwd.c","mimetype":"text/plain","image_exif_rotation":0,"filetype":"c","pretty_type":"C","user":"U03C6TEAZ","mode":"snippet","editable":true,"is_external":true,"external_type":"unknown","size":4465,"url":"","url_download":"","url_private":"https://gist.github.com/d2171691e0c4c6f737e21170b6d1865f#file-getcwd-c","url_private_download":"https://gist.github.com/d2171691e0c4c6f737e21170b6d1865f#file-getcwd-c","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FLVPKJHMX/getcwd.c","permalink_public":"","edit_link":"https://vim-jp.slack.com/files/U03C6TEAZ/FLVPKJHMX/getcwd.c/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"150B159A-D2B3-493D-A4FB-2811655A1193","type":"message","user":"UDDCM376D","text":"神PR","ts":"1564997557.463300","thread_ts":"1564996761.454600","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1852e984-d689-4a99-94e1-53aac2871db3","type":"message","user":"U03C6TEAZ","text":"two spaces は残すんでしたっけ？ <https://github.com/vim/vim/pull/4762/commits/ef5ab0d24d7af97937d62b399e7a1144bd67739a#diff-570936afc3e77a78cc250972799741baR1179>","ts":"1565000474.463700","attachments":[{"fallback":"GitHub: Add CmdwinLeavePost event by itchyny · Pull Request #4762 · vim/vim","id":1,"title":"Add CmdwinLeavePost event by itchyny · Pull Request #4762 · vim/vim","title_link":"https://github.com/vim/vim/pull/4762/commits/ef5ab0d24d7af97937d62b399e7a1144bd67739a#diff-570936afc3e77a78cc250972799741baR1179","text":"Problem: There&amp;#39;s no event to do something after the cmdline-window is closed (execute :q or press &lt;C-c&gt; in cmdline-window). There&amp;#39;s CmdwinLeave event but it is triggered before cmdlin...","thumb_url":"https://avatars3.githubusercontent.com/u/375258?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim/vim/pull/4762/commits/ef5ab0d24d7af97937d62b399e7a1144bd67739a#diff-570936afc3e77a78cc250972799741baR1179","original_url":"https://github.com/vim/vim/pull/4762/commits/ef5ab0d24d7af97937d62b399e7a1144bd67739a#diff-570936afc3e77a78cc250972799741baR1179"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4cdaa474-6381-465c-a168-3937e277958b","type":"message","user":"U0M7GCBPD","text":"Bram に推してほしい〜","ts":"1565006153.464100","thread_ts":"1564899073.443600","parent_user_id":"U0M7GCBPD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2954c336-bb50-4387-a67e-3acbab60ff74","type":"message","user":"U0M7GCBPD","text":"自分もほしい…","ts":"1565006173.464300","thread_ts":"1564899073.443600","parent_user_id":"U0M7GCBPD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33e37ab4-6867-4818-aae1-4c16ac89192e","type":"message","user":"U0M7GCBPD","text":"試した限りだと call は function call の形しか取れないので確かに echo しか無理でしたね","ts":"1564937681.450500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"ULQBL8T50","text":"<@ULQBL8T50> has joined the channel","ts":"1564960565.451000","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null}]
