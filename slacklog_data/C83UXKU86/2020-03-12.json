[{"client_msg_id":"78f0d7ec-709c-4a05-9d40-e2ff4f772aaf","type":"message","user":"U6XP9LZ6V","text":"今日のオレオレビルドからlambda高速化パッチを入れてみた。常用してみる。\n<https://github.com/k-takata/vim-kt/releases/tag/v8.2.0373>\n体感できる差はないだろうけど。","ts":"1583992545.348300","attachments":[{"fallback":"GitHub: k-takata/vim-kt","id":1,"title":"k-takata/vim-kt","title_link":"https://github.com/k-takata/vim-kt/releases/tag/v8.2.0373","text":"K.Takata's private Vim package for Windows. Contribute to k-takata/vim-kt development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/840186?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":320,"thumb_height":320,"from_url":"https://github.com/k-takata/vim-kt/releases/tag/v8.2.0373","original_url":"https://github.com/k-takata/vim-kt/releases/tag/v8.2.0373"}],"team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":4,"users":["U9S4G0LJW","UAZ33BKV2","UEACRCY0Z","U06BRP8VD"]},{"name":"subara","count":3,"users":["UAZ33BKV2","U03C6TEAZ","U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7md"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"86588aa8-f2a1-4f65-a9a2-837d075a1ab9","type":"message","user":"U6XP9LZ6V","text":"Vimのhash (dict)の実装、Rubyのhash (st.c)に差し替えたら速くなったりしないかなーって妄想してる。","ts":"1583997986.350500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v=M+L"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"348b0ab4-2673-4d2d-b35b-6001ac51c020","type":"message","user":"U6XP9LZ6V","text":"<https://github.com/ruby/ruby/blob/master/st.c>","ts":"1583998048.350700","attachments":[{"fallback":"GitHub: ruby/ruby","id":1,"title":"ruby/ruby","title_link":"https://github.com/ruby/ruby/blob/master/st.c","text":"The Ruby Programming Language [mirror]. Contribute to ruby/ruby development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/210414?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/ruby/ruby/blob/master/st.c","original_url":"https://github.com/ruby/ruby/blob/master/st.c"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uAa+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f2cf7b14-2e22-4a44-bf31-1a6560154ff4","type":"message","user":"U03C71D7H","text":"Vim の実装は素朴ですからね…\nライセンス的には問題はない?","ts":"1583998118.351500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y7k"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"41e70774-29de-4511-831e-6325a023de4b","type":"message","user":"U03C6TEAZ","text":"普通に klib 使っちゃダメなのかしら。","ts":"1583998460.351900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/T2as"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"59353a50-f43b-423d-9a14-d9464a7628fe","type":"message","user":"U03C6TEAZ","text":"<https://github.com/attractivechaos/klib>","ts":"1583998461.352100","attachments":[{"fallback":"GitHub: attractivechaos/klib","id":1,"title":"attractivechaos/klib","title_link":"https://github.com/attractivechaos/klib","text":"A standalone and lightweight C library. Contribute to attractivechaos/klib development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/563093?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":420,"thumb_height":420,"from_url":"https://github.com/attractivechaos/klib","original_url":"https://github.com/attractivechaos/klib"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ez==k"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd940350-a77d-4057-b3cc-eac45cbd05a3","type":"message","user":"U03C6TEAZ","text":"khash めっちゃ速いで。","ts":"1583998475.352400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vs1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"020dc059-a74e-45d1-9463-57e3caa023e3","type":"message","user":"U03C6TEAZ","text":"昔 FNV-1 hashmap を書いた事があるけど khash に勝てなかった。","ts":"1583998547.352900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PA="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6a30182-cde7-4100-b46f-479c7b9db92c","type":"message","user":"U03C6TEAZ","text":"<https://github.com/mattn/picohashmap>","ts":"1583998553.353100","attachments":[{"fallback":"GitHub: mattn/picohashmap","id":1,"title":"mattn/picohashmap","title_link":"https://github.com/mattn/picohashmap","text":"Contribute to mattn/picohashmap development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/picohashmap","original_url":"https://github.com/mattn/picohashmap"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x8h7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ef45e2d-a495-4eb5-aaca-f579e873a7f1","type":"message","user":"UAZ33BKV2","text":"vimだと、hashdosは大丈夫、でいいのかな...？","ts":"1583998568.353600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"m4T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"98e37968-11e7-4ac2-b502-9a8d90ce1041","type":"message","user":"U03C6TEAZ","text":"```picohashmap put: 2.781000 [sec]\npicohashmap get: 1.103000 [sec]\nC++ stl put: 5.126669 [sec]\nC++ stl get: 1.272198 [sec]\nklib hash put: 0.252785 [sec]\nklib hash get: 0.036985 [sec]```","ts":"1583998612.354100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0WP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d55410e-4782-4137-a154-1acbf4c2642d","type":"message","user":"U03C6TEAZ","text":"klib バケモンすぎる。","ts":"1583998620.354400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dvFt7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9531c5b-00d8-4b19-85f3-107620f8313f","type":"message","user":"U03C6TEAZ","text":"khash が使ってるこれがたぶん凄い効いてる。 <http://research.cs.vt.edu/AVresearch/hashing/quadratic.php>","ts":"1583998723.354700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DQsO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cde02e91-c9be-4fb5-9305-7fa9380f3845","type":"message","user":"UAZ33BKV2","text":"すご","ts":"1583998747.355000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bXe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0946418c-9554-4321-ba8c-db26d459d30e","type":"message","user":"U03C6TEAZ","text":"というところまで思い出して悔しい記憶がよみがえってきた。","ts":"1583998757.355300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dZc6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9b5ddd5-531d-451e-84af-f4a07f41aac4","type":"message","user":"U6XP9LZ6V","text":"Rubyのハッシュは2.4で高速化されたけど、どっちが速いかな？","ts":"1583998845.356400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cBt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66025c5d-180a-4710-9685-af3ad52d4bfd","type":"message","user":"U03C6TEAZ","text":"なんか小細工が見えるw <https://github.com/ruby/ruby/blob/74c398b82f80c30e8123f53e354b6518be3fe9aa/st.c#L739>","ts":"1583998959.356800","attachments":[{"fallback":"GitHub: ruby/ruby","id":1,"title":"ruby/ruby","title_link":"https://github.com/ruby/ruby/blob/74c398b82f80c30e8123f53e354b6518be3fe9aa/st.c#L739","text":"The Ruby Programming Language [mirror]. Contribute to ruby/ruby development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/210414?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/ruby/ruby/blob/74c398b82f80c30e8123f53e354b6518be3fe9aa/st.c#L739","original_url":"https://github.com/ruby/ruby/blob/74c398b82f80c30e8123f53e354b6518be3fe9aa/st.c#L739"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g+Z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"902509cb-5263-4ce9-82c7-f3dd32adae2b","type":"message","user":"UAZ33BKV2","text":"<https://employment.en-japan.com/engineerhub/entry/2018/01/11/110000>\nちょっと前のhashdosの時の構造説明(1.9があって、1.8の対策なので微妙)","ts":"1583998991.357400","attachments":[{"fallback":"エンジニアHub｜若手Webエンジニアのキャリアを考える！: HashDoS脆弱性との戦い！ Rubyコミッター・卜部昌平が明かすプログラム堅牢化のノウハウ - エンジニアHub｜若手Webエンジニアのキャリアを考える！","id":1,"title":"HashDoS脆弱性との戦い！ Rubyコミッター・卜部昌平が明かすプログラム堅牢化のノウハウ - エンジニアHub｜若手Webエンジニアのキャリアを考える！","title_link":"https://employment.en-japan.com/engineerhub/entry/2018/01/11/110000","text":"過去、HashDosの影響を受けたRuby。言語開発者はいかにしてこうした問題に対応してきたのでしょうか。コミッターである卜部氏の貴重な記録を公開します。","image_url":"https://cdn-ak.f.st-hatena.com/images/fotolife/b/blog-media/20171229/20171229111540.jpg","blocks":null,"ts":1515549600,"service_name":"エンジニアHub｜若手Webエンジニアのキャリアを考える！","service_icon":"https://cdn.image.st-hatena.com/image/apple_touch_icon/5b2fd5dcfeaff02ecd23d4dd52498944b6cf5fc7/version=1/https%3A%2F%2Fcdn.user.blog.st-hatena.com%2Fcustom_blog_icon%2F125375497%2F1514216060853259","from_url":"https://employment.en-japan.com/engineerhub/entry/2018/01/11/110000","original_url":"https://employment.en-japan.com/engineerhub/entry/2018/01/11/110000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lxC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"df18dd97-854a-4884-89c9-3020b3593a2b","type":"message","user":"U03C6TEAZ","text":"これって分岐予測のヒントですよね。","ts":"1583999007.357900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Qs3i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"267424ea-b56f-49b1-8e96-57fb64b4e1dd","type":"message","user":"U03C6TEAZ","text":"`__builtin_expect` とか。","ts":"1583999010.358100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GM6/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d530cfc1-0888-4a26-87ed-5e3468a4cc57","type":"message","user":"U03C6TEAZ","text":"そこまでやると速いだろうなー。","ts":"1583999018.358300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gka"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"54b035ca-7461-413e-b820-a5166eacc599","type":"message","user":"U03C6TEAZ","text":"<https://qiita.com/jnchito/items/9f9d45581816f121af07#%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E6%94%B9%E5%96%84-1>","ts":"1583999094.358500","attachments":[{"fallback":"Qiita: サンプルコードでわかる！Ruby 2.4の新機能と変更点 - Qiita","id":1,"title":"サンプルコードでわかる！Ruby 2.4の新機能と変更点 - Qiita","title_link":"https://qiita.com/jnchito/items/9f9d45581816f121af07#%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E6%94%B9%E5%96%84-1","text":"## はじめに 2016年9月にRuby 2.4のpreview2が、11月にpreview3が、12月11日にrc1がリリースされました（[参考1](<https://www.ruby-lang.org/en/news/2016/0>...","image_url":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Fogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-1.2.2&w=1200&mark=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D380%26txt%3D%25E3%2582%25B5%25E3%2583%25B3%25E3%2583%2597%25E3%2583%25AB%25E3%2582%25B3%25E3%2583%25BC%25E3%2583%2589%25E3%2581%25A7%25E3%2582%258F%25E3%2581%258B%25E3%2582%258B%25EF%25BC%2581Ruby%25202.4%25E3%2581%25AE%25E6%2596%25B0%25E6%25A9%259F%25E8%2583%25BD%25E3%2581%25A8%25E5%25A4%2589%25E6%259B%25B4%25E7%2582%25B9%26txt-color%3D%2523333%26txt-font%3DAvenir-Black%26txt-size%3D54%26txt-clip%3Dellipsis%26txt-align%3Dcenter%252Cmiddle%26s%3D2457acf77dc34b0a3fc6703520dd8748&mark-align=center%2Cmiddle&blend=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D500%26txt%3D%2540jnchito%26txt-color%3D%2523333%26txt-font%3DAvenir-Black%26txt-size%3D45%26txt-align%3Dright%252Cbottom%26s%3Dc1c16db9136004e87388aace8cdbea19&blend-align=center%2Cmiddle&blend-mode=normal&s=9edbb1f484de97717b1277a58a6afaf8","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png","from_url":"https://qiita.com/jnchito/items/9f9d45581816f121af07#%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E6%94%B9%E5%96%84-1","original_url":"https://qiita.com/jnchito/items/9f9d45581816f121af07#%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E6%94%B9%E5%96%84-1"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A3m8a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dd7ee70c-3dfe-4db8-9608-c1828d414abc","type":"message","user":"U03C6TEAZ","text":"これじゃないすかね。","ts":"1583999097.358700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LI+RC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97af8df6-e5dc-4f1a-be0f-d6faceebd8f9","type":"message","user":"U03C6TEAZ","text":"ちなみに僕のは C++ の stdlib には勝った。","ts":"1583999156.359200","team":"T03C4RC8V","reactions":[{"name":"sasumatsu","count":5,"users":["UAZ33BKV2","U9S4G0LJW","U6XP9LZ6V","U06ECBRTJ","U7EEZ4LMR"]},{"name":"puro","count":2,"users":["U9S4G0LJW","U06ECBRTJ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jkJT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6022a1d2-708d-4477-8245-42e576d7c202","type":"message","user":"U03C6TEAZ","text":".oO( と心を落ち着かせて khash に負けた事を記憶から消し去った )","ts":"1583999196.359900","team":"T03C4RC8V","reactions":[{"name":"sweat_smile","count":2,"users":["U9S4G0LJW","UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sPfdx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9ee31247-c1d1-460a-8eaf-0bafea022f5a","type":"message","user":"U6XP9LZ6V","text":"とりあえず、Rubyのst.[ch]を単体でビルドできるようにしたパッチ。\n<https://github.com/k-takata/ruby/commit/d0f9d3560571463a8fc78020134073b731171cf2>\n少し古いバージョンはonigmoに組み込んであるけど、このバージョンはまだ試してない。","ts":"1584018044.363200","attachments":[{"fallback":"GitHub: st: Make st work without Ruby · k-takata/ruby@d0f9d35","id":1,"title":"st: Make st work without Ruby · k-takata/ruby@d0f9d35","title_link":"https://github.com/k-takata/ruby/commit/d0f9d3560571463a8fc78020134073b731171cf2","text":"Standalone version of Onigmo also uses st.[ch], but some modifications were needed. Import them into Ruby. * `RUBY` and `NOT_RUBY` were used. Use only `RUBY` for consistency. * Define some Ruby-sp...","thumb_url":"https://avatars2.githubusercontent.com/u/840186?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/k-takata/ruby/commit/d0f9d3560571463a8fc78020134073b731171cf2","original_url":"https://github.com/k-takata/ruby/commit/d0f9d3560571463a8fc78020134073b731171cf2"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ovtx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
