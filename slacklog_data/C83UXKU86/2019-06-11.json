[{"client_msg_id":"410c6ac2-ef60-4435-bd14-a01323337cbf","type":"message","user":"U03C71D7H","text":"popup に terminal 出したいですね","ts":"1560244795.271200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"81196538-f747-4fec-8708-89feb1fed617","type":"message","user":"U03C6TEAZ","text":"反論ではないんですが、そこまでニーズありますかね。ポップアップで terminal","ts":"1560245024.271700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ea3c6cbe-0f2f-4ab2-8a1b-c3edd09d98b4","type":"message","user":"U03C6TEAZ","text":"最初のうちカッコいいってなってしばらくしたら必要無いかも？みたいになったりしないかなぁと少し思ってます。","ts":"1560245052.272200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3a0579ae-a03d-4529-8723-03e9492eb8ad","type":"message","user":"U03C71D7H","text":"quickrun の結果を出したい…","ts":"1560245106.272500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"31117c03-412f-4191-b3d2-7d4c94f0b1bb","type":"message","user":"U03C71D7H","text":"make の様子を popup で表示したいんだって言えばみんな納得しないかな","ts":"1560245153.273200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3afc9ad3-91f2-4e3b-a5c1-60b6bdbb09c2","type":"message","user":"U03C6TEAZ","text":"quickrun の結果って logging 的なイメージ。","ts":"1560245154.273300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"01491eb9-cb69-4cf1-b721-98f6436e412c","type":"message","user":"U03C71D7H","text":"エスケープシーケンス込みの出力を出したい場合は terminal の方が手軽できれいに出るんですよねー","ts":"1560245203.274100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd879417-a433-440a-8088-e8a3080670bd","type":"message","user":"U03C6TEAZ","text":"```\nfunction! s:popup_run(...)\n  let s:wid = popup_create('command', {\n  \\ 'maxwidth': 80,\n  \\ 'maxheight': 20,\n  \\ 'border': [1,1,1,1],\n  \\})\n  let l:buf = winbufnr(s:wid)\n  let s:job = job_start([&amp;shell, &amp;shellcmdflag] + a:000, {\n  \\ 'callback': {ch, msg-&gt;\n  \\  [appendbufline(l:buf, '$', msg), win_execute(s:wid, 'normal! G')]\n  \\ },\n  \\})\nendfunction\n\ncommand! -nargs=+ PopupRun call s:popup_run(&lt;f-args&gt;)\n```","ts":"1560245211.274200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8dab243b-8dcd-4942-94e8-107f1735724f","type":"message","user":"U03C6TEAZ","text":"それはありますね。","ts":"1560245214.274400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65f3fe64-bd04-4e1d-8f6f-31e30ef51f0c","type":"message","user":"U03C6TEAZ","text":"今の API、中途半端というか使える程度に実装できてしまうので厄介。","ts":"1560245263.275000","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U03C71D7H"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3d5d96af-c240-488f-9d19-5cfd685eb2e3","type":"message","user":"U03C6TEAZ","text":"おうっふ。PlaySound &amp; thread を途中まで実装してて、PlaySound では個別に停止する方法が無い事に気付いてしまった。。。","ts":"1560259122.276000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6b25d4d7-b8bf-4ca6-bb0d-2cd603b3d8f6","type":"message","user":"U03C6TEAZ","text":"止めるのは一括しかない。","ts":"1560259411.276200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UKCM0ERN0","text":"<@UKCM0ERN0> has joined the channel","ts":"1560259834.276400","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"edc1a923-3ba3-4054-bafe-79cc9d722eb6","type":"message","user":"U03C6TEAZ","text":"コールバック動いた。","ts":"1560183301.236800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2C573119-72D0-4EF1-AB5A-41966AD22EA9","type":"message","user":"UDDCM376D","text":":sasumatsu: ","ts":"1560201813.237100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7225913e-4530-4c3d-91aa-abef2f9cf8da","type":"message","user":"U03C6TEAZ","text":"相談なのですが、sound_playevent って名称で音を鳴らす仕組みで、xdg の名称なんでんだすが、Windows も合わせるべきですよね。","ts":"1560207057.239800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"faf1f44b-9a91-4c26-b9c8-99b6d93438e4","type":"message","user":"U03C6TEAZ","text":"そうなると mci の API としてはファイル名が必要なんですが今の Windows って昔の Windows の様に特定のフォルダに wav が置いてあったりしないんですよね。","ts":"1560207197.241900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5a666837-0979-4e05-a2b2-58aeb97eb5bf","type":"message","user":"U03C6TEAZ","text":"どこにあるんだろ。","ts":"1560207205.242200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c30df2a-6e4e-49e9-84ad-48ae1aa727b0","type":"message","user":"U03C6TEAZ","text":"場所がわかれば xdg の一般的な名称とのマッチングテーブル書けるんですけどね。","ts":"1560207252.243400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d4847e13-6151-4aef-b111-b64cb35137e9","type":"message","user":"U6XP9LZ6V","text":"PlaySound() で使われる \"SystemAsterisk\" などの名称でレジストリを検索すると、 `HKEY_CURRENT_USER\\AppEvents\\EventLabels\\SystemAsterisk` というキーが見つかって、その値を見ると、 `@mmres.dll,-5843` などとなっていることから、mmres.dll のリソースとして含まれているようです。","ts":"1560207584.245800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1ad25155-e9bb-45fe-bbd6-3617be98df66","type":"message","user":"U03C6TEAZ","text":"てことはもしかするとアイコンリソースの参照と同じようにその名称で mciSendString すれば行けたりするのかな。あざます。","ts":"1560207801.249000","edited":{"user":"U03C6TEAZ","ts":"1560207808.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"261fbfbc-ee12-4eb8-af79-2a42f63eadd7","type":"message","user":"U03C6TEAZ","text":"残念ながら会社の pc にはスピーカー無いしイヤホン持ってないので対応は今夜。","ts":"1560209182.251100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b4848909-f60b-4880-9926-ec1e971480e8","type":"message","user":"U03C6TEAZ","text":"それか誰か上の試せるなら仮実装できる。","ts":"1560216826.251800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"650280a1-f9a9-4d87-8691-b328e9aeb7f8","type":"message","user":"U6XP9LZ6V","text":"sound_playfile() に \"@mmres.dll,-5843\" を渡してみたけど、0 が返ってきた。ダメっぽい","ts":"1560220180.252600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ad680af9-c14c-4e44-9ebf-e4c3b65bf5e6","type":"message","user":"U03C6TEAZ","text":"むむー。","ts":"1560221815.253000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac6b12a7-3558-4119-923f-41be731633a8","type":"message","user":"U03C6TEAZ","text":"shellescape してるけど、mmres の何か余計なのエスケープしちゃったかな。帰って試そう。","ts":"1560225684.254300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb51a90b-d259-47a9-b2b7-edb5cfd798a5","type":"message","user":"U6XP9LZ6V","text":"shellescape外しても戻り値0です","ts":"1560226811.255900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f99281ef-e79e-419b-80b9-fe4d181b2ad5","type":"message","user":"U03C6TEAZ","text":"むむむ","ts":"1560226842.256100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97fd1a1a-f0c7-4cb7-8d91-e2a5afff8407","type":"message","user":"U6XP9LZ6V","text":"(音は聞いていない)","ts":"1560226890.256700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"314b437e-8dbd-468a-9640-4beec7f9e3a4","type":"message","user":"U03C6TEAZ","text":"0 が戻り値なら鳴ってないと思います。","ts":"1560227107.257000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b4e93006-8a7c-431f-8aca-d4dc24f75cfa","type":"message","user":"U03C6TEAZ","text":"いろいろ調べて分かった事\n• リソース内の音声を再生するには PlaySound を使わないと駄目。ただし PlaySound はコールバックが指定できない。\n• mciSendString で再生するにはリソースファイルから音声ファイルをファイルとして取り出さないと駄目","ts":"1560229806.258300","edited":{"user":"U03C6TEAZ","ts":"1560229824.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9339363f-816e-4e41-b806-878de82ef318","type":"message","user":"U03C6TEAZ","text":"再生音声毎にスレッド起動してたら大変だしなぁ。","ts":"1560230109.258800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"011162d1-1aca-496a-8359-b0b192b5c061","type":"message","user":"U6XP9LZ6V","text":"別にいいのでは？sound_playevent() がそんなに頻繁に呼ばれるものでもないだろうし。","ts":"1560230707.261800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"db9fd3d6-396a-479f-8eba-2c4b89fb2f99","type":"message","user":"UEACRCY0Z","text":"libportaudio の可能性は薄そうでしょうか？libportaudio なら macOS の CoreAudio 使ってるみたいで良い感じなんですが。\n<https://vim-jp.slack.com/archives/C83UXKU86/p1560127512194800>","ts":"1560231090.262500","attachments":[{"fallback":"[June 9th, 2019 5:45 PM] mattn: libportaudio を出したのは移植性の高さからです。","id":1,"author_id":"U03C6TEAZ","author_name":"mattn","author_subname":"mattn","author_link":"https://vim-jp.slack.com/team/U03C6TEAZ","author_icon":"https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png","text":"libportaudio を出したのは移植性の高さからです。","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #dev","ts":1560127512.194800,"from_url":"https://vim-jp.slack.com/archives/C83UXKU86/p1560127512194800","original_url":"https://vim-jp.slack.com/archives/C83UXKU86/p1560127512194800"}],"edited":{"user":"UEACRCY0Z","ts":"1560231135.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"314424a1-1ade-448f-8978-5dd5fd0ab83e","type":"message","user":"U03C6TEAZ","text":"<@U6XP9LZ6V> キー押すごとに音ならす猛者は必ず現れるので...","ts":"1560231503.263600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ed91c910-aeca-49db-acbe-d25140034bb5","type":"message","user":"U03C6TEAZ","text":"Windows 以外は libporaudio という事であれば、可能性はあるでしょうね。ただ libportaudio は XDG などまで管理してないので、そこは自前で作る必要があります。(音源のパスが OS やディストリビューションにより異なったりします)","ts":"1560231589.265400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aff7fec4-fdfe-452c-b7f8-69e8092c4c22","type":"message","user":"U03C71D7H","text":"&gt; キー押すごとに音ならす猛者は必ず現れるので...\n\n<https://vim-jp.slack.com/archives/C83UXKU86/p1560085731161400>","ts":"1560231888.265700","attachments":[{"fallback":"[June 9th, 2019 6:08 AM] kuu: とりあえず挿入モードでテキスト入力されるたびにキーボード音が鳴るようにしてみたけどクソ楽しい","id":1,"author_id":"U9S4G0LJW","author_name":"kuu","author_subname":"kuu","author_link":"https://vim-jp.slack.com/team/U9S4G0LJW","author_icon":"https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png","text":"とりあえず挿入モードでテキスト入力されるたびにキーボード音が鳴るようにしてみたけどクソ楽しい","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #dev","ts":1560085731.161400,"from_url":"https://vim-jp.slack.com/archives/C83UXKU86/p1560085731161400","original_url":"https://vim-jp.slack.com/archives/C83UXKU86/p1560085731161400"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2fa82c3a-f438-4abb-af2b-7a57c6708e57","type":"message","user":"U03C4RC8X","text":"昔キー押すごとに音鳴らすようにしてたけど、あれほんと最高なのでまたやりたい","ts":"1560232526.266400","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b0ee2206-0103-4cc7-8fc9-646372f51a84","type":"message","user":"U03C4RC8X","text":"当時は遅延がひどくてあきらめた。再生がすべて別プロセスなので","ts":"1560232536.266700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3b9120fc-0be9-424f-a374-5e1be41cfadc","type":"message","user":"U6XP9LZ6V","text":"mciSendStringも内部で勝手にスレッド作ってたりするんじゃないのかな？","ts":"1560232879.268800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b0bf5272-f21a-4cb8-b406-b60bef556322","type":"message","user":"U03C6TEAZ","text":"そんな感じはします。","ts":"1560232935.269000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0965bd35-8250-4e4c-9853-41e9ab2ddfa1","type":"message","user":"U03C6TEAZ","text":"帰ったらスレッドの方も試してみます。","ts":"1560233275.269300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3b03d09f-169a-4312-a5f0-b9a8579f4804","type":"message","user":"U03C6TEAZ","text":"スレッドの方は再生完了したら PostMessage とかでウィンドウ通知すればいいかな。","ts":"1560233315.270200","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U6XP9LZ6V"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0f856fa5-a152-41f7-8035-af387bd3b630","type":"message","user":"U03C6TEAZ","text":"昨日も書いたけど libcanberra のコールバックは危ないと思う。","ts":"1560233343.270700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
