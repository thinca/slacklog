[{"client_msg_id":"a3d94e0a-08f7-4985-bd45-0fcb1c2908e2","type":"message","user":"UPWFF5YQ7","text":"Intersection Observer で動的読み込みならしたことあります。\n\n<https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API|https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API>","ts":"1579606844.019000","attachments":[{"fallback":"MDN Web Docs: Intersection Observer API","id":1,"title":"Intersection Observer API","title_link":"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API","text":"The Intersection Observer API provides a way to asynchronously observe changes in the intersection of a target element with an ancestor element or with a top-level document's viewport.","thumb_url":"https://developer.mozilla.org/static/img/opengraph-logo.72382e605ce3.png","blocks":null,"service_name":"MDN Web Docs","service_icon":"https://developer.mozilla.org/static/img/favicon144.e7e21ca263ca.png","thumb_width":600,"thumb_height":600,"from_url":"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API","original_url":"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HbZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2905fba3-4ca6-4fbe-af38-5affd4c95cdf","type":"message","user":"UPWFF5YQ7","text":"あ、数日前のチャットだった、、、\n\n一応\n監視した DOM が viewport に入ったときにイベント発火させます。画像の遅延読み込みで最近よく使われる気がする。\n\nご存知でしたら失礼しました。","ts":"1579607038.022400","edited":{"user":"UPWFF5YQ7","ts":"1579607091.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hRDLY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1cf7986e-c9e5-4be1-ad61-0acd645e5b00","type":"message","user":"U03C71D7H","text":"いえいえ、ありがとうございます。ただそもそも契機がわかってなくて…","ts":"1579607223.023000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iPb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b4de6282-607c-40ea-a955-98f2ca4f0c82","type":"message","user":"U03C71D7H","text":"まあどうせ雑スクリプトなので、inspect していくとそのうち見えるようになるのはわかっているので、inspect してって見えたらスクリプトを流し込むとかでも最悪なんとかはなりそうですが。微妙ではある","ts":"1579607272.023900","team":"T03C4RC8V","reactions":[{"name":"genchichoutatsu","count":1,"users":["UPWFF5YQ7"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dOeG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f1dcd1c4-5e6c-4565-b44a-aac150893157","type":"message","user":"UPWFF5YQ7","text":"「契機」がノードを作成・append するきっかけのことであれば、\nそれが Intersection Observer で発火させたイベントかなと思いました。ノード A が viewport に入ったら、ノード B を作成、append 。\nただ、そんなマニアックな実装は広告とかでしかあまり見たことない。。\n\n一応、仮にそうだとしたら、\n監視されてるノード A を別の IntersectionObserver インスタンスで監視させ、流し込みたいスクリプトをそのインスタンスに割り当てる形で実現できるかなと。","ts":"1579608096.035900","edited":{"user":"UPWFF5YQ7","ts":"1579608170.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dIxR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c3780a0-5f1d-4df8-a835-c0d2d069ee9d","type":"message","user":"UPWFF5YQ7","text":"あ、もちろんノードの作成のところは innerHTML 書き換えるとかでもいいですけれども。\nviewport 系のイベントは IntersectionObserver 使うなぁというぼやきでした。","ts":"1579608761.038100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Lv4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1442bfc1-1da7-413e-b2a2-674c40aa4b03","type":"message","user":"U03C71D7H","text":"うーん、私の知識不足のせいで現象がより複雑に伝わっている(私自身が現象を理解できていない)説が高そう","ts":"1579608852.038700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pzC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6d8bca7c-60ff-44d0-8d39-56ee6c76c714","type":"message","user":"U03C71D7H","text":"画面には要素は最初から見えているし、スクロールしたら出てくるとかではないんですよねー","ts":"1579608884.039300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Lb64z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"92dc2fca-806d-4bc3-871b-9281ad5b09b3","type":"message","user":"U78A6ESHM","text":"具体的にこのページのココとかありますか？","ts":"1579608900.039600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CjX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7979a5e1-d315-4a93-9e72-c0b81564171f","type":"message","user":"UPWFF5YQ7","text":"あ、確かに勘違いしてました。\n失礼しました。。見えているんですね。おばけかな…","ts":"1579608973.041000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UH4fi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb35bd9b-8b58-430f-a4fe-ea8cd3d4d391","type":"message","user":"U03C71D7H","text":"とある勤怠管理システム…なので同じシステム使ってないと確認はできなさそう…(内製ではないが)","ts":"1579609032.041600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3jq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f5980cd-c188-46b2-8bf1-45edbbed84a2","type":"message","user":"U03C71D7H","text":"対象が iframe に入ってるっぽいところまでは確認できたのでこれが原因の可能性は高そう。要素は Web Console の `$('#hoge')` で探しているんですが、これが最初は iframe 内を探してくれないけど何かすると探してくれるようになるみたいなのってありますかね?","ts":"1579609144.043200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nVIe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c12e1f26-bdff-4228-a90f-3bbd7f36486b","type":"message","user":"U8R597E9H","text":"iframe はドメイン同じならたどれますね。iframe.contentWindow.document.querySelector 的な感じだったと思います。（うろ覚えのまま書いております。）","ts":"1579609182.044000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N/k"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ed0bc8a7-42d6-48b9-8b43-6b48432befa6","type":"message","user":"U8R597E9H","text":"_クリックイベント出したりできたかは覚えておりません。。。_","ts":"1579609206.044300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kbP0t"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9adadbe7-c55a-4b1c-be5c-28312d9cf5c5","type":"message","user":"U03C71D7H","text":".document がなさげ","ts":"1579609272.044500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HkX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6743b934-721b-4a66-818e-42b7eda83333","type":"message","user":"UPWFF5YQ7","text":"触るとアクセスできる理由、これかも？\n<https://winofsql.jp/lightbox/google-chrome-developer-tool-important-20190214-914.html|https://winofsql.jp/lightbox/google-chrome-developer-tool-important-20190214-914.html>\n&gt; コンソールで IFRAME を選択\n&gt; デフォルトでは、トップフレームなので IFRAME の中で作業したい場合に選択します。インスペクトで IFRAME 部分を選択してからコンソールに移動すると、IFRAME 内でコンソールが動作しています。","ts":"1579609410.045200","attachments":[{"fallback":"SQLの窓: Google Chrome デベロッパーツールで知っておきたいテクニック | SQLの窓","id":1,"title":"Google Chrome デベロッパーツールで知っておきたいテクニック | SQLの窓","title_link":"https://winofsql.jp/lightbox/google-chrome-developer-tool-important-20190214-914.html","text":"Google Chrome デベロッパーツールで知っておきたいテクニック | SQLの窓","image_url":"https://lh3.googleusercontent.com/-YbMNIx0-BXE/XCNdJPRhiXI/AAAAAAAAtwg/oQlW5lUuNtUD6FGXVElJ8nva3e0mdR8CACHMYBhgL/s800/%25E6%2588%25A6%25E8%2589%25A6-003_.jpg","blocks":null,"service_name":"SQLの窓","service_icon":"https://winofsql.jp/favicon.ico","from_url":"https://winofsql.jp/lightbox/google-chrome-developer-tool-important-20190214-914.html","original_url":"https://winofsql.jp/lightbox/google-chrome-developer-tool-important-20190214-914.html"}],"edited":{"user":"UPWFF5YQ7","ts":"1579609554.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lMp6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"365b0a1d-de77-4c15-baa7-3b05bc0b136a","type":"message","user":"U8R597E9H","text":".contentDocument かもしれません。","ts":"1579609525.045800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hw13f"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"25bc3306-65b7-43ca-8354-9e3d3beaa688","type":"message","user":"U03C71D7H","text":"おーそれっぽい","ts":"1579609539.046000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uRA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"176bc7d0-44b5-4e65-a98a-1f4c6f0764fb","type":"message","user":"U03C71D7H","text":"完全にそれでした！ありがとうございます！！！","ts":"1579609605.046400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FiT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"858a8929-17eb-4233-876a-68d17397e360","type":"message","user":"U03C71D7H","text":"それ &gt;コンソールで IFRAME を選択","ts":"1579609624.046700","team":"T03C4RC8V","reactions":[{"name":"blob_tada","count":2,"users":["UPWFF5YQ7","UGP5AJKU4"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y2Tpt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"14c5e24b-9979-4836-91e4-4486bb9c6293","type":"message","user":"UPWFF5YQ7","text":"よかったです！\n自分も知りませんでした。知見。","ts":"1579609744.047400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mVKb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9f5ee5d3-1442-4ec1-9273-ba65c7303a01","type":"message","user":"U03C71D7H","text":"コンソールで `cd(iframe.contextWindow)` で切り替えられるって話も見つけたけど動かない。Firefox だけかなぁ","ts":"1579609924.048100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=ZR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b76eda21-9535-4bf3-8055-b3dd438341eb","type":"message","user":"U03C71D7H","text":"<https://developers.google.com/web/tools/chrome-devtools/console/utilities>\nコンテキストを切り替える方法はなさそう。まあ手でやればいっか","ts":"1579610169.048800","attachments":[{"fallback":"Google Developers: Console Utilities API Reference  |  Tools for Web Developers","id":1,"title":"Console Utilities API Reference  |  Tools for Web Developers","title_link":"https://developers.google.com/web/tools/chrome-devtools/console/utilities","text":"A reference of convenience functions available in the Chrome DevTools Console.","image_url":"https://developers.google.com/web/images/social-webfu-16x9.png","blocks":null,"service_name":"Google Developers","service_icon":"https://www.gstatic.com/devrel-devsite/prod/v0e4e104495105e7f1e0709003bc8740507426db77c74cec8d9625a7c35862984/developers/images/touchicon-180.png","from_url":"https://developers.google.com/web/tools/chrome-devtools/console/utilities","original_url":"https://developers.google.com/web/tools/chrome-devtools/console/utilities"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9fcz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"abec5483-457f-40de-a0cd-20829ef01bc3","type":"message","user":"UPWFF5YQ7","text":"same origin じゃない感じですか。つらみ。。\n\n<https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/contentDocument|https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/contentDocument>","ts":"1579610305.049600","attachments":[{"fallback":"MDN Web Docs: contentDocument","id":1,"title":"contentDocument","title_link":"https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/contentDocument","text":"If the iframe and the iframe's parent document are Same Origin, returns a Document (that is, the active document in the inline frame's nested browsing context), else returns null.","thumb_url":"https://developer.mozilla.org/static/img/opengraph-logo.72382e605ce3.png","blocks":null,"service_name":"MDN Web Docs","service_icon":"https://developer.mozilla.org/static/img/favicon144.e7e21ca263ca.png","thumb_width":600,"thumb_height":600,"from_url":"https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/contentDocument","original_url":"https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/contentDocument"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iSV="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0e1e0bb2-d5e6-49dd-a927-eee7731c08f7","type":"message","user":"U03C71D7H","text":"いや、same のはず","ts":"1579610365.049900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Gy8xo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"86d61c24-a6ed-45f4-bc35-39b5a682036b","type":"message","user":"U03C71D7H","text":"?","ts":"1579610371.050100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mUf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b8cb42ce-f8b3-4c98-8b3a-e42933c4ba87","type":"message","user":"U03C71D7H","text":"ちゃんと見てないので見よう…","ts":"1579610377.050300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ErHb/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c6c0542-d2f1-4c51-89f6-16ca58a52a0e","type":"message","user":"U8R597E9H","text":"s/context/content/?","ts":"1579610441.050900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hlQm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"066b5da7-307b-4827-bc5f-4ad707a8adc1","type":"message","user":"U03C71D7H","text":"外部 src を読んでるわけではなさそう","ts":"1579610459.051200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qgSF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f9c5c7f2-97de-4d66-8ffd-e74a7a6876c4","type":"message","user":"U03C71D7H","text":"content typo か。しかしそもそも cd がないですね","ts":"1579610541.051600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i0byZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1787c104-9adc-46b6-837d-f9a755911ee4","type":"message","user":"UPWFF5YQ7","text":"多分 cd って\n```\ndocument = iframe.contentDocument \n```\nしてるだけかもです","ts":"1579612628.053400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A3r+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"82c954bc-9bdb-46ea-8f55-b5193cc43598","type":"message","user":"UPWFF5YQ7","text":"スマホだからかシンタックスがきかない\n\n寝ちゃいます（早い）","ts":"1579612660.054200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rQ3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
