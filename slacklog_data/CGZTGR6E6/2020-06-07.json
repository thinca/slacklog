[{"client_msg_id":"ef7969f4-5730-4673-ace2-8a4381163aff","type":"message","user":"U03C4RC8X","text":"知見の宝庫・・・!","ts":"1591477042.144200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jBIUp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f637b932-158f-4887-a5b7-7a19cf2b0922","type":"message","user":"U03C4RC8X","text":"うーんi18next-reactというのを試してるんですが、なぜか$を含む文面を翻訳できなくて苦戦中","ts":"1591496681.144700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"n8zC="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ed63f149-fbd1-4cc9-8541-f48110325c1c","type":"message","user":"U03C4RC8X","text":"いかにも特別な意味をもってそう","ts":"1591496697.144900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6Geb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8feb336d-c9a0-45f1-847b-abd5d5eb1325","type":"message","user":"U8996GYBF","text":"面倒そう・・・","ts":"1591496711.145100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yVa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d8cec16b-503f-402e-9661-70589c8316ca","type":"message","user":"U8996GYBF","text":"$確かになんか変な意味持ってそうですねぇ","ts":"1591496727.145400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HsygS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c7e76a1-5f5e-4aed-afcd-2e9766ab783b","type":"message","user":"U8996GYBF","text":"i18n自体で意味を持ってるのか、ライブラリ特有のルールなのか調べないといけなそう","ts":"1591496747.145900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HJ9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a0df0fde-48b6-45dc-bf00-8fe3ce371b69","type":"message","user":"U03C4RC8X","text":"いや! なんと違った、犯人は:だった(?)","ts":"1591497038.146200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J4q1l"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"87f0696d-ab40-41f4-880d-1dbb53d8eb11","type":"message","user":"U03C4RC8X","text":"調査中","ts":"1591497040.146500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ACKUw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c24582dc-de6d-4ef5-9545-131e04ed09f5","type":"message","user":"U03C4RC8X","text":"やはりだ、:を含む文字列を翻訳できない","ts":"1591497096.146700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OCF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2dd4664c-4c78-4cb0-a54f-6890bff6ef4c","type":"message","user":"U03C4RC8X","text":"&amp;colon;にすると解決した。なるほどなあ","ts":"1591497149.146900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KXf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1faaeb7d-7962-4161-aaeb-24633adbabb5","type":"message","user":"U03C4RC8X","text":":goodpoem: <https://github.com/ujihisa/generic-factory-game/commit/eea15aa52a6d10813f7fead6a30626bb7f967f27>","ts":"1591497304.147100","attachments":[{"fallback":"GitHub: Introduce i18n for Advertise · ujihisa/generic-factory-game@eea15aa","id":1,"title":"Introduce i18n for Advertise · ujihisa/generic-factory-game@eea15aa","title_link":"https://github.com/ujihisa/generic-factory-game/commit/eea15aa52a6d10813f7fead6a30626bb7f967f27","text":"Contribute to ujihisa/generic-factory-game development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11504?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/ujihisa/generic-factory-game/commit/eea15aa52a6d10813f7fead6a30626bb7f967f27","original_url":"https://github.com/ujihisa/generic-factory-game/commit/eea15aa52a6d10813f7fead6a30626bb7f967f27"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MtUMI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"C4D45128-16DC-4139-A128-E86F18CFB844","type":"message","user":"U78A6ESHM","text":"escapeValue?","ts":"1591497527.147800","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["U03C4RC8X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+CMA2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"15ff7d58-08c2-47ad-8f83-3ab311e0d954","type":"message","user":"U03C4RC8X","text":"trueするとかわるかな","ts":"1591497585.148200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/q2c"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"69ee8db7-b21a-4704-ad21-2f0925028923","type":"message","user":"U03C4RC8X","text":"試しにtrueにしてみたけどだめでした","ts":"1591497642.148400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p==U"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6f2e645-1e29-4e2a-8e30-f60d1956dfdb","type":"message","user":"U03C4RC8X","text":"とりあえずうまくいけそうなことがわかって :angxing:","ts":"1591497655.148700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Rlp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a71b6321-2e3c-41cf-bf8e-0c384cf0bbb4","type":"message","user":"U03C4RC8X","text":"どんどん既存のJS中の文言をi18nしていくぞー :goodpoem:","ts":"1591497674.149300","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":1,"users":["U78A6ESHM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZVM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8fd0d251-f318-49fb-a4a2-2f6e78c1f0c8","type":"message","user":"UAZ33BKV2","text":"そして翻訳の手が...となりそう","ts":"1591497801.149600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RsvI8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bf192f58-8666-4400-bd6a-5e79c906b9a6","type":"message","user":"U8996GYBF","text":"Vim scriptだとstringのarray操作をbyteで数えて、JSのsliceだと文字数で数えるから誤差が出る・・・？","ts":"1591507418.150600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ITvO3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0914bb45-1477-4eeb-ba74-4c4b19bedaf4","type":"message","user":"U03C4RC8X","text":"i18nの型の問題ついに理解した","ts":"1591509064.151000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2X1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"80844f07-7242-4ca6-ad7e-a971ace0d7da","type":"message","user":"U03C4RC8X","text":"<https://github.com/ujihisa/generic-factory-game/blob/master/app/javascript/packs/Advertise.tsx#L67> ここでtoString()が必要なのかー","ts":"1591509102.151300","attachments":[{"fallback":"GitHub: ujihisa/generic-factory-game","id":1,"title":"ujihisa/generic-factory-game","title_link":"https://github.com/ujihisa/generic-factory-game/blob/master/app/javascript/packs/Advertise.tsx#L67","text":"Contribute to ujihisa/generic-factory-game development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11504?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/ujihisa/generic-factory-game/blob/master/app/javascript/packs/Advertise.tsx#L67","original_url":"https://github.com/ujihisa/generic-factory-game/blob/master/app/javascript/packs/Advertise.tsx#L67"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Aq5A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4cf872b-7715-4728-b5f2-31e9d9729a8f","type":"message","user":"U78A6ESHM","text":"型的に デフォルトで string 返りそうなんですけどねえ\n<https://github.com/i18next/i18next/blob/master/index.d.ts#L639-L646>","ts":"1591510753.152300","edited":{"user":"U78A6ESHM","ts":"1591510758.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wn0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99721eeb-04e8-47d9-ab85-eef66c70f5e7","type":"message","user":"U03C4RC8X","text":"そうなんですよ","ts":"1591511349.152800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q7YBi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3659907f-32a1-4cb3-99dd-1cc07e0a6d7f","type":"message","user":"U8996GYBF","text":"バグっぽい","ts":"1591511400.153000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HFy7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e6aa7451-4d0c-477e-a431-b40d0a7005c4","type":"message","user":"U8996GYBF","text":"実際何が入ってるんです？","ts":"1591511410.153200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A4R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"134ec1e8-54bf-437c-8e19-5c98d74fb18f","type":"message","user":"U03C4RC8X","text":"stringです!","ts":"1591511456.153500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r5/="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0a51afab-c189-46e0-b5ad-a87ff85a3f37","type":"message","user":"U8996GYBF","text":"stringをtoStringしないとダメ・・・？","ts":"1591511513.154000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y3khl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f1ececf3-2107-48ee-a0b5-7dab3638edf4","type":"message","user":"U03C4RC8X","text":"それ","ts":"1591511553.154300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3Y2/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0f1b916d-8489-4bef-8b82-ac5da642cc03","type":"message","user":"U03C4RC8X","text":"理不尽","ts":"1591511555.154500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"smO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"532272d9-948d-46d4-9d21-69277de4a938","type":"message","user":"U03C4RC8X","text":"ためしにtoString消すとちゃんと怒られるの確認できます!","ts":"1591511569.154800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7teOy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"25d66b45-5717-4e61-a4a8-e62d53d6795b","type":"message","user":"U03C4RC8X","text":"&gt; Failed to compile.\n\n/home/ujihisa/git/generic-factory-game/app/javascript/packs/Advertise.tsx\n./app/javascript/packs/Advertise.tsx\n[tsl] *ERROR in /home/ujihisa/git/generic-factory-game/app/javascript/packs/Advertise.tsx(67,42)*\n      *TS2322: Type 'TFunctionResult' is not assignable to type 'string | number | string[] | undefined'.*\n  *Type 'null' is not assignable to type 'string | number | string[] | undefined'.*","ts":"1591511589.155000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Nc7r"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"89b633dc-dc24-4a73-93a8-1a989112acb0","type":"message","user":"U03C4RC8X","text":"おっ","ts":"1591511659.155300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R=FYt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fc6eda7d-5cfe-4942-b10f-78cbd0a7cefb","type":"message","user":"U03C4RC8X","text":"Scalaの気持ちで雑にtype parameter渡してみたら、いけました :goodpoem: <https://github.com/ujihisa/generic-factory-game/commit/9867f31cccb279220a5d614f9e8beb4719f58df0>","ts":"1591511669.155600","attachments":[{"fallback":"GitHub: Nice · ujihisa/generic-factory-game@9867f31","id":1,"title":"Nice · ujihisa/generic-factory-game@9867f31","title_link":"https://github.com/ujihisa/generic-factory-game/commit/9867f31cccb279220a5d614f9e8beb4719f58df0","text":"Contribute to ujihisa/generic-factory-game development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11504?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/ujihisa/generic-factory-game/commit/9867f31cccb279220a5d614f9e8beb4719f58df0","original_url":"https://github.com/ujihisa/generic-factory-game/commit/9867f31cccb279220a5d614f9e8beb4719f58df0"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"szeOS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e69df2c8-8c7e-4e33-804b-1a7c81da2a8f","type":"message","user":"U8996GYBF","text":"あー、ありそう","ts":"1591511681.156100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Le=bd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c41e5d9-14c1-4b10-afcd-428b7ebe1055","type":"message","user":"U78A6ESHM","text":"えーありそうだけど、推論効かないの…。","ts":"1591511868.156900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1NM1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dbda2a5d-0cf3-43a1-811f-817d0a3ab280","type":"message","user":"U8R597E9H","text":"こういうのは lsp の hover やら使って推論結果みてみないと当たりつかないですね…。なぞだなあ。","ts":"1591517942.158100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"H2oqe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0876894e-d1e6-44a8-9283-b537575e4b92","type":"message","user":"U8996GYBF","text":"テストの知見がなさすぎてちょっと教えて貰いたいんですが、こういうコードってどうやってテストされます？\n```const selectIsEnableDevIcons = () =&gt; createExecuteCommandSelector(store)().options.enableDevIcons\n\nexport const trimLines = (lines: Array&lt;string&gt;, optionalSize = 0) =&gt; {\n  const isEnableDevIcons = selectIsEnableDevIcons()\n  if (!isEnableDevIcons) {\n    return lines\n  }\n\n  const devIconPrefixLength = createGlobalVariableSelector(store)(\"fzfPreviewDevIconPrefixStringLength\")\n  if (typeof devIconPrefixLength !== \"number\") {\n    throw new Error(\"g:fzf_preview_dev_icon_prefix_string_length must be number\")\n  }\n  return lines.map((line) =&gt; line.slice(devIconPrefixLength + optionalSize))\n}```","ts":"1591518025.158800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rjLI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d635dec-d636-4646-a2bb-e31a2dba1b45","type":"message","user":"U8996GYBF","text":"storeに依存してたりで面倒くさくて、 Jestで `import { createFooSelector } from \"foo\"` の部分をMockしてSelectorの返り値を差し替えちゃいながらテストするとかが楽でしょうか","ts":"1591518072.159700","edited":{"user":"U8996GYBF","ts":"1591518109.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U0+nI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ed181c58-ef6d-44be-b001-07b1586f6748","type":"message","user":"U8996GYBF","text":"（やったことないんですけど `Jest.mock(\"foo\")` でimportしている実装自体多分差し替えれるんですよね・・・？）","ts":"1591518222.160600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"374"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4be66b5-2461-4174-8761-2f010d419d49","type":"message","user":"U8R597E9H","text":"自分ならまずはテスト向けにストアを初期化できないだろうか？と考えてしまいそうです。","ts":"1591519510.161600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U8Jb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5bd345bf-9942-4d03-9dce-f21592fe905e","type":"message","user":"U8996GYBF","text":"`store.getState()` の返り値をいじるとかではなくて、storeオブジェクト自体をいい感じにするってことですかね","ts":"1591519810.162300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FTkVH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3360bfd3-4f37-43dc-b8f5-ef27abdcd995","type":"message","user":"U8996GYBF","text":"storeをcreateSelectorに差し込むのは、どんな感じで書きます？","ts":"1591519857.163500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=JzI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"00d551ed-0dc9-4cbe-bbac-0dd7bc2194c4","type":"message","user":"UAZ33BKV2","text":"mockはそれ自体を入れ替えるのがアンパイではあるんだろうなあ","ts":"1591519861.163700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vzzi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6fd83069-4b66-44f9-a351-828b10e79707","type":"message","user":"UAZ33BKV2","text":"ただ、大変だから、うまく初期化できればそれ、みたないな","ts":"1591519893.164200","edited":{"user":"UAZ33BKV2","ts":"1591519902.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"byw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68d254f0-b3e9-4b76-9fc6-9f0796f7eb15","type":"message","user":"U8996GYBF","text":"`(createFooSelector as jest.Mock).mockReturnValue(\"foo\")` みたいなのは最終手段ってことですよね、多分","ts":"1591519961.165100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i9Y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bce53398-7fa9-4426-b2c3-9e66fc55e098","type":"message","user":"U8996GYBF","text":"テスト書かなすぎてユニットテストのいい感じの粒度が分かっていない・・・","ts":"1591520033.165600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mOf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a73e5293-4e0b-48d1-8381-5167b82ec182","type":"message","user":"UAZ33BKV2","text":"TestSuiteは1関数、TestUnitは1Pass(条件など)、くらいが小のほうの粒度、大だとケースバイケースな気がする(ユニットテストしにくいのは大になりがち)","ts":"1591520088.166500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6cD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1ce893ca-1600-4d3c-8039-752a49fb528a","type":"message","user":"U8996GYBF","text":"ファイル貼っておこう、（今テストを書くかは別にして）テストを書くならどういう感じの手法があって何がベターなのか知りたいです\n<https://github.com/yuki-ycino/fzf-preview.vim/blob/feature%2Ftypescript_remote_plugin/src/fzf/handler/open-file.ts>","ts":"1591520199.167400","attachments":[{"fallback":"GitHub: yuki-ycino/fzf-preview.vim","id":1,"title":"yuki-ycino/fzf-preview.vim","title_link":"https://github.com/yuki-ycino/fzf-preview.vim/blob/feature%2Ftypescript_remote_plugin/src/fzf/handler/open-file.ts","text":"Dark powered fzf plugin. Contribute to yuki-ycino/fzf-preview.vim development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/5423775?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/yuki-ycino/fzf-preview.vim/blob/feature%2Ftypescript_remote_plugin/src/fzf/handler/open-file.ts","original_url":"https://github.com/yuki-ycino/fzf-preview.vim/blob/feature%2Ftypescript_remote_plugin/src/fzf/handler/open-file.ts"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ssm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"382cad82-9b26-4360-b892-5055b3391df0","type":"message","user":"UAZ33BKV2","text":"ちなみにCべったりな人なので、そもそもユニットテストがつくりづらい...","ts":"1591520219.167900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"icP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"15b83efb-5886-429c-b4ab-c3e0c2913280","type":"message","user":"U8996GYBF","text":"C大変そう","ts":"1591520308.168100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OBopS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4e8f4e84-3ba2-49e5-be5a-5b50a711813c","type":"message","user":"U9S4G0LJW","text":"今時Cって組込みかな","ts":"1591520326.168300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"073mv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f3176f17-fdc4-4704-bc80-c59cfe4aeb6f","type":"message","user":"U9S4G0LJW","text":"テストめっちゃつらそう","ts":"1591520346.168900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NaS5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"10022b6e-7402-4e47-a993-e18efac7008a","type":"message","user":"UAZ33BKV2","text":"Exactly(そのとおりでございます)","ts":"1591520358.169200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L0=lN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5c3540d4-0228-4ca3-9f95-2bcff6255f76","type":"message","user":"UAZ33BKV2","text":"でも、必要なときに、わりと好き勝手できるのは好き(そしてバグる)","ts":"1591520385.169700","team":"T03C4RC8V","reactions":[{"name":"warau","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U/D"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e1251f71-d0fe-46a9-aad8-57dcca47836a","type":"message","user":"UAZ33BKV2","text":"でもここ半年くらいはPythonとVBAくらいしか書いてない気はするw","ts":"1591520413.170200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hr51"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"81660884-69ce-4093-a436-66f97686ff16","type":"message","user":"UAZ33BKV2","text":"さすがにそこまでいってないかw","ts":"1591520432.170400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RlE99"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7f05a09a-27a2-45ac-bda9-1c0aa89119a1","type":"message","user":"UAZ33BKV2","text":"カーネル空間の物理アドレスなら、直に好きなところに行けるぞ、と","ts":"1591520466.171000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"APbLR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"77295281-bec2-41b2-b56b-9681b6017b33","type":"message","user":"U9S4G0LJW","text":"アドレスが物理なの怖い","ts":"1591520499.171500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v12i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f476e89a-92a7-4e6a-bc2f-0dc407b12be9","type":"message","user":"U9S4G0LJW","text":"BSoDの恐怖","ts":"1591520510.171900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"67110"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"087910a8-de08-424c-8450-ae461dea4472","type":"message","user":"UAZ33BKV2","text":"まあ、さすがにあまりない(ドライバのDMA処理書く時くらい)","ts":"1591520514.172100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nAf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"286198ed-0a14-4500-a609-6400b5ffbb1b","type":"message","user":"UAZ33BKV2","text":"普段はよくてリニアアドレス(カーネルのメモリ空間)、普段はマップドアドレス(ユーザー/カーネルの機能空間)","ts":"1591520549.172900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aMlwx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76db090b-d667-449a-9e11-609699456b07","type":"message","user":"U8R597E9H","text":"test するときにも store の初期化をして、本物の store を使ってテストするということです。(やったことないので API 足りてるかは不明ではあります)","ts":"1591520939.175100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yz0ug"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"80e73423-d265-4aaa-91a3-ef9a2d34bbb5","type":"message","user":"U8996GYBF","text":"&gt; 本物のstore\nですよね、理解しました","ts":"1591520964.175500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W4SgS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"036d1be6-fa2e-419a-a811-f8e7b3218a6d","type":"message","user":"U8996GYBF","text":"現実的には `getState()` あたりを差し替えるのが楽そうかなぁ","ts":"1591520999.175900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pRvJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"79BCBF77-081E-4A08-AAE7-28FD63F30023","type":"message","user":"UFHQ7TNT0","text":"以前 redux のテスト書いたときはこちらを参考にしてモックstoreでやってました。\n<https://redux.js.org/recipes/writing-tests|https://redux.js.org/recipes/writing-tests>","ts":"1591527022.177100","attachments":[{"fallback":"Redux","id":1,"title":"Redux","title_link":"https://redux.js.org/recipes/writing-tests","text":"# Writing Tests","blocks":null,"service_name":"redux.js.org","service_icon":"https://redux.js.org/img/favicon/favicon.ico","from_url":"https://redux.js.org/recipes/writing-tests","original_url":"https://redux.js.org/recipes/writing-tests"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ebC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6c0f44d-e5af-4706-b7ed-145bdc511c9d","type":"message","user":"U78A6ESHM","text":"最初の頃は自分も redux-mock-store 使ってました。ちょっと前は React だったのでテスト用の Provider 作ってそこでテスト用に configureStore してたな。hrsh7th さんと同じやり方。","ts":"1591527719.178900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LA1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5fb00322-4cc3-4ddb-a6c8-7271e077ec3f","type":"message","user":"U8996GYBF","text":"ThunkDispatchってdispatchする関数がPromiseを返す場合dispatchの返す型がPromiseになるんですね、その辺意識してなかった・・・","ts":"1591530766.179800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vBfwl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f048ac9a-38ff-4893-a274-8bc4e117732a","type":"message","user":"U8996GYBF","text":"なので、ThunkActionをDispatchしてawaitすれば今回の場合connect的なのを頑張る必要がなかったということに","ts":"1591530795.180400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jXTu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9d42de1e-ea81-4fe6-ba86-093b93e9fe69","type":"message","user":"U8996GYBF","text":"テストも書いていこう","ts":"1591530804.180600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"18SN2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3daf861a-c74a-48e1-a036-f004c1e12c3b","type":"message","user":"U8996GYBF","text":"この辺しっかり読んどいた方がよさそうだ\n<https://redux-toolkit.js.org/usage/usage-with-typescript>","ts":"1591530819.180900","attachments":[{"fallback":"Redux Toolkit","id":1,"title":"Redux Toolkit","title_link":"https://redux-toolkit.js.org/usage/usage-with-typescript","text":"# Usage With TypeScript","thumb_url":"https://redux-toolkit.js.org/img/redux-logo-landscape.png","blocks":null,"service_name":"redux-toolkit.js.org","service_icon":"https://redux-toolkit.js.org/img/favicon/favicon.ico","thumb_width":1200,"thumb_height":495,"from_url":"https://redux-toolkit.js.org/usage/usage-with-typescript","original_url":"https://redux-toolkit.js.org/usage/usage-with-typescript"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fa/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
