[{"client_msg_id":"2D7FDA67-3D56-4D88-82E9-1F736A2A13E0","type":"message","user":"UDDCM376D","text":"curlからは叩けますね","ts":"1570747875.004100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"E6C0B476-D3F2-4A58-9033-EE03D2E29264","type":"message","user":"UDDCM376D","text":"オレオレ証明書だと、axiosからは叩けないっぽい","ts":"1570747897.004900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"D6A611DE-73FB-4FC4-93FD-E210B4AD5BAD","type":"message","user":"UDDCM376D","text":"ちなみに、ecsは起動するたびにパブリックipが変わるので、ドメインを使いたいのですがみなさんどのようにやってますか？","ts":"1570747953.006300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"E71D0A4A-C026-4DB6-84B3-A4E3D8F9CBD1","type":"message","user":"UFHQ7TNT0","text":"ドメインは ALB (ELB) に向けて、ALB から ECS につないでますね。証明書はACMで発行してALBにつけています。ALBは一応それなりのコストが発生します。\nあと、ACMのリージョンは us（僕はいつも east-1）にしておいたほうが無難です。","ts":"1570753453.010900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"19621BDC-ACD6-499B-A171-E09CF3BC98F1","type":"message","user":"UDDCM376D","text":"ふむふむ","ts":"1570754439.011100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"85D7BAC2-67C8-40B3-A46B-3D1FBFA4E0BF","type":"message","user":"UDDCM376D","text":"<@UFHQ7TNT0>\n証明証をALBにつけたら、ecs側は証明証不要になるのでしょうか？","ts":"1570755304.012200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"F69AA232-6EA6-418F-A8B3-278629F70D82","type":"message","user":"UDDCM376D","text":"s3 -&gt; alb(証明書) -&gt; ecs(ポートは何でも良い？？)","ts":"1570755424.013700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"79771185-73D3-4AEB-8E55-5366359FA77E","type":"message","user":"UFHQ7TNT0","text":"そうそう。そう言う感じです。ecsは証明書不要ですし、ポートもなんでも良いです。","ts":"1570755472.015200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ADE4A07A-BA51-4E66-9DAD-174218C5B9ED","type":"message","user":"UDDCM376D","text":"おお","ts":"1570755482.015600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28F4B274-2158-4E4B-9F98-97A1C1CF6EF2","type":"message","user":"UDDCM376D","text":"そしたらhttpsサーバーを立てなくて良いってことか","ts":"1570755501.016900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"A725C5CC-A216-4255-9F04-C088D06F879B","type":"message","user":"UDDCM376D","text":"らく","ts":"1570755508.017200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4850C66A-3DA6-4B22-A8D0-75A10DCC54E9","type":"message","user":"UDDCM376D","text":"ALBがプロキシ的な立ち位置になるのか","ts":"1570755522.018000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"A19F764E-DA81-4180-A50D-BB54CC7B4F0B","type":"message","user":"UDDCM376D","text":"ロードバランサーに証明書つけられるのは知らなかった","ts":"1570755545.019200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78417BB3-9FBC-46F5-A125-1745111ED9B1","type":"message","user":"UDDCM376D","text":"ふむふむ","ts":"1570755548.019400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"C369BAEA-7204-44D6-8067-2E28F8E14607","type":"message","user":"UFHQ7TNT0","text":"もちろん、ecsに証明書付けて ALB &lt;-&gt; ECS 間も https でつないで完全SSLにするというやり方もありますけど、あまりやられてないんしゃないかなと思います（コネクションに余計な時間がかかる）","ts":"1570755593.020500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"59458E32-7D49-4543-8ED9-4FA966D01D26","type":"message","user":"UDDCM376D","text":"なるほど\n\nALBまでたどり着けば、aws内のネットワークだから、盗聴される心配もないって感じですかね","ts":"1570755641.021600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6656289B-D78A-4C7B-A3D2-A241FAC11301","type":"message","user":"UDDCM376D","text":"ちなみに、ECSのポートはパブリックじゃないといけないでしょうか？","ts":"1570755738.022400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3096FC6E-0102-485A-A2A1-9D65810CAC79","type":"message","user":"U78A6ESHM","text":"alb から見れたら何でも良さそう。","ts":"1570757364.023000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2cd4bfd1-006b-484e-8a55-7ae38189bfdf","type":"message","user":"UDDCM376D","text":"ですよね","ts":"1570758224.023500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
