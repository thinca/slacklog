[{"client_msg_id":"804acea6-2e5a-40cc-9140-90396ba56f65","type":"message","user":"U8996GYBF","text":"リモートプラグインを書くことでTS力が高まっていっているのを感じている、よい","ts":"1590991743.452100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0zBT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb1f2c1d-3425-4092-bc04-e0b3ff36fabb","type":"message","user":"U8996GYBF","text":"Reactとやらないといけないことが大分違うから別方面の経験値が入っていいですね\nためになりにくいかと思ってたら想定外によかった","ts":"1590991783.452800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UJwg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e8ea3d8d-956e-41d7-bab1-79b950cc7260","type":"message","user":"U8996GYBF","text":"あとはエコシステムが強いのがめっちゃ便利","ts":"1590991821.453200","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TIa3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65150e11-d5b4-4cea-b0f3-a51056dd7c4b","type":"message","user":"U8996GYBF","text":"reduxのstoreの扱いだけなんか気持ち悪くて困ってるんですけど、globalにexportして使うところでimportしちゃうのでいいんですかねー\nなんかどこからでもstoreを制約なしに使えちゃうのが気持ち悪い感じがして","ts":"1590992476.454500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dZl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c4842650-ae92-484c-9263-0a2958c1a95a","type":"message","user":"U8996GYBF","text":"module側にselectorみたいなものは置いてて、storeをimportした側selectorを経由して値を取るみたいな形にはしてるんですけど、こんな\n```export const createGlobalVariableSelector = (store: Store) =&gt; (name: GlobalVariableName) =&gt; {\n  return store.getState().vimVariable.global[name]\n}```","ts":"1590992540.455300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k/un"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"05aac34b-5796-423c-a754-f41568e6ea9b","type":"message","user":"U8996GYBF","text":"できるのであれば、mapStateToPropsみたいなのを作って値を注入する仕組みにした方がいい・・・？","ts":"1590992679.456000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8ZiC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e0a750e9-3ad4-4dd1-b75d-548492db6c88","type":"message","user":"U8996GYBF","text":"connectみたいな関数が書ける気がしない・・・\nあれreact-reduxの機能ですよねぇ・・・","ts":"1590992989.456800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iDm="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b61e2dc-ad54-412f-901b-1050c97a26ee","type":"message","user":"U8996GYBF","text":"完全に無理になった <https://github.com/DefinitelyTyped/DefinitelyTyped/blob/1eb3865ae7e39366f4e80c5f180450055465430b/types/react-redux/v6/index.d.ts>","ts":"1590993295.457000","attachments":[{"fallback":"GitHub: DefinitelyTyped/DefinitelyTyped","id":1,"title":"DefinitelyTyped/DefinitelyTyped","title_link":"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/1eb3865ae7e39366f4e80c5f180450055465430b/types/react-redux/v6/index.d.ts","text":"The repository for high quality TypeScript type definitions. - DefinitelyTyped/DefinitelyTyped","thumb_url":"https://avatars0.githubusercontent.com/u/3637556?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/1eb3865ae7e39366f4e80c5f180450055465430b/types/react-redux/v6/index.d.ts","original_url":"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/1eb3865ae7e39366f4e80c5f180450055465430b/types/react-redux/v6/index.d.ts"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"swBCz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"091a2b92-c9a7-4160-9e31-b335fb1c0321","type":"message","user":"U8996GYBF","text":"storeに依存させずにconnectして注入するみたいな形にしたい・・・","ts":"1590993344.457700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HZNA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"56132f5a-9a57-47c6-afc2-a4713da75fc9","type":"message","user":"U8R597E9H","text":"やりたいこと次第ですが store.subscribe でストアの変更取れるらしいので\n\n```const store = Store.create();\n\ntype Select&lt;S, R&gt; = (s: S) =&gt; R;\n\nexport const connect = &lt;S, R&gt;(select: Select&lt;S, R&gt;, process: (selected: R) =&gt; void) =&gt; {\n  store.subscribe(() =&gt; process(select(store.getState())));\n};```\nこんな感じでかんたんにつなぐだけでも store 隠蔽自体はできそうです。","ts":"1590993501.460600","thread_ts":"1590993501.460600","reply_count":1,"replies":[{"user":"U8R597E9H","ts":"1590993839.463600"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5B0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c23fa6c1-4584-4fb5-96e0-d7764f9dbbe8","type":"message","user":"U8R597E9H","text":"_動かしてないので雰囲気コードです。_","ts":"1590993511.460900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+pH5d"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f7270d84-ed08-4708-b279-cba654a8aaa4","type":"message","user":"U8996GYBF","text":"おっ","ts":"1590993525.461100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d9BT6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d0852fc9-8cc2-4712-a380-b9cee86e152b","type":"message","user":"U8996GYBF","text":"subscribeは知ってたんですが、いい書き方思いついてなかった","ts":"1590993567.461900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"glUFm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"601675f8-db85-451e-8873-593c964546a6","type":"message","user":"U8996GYBF","text":"ダメだー、型まだ全然読めない","ts":"1590993642.462300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tJ7x"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a3916315-70fe-4e0f-a18b-c79853efb720","type":"message","user":"U8R597E9H","text":"多分、state の型だけは埋め込めるように作ったほうがよさそう。","ts":"1590993839.463600","thread_ts":"1590993501.460600","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+lN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9f4c75a-9288-4296-af48-eaf4ef779908","type":"message","user":"U8996GYBF","text":"SelectはSを受け取ってRを返す関数で、Sが `store.getState()` だからStateですよね\nprocessはRを受け取ってstoreの変更の度に実行される関数で、Selector（ `select` ）を実行して、Stateから取り出した値を返すと","ts":"1590993909.464700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"III"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"45da1f88-8977-4df4-b6d0-4710f451db07","type":"message","user":"U8996GYBF","text":"```export const foo = () =&gt; {\n  const fooSelector = createFooSelector(store)\n  return {\n    \"--foo\": fooSelector('foo')\n  }\n}```\nがあったとして繋ぎ方考えてみよう・・・","ts":"1590994081.465500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S2zNb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"932720be-45cb-47c3-adfb-623716149c5e","type":"message","user":"U8996GYBF","text":"```const store = setupStore()\nexport const connect = &lt;S, R&gt;(select: Select&lt;S, R&gt;, process: (selected: R) =&gt; void) =&gt; {\n  store.subscribe(() =&gt; process(select(store.getState())));\n};\n\nexport const foo = (selector) =&gt; {\n  return {\n    \"--foo\": selector(\"foo\")\n  }\n}\n\nconnect(createFooSelector, foo)```\nこんな感じ・・・？\nちょっと用事で外出するからまたあとで見直させてもらいます\nありがとうございます","ts":"1590994573.465900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uw=t"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9e898dba-61d0-4d94-a9f8-1c4eb77ebb56","type":"message","user":"U8996GYBF","text":"<@U8R597E9H> storeからの切り離し、こんなコードでいけそうです！\nありがとうございました！\nこれがいいコードかは分かっていないですが","ts":"1591008852.466900","thread_ts":"1591008852.466900","edited":{"user":"U8996GYBF","ts":"1591009214.000000"},"reply_count":14,"replies":[{"user":"U8R597E9H","ts":"1591010496.469800"},{"user":"U8996GYBF","ts":"1591010659.470000"},{"user":"U8996GYBF","ts":"1591010686.470200"},{"user":"U8996GYBF","ts":"1591011169.470400"},{"user":"U8996GYBF","ts":"1591011204.470600"},{"user":"U8R597E9H","ts":"1591072843.472800"},{"user":"U8996GYBF","ts":"1591072868.473000"},{"user":"U8996GYBF","ts":"1591072876.473200"},{"user":"U8R597E9H","ts":"1591073024.473400"},{"user":"U8996GYBF","ts":"1591073149.473600"},{"user":"U8996GYBF","ts":"1591073197.473800"},{"user":"U8R597E9H","ts":"1591075292.474100"},{"user":"U8996GYBF","ts":"1591075326.474300"},{"user":"U8996GYBF","ts":"1591075328.474500"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xik"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"83142e78-03e8-4944-a342-774c936f4b3f","type":"message","user":"U8996GYBF","text":"- 名前がoperateなのにget相当の処理しかできてないからもっといい名前付ける\n- GlobalVariableNameは `createGlobalVariableSelector` の型から推論して欲しかった・・・\n- そもそもテスタビリティ上がってる？\nみたいなところ考えてます","ts":"1591009057.468300","edited":{"user":"U8996GYBF","ts":"1591009296.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o1="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8081eba8-f777-4ceb-b80a-bd98927d0b13","type":"message","user":"U8996GYBF","ts":"1591009258.469300","files":[{"id":"F014K4J17HB","created":1591009257,"timestamp":1591009257,"name":"______.ts","title":"無題","mimetype":"text/plain","image_exif_rotation":0,"filetype":"typescript","pretty_type":"TypeScript","user":"U8996GYBF","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":704,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F014K4J17HB/______.ts","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F014K4J17HB/download/______.ts","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U8996GYBF/F014K4J17HB/______.ts","permalink_public":"https://slack-files.com/T03C4RC8V-F014K4J17HB-1e4f76ab5b","edit_link":"https://vim-jp.slack.com/files/U8996GYBF/F014K4J17HB/______.ts/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"d840b4c8-0739-4f1f-a137-f040f99276dd","type":"message","user":"U8R597E9H","text":"グローバルなステートを引数に、ある程度間引かれたステートにする処理を selector とよく呼びます。なので、selector が引数を処理中に受け取っているのは一般的ではないかもしれません。\n（でも見た目スッキリなので嫌いではないです。ｗ）\n\nテスタビリティは store の部分を差し替えられるようにすることで担保できそうです。","ts":"1591010496.469800","thread_ts":"1591008852.466900","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qoM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a93159bf-c77a-4bc5-bab9-5a2deec8053f","type":"message","user":"U8996GYBF","text":"`selector(createSelector(store))` のあたりですかね、確かにselectorでもなさそうなんですよねこれ","ts":"1591010659.470000","thread_ts":"1591008852.466900","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"b8W"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"27668836-8800-4f90-806f-9c16a28692fa","type":"message","user":"U8996GYBF","text":"selectorがselectorを引数に取っている感じになっている","ts":"1591010686.470200","thread_ts":"1591008852.466900","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MG47E"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"54feff85-5ea5-4df3-8d71-b9febbc28082","type":"message","user":"U8996GYBF","text":"```export const generateVimVariables = &lt;K, R&gt;(\n  createSelector: CreateSelector&lt;K&gt;,\n  generator: (selector: ReturnType&lt;CreateSelector&lt;K&gt;&gt;) =&gt; R\n) =&gt; generator(createSelector(store))```\nなら名前に違和感ないですか？","ts":"1591011169.470400","thread_ts":"1591008852.466900","edited":{"user":"U8996GYBF","ts":"1591011330.000000"},"parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xNr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb2471bb-196d-4607-a0f8-0527b7d65d72","type":"message","user":"U8996GYBF","text":"使う側はselectorを受け取るgenerator関数を第2引数に渡すって感じで","ts":"1591011204.470600","thread_ts":"1591008852.466900","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lG0AM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9be8e14-f6c4-4d64-8a85-eea7c1ae4969","type":"message","user":"U8996GYBF","text":"こういうのやれて毎日少しずつレベルアップできてる感あるのよい","ts":"1591012570.471200","team":"T03C4RC8V","reactions":[{"name":"laughing","count":2,"users":["UFHQ7TNT0","U72TB62UF"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=kh3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6dcf640a-16d6-4aa8-8b45-5ae045d2ddb4","type":"message","user":"U8996GYBF","text":"Vim scriptや自分だとRuby書いてもどうしても経験値が少ない\nTSはやってて今一番学びが多い","ts":"1591012656.472600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Lp=="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
