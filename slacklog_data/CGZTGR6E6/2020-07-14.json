[{"client_msg_id":"6402a39b-438b-4553-b662-3dd24299ca76","type":"message","user":"U8996GYBF","text":"coc対応で動的requireをしないと死ぬような感じになってしまっているんですけど、やったことなくていまいち書き方が怪しいです\n動いてるっぽいんですがこんなので大丈夫そうでしょうか\n```const commands: Array&lt;FzfCommand&gt; =\n  PLUGIN.ENV === \"coc\"\n    ? (require(\"@/association/coc-command\").cocCommandDefinition as Array&lt;FzfCommand&gt;)\n    : PLUGIN.ENV === \"remote\"\n    ? (require(\"@/association/command\").commandDefinition as Array&lt;FzfCommand&gt;)\n    : []```","ts":"1594708936.343100","edited":{"user":"U8996GYBF","ts":"1594708988.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+p1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ee10b773-541a-4002-bf15-e6da48ffd15d","type":"message","user":"U8996GYBF","text":"大量のeslintエラーは出るんですけど・・・","ts":"1594709002.343500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e3A="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"988fe27e-83e8-4e42-bc88-cd18830d69e1","type":"message","user":"U8996GYBF","text":"PLUGINはDefinePluginでこうやってます\n```  plugins: [\n    new webpack.DefinePlugin({\n      PLUGIN: JSON.stringify({\n        ENV: \"coc\",\n      }),\n    }),\n  ],```","ts":"1594709077.344200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W0aH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c7a4018-98b8-4953-9be7-7ffb8f4f70af","type":"message","user":"U78A6ESHM","text":"良さそうですけど、JSON.stingifuy してるのを PLUGIN.ENV で評価できるんですか？","ts":"1594709155.344800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kEq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"285a4246-71bb-40fc-b04d-d6557491992b","type":"message","user":"U78A6ESHM","text":"`//eslint-disable-line @typescript-eslint/no-var-requires` は必須かと","ts":"1594709163.345100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dKW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cefbe310-9b28-41e5-8eaa-38eca1abac59","type":"message","user":"U8996GYBF","text":"DefinePluginって文字列としてソースコードに埋め込むんで、stringifyしないとparse error出ちゃうはず","ts":"1594709198.345700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kvg7S"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"09a6c1e9-c9bc-4b77-85f2-0e9a12997d9e","type":"message","user":"U78A6ESHM","text":"なるほど。","ts":"1594709219.345900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NPJu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7d420ae9-af00-4807-a0d3-e9f878f8e7ef","type":"message","user":"U8996GYBF","text":"`{ ENV: \"coc\" }.ENV === \"remote\"` stringifyしてるから実行時こうなってるはずだと思います","ts":"1594709278.346500","edited":{"user":"U8996GYBF","ts":"1594709286.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2ekYi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"086c4ee7-0249-4eb0-8b56-19e67b35c68f","type":"message","user":"U8996GYBF","text":"どうしてこんな厳しいことをやっているんだという気持ちになってきた、厳しい","ts":"1594709380.347000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5KFX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e49f2c10-710f-4214-b858-8ec26ac310c4","type":"message","user":"U78A6ESHM","text":"実装差し替えるとなると分岐か DI とかでしょうけど、結局どっかは泥臭いことせんといかんから辛いですよねぇ。","ts":"1594709601.348000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vu=On"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"438399c9-7bb0-4575-91bc-ad15265f647b","type":"message","user":"U8996GYBF","text":"ですね、webpackでいうとDefinePlugin使うのがよさそうな気がする","ts":"1594709634.348500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A8OjI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"339a169d-e2e4-44d8-acfb-d591f793a28e","type":"message","user":"UAZ33BKV2","text":":syobon:","ts":"1594709640.348700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P3nc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"150f30de-0cb3-479b-ba8f-60da7ae73588","type":"message","user":"U8996GYBF","text":"cocとRemote Pluginのクロスビルド、まじで世界で誰もやったことがなさそうだから知見が存在しない・・・","ts":"1594709770.349400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0+Ob"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U01709HH4A1","text":"<@U01709HH4A1> has joined the channel","ts":"1594715020.349800","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"69f19a50-af3c-408b-991b-366f23949da7","type":"message","user":"UFHQ7TNT0","text":"ふと思ったけど、 useMemo() って、\n\n```const x = useMemo(() =&gt; a + b, [a, b]);\nconst y = useMemo(() =&gt; c + d. [c, d]); ```\nって書くより\n\n```const { x, y } = useMemo(() =&gt; ({ x: a + b, y: b + c }), [a, b, c, d]);```\nって書いたほうがパフォーマンス良い?\n(ただし、a, b, c, d は頻繁に変わる値ではない場合とする)","ts":"1594715182.352600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BjXP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
