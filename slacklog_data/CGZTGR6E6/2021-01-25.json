[{"client_msg_id":"e7306045-1d18-4d55-a6ef-67e2549dd1ca","type":"message","user":"UAZ33BKV2","text":"\u003c#C017R65BY2J|tech-ci\u003e でいろいろやってます...reg-suiがなんなのかわからんので、どんだけ大変だったかわらんですがw","ts":"1611576720.086000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M+Xm"}]},{"client_msg_id":"5e69e544-b184-437b-ad53-5e41fdf27c39","type":"message","user":"U78A6ESHM","text":"reg-suit 動かすため GitHub Action 職人してたら疲れた…。yml わからん。","ts":"1611576640.085200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h=0dT"}]},{"client_msg_id":"76198107-db36-4f78-ba61-ad8607268508","type":"message","user":"U78A6ESHM","text":"Vim 本体にその機能が欲しい \u0026gt; ScriptLocal\nGo みたいにテストんときだけでいいので。","ts":"1611576500.084400","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":2,"users":["U776661HA","U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Gxy"}]},{"client_msg_id":"bf638e95-58db-40a9-9ad1-6765de719298","type":"message","user":"U8996GYBF","text":"すごい勢いでimmutableにしたPRを作った\n\u003chttps://github.com/yuki-yano/fzf-preview.vim/pull/232\u003e","ts":"1611575933.083500","attachments":[{"fallback":"GitHub: Refactor mutable to immutable by yuki-yano · Pull Request #232 · yuki-yano/fzf-preview.vim","id":1,"title":"Refactor mutable to immutable by yuki-yano · Pull Request #232 · yuki-yano/fzf-preview.vim","title_link":"https://github.com/yuki-yano/fzf-preview.vim/pull/232","thumb_url":"https://repository-images.githubusercontent.com/125713913/f7001780-57a9-11eb-910f-a664093bf49f","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":500,"thumb_height":250,"from_url":"https://github.com/yuki-yano/fzf-preview.vim/pull/232","original_url":"https://github.com/yuki-yano/fzf-preview.vim/pull/232"}],"edited":{"user":"U8996GYBF","ts":"1611575937.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xkm"}]},{"client_msg_id":"eab12559-2c79-4aa5-ab00-131c4df55326","type":"message","user":"U9S4G0LJW","text":"vital便利","ts":"1611574101.083200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZxcTw"}]},{"client_msg_id":"fd9978cd-96f7-48cd-8260-75de9e574bf0","type":"message","user":"U776661HA","text":"これだ","ts":"1611574053.082900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gG7R8"}]},{"client_msg_id":"bc60a187-da65-49d4-b152-9058456ce47e","type":"message","user":"U776661HA","text":"\u003chttps://github.com/vim-jp/vital.vim/blob/master/doc/vital/Vim/ScriptLocal.txt\u003e","ts":"1611574050.082500","attachments":[{"fallback":"GitHub: vim-jp/vital.vim","id":1,"title":"vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/blob/master/doc/vital/Vim/ScriptLocal.txt","text":"A comprehensive Vim utility functions for Vim plugins - vim-jp/vital.vim","thumb_url":"https://avatars.githubusercontent.com/u/1051958?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/blob/master/doc/vital/Vim/ScriptLocal.txt","original_url":"https://github.com/vim-jp/vital.vim/blob/master/doc/vital/Vim/ScriptLocal.txt"}],"team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I0A"}]},{"client_msg_id":"5f135873-9148-4528-9e73-41788ab5a59c","type":"message","user":"U9S4G0LJW","text":"さすが","ts":"1611573972.082300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NMe"}]},{"client_msg_id":"1647c2ad-1ce8-409a-b99a-9c4819025d25","type":"message","user":"U776661HA","text":"たしか haya14busa さんのアイディア","ts":"1611573964.082100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0vg"}]},{"client_msg_id":"233fe617-b3c0-4a1b-bafa-f0d3429d7220","type":"message","user":"U9S4G0LJW","text":"あーなるほど、該当のファイルをこっそり書き換えて口生やしてるのか","ts":"1611573929.081600","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U776661HA"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sReo"}]},{"client_msg_id":"bfa1a000-37d3-4e5b-b1f4-be6db3cad55f","type":"message","user":"U776661HA","text":"`scope.funcs(...)` でスクリプトローカル関数で `scope.vars(...)` でスクリプトローカル変数です","ts":"1611573893.081200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rVJ"}]},{"client_msg_id":"8e8a52d6-14e1-427c-bbf8-ee97c727be84","type":"message","user":"U9S4G0LJW","text":"すごい","ts":"1611573891.081100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SFp"}]},{"client_msg_id":"942832df-bb28-4c90-9cec-76853faa6e91","type":"message","user":"U776661HA","text":"\u003chttps://github.com/thinca/vim-themis/blob/master/doc/themis.txt#L950\u003e","ts":"1611573870.080300","attachments":[{"fallback":"GitHub: thinca/vim-themis","id":1,"title":"thinca/vim-themis","title_link":"https://github.com/thinca/vim-themis/blob/master/doc/themis.txt#L950","text":"A testing framework for Vim script. Contribute to thinca/vim-themis development by creating an account on GitHub.","thumb_url":"https://avatars.githubusercontent.com/u/20474?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/thinca/vim-themis/blob/master/doc/themis.txt#L950","original_url":"https://github.com/thinca/vim-themis/blob/master/doc/themis.txt#L950"}],"team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hUNx"}]},{"client_msg_id":"8e7a8ebb-47ea-4c45-9101-9e8c571aa9b0","type":"message","user":"U776661HA","text":"Aru","ts":"1611573852.080100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y+kr"}]},{"client_msg_id":"da507578-1f02-4960-9ab1-ce036da36229","type":"message","user":"U9S4G0LJW","text":"スクリプトローカル変数にアクセスする口が欲しい","ts":"1611573847.079800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/+KJ"}]},{"client_msg_id":"685a7320-2713-4c97-89e0-aa5bca8f960a","type":"message","user":"U776661HA","text":"themis の sfunc 使うとアクセスできて便利","ts":"1611573831.079400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Af+"}]},{"client_msg_id":"e1ad2cdd-4802-4a56-9eb6-4c78049e5f99","type":"message","user":"U776661HA","text":"Vim script","ts":"1611573822.079000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+BYM"}]},{"client_msg_id":"27a118b8-40f1-4bac-adc0-7fa70bd4c7aa","type":"message","user":"U776661HA","text":"自信ない...","ts":"1611573791.078700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9Vr"}]},{"client_msg_id":"2657715d-2ed5-41d4-ba22-1a00b5f5a8bf","type":"message","user":"U776661HA","text":"いや、なんかできた気がするだけでできないかもです。","ts":"1611573787.078500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LCdJd"}]},{"client_msg_id":"b9bea6db-2c07-47a5-aab0-fb8a43f85259","type":"message","user":"U9S4G0LJW","text":"闇の力には勝てなかったか…","ts":"1611573773.078200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cSe4k"}]},{"client_msg_id":"e6f79c07-7d9c-4d70-b229-bae9ed9b5ec8","type":"message","user":"U776661HA","text":"黒魔術でワンチャン","ts":"1611573759.077900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"n9d"}]},{"client_msg_id":"3659e3bb-ed91-488b-bb7a-bdc4aef31e54","type":"message","user":"U776661HA","text":"クロージャー... inspect 使えばできたっけか","ts":"1611573748.077700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sP7"}]},{"client_msg_id":"981b4d0f-1c1e-42da-b335-73e1b1c02af0","type":"message","user":"U8996GYBF","text":"高階関数のテストはしんどい","ts":"1611573656.077100","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U78A6ESHM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"z4o6Z"}]},{"client_msg_id":"87871d10-b3e8-4acb-bfeb-ecaecfcbdd47","type":"message","user":"U78A6ESHM","text":"Vim script も簡単に `s:` スコープをテストの時に触りたいと思うことがあるw","ts":"1611573641.076600","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":2,"users":["U9S4G0LJW","U776661HA"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0KDF"}]},{"client_msg_id":"322f2835-50af-48e3-abef-2a5db7ccbfff","type":"message","user":"U9S4G0LJW","text":"これでも触る方法ありますっけ","ts":"1611573641.076500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ccG"}]},{"client_msg_id":"a7309687-5d7d-4b76-b896-287f0263d8fc","type":"message","user":"U9S4G0LJW","text":"本当にプライベートにしたかったらクロージャに閉じこめるのが一番","ts":"1611573634.076200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qQ3s"}]},{"client_msg_id":"f4624780-f90e-4008-b581-dd048165ac29","type":"message","user":"U78A6ESHM","text":"そすねw","ts":"1611573625.076000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Jcb07"}]},{"client_msg_id":"33c198d3-f6d1-4632-92c2-788cbbae4fd6","type":"message","user":"U776661HA","text":"どんだけ頑張っても `__dict__` 触ったらなんでもできますしねw","ts":"1611573618.075600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zq7"}]},{"client_msg_id":"db77c356-e068-451e-82f2-ad3e24d33479","type":"message","user":"U8996GYBF","text":"テストのときアクセスできて便利","ts":"1611573575.074400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zn4Z1"}]},{"client_msg_id":"314678ac-3106-401d-aa52-67926c4fbb4e","type":"message","user":"U78A6ESHM","text":"Python 本当にクラスの中のプロパティー変更したくなければ `@property` で制御すると思うけど、紳士協定っすね。`_` はじまりなのに触って壊れても文句は言わせんぞ的な。","ts":"1611573548.074000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cJHd"}]},{"client_msg_id":"d545179c-afb4-4962-aabd-d3a3543d8150","type":"message","user":"U8996GYBF","text":"色々付けてたらreadonlyがネストしていって\n```(property) execute: (lines: readonly (ReadonlyObjectDeep\u0026lt;ReadonlyObjectDeep\u0026lt;{\n    command: FzfCommandName;\n    type: \"file\";\n    file: string;\n    lineNumber?: undefined;\n}\u0026gt;\u0026gt; | ... 15 more ... | ReadonlyObjectDeep\u0026lt;...\u0026gt;)[]) =\u0026gt; void | Promise\u0026lt;...\u0026gt;```\nみたいになってるからなんか使い方おかしい気もする","ts":"1611573485.072800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rim"}]},{"client_msg_id":"109dc5f8-4e2c-46c5-81c5-2912929da728","type":"message","user":"U8996GYBF","text":"typeディレクトリのほとんどにReadonlyDeep付けて（主にテストの雑な代入を）数カ所直せば終わったから大分実装頑張ってたのかもしれない","ts":"1611573356.071700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YsLPR"}]},{"client_msg_id":"ed52ed44-3e93-43e0-b30f-0a63102c0193","type":"message","user":"U776661HA","text":"TS だと `foo_` のほうがみる気がしますが","ts":"1611573306.070500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W0cAu"}]},{"client_msg_id":"a269d188-4f09-474a-8c2d-6a6e65124bb2","type":"message","user":"U78A6ESHM","text":"JS 時代は `_` はじまりで書いたな。","ts":"1611573305.070300","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U776661HA"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O/b"}]},{"client_msg_id":"1f3eff4e-e83d-4047-ae8e-c57d6b08cf7a","type":"message","user":"U776661HA","text":"おそらくPython由来？","ts":"1611573284.069300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aa4C"}]},{"client_msg_id":"d517e0e0-1f22-4d70-972e-c1b159c8fa50","type":"message","user":"U8996GYBF","text":"人によるけどTSもclassでprivate methodを_fooにするのに近いですかね","ts":"1611573272.068600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8RNYg"}]},{"client_msg_id":"7da90524-8881-4f03-b7e0-2c42776c3125","type":"message","user":"U776661HA","text":"`__` は使わないことが多いです","ts":"1611573268.068400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TrGy5"}]},{"client_msg_id":"80c51650-a191-4bb1-a668-11f0d2474bb9","type":"message","user":"U8996GYBF","text":"あぁなるほど、そういうやつか","ts":"1611573253.067800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bC1"}]},{"client_msg_id":"140a00dd-babf-4fc4-bfc0-35d9158a6296","type":"message","user":"U776661HA","text":"って感じですかね","ts":"1611573246.067600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EPb"}]},{"client_msg_id":"bb866a70-dc38-4a22-938f-c6d203a78e96","type":"message","user":"U78A6ESHM","text":"\u003chttps://docs.python.org/ja/3/tutorial/classes.html#private-variables\u003e","ts":"1611573245.067400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TN6M"}]},{"client_msg_id":"40def5e6-3915-4117-9c64-a95e0e074dbb","type":"message","user":"U776661HA","text":"Python の絶対プライベートだぞゴルアは `__` 始まりです","ts":"1611573239.067100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5M7uT"}]},{"client_msg_id":"28e771ff-7910-4a3a-91aa-7f6522a21da2","type":"message","user":"U776661HA","text":"Python のプライベート変数／関数は `_` 始まりの変数／関数です","ts":"1611573221.066700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"f/Wh"}]},{"client_msg_id":"bd96a797-3555-4337-b56a-2f260641c46f","type":"message","user":"U776661HA","text":"Python の定数は全て大文字の変数です","ts":"1611573204.066300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"os6g"}]},{"client_msg_id":"10b60839-5cbe-4888-87df-2ac0ffd1a02b","type":"message","user":"U8996GYBF","text":"Python何も分からない","ts":"1611573191.066000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Cdk"}]},{"client_msg_id":"d937a03e-d0c0-462d-b44d-df33d1141e9c","type":"message","user":"U8996GYBF","text":"mutableFooみたいな？","ts":"1611573179.065600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fOz9I"}]},{"client_msg_id":"da60930c-273b-4b08-8a00-e487f5f90f5a","type":"message","user":"U776661HA","text":"書く人に恵まれてるなら Python 方式で何も問題ないと思うんですけどね","ts":"1611573176.065400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9qSQ+"}]},{"client_msg_id":"1a31362f-2918-496d-aad2-631f44819395","type":"message","user":"U776661HA","text":"一方 Python は命名規則を使った","ts":"1611573150.064800","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U78A6ESHM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I6rMO"}]},{"client_msg_id":"b6e8a304-5e51-4301-b982-5e0c12ce30f2","type":"message","user":"U8996GYBF","text":"頑張れば無理じゃないんですけど、なんか逆に変な書き方になりそうだからする価値あるのかなぁって感じなんですよね","ts":"1611573078.064200","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Cdh0"}]},{"client_msg_id":"bb5d3c11-30e7-424f-a5f8-d97013350013","type":"message","user":"U9S4G0LJW","text":"見かけImmutableならそれでいいや派","ts":"1611573058.063800","team":"T03C4RC8V","reactions":[{"name":"me-too","count":1,"users":["U776661HA"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E0s"}]},{"client_msg_id":"c7ee9bdc-4c50-40f3-903c-b1fe8df02f6b","type":"message","user":"U9S4G0LJW","text":"Immutableにしようと思えばできるとは思うけどあまりやりたくない…","ts":"1611573035.063300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vIBd"}]},{"client_msg_id":"34a4c5da-8720-4ca9-8329-548747bdb075","type":"message","user":"U8996GYBF","text":"割れ窓感あるけど一応テストで守ってどうにかしてるよく分からん関数ですね・・・","ts":"1611572913.062500","edited":{"user":"U8996GYBF","ts":"1611572959.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6+6bW"}]},{"client_msg_id":"bc26410d-ade3-4bdc-848d-fee97cd5d5f2","type":"message","user":"U8996GYBF","text":"うーん、こういうクソ雑なmutableな関数がいくつか存在するんですけど、これってletを使わずReadonlyにしつつ綺麗にまとめる書き方って例えばどんなのがあるでしょう\n\u003chttps://github.com/yuki-yano/fzf-preview.vim/blob/98169fcaadfdb4ea47c15e23f57320a631ee0950/src/fzf/option/convert.ts#L14-L36\u003e","ts":"1611572869.061600","attachments":[{"fallback":"GitHub: yuki-yano/fzf-preview.vim","id":1,"title":"yuki-yano/fzf-preview.vim","title_link":"https://github.com/yuki-yano/fzf-preview.vim/blob/98169fcaadfdb4ea47c15e23f57320a631ee0950/src/fzf/option/convert.ts#L14-L36","text":"The plugin that powerfully integrates fzf and (Neo)vim. It is also possible to integrate with coc.nvim. - yuki-yano/fzf-preview.vim","thumb_url":"https://repository-images.githubusercontent.com/125713913/f7001780-57a9-11eb-910f-a664093bf49f","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":500,"thumb_height":250,"from_url":"https://github.com/yuki-yano/fzf-preview.vim/blob/98169fcaadfdb4ea47c15e23f57320a631ee0950/src/fzf/option/convert.ts#L14-L36","original_url":"https://github.com/yuki-yano/fzf-preview.vim/blob/98169fcaadfdb4ea47c15e23f57320a631ee0950/src/fzf/option/convert.ts#L14-L36"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PakP"}]},{"client_msg_id":"631a90cb-4bd3-4ab5-af88-534cc89a062d","type":"message","user":"U8996GYBF","text":"Redux Toolkitが隠蔽してimmerに包み込んでるとこではこんな感じでcastDraft必須かもです\n```    setCurrentSession: (state, { payload }: PayloadAction\u0026lt;{ session: Session }\u0026gt;) =\u0026gt; {\n      state.currentSession = castDraft(payload.session)\n    },```\n","ts":"1611570690.060700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oHYpA"}]},{"client_msg_id":"89580476-395e-4c40-8c18-dd2a317da50a","type":"message","user":"U8996GYBF","text":"`type Foo = ReadonlyDeep\u0026lt;{ foo: string }\u0026gt;` するのと使う側でReadonlyDeepするのどっちがいいのかも難しそうだ","ts":"1611569973.059900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vDoM"}]},{"client_msg_id":"fa5e0f06-f868-4428-b824-45b9cbb996f6","type":"message","user":"U8996GYBF","text":"すぐ `Promise\u0026lt;ReadonlyDeep\u0026lt;Array\u0026lt;Foo\u0026gt;\u0026gt;\u0026gt;` みたいになりません？","ts":"1611569677.059100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"owkw"}]},{"client_msg_id":"704bca26-a3f2-43a1-acc1-668e5504cee2","type":"message","user":"U8996GYBF","text":"やみくもにReadonlyDeep付けるの試してみてるけど、コード量が増えるなこれ・・・","ts":"1611569552.058700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BI=7Z"}]},{"client_msg_id":"be7efec5-9a25-4252-a1d2-a31d9fd17e29","type":"message","user":"U8996GYBF","text":"なるほど、こう書いたことなかった・・・","ts":"1611569439.058200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LQIk"}]},{"client_msg_id":"98e4b1ee-4433-405e-bae3-9e914e2157df","type":"message","user":"U8R597E9H","text":"はい。","ts":"1611569416.058000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3PN"}]},{"client_msg_id":"4b608747-6c5c-4776-b8cc-f55ab5f4e1b6","type":"message","user":"U8996GYBF","text":"```return produce(state, draft =\u0026gt; {\n  const state = draft as State;\n});```\nこんな感じです？","ts":"1611569217.057800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oUz=Q"}]},{"client_msg_id":"1f8e0f44-688e-46b4-860c-d9d0d3f81788","type":"message","user":"U8R597E9H","text":"普通に const state = draft as State; って適当にやっているなあ。","ts":"1611569119.057300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"F0SYc"}]},{"client_msg_id":"6d5c9bf0-aa09-494a-8b37-ac9aac688930","type":"message","user":"U8996GYBF","text":"\u0026gt; Converts any immutable type to its mutable counterpart. This is just a cast and doesn't actually do anything.\nだから気持ち悪いけどまぁ仕方ないのかなぁ","ts":"1611569105.057000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kQty"}]},{"client_msg_id":"e69c51a3-217b-4e94-93db-7ff4846516fd","type":"message","user":"U8996GYBF","text":"既存の大きいプロダクトでspreadがネストしまくってるの辛いからimmer突っ込んで起きた事象なんで、普通はあんまり起きないのかもしれないです","ts":"1611568998.056400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MLiFs"}]},{"client_msg_id":"c4185aa1-d7b6-4c92-a3e9-32571de93f60","type":"message","user":"U8996GYBF","text":"`draft.foo = payload.foo` みたいにしたときに、 `castDraft` ってユーティリティ的なの噛ましてWritableDraftに変換しないと死ぬ感じ","ts":"1611568904.055800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Fa"}]},{"client_msg_id":"dc26a3bf-7a4f-4d5c-840d-3bc404998e70","type":"message","user":"U8996GYBF","text":"`Type 'Foo' is not assignable to type 'WritableDraft\u0026lt;Foo\u0026gt;'.`\nってなるんですよね","ts":"1611568828.054600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NOjOR"}]},{"client_msg_id":"7f76ab76-9680-40f3-887e-b7ae83e63462","type":"message","user":"UP6PA1UBE","text":"immer 使ったことないからわからず","ts":"1611568762.054400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iRkE"}]},{"client_msg_id":"2c474669-f51e-45fb-8c93-264bcd0a2d0c","type":"message","user":"UP6PA1UBE","text":"未確認で組んでて引数 ReadonlyDeep にした瞬間にあっちこっちで違反が報告されるとひえぇ許してくれーって涙をこらえながら許しを請うて直します","ts":"1611568709.054200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GZLep"}]},{"client_msg_id":"46c941a6-ca30-4208-88cf-72d9a0b45c39","type":"message","user":"U8996GYBF","text":"immerにreadonlyが渡ってきたらcastDraftしないといけなかったりで面倒なのって何度かやってるんですけど、なんか綺麗な書き方ってあるか分かります？","ts":"1611568693.053800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ng5kR"}]},{"client_msg_id":"5c6a234c-9bf0-48a7-90f2-17dabda57c0b","type":"message","user":"UP6PA1UBE","text":"関数内で変更しないことを保証できる、うれしい","ts":"1611568631.052300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lv/JZ"}]},{"client_msg_id":"06537de9-0e3c-4e19-8dd5-1d9349ce9c1f","type":"message","user":"UP6PA1UBE","text":"ReadonlyDeep 使いまくり","ts":"1611568592.051400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"51At"}]},{"client_msg_id":"789853a6-0140-4949-a88e-b0942870c7a7","type":"message","user":"U8996GYBF","text":"こういうの使うとか\n\u003chttps://github.com/sindresorhus/type-fest/blob/main/source/readonly-deep.d.ts\u003e","ts":"1611568544.051000","attachments":[{"fallback":"GitHub: sindresorhus/type-fest","id":1,"title":"sindresorhus/type-fest","title_link":"https://github.com/sindresorhus/type-fest/blob/main/source/readonly-deep.d.ts","text":"A collection of essential TypeScript types. Contribute to sindresorhus/type-fest development by creating an account on GitHub.","thumb_url":"https://avatars.githubusercontent.com/u/170270?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/sindresorhus/type-fest/blob/main/source/readonly-deep.d.ts","original_url":"https://github.com/sindresorhus/type-fest/blob/main/source/readonly-deep.d.ts"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5sW"}]},{"client_msg_id":"06f31fb8-a4ff-4315-9d2e-5f27498ef81c","type":"message","user":"U8996GYBF","text":"readonlyかどうかが重要なの間違いないですね","ts":"1611568516.050800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qi0"}]},{"client_msg_id":"272a7010-4d48-46fc-88fc-2d8a6947ebbf","type":"message","user":"U8996GYBF","text":"自分はこの前cocの型が提供されてなくてtscもeslintも汚染されて汚くなるとこでもういいやってなって使いました\n\u003chttps://github.com/yuki-yano/fzf-preview.vim/blob/98169fcaadfdb4ea47c15e23f57320a631ee0950/src/connector/coc.ts#L106-L127\u003e","ts":"1611568449.050300","attachments":[{"fallback":"GitHub: yuki-yano/fzf-preview.vim","id":1,"title":"yuki-yano/fzf-preview.vim","title_link":"https://github.com/yuki-yano/fzf-preview.vim/blob/98169fcaadfdb4ea47c15e23f57320a631ee0950/src/connector/coc.ts#L106-L127","text":"The plugin that powerfully integrates fzf and (Neo)vim. It is also possible to integrate with coc.nvim. - yuki-yano/fzf-preview.vim","thumb_url":"https://repository-images.githubusercontent.com/125713913/f7001780-57a9-11eb-910f-a664093bf49f","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":500,"thumb_height":250,"from_url":"https://github.com/yuki-yano/fzf-preview.vim/blob/98169fcaadfdb4ea47c15e23f57320a631ee0950/src/connector/coc.ts#L106-L127","original_url":"https://github.com/yuki-yano/fzf-preview.vim/blob/98169fcaadfdb4ea47c15e23f57320a631ee0950/src/connector/coc.ts#L106-L127"}],"edited":{"user":"U8996GYBF","ts":"1611568470.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5zS"}]},{"client_msg_id":"94e266c9-2dfd-4820-a26e-145edef7a57e","type":"message","user":"UAZ33BKV2","text":"しかし、とするとわりとオブジェクトばっかりな世界だと、不変性がすごい浅くなりますな...\nいやまあ、それがあるのとないの、大分ちがいますが","ts":"1611568419.049700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Knh9"}]},{"client_msg_id":"a5e56a0e-a3ad-4dd0-8746-9d5179e15bc0","type":"message","user":"UP6PA1UBE","text":"object の property が読み取り専用かどうかは `readonly` で指定するもので `const` ではない、とか","ts":"1611568298.048600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hKMCr"}]},{"client_msg_id":"a5c7103c-26d0-4a9b-a93e-cbb16f23d570","type":"message","user":"UAZ33BKV2","text":"ああ、なるほど誤解してたな、ラベルに付随するのであって、mutableな属性についてなにかを決めるとかじゃないと","ts":"1611567671.047500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P=sE"}]},{"client_msg_id":"f241f257-1ddf-44cd-9ae4-b13dec02bc35","type":"message","user":"UP6PA1UBE","text":"(`as const` は別です)","ts":"1611567393.046800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kMj"}]},{"client_msg_id":"199df644-ff5c-4a43-84a4-512dcc91ed21","type":"message","user":"UP6PA1UBE","text":"型とか変更、と考えるから混乱するのでは。あれはラベルの再利用を禁止してるだけなので。","ts":"1611567360.046400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7czO4"}]},{"client_msg_id":"ab3d02c2-4324-411a-8e39-ad8ee8b69810","type":"message","user":"UP6PA1UBE","text":"あと const は別に受けた型を変えるわけではないので、その要素をさらに let で受けたらもちろん変更はできますよ。","ts":"1611567326.045900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2z1"}]},{"client_msg_id":"c141d8c6-8494-401a-ac8f-2b88c40298bf","type":"message","user":"UP6PA1UBE","text":"let 使うとき「3項演算子に押し込めるには長い」「関数に切り出すにはそこでしか使わん上に短い」くらいの温度感のときに使うので、参照範囲は5行くらいですね。","ts":"1611567250.045200","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U78A6ESHM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vl38"}]},{"client_msg_id":"329396b7-e865-4689-920e-db70ef35e28c","type":"message","user":"UFHQ7TNT0","text":"いや、これよく見たら typescript-language-server じゃなくて、tsserver が更新されたのかも","ts":"1611501618.043700","edited":{"user":"UFHQ7TNT0","ts":"1611501659.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7fX"}]},{"client_msg_id":"c2e1929e-293f-4807-a5c3-a2455fe6b14a","type":"message","user":"UFHQ7TNT0","text":"初めて Template Literal Types を使ってみたら LSP の解析で any になっちゃってダメじゃんと思ったのですが、\n\u003chttps://github.com/theia-ide/typescript-language-server\u003e が9日前に更新されていて、更新したら問題なく型が表示されるようになりまし :tada:","ts":"1611501500.042900","attachments":[{"fallback":"GitHub: theia-ide/typescript-language-server","id":1,"title":"theia-ide/typescript-language-server","title_link":"https://github.com/theia-ide/typescript-language-server","text":"TypeScript \u0026amp; JavaScript Language Server. Contribute to theia-ide/typescript-language-server development by creating an account on GitHub.","thumb_url":"https://avatars.githubusercontent.com/u/28530323?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/theia-ide/typescript-language-server","original_url":"https://github.com/theia-ide/typescript-language-server"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dBAv"}]}]
