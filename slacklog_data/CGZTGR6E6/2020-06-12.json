[{"type":"message","user":"UQHBDSV2Q","text":"<@UQHBDSV2Q> has joined the channel","ts":"1591959647.476600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"CC2FFBE8-20F1-491F-B73A-58E31DAC746F","type":"message","user":"UFHQ7TNT0","text":"コーダー的な人の書くReact、children の map とかガンガンしていて、俺の知っている React と違った。","ts":"1591973524.478600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fyogo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"21b401c4-5789-40fb-901d-9541c92f7402","type":"message","user":"U78A6ESHM","text":"children の map ってどんな感じなんだろう。","ts":"1591973637.480600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rDV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2F1A27C7-DA09-441B-B574-715B0190E444","type":"message","user":"UFHQ7TNT0","text":"たぶん、渡ってくるコンポーネントが決め打ちで、if (i === 0) とかで、余白やボーダーなどを調整してました。","ts":"1591973690.482000","edited":{"user":"UFHQ7TNT0","ts":"1591973702.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i=t"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2F7C781A-7604-4F69-B1F0-61FB6953F420","type":"message","user":"UFHQ7TNT0","text":"よく分からない世界でしたね。","ts":"1591973803.483900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TTXp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"C4DDADB3-FB7E-4C4E-849A-379AD8E086CF","type":"message","user":"UFHQ7TNT0","text":"children の map なんて、React書いてもう5年以上経つけど、やったことなかったですね","ts":"1591973931.485500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"74qc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"E81D98DD-2D76-4A5B-A0E0-EF435693BD85","type":"message","user":"UFHQ7TNT0","text":"ちょっと新しい世界が開きそうでしたけど、そっと世界を閉じました","ts":"1591973966.486300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oLTd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c201185d-b515-411b-b637-722ade8ced6d","type":"message","user":"UFHQ7TNT0","text":"<https://www.typescriptlang.org/docs/handbook/advanced-types.html#typeof-type-guards>\nよくわかってないですが、type guard 作って、 is not string で early return はだめなんですかね? union で引数の型を定義しておいて、type guard を使って分岐というのはよくやります。","ts":"1591904101.379200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IiOs5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"010890cb-306d-4206-a5f5-a7635fd4e0ec","type":"message","user":"U8996GYBF","text":"stringとArray&lt;string&gt;じゃなくて `(line: String) =&gt; void` と `(lines: Array&lt;string&gt;) =&gt; void` の型の関数を受け取って処理を分岐させたいんですよね","ts":"1591931003.380400","edited":{"user":"U8996GYBF","ts":"1591931015.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vHi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"81be660b-129a-4963-be16-93964018a010","type":"message","user":"UFHQ7TNT0","text":"なるほど。関数だと単純な type guard で、というわけにはいかないですよね","ts":"1591931464.381300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nzO6s"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eca62ed9-1253-4a49-b2dd-d59ea3cb1ef3","type":"message","user":"U8996GYBF","text":"ですよねー、これでもなんか手段があるんならよかったんですけど","ts":"1591931504.381600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lys"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d776b21f-7b54-4226-9c9c-e60aab246a55","type":"message","user":"UNM8AVCB0","text":"Runtimeで `string =&gt; void` と `string[] =&gt; void`  を区別できませんね","ts":"1591931562.382400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EJvYY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"530dbf70-9aaa-4021-8831-1e27156090ac","type":"message","user":"U8996GYBF","text":"TS側ならいけるけど、JSのランタイム側で検知できないですよねぇ","ts":"1591931590.383300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GLV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e69cc8dd-04e7-4db3-b8f2-723844e805b2","type":"message","user":"UNM8AVCB0","text":"`(lines: string[]) =&gt; void` ではなくて `(…lines: string[]) =&gt; void` なら `f.length` で検知できます","ts":"1591931630.383800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JEn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ce8307b8-9999-4937-ba1a-04fc7a9557eb","type":"message","user":"U8996GYBF","text":"ん、なるほど・・・？","ts":"1591931707.384000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BbN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"419cebe1-ef15-4368-87b8-08812e7dcd0e","type":"message","user":"U8996GYBF","text":"意味はなんとなく分かるけど分からない、ちょい調べてみます","ts":"1591931753.385000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nah"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b9d22897-5731-45f4-b031-7251eef08c48","type":"message","user":"U8R597E9H","text":"関数に isBulk 指してしまうとか。","ts":"1591931777.385800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j87"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb485371-360e-486a-8c97-3f9677256c7d","type":"message","user":"UFHQ7TNT0","text":"やったことないけど、与える関数自体に型を与えておいて、 type guard 使う方法は取れるかもですね。","ts":"1591931789.386000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S8lfl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1194ed1e-76ba-44d9-a2ad-0a5ee5e15f2f","type":"message","user":"U8996GYBF","text":"それこそ関数オブジェクトに `isFoo` プロパティを持たせてしまえば検出できる・・・？","ts":"1591931858.387300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QRxw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"11b2f93a-0e41-48ad-a5db-da3e5b2f22da","type":"message","user":"UFHQ7TNT0","text":"配列で `arr: A[] | B[]` みたいなものを受け取るようにして `if (isA(arr)) { return a.map(...) }; return b.map(...);` みたいなことはしたことあります。","ts":"1591931894.387900","edited":{"user":"UFHQ7TNT0","ts":"1591931934.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mYr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fcfd73c9-f78a-4618-bee1-9db21f0421aa","type":"message","user":"U8996GYBF","text":"話飛んで申し訳ないんですが、ProcessorとProcessって概念で作ってたものがコード上の区別が付かないような実装になってしまったので、概念として切り分けるためにこんなコードにしようかと思ってます\n`processor.execute` は意味がないwrapperみたいになってる気がするんですが、メンタルモデルと実装を近付けるためにこういう風にするのってありかどうかもしよければ意見聞いてみたいです","ts":"1591932435.389000","files":[{"id":"F015A81AA4T","created":1591932434,"timestamp":1591932434,"name":"______.ts","title":"無題","mimetype":"text/plain","image_exif_rotation":0,"filetype":"typescript","pretty_type":"TypeScript","user":"U8996GYBF","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":375,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F015A81AA4T/______.ts","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F015A81AA4T/download/______.ts","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U8996GYBF/F015A81AA4T/______.ts","permalink_public":"https://slack-files.com/T03C4RC8V-F015A81AA4T-7c8a196fbf","edit_link":"https://vim-jp.slack.com/files/U8996GYBF/F015A81AA4T/______.ts/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"87D"}]},{"client_msg_id":"6f2153a9-9786-422a-9252-e0ca74947f7f","type":"message","user":"U8996GYBF","text":"元は\n```export const processorCreator = (convertLine: ConvertLine) =&gt; (process: Process) =&gt; (lines: Array&lt;string&gt;) =&gt;\n  process(lines.map((line) =&gt; convertLine(line)))```\nだったんですが、うーん・・・？\nってなってきて","ts":"1591932503.389700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SRT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2b3b08e7-6fe3-4413-8316-0db72435f3d2","type":"message","user":"U8996GYBF","text":"コードがおかしい気がしてきた、ちょっと直そう","ts":"1591932580.389900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i7Fp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d44bd1dd-00d2-46af-92d6-ace95da4dfde","type":"message","user":"U8996GYBF","text":"元のだと `processor(lines)` で実行だったのが `processor.execute(lines)` で（渡したProcessを）実行するようになるので、そっちの方がメンタルモデル的には近いかなぁって感じで","ts":"1591932726.391000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gkP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"46552ccd-8750-4576-bd80-61c7d0ec1cd4","type":"message","user":"U8R597E9H","text":"そちらのほうが読みやすいならアリなきがします。捉え方が正しいかどうかは今後の展望込みだと思うのであまり言及できなそうです。","ts":"1591932930.392200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2Omh4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d4bc5c8-47b7-4367-b68a-7bf118b6b793","type":"message","user":"U8R597E9H","text":"少なくとも ラップして拡張の余地は増えたんじゃないかなとは思うけど、どうだろう。","ts":"1591932951.392800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Klz2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8150fb32-c99a-4563-8382-5833377ce160","type":"message","user":"U8996GYBF","text":"&gt; 読みやすいならアリ\n展望は確かに自分でも分からないところがあるので難しいですね\n拡張性は大きくなったと思うんですが、YAGNIとかを考えるとどうなんだろうって思って\nただ、現状のメンタルモデルとコードが一致してない方のデメリットを総合的にどう捉えるべきかってのが主に気になった部分でした","ts":"1591933086.395200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zNc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9fae95b7-50f2-4911-b6a8-5a12379d23a6","type":"message","user":"U8996GYBF","text":"一致しにくいっていうか、自分でも説明できないようなコードになってたっていうか","ts":"1591933110.395500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=XDc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd6346a5-a09d-44c1-9c87-22eb1a104e09","type":"message","user":"U8R597E9H","text":"自分は捉え方が正しいと感じる構造化の場合は YAGNI とかあまり考えないですね。","ts":"1591933152.396700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=eM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9a3b61b7-7b29-492d-b467-c6b4e26754df","type":"message","user":"U8996GYBF","text":"ProcessorはProcessを実行するためのものって言ってたけど、これだとProcessorがLinesを受け取って実行する関数じゃない・・・？\nみたいになってうーんってなってた","ts":"1591933163.397000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xxbph"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c67ea97f-6aaf-4b9d-b0a4-8038faa44d84","type":"message","user":"U8996GYBF","text":"こういう場合メンタルモデルを直すのを考えるかどうかの案配って難しいと思うんですけど、どうやるのがよさそうなんでしょう\nProcessorって概念はそもそも存在しなくてProcessesとProcessだったのでは・・・？\nみたいに頭の中ぐるぐるしてたんですが","ts":"1591933258.398400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I9yD/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c278037e-4565-4a99-9bca-7e9fa779064d","type":"message","user":"U06BRP8VD","text":"まず Process って名前を選択したのがかなりまずいと僕は考えます。理由はmanager同様あまりに一般的な用語すぎる。さらにコンピューター分野ではOSのプロセスのイメージが強すぎるの2点により、致命的にわかりづらくしているかなと。","ts":"1591933419.400000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"auXkC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"11f30163-1bfd-4867-8bd3-2197a7ce3eb8","type":"message","user":"U06BRP8VD","text":"# ちなみにGo的な思考法に毒されてると Processor は Process メソッドを持つインターフェースってのがあるあるです。","ts":"1591933454.401100","edited":{"user":"U06BRP8VD","ts":"1591933496.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s9g1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"88839402-e000-41c5-aaae-888b5ec7ed52","type":"message","user":"U06BRP8VD","text":"一般的過ぎて具体的に何をやるのかがまったくわからない、という意味ですね。","ts":"1591933507.402600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p7/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6ff6e6b0-dd9b-4927-9f6e-0e36b8be558f","type":"message","user":"U8996GYBF","text":"Processorっていう存在自体は悪くないんですけど、名前はよくないのは確かに感じてました\nfzfから選択された行に対して処理を行うもの、なんですけどどんな名前が考えられるでしょう\n安直にいくとFzfCallbackとかですかね","ts":"1591933512.402800","edited":{"user":"U8996GYBF","ts":"1591933521.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cur"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c44731ec-8dfb-415e-a5b4-482e2ed982f4","type":"message","user":"U06BRP8VD","text":"処理の具体的な内容はなんです?","ts":"1591933533.403200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E=g"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22421674-a090-467e-8589-59c49a6f30b0","type":"message","user":"U06BRP8VD","text":"ユーザー入力から補完候補一覧を生成するとか?","ts":"1591933547.403800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2LW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0253d3f2-ae10-4076-b8d3-930014a0fe1d","type":"message","user":"U8996GYBF","text":"リソースによって変わるのでかなり汎用的です、ファイル一覧やgrepだったら開く・QuickFixにエクスポートするとかがあって、バッファならバッファの削除がそこに加わったり\nコンフリクトマーカーの情報からそこにジャンプするとか、git blameの情報から対象のPRを開くとかも最近入れてみてました","ts":"1591933627.405100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dyX24"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6f1a97c9-04f1-4bc3-9e8c-1a9976016e58","type":"message","user":"U8996GYBF","text":"あ、分かりやすいのだとgit statusからならadd, resetなどもProcessって概念の1つに入れてました","ts":"1591933663.405800","edited":{"user":"U8996GYBF","ts":"1591933671.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xs43"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9979aca4-69c1-4648-aafa-c11b72034f33","type":"message","user":"U8996GYBF","text":"あと、行を受け取って何らかの処理をする関数をユーザが自由に設定できるものです","ts":"1591933713.406700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I=PGo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d02463ae-8735-4bbf-8bb5-8a8fb6a1c893","type":"message","user":"U06BRP8VD","text":"あーかなり汎用なんですね。入力が Lineなら LineProcessor とか LineRunner とか LineExecutor とかするだけでも印象が変わりますよ。","ts":"1591933816.407900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1GQF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a67541d2-9224-419f-8d63-0396461054eb","type":"message","user":"U06BRP8VD","text":"関数だけにする場合でも ProcessLine とか RunLine とか。少し具象側に倒した名前にする。","ts":"1591933856.408600","edited":{"user":"U06BRP8VD","ts":"1591933864.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9Bc9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"264f50b3-f8bc-4c0f-9c8f-30b4b821f6b6","type":"message","user":"U8996GYBF","text":"なるほどー","ts":"1591933905.409100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ql95C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ef3a287a-6da6-4848-ad7e-83e70b2f1d0f","type":"message","user":"U8996GYBF","text":"ちなみにTSレベルだとEachProcessorとOnceProcessorって概念は作ってたんですよね（行単位で実行するProcessorとLinesを受け取って実行するProcessor）\nこの辺もEachLineProcessorとOnceLineProcessorがいいかな、Onceってのがそもそも訳分からんみたいなのは感じてるんですが","ts":"1591933991.410800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aMHq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"39f902b3-0b09-4772-ab53-7e055d8e0ffa","type":"message","user":"UAZ33BKV2","text":"OnceLineよりはOneLine?","ts":"1591934029.411300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/7dcX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c751d301-235a-4d35-a907-455912ab7fd2","type":"message","user":"UAZ33BKV2","text":"EachLineもPerLine?","ts":"1591934045.411900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N/+/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5bf6066c-aa2d-45e8-ac06-606276641db5","type":"message","user":"UAZ33BKV2","text":"後者はだいたい同じか...","ts":"1591934059.412400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"96h6w"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e73c9d1f-32c8-4768-b95a-47b22f0cca5e","type":"message","user":"UAZ33BKV2","text":"<#CS1NKB9B2|english>  むずかしい","ts":"1591934068.412900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KHa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f06d1d7-0a3c-426b-bfc7-b58a29d0edc8","type":"message","user":"U8996GYBF","text":"あ、Onceは `(Array&lt;string&gt;) =&gt; void` にしたいんですよね","ts":"1591934087.413300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VNcp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"93122a83-78b4-42d8-a938-294169402e11","type":"message","user":"U8996GYBF","text":"まとめて1回だけ実行するProcessorとline毎にforEachするProcessor的な","ts":"1591934111.413900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YO65"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7e63a8b8-3006-4a6e-840b-27c04fb0a3b2","type":"message","user":"UNM8AVCB0","text":"Single vs Batch/Bulk ではないか","ts":"1591934116.414100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J9NNL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"10468156-3961-4802-9bd3-445e2b2e440b","type":"message","user":"U8996GYBF","text":"なるほど、SingleとBulkよさそうな気がします","ts":"1591934134.414400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rc2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"477f3556-3afa-486c-8ba1-e24f573a5e11","type":"message","user":"UAZ33BKV2","text":"あー、なるほど","ts":"1591934141.414700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rAA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd377e88-d865-42b9-bedc-bee355089d19","type":"message","user":"U8996GYBF","text":"SingleLineProcessor、BulkLineProcessorですかね","ts":"1591934163.415200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WW2Xv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e944029f-a7b4-447d-98ba-e7fe15fec294","type":"message","user":"U8996GYBF","text":"`singleLineProcessor.process` だと分かりやすいかな・・・？","ts":"1591934195.415600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RE8=C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9f32339-f8f3-4617-8170-c7abd1ce37ee","type":"message","user":"U8996GYBF","text":"```type Process = { (lines: Array&lt;string&gt;) =&gt; void }\ntype SingleLineProcessor = { process: Process }```","ts":"1591934253.416500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DbF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a35ddd47-30e6-41d5-a0b8-a1469609866a","type":"message","user":"U8R597E9H","text":"バルクかどうか、というのはプロセッサーではなく、プロセス側の属性に思えます。","ts":"1591934340.417900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qwXP/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ab0a4f7a-d7b3-4d01-a61b-c2f509769a98","type":"message","user":"UAZ33BKV2","text":"つまりMultiLines?","ts":"1591934374.419100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hr4qf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bc67be5c-2c3c-4ab6-a560-be115e9ee781","type":"message","user":"U8R597E9H","text":"(なんにしても、プロセス起動時になにかするとか、終了時になにかする、みたいなケースが想定されるならばプロセッサーはいてもいいとは思います)","ts":"1591934382.419400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oHwM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d7f7f0a-8826-4f52-87a7-19ab3d08fb03","type":"message","user":"U8996GYBF","ts":"1591934515.419500","files":[{"id":"F015NM409CH","created":1591934514,"timestamp":1591934514,"name":"無題","title":"無題","mimetype":"text/plain","image_exif_rotation":0,"filetype":"typescript","pretty_type":"TypeScript","user":"U8996GYBF","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":950,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F015NM409CH/______","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F015NM409CH/download/______","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U8996GYBF/F015NM409CH/______","permalink_public":"https://slack-files.com/T03C4RC8V-F015NM409CH-2e5837abd4","edit_link":"https://vim-jp.slack.com/files/U8996GYBF/F015NM409CH/______/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"0df4bba8-a43a-42ef-8e88-8f65e3dbf15f","type":"message","user":"U8996GYBF","text":"結局Executorって概念も出てきてしまったんですが、これでどうでしょう・・・？","ts":"1591934534.420300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sgpe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"45714f97-a081-4d07-8f4f-3ec70e3e4222","type":"message","user":"UNM8AVCB0","text":"自分のイメージはこんな感じです\n```type Single = {\n  kind: 'single'\n  process: (line: string) =&gt; void\n}\n\ntype Bulk = {\n  kind: 'bulk'\n  process: (lines: string[]) =&gt; void | Promise&lt;void&gt;\n}\n\ntype Processor = Single | Bulk\n\ntype Process = (lines: string[]) =&gt; void | Promise&lt;void&gt;\n\nlet mkProcess = (p: Processor): Process =&gt; (lines: string[]) =&gt; {\n  if (p.kind === 'single') {\n    lines.forEach(p.process)\n  } else {\n    return p.process(lines)\n  }\n}```","ts":"1591934547.420600","edited":{"user":"UNM8AVCB0","ts":"1591934640.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rOUGA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1952eeea-34d2-4edc-9d52-46a59bea8ade","type":"message","user":"U8996GYBF","text":"ありがたい、ありがとうございます！","ts":"1591934570.420800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c7YL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"75275832-6397-4dac-a705-367cc7475082","type":"message","user":"U8996GYBF","text":"ちょっと自分のコードと比較して考えてみてます","ts":"1591934640.421100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7ULs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c8e3bc59-2ea9-43e8-9a9b-cb7af28c7956","type":"message","user":"U8996GYBF","text":"mkProcessはProcessorを受け取ってProcessを返すのか、そこが自分のメンタルモデルと逆転しちゃってる感じは少しあります","ts":"1591934700.422000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9GYkx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e956949-e0f0-4073-a8cf-693df4ca03de","type":"message","user":"U06BRP8VD","text":"`Processors` はやめたほうが良いと思いますよ","ts":"1591934708.422400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"300QV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"88d57542-a4cd-4e7b-9f34-ef9c3a152041","type":"message","user":"U06BRP8VD","text":"ああ、型の名前としてはね。","ts":"1591934723.422600","edited":{"user":"U06BRP8VD","ts":"1591934740.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A0Ws"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b29135cf-9547-4bcf-85a2-e2527a25b500","type":"message","user":"U8996GYBF","text":"`{ [key: string]: Processor }` なオブジェクトの型なんですけど、適切なの考え直してみます\n英語むずい・・・","ts":"1591934787.423900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"48mi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1a2348dc-194a-46dd-ba20-a9cb2d224b0d","type":"message","user":"UNM8AVCB0","text":"あっ、私の `Processor` と ycino さんの `Processor` は違いますね。","ts":"1591935389.426100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aGGO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c2b8db4b-70bd-4277-8b41-9bf7d282c332","type":"message","user":"U8996GYBF","text":"あー、ですよね\n考え直してて `createProcess or mkProcess` のインターフェイスは `(executor: SingleLineExecutor | BulkiLineExecutor) =&gt; Process` に落ちるんじゃないかなーって見直してました","ts":"1591935442.427100","edited":{"user":"U8996GYBF","ts":"1591935479.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OepMq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78a3a2c8-f30f-41a1-8d07-2da587493bcc","type":"message","user":"U06BRP8VD","text":"ああいまさらですが抽象化するなら戻り値がないので Consume がしっくりきます。java的にとらえるならですが。\n<https://docs.oracle.com/javase/jp/8/docs/api/java/util/function/Consumer.html>","ts":"1591935580.428600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"anZQz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f9c8c669-d606-4ec9-9734-c1d55aa87c83","type":"message","user":"U8996GYBF","text":"おー、知らなかったです\nありがとうございます！","ts":"1591935611.429400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c0m"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"472e6b8b-d079-4d82-b6bf-e81055fbd067","type":"message","user":"U06BRP8VD","text":"`Consume&lt;T&gt;` で T の型を String か String[] に絞る感じ。","ts":"1591935612.429500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mBH9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"48d65e71-b610-4260-b290-71816ef9f762","type":"message","user":"UNJ2DANJC","text":"JavaのRunnableとかCallableとかのシグネチャと名前の一覧いっつも忘れる","ts":"1591935808.430300","thread_ts":"1591935808.430300","reply_count":1,"replies":[{"user":"UNJ2DANJC","ts":"1591936147.436900"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pmN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"23bc48d8-ac90-496d-8da3-4bfe3cc8b097","type":"message","user":"U8996GYBF","ts":"1591935814.430400","files":[{"id":"F0158ML525B","created":1591935812,"timestamp":1591935812,"name":"無題","title":"無題","mimetype":"text/plain","image_exif_rotation":0,"filetype":"typescript","pretty_type":"TypeScript","user":"U8996GYBF","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":543,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F0158ML525B/______","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F0158ML525B/download/______","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U8996GYBF/F0158ML525B/______","permalink_public":"https://slack-files.com/T03C4RC8V-F0158ML525B-891140ef52","edit_link":"https://vim-jp.slack.com/files/U8996GYBF/F0158ML525B/______/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"00bcd226-09ec-4406-8dd4-6100029e4156","type":"message","user":"U8996GYBF","text":"Process自体をConsumeにした方がいいのかな・・・？\nConsumeはExecutorを実行するって概念にして `consume.execute` で `(Single or Bulk)LineExecutor` が実行される","ts":"1591935907.432400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"13GE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d2f13aca-ced8-4e7e-b67b-9b47c2e4cf45","type":"message","user":"UAZ33BKV2","text":"<http://www.ne.jp/asahi/hishidama/home/tech/java/clone.html>\nそして Cloneableの綴りをまちがうw","ts":"1591935941.432800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"spHV2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e76ae90b-11e4-4ef9-882f-a728d5eaafe3","type":"message","user":"UAZ33BKV2","text":"(ここはjs)","ts":"1591935948.433000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A/mE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6dc0e7e1-dc05-4408-92cd-45db4d44dc78","type":"message","user":"U8996GYBF","text":"でも、 `Consume&lt;T&gt;` を扱うなら上の型になる気がしてる、難しい・・・","ts":"1591935980.433500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PhPf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8e4bfa9e-b4d3-4ea7-9864-00dbc7c8c537","type":"message","user":"U9S4G0LJW","text":"JavaはIDEないと書けない(もう完全に忘れた)","ts":"1591936001.434500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oxg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"90e59dec-9aed-4319-88e0-ebbabcbb1095","type":"message","user":"U8R597E9H","text":"自分のイメージは結構 duc さんのものに近くって、今でいう `Consume&lt;T&gt;` に isBulk とか kind とか持たせておいたほうが便利なんじゃないかなという想像があります。","ts":"1591936041.435200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hherf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd4659eb-3aca-440e-a5d7-8d33526a3ea0","type":"message","user":"U8R597E9H","text":"そして、createSingleLineProcess とか区分けしているものはなくしてしまって、`consume.isBulk` とかを参照して if で切り分けるのがよさそうです。","ts":"1591936086.436100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jVrHg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8c6503c0-3ac8-4111-b5ef-dd7b79dc8dd7","type":"message","user":"U8996GYBF","text":"なるほど、ちょっとそれで書いてみます","ts":"1591936111.436400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AjG7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3bc12dd8-7336-4c53-86e5-6bf0779e8e9f","type":"message","user":"UNJ2DANJC","text":"ラムダ式勉強したのときにいろいろ覚えた気がするがjava.util.functionもう全部わすれた。","ts":"1591936147.436900","thread_ts":"1591935808.430300","parent_user_id":"UNJ2DANJC","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U/="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"020e8f2e-adc3-4b47-af13-2ddcf979eb68","type":"message","user":"U8996GYBF","text":"それだとインターフェイスは `consumer.consume` かな？","ts":"1591936177.437900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qmBSM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16ea4868-d465-4dfd-be2d-6e1f36d630a0","type":"message","user":"U8R597E9H","text":"```const consume = consumes.find(c =&gt; なんらかの処理を選択するロジック)\ncreateProcess(consume).execute();```\nイメージとしてはこうだからです。（多様性があるのはあくまでも consume 側であって、その多様性に合わせた処理を実行するのが process になっている。命名は僕も結構疑問ありますが）","ts":"1591936215.438700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a22z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"02e124d8-5f76-4cd1-b56b-8788d7364042","type":"message","user":"U8R597E9H","text":"どっかで if は書かなきゃいけなくて、書くなら createProcess のあたりが妥当な気がする。ということです。","ts":"1591936254.439300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HnNen"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1da9b9d1-0448-4d32-8544-058ce73af554","type":"message","user":"U8R597E9H","text":"consumer.consume のほうがいいと思います。  <@U8996GYBF>","ts":"1591936287.439800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Jx4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"58f38805-370e-4b03-903b-3b8452630884","type":"message","user":"U8996GYBF","ts":"1591937268.440500","files":[{"id":"F0153BT6754","created":1591937267,"timestamp":1591937267,"name":"無題","title":"無題","mimetype":"text/plain","image_exif_rotation":0,"filetype":"typescript","pretty_type":"TypeScript","user":"U8996GYBF","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":697,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F0153BT6754/______","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F0153BT6754/download/______","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U8996GYBF/F0153BT6754/______","permalink_public":"https://slack-files.com/T03C4RC8V-F0153BT6754-55652effc0","edit_link":"https://vim-jp.slack.com/files/U8996GYBF/F0153BT6754/______/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"c49fae7f-2356-480a-aa02-499acf8ea89b","type":"message","user":"U8996GYBF","text":"こんなイメージでしょうか（ConvertLineがコード複雑にしてたんで一回消しました）","ts":"1591937288.441200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wqVCV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a59a87cc-9c19-4eac-a40d-654b242af36b","type":"message","user":"U8996GYBF","text":"これだと `process.consume(lines)` になってしまうから何か違うかもしれない・・・","ts":"1591937338.441700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lG6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"102c8ff6-ea90-4863-bbca-0a8cb041d3be","type":"message","user":"UNM8AVCB0","text":"なんで `for await` が必要でしょうか","ts":"1591937386.442500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LMaiG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0a679502-f08d-4075-9aaf-e06010cf5ac4","type":"message","user":"U8R597E9H","text":"ユーザにカスタムなアクションを追加させるんですよね？","ts":"1591937399.443100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qa0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"70bc1656-86bf-4fa2-a2e0-bb9ebae68a07","type":"message","user":"U8R597E9H","text":"アクションといってしまった。カスタムなコンシューマ","ts":"1591937409.443500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c1gCQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68245508-3d20-41e7-8cd0-ecd5d7c94fa8","type":"message","user":"U8996GYBF","text":"させる想定です","ts":"1591937424.443900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aIJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d0d05df6-bb80-48ea-bb30-0cc2476dd268","type":"message","user":"U8996GYBF","text":"`for await` してるのは内部の都合になるんですけど、この先の処理でRemotePluginの `call` の返り値がPromise&lt;any&gt;になっていて、選択行の順番に実行されることを保証したいんですよね・・・","ts":"1591937490.445400","edited":{"user":"U8996GYBF","ts":"1591937507.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jBg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b7d77e88-878f-434b-b630-7e3f73066a13","type":"message","user":"UFHQ7TNT0","text":"Promise.all ではだめ?","ts":"1591937602.446200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Nw1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3742be6-8312-4034-9712-9a67513723ba","type":"message","user":"UNM8AVCB0","text":"じゃ `lines`  は `AsyncIterator&lt;string&gt;` ではないか?","ts":"1591937624.447000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WuD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7843499c-6967-4355-a44d-3f99c75dad40","type":"message","user":"U8R597E9H","text":"Promise.all だと順不同に（大抵のケースなら大丈夫そうだけど）なりうるので、直列の Promise がイメージにあいそうですね。","ts":"1591937652.447900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IK+6T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1d1dbbc1-bd20-49da-9a85-d53f2de72536","type":"message","user":"U8996GYBF","text":"`Promise.all` って並列処理だから順序ばらばらになって実行されると思っていて、それを避けたいと思って","ts":"1591937653.448000","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UFHQ7TNT0"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YV5Z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d4e148f3-b0e1-4506-9da0-3e3d859cbe2f","type":"message","user":"U8996GYBF","text":"`AsyncIterator&lt;string&gt;` 調べてみます","ts":"1591937683.448800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B6w"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c7e17fc7-3e91-44b8-8569-f9b52559781d","type":"message","user":"U8R597E9H","text":"for await 未だに使ったことないからどういうことになるのかイマイチわかってないけど、妥当かもしれない。（コンシューマが非同期になりうるなら）","ts":"1591937688.448900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8BRwK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"607112a7-1c1f-4356-9fb7-980c94ee4e6d","type":"message","user":"UNM8AVCB0","text":"<https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/for-await...of>","ts":"1591937714.449300","attachments":[{"fallback":"MDN Web Docs: for await...of","id":1,"title":"for await...of","title_link":"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/for-await...of","text":"for await...of 文は非同期および同期の反復可能オブジェクトを使用して、反復処理を行うループを作成します。たとえば、組込みの String, Array, 配列風オブジェクト (例えば arguments, NodeList など), TypedArray, Map, Set, さらに、ユーザー定義の非同期・同期の反復可能オブジェクトを使用することができます。これはオブジェクトのそれぞれの識別可能なプロパティの値に対して、実行される文を表す独自の反復フックを呼び出します。 await 演算子と同様に、この分は非同期関数の中でのみ使用されます。","thumb_url":"https://developer.mozilla.org/static/img/opengraph-logo.72382e605ce3.png","blocks":null,"service_name":"MDN Web Docs","service_icon":"https://developer.mozilla.org/static/img/favicon144.e7e21ca263ca.png","thumb_width":600,"thumb_height":600,"from_url":"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/for-await...of","original_url":"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/for-await...of"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V8u"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"15c1f700-497b-4a4f-bd6f-6967d378d316","type":"message","user":"U8996GYBF","text":"`for await` しなかった場合、中のconsumeで待機してくれないって挙動になるかと思ってたんですが（付けたらしてくれる？）勘違いだったらすみません","ts":"1591937754.450300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q7K"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb124d35-4f7a-4713-8485-347b10022a65","type":"message","user":"U8R597E9H","text":"_変換結果を把握できてない機能はなるべく使わないようにしている。。。_","ts":"1591937814.452100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h3IL+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"741072e9-5469-4974-ac6e-63caefce2439","type":"message","user":"UNM8AVCB0","text":"&gt; 択行の順番に実行されることを保証したいんですよね\n`for (let line of lines) await consumer.consume(line)` の方は正しい気がする","ts":"1591937817.452400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Is0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6e09d384-f707-4177-b57f-1556734604a2","type":"message","user":"U8996GYBF","text":"あくまでfzfから返ってきてるのは `Array&lt;string&gt;` で、 `consumer.consume` の先で `plugin.nvim.call` がPromiseを返す、になってます","ts":"1591937860.453200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wJeRq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76ae154c-5e70-4dba-94b3-79198a02f3d5","type":"message","user":"U8R597E9H","text":"では、consumer.consume の戻り値は Promise or void って感じですかね。","ts":"1591937900.453700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C0i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a7c8fd6c-a226-4364-8956-173f46e63b3b","type":"message","user":"U8996GYBF","text":"あー、 `Promise&lt;void&gt;` ですかね","ts":"1591937937.455000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CPX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"021140a3-6212-4bbf-847e-3a2db6ed646e","type":"message","user":"U8R597E9H","text":"手書きで Promise チェーンさせる処理を毎度書いてるけど for await をちゃんと使えばいけそう。","ts":"1591937943.455200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lxC/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b56879fc-ec39-41e2-a94c-c2d6946d2015","type":"message","user":"U8R597E9H","text":"_自分なら手書きの Promise チェーンにしちゃいます。慣れてるので_","ts":"1591938053.455700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qwGif"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb0e2a14-8efd-4c69-b2b0-9848c5c7e732","type":"message","user":"U8996GYBF","text":"Promise書き慣れてないからちょっと調べないとだ・・・、なんかすみません","ts":"1591938080.456200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BCVIu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5526b699-395a-4e1d-95db-7edf440af291","type":"message","user":"U8R597E9H","text":"```let p = Promise.resolve();\nfor (const line of lines) {\n  p = p.then(() =&gt; consume(line));\n}\nawait p;```\nこれで直列です。（実際は失敗時の catch もあったほうがよさそう","ts":"1591938138.458300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2v+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dc487b9d-2272-4964-933f-6e79228a6f16","type":"message","user":"UAZ33BKV2","text":"効率だけでいうなら、Promise.allして、その結果を適切にソートするほうがいいようには思う(直列化しつつ各待ちするの、若干もったいない感)\n最終的にはほぼ変らない、か? いやちょっと効率わるくなっちゃうのか...うーん","ts":"1591938178.459400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"osmp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d82b2c1-eb13-4511-b5e0-01c451543c4f","type":"message","user":"UNM8AVCB0","text":"`for await (let l of lines) f(l)`  と `for (let l of lines) await f(l)` は違うと思います","ts":"1591938208.460000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FOd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6758d0a2-a5e3-4cfe-b354-67ecad49572a","type":"message","user":"U8996GYBF","ts":"1591938244.460200","files":[{"id":"F015G9NP6SG","created":1591938242,"timestamp":1591938242,"name":"______.ts","title":"無題","mimetype":"text/plain","image_exif_rotation":0,"filetype":"typescript","pretty_type":"TypeScript","user":"U8996GYBF","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":698,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F015G9NP6SG/______.ts","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F015G9NP6SG/download/______.ts","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U8996GYBF/F015G9NP6SG/______.ts","permalink_public":"https://slack-files.com/T03C4RC8V-F015G9NP6SG-6df2eacd54","edit_link":"https://vim-jp.slack.com/files/U8996GYBF/F015G9NP6SG/______.ts/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"b67e4add-6b3e-4009-a93a-da51bdb1a4a5","type":"message","user":"U8996GYBF","text":"少し直してみました、Promiseのチェーン試してみます","ts":"1591938262.460900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jJAM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"63c0e75a-1820-478e-a21d-875e51d6b52d","type":"message","user":"UNM8AVCB0","text":"```consumer.consume(lines)```\nも `await` が要るね","ts":"1591938313.462300","thread_ts":"1591938313.462300","reply_count":1,"replies":[{"user":"U8996GYBF","ts":"1591938342.463100"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uVDO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1538ea4b-54f9-4079-b0d9-a33b070a9029","type":"message","user":"U8996GYBF","text":"`process.execute` の方がいいかな、それで中のconsumeが実行されるイメージで","ts":"1591938324.462700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JPoTg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b6a18682-ddf3-43c1-b959-d4bfbe7ef1f1","type":"message","user":"U8996GYBF","text":"ですね、抜けてました","ts":"1591938342.463100","thread_ts":"1591938313.462300","parent_user_id":"UNM8AVCB0","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"37YkX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"57e3635a-fbcb-47be-a67b-1ca450728abd","type":"message","user":"U8R597E9H","text":"とりあえずあとあと困らなそうな範囲にはなった気がします。","ts":"1591938375.463900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Mk/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"88fbcef1-9a2b-4e5c-8cb3-b9e9cd3db42e","type":"message","user":"U8996GYBF","text":"めっちゃレビューして貰った、ほんとありがとうございます","ts":"1591938415.464800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Li/a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c026fb17-9876-4d05-9d91-1d999063c243","type":"message","user":"UNM8AVCB0","text":"私としては `type Process = (lines: string[]) =&gt; void | Promise&lt;void&gt;;`  でいいじゃないかと思ってます","ts":"1591938442.465700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kof"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9984ddcc-2e87-4874-8b1e-d1d07c527a89","type":"message","user":"U8R597E9H","text":"fzf-preview.vim のプラグイン製作者は\n\n```fzfPreview.addCustomConsumer(key, {\n  kind: 'bulk',\n  consume: (lines: string[]) =&gt; {\n    \n  }\n});```\nこういうことができるのかな。と想像ができました。","ts":"1591938479.466400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7Cs7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"50c0fb6b-a010-47a8-b07d-5e93d7dd0dfc","type":"message","user":"U8996GYBF","text":"そこ迷ったとこでした、そっちの方が正しそうかなぁ","ts":"1591938493.466700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s6i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7cc9d5c1-fcd8-47e6-bb2d-9a062df35566","type":"message","user":"U8996GYBF","text":"あー、そっちを考えてなかったです\nユーザが.vimrcの範囲内でVim scriptでFuncRef渡して拡張することしか頭になかった","ts":"1591938539.467400","edited":{"user":"U8996GYBF","ts":"1591938542.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nYb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16f38a37-fa5c-4826-bfef-d579da10a98e","type":"message","user":"U8996GYBF","text":"プラグインレベルだと確かに、そんなのでいけそうですね","ts":"1591938550.467800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"39EuW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7bc6e0ac-4530-4781-91e3-23724c5cd4c1","type":"message","user":"U8996GYBF","text":"あとはConvertLineの存在が微妙に邪魔というかコードを煩雑にするんですよね\nそこだけ綺麗に書ければ理想かもしれない、最初に書いてたみたいにカリー化でいいかもですけど","ts":"1591938615.468600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0qn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"046d1bb2-bd09-4242-adf7-9f20abb01ce6","type":"message","user":"U8R597E9H","text":"convertLine って「候補を実際に fzf にわたす時」に実行するものな気がするので Consumer とは別途登録するものだと思っていました。","ts":"1591938793.469300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uK1go"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a70034c8-e2fc-430d-9dbc-3ce3819b6e1d","type":"message","user":"U8996GYBF","text":"あ、いやfzfから返ってきた値を更に加工するものなんですよね","ts":"1591938870.469900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RDRc0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"274733ca-9bcd-4c85-9bee-65788272bbe9","type":"message","user":"U8996GYBF","text":"fzfに渡したリソースによっては（行の形式が変わるので） `{filename}` と `{bufnr} {filename}` で返ってくる場合があって、例えば `{filename}` を扱うProcessには `convertLine` を差し替えることで変換結果を渡すようにするというか","ts":"1591938990.472200","edited":{"user":"U8996GYBF","ts":"1591939014.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vt9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a7cc2822-78d3-4cc1-8f33-cb26e0c078d0","type":"message","user":"U8996GYBF","ts":"1591939202.472400","files":[{"id":"F015GA2S2MA","created":1591939201,"timestamp":1591939201,"name":"______.ts","title":"無題","mimetype":"text/plain","image_exif_rotation":0,"filetype":"typescript","pretty_type":"TypeScript","user":"U8996GYBF","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":913,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F015GA2S2MA/______.ts","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F015GA2S2MA/download/______.ts","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U8996GYBF/F015GA2S2MA/______.ts","permalink_public":"https://slack-files.com/T03C4RC8V-F015GA2S2MA-236fe36e31","edit_link":"https://vim-jp.slack.com/files/U8996GYBF/F015GA2S2MA/______.ts/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"0784f004-345a-4985-9bdd-0a7f8000d76a","type":"message","user":"U8996GYBF","text":"（変更前のコードなのと）名前とかあれですけど、editProcessの使い回しとかこんな感じでやるイメージです","ts":"1591939234.473300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gxC06"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d2d17743-67e2-4a6e-9c1c-ac9a48ea7752","type":"message","user":"U8996GYBF","text":"fzfは選択した行をそのまま返すものであって、行の形式はfzf上で人間が扱うものなのでProcessが受け取りたいそのままの形式じゃないんですよね","ts":"1591939569.474700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bbJt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ad83f1ef-72cb-4364-a8a9-52d1a1fb6333","type":"message","user":"U8996GYBF","text":"候補をfzfに渡すときに関数登録しといて、それを動的に引っ張ってきたら確かに実現できますね\n言ってること理解できてなかったです","ts":"1591939657.475500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oNO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5dc5a303-5e2d-4f5f-9637-30c2d94c9f92","type":"message","user":"U8996GYBF","text":"把握しました、ConvertLineも外出しできますね","ts":"1591939672.475800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dRAX4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"91b5bdd1-9691-4aa8-a13b-e94d47b4f750","type":"message","user":"U8996GYBF","text":"設計がめっちゃ変わっていく（いいことだけど変更量が結構なことになりそう）","ts":"1591939714.476000","edited":{"user":"U8996GYBF","ts":"1591939743.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K0c8j"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
