[{"client_msg_id":"8de0de6a-e665-468f-97a3-32d188293822","type":"message","user":"U06ECBRTJ","text":"1時間半ほどで、subcmd を `<http://github.com/urfave/cli/v2|github.com/urfave/cli/v2>` に実装し直してしまった","ts":"1589386325.075300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OgQl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d68d5c9-a9d4-4021-b1ce-5275e3df115b","type":"message","user":"U06ECBRTJ","text":"<https://github.com/vim-jp/slacklog-generator/issues/95> ついでにこれも実装してしまった","ts":"1589386373.075600","attachments":[{"fallback":"GitHub: 各サブコマンドの引数をオプション化して、デフォルト値を設定する · Issue #95 · vim-jp/slacklog-generator","id":1,"title":"各サブコマンドの引数をオプション化して、デフォルト値を設定する · Issue #95 · vim-jp/slacklog-generator","title_link":"https://github.com/vim-jp/slacklog-generator/issues/95","text":"脳死で go run . generate-html でちゃんと動けば良いじゃない。","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/slacklog-generator/issues/95","original_url":"https://github.com/vim-jp/slacklog-generator/issues/95"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s39"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c80d4f8-d644-4ef6-9a2a-e01ed2f64a28","type":"message","user":"U06ECBRTJ","text":"明日にでも、PR出します","ts":"1589386442.076000","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ntm5S"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7fad6043-6679-4519-8bbc-3046db90390c","type":"message","user":"U06ECBRTJ","text":"```$ go run .\n[/tmp/go-build628414892/b001/exe/slacklog-generator]\nNAME:\n   slacklog-generator - generate slacklog HTML\n\nUSAGE:\n   slacklog-generator [global options] command [command options] [arguments...]\n\nVERSION:\n   0.0.0\n\nCOMMANDS:\n   convert-exported-logs  convert-exported-logs {indir} {outdir}\n   download-emoji         download-emoji {outdir}\n   download-files         download-files {outdir}\n   generate-html          generate-html {config.json} {templatedir} {filesdir} {indir} {outdir}\n   help, h                Shows a list of commands or help for one command\n\nGLOBAL OPTIONS:\n   --help, -h     show help (default: false)\n   --version, -v  print the version (default: false)```\nヘルプもきれいに出て便利","ts":"1589386579.076600","team":"T03C4RC8V","reactions":[{"name":"goodjob","count":4,"users":["U9S4G0LJW","U03C71D7H","UAZ33BKV2","U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d3QEN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"32a54d8b-a094-4785-88ac-e184fca3a439","type":"message","user":"U06ECBRTJ","text":"<https://github.com/vim-jp/slacklog-generator/pull/121>\nPR 出しました Draft にしておいたほうが良かったですかね？","ts":"1589445189.077700","attachments":[{"fallback":"GitHub: Re-Implemente subcmd on github.com/urfave/cli/v2 by raa0121 · Pull Request #121 · vim-jp/slacklog-generator","id":1,"title":"Re-Implemente subcmd on github.com/urfave/cli/v2 by raa0121 · Pull Request #121 · vim-jp/slacklog-generator","title_link":"https://github.com/vim-jp/slacklog-generator/pull/121","text":"<http://github.com/urfave/cli/v2|github.com/urfave/cli/v2> を使って、subcmd を再実装しました。 マジックナンバーで、定数にすべきところも、一旦、そのまま埋め込んであります。","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/slacklog-generator/pull/121","original_url":"https://github.com/vim-jp/slacklog-generator/pull/121"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=sAUW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"516eb23b-4cd1-4caf-839c-3a0605532da6","type":"message","user":"U06BRP8VD","text":"いやOKですよ","ts":"1589447401.078100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HofzY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"18cb7fd6-f4fb-4b25-a095-fcdc1497324b","type":"message","user":"U06ECBRTJ","text":"早々にレビューしていただけて、感激\nただ、<https://github.com/vim-jp/slacklog-generator/pull/120> とコンフリクトしますよね…","ts":"1589449085.078700","attachments":[{"fallback":"GitHub: add \"serve\" sub-command by koron · Pull Request #120 · vim-jp/slacklog-generator","id":1,"title":"add \"serve\" sub-command by koron · Pull Request #120 · vim-jp/slacklog-generator","title_link":"https://github.com/vim-jp/slacklog-generator/pull/120","text":"開発用に特殊なファイルサーバを作りました。 以下のコマンドで起動できます。 $ go build $ ./slacklog-generator serve 普通に _site/ 下をサーブするのですが /files/ と /emojis/ は <https://vim-jp.org/slacklog/> をリバースプロキシします。 つまり _site/files/ と _site/emojis/...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/slacklog-generator/pull/120","original_url":"https://github.com/vim-jp/slacklog-generator/pull/120"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/cH="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e2ad94d9-9152-47f6-9cab-7f60f0cffd55","type":"message","user":"U06BRP8VD","text":"ちょいとまっててね、いまからみる。conflict","ts":"1589449117.080000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WmLv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"35b385b5-942d-45dd-9180-c5165c0d36f8","type":"message","user":"U06ECBRTJ","text":"#120 も私の方で、cli 化したほうがいいですかね","ts":"1589449119.080400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7JjA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1a4688d3-ffd0-4d62-9fba-2be323139605","type":"message","user":"U06BRP8VD","text":"は忘れてもよいと思うけど。","ts":"1589449122.080500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FmVqF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"90a0409a-44dd-4a67-8e72-014889c10042","type":"message","user":"U06BRP8VD","text":"あとででいんじゃない?","ts":"1589449126.080800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xd6Q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0e3fd956-e2be-45cf-b9f9-f957c3514bda","type":"message","user":"U9S4G0LJW","text":"安易に押して事故るのが怖いのでマージしてなかったけど、やっぱコンフリクトするか","ts":"1589449130.080900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ieHG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b9587407-5841-468b-8fee-80af47827254","type":"message","user":"U06BRP8VD","text":"あー #120 先に入れて らあさんに直してもらうのと、#121みてからマージしてから #120","ts":"1589449182.081600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"X5tX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a0ba6801-a187-462e-bf2b-5d90854a8e4a","type":"message","user":"U06BRP8VD","text":"直すのどっちがいいかな。","ts":"1589449189.081800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YxcgM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4f611a8a-d234-419e-8061-3d49bca08561","type":"message","user":"U06BRP8VD","text":"いずれにせよ #121 いまからみます。っていうか raa0121 で 121 って狙った?w","ts":"1589449258.082400","team":"T03C4RC8V","reactions":[{"name":"kzk","count":1,"users":["U9S4G0LJW"]},{"name":"bareta","count":1,"users":["U06ECBRTJ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vUN5r"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c1b5ba78-b447-41a4-94ba-2e9dcfa10b8c","type":"message","user":"U06ECBRTJ","text":"1コマンド15分ほどあれば urfave/cli/v2 で再実装できるので、 120 を入れてもらった後(実際には並行で)、121に追加コミットしますかね…","ts":"1589449371.083500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AI5vd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dd6c676f-e3a7-459d-87a2-9a9480bcbad7","type":"message","user":"U06BRP8VD","text":"ちょっとまってね。いまレビューしてるから。というかcli ライブラリの使い方、チェックしてる。","ts":"1589450040.084200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WQLC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a72454df-69c2-41ed-8f63-a09cc2eb5e2a","type":"message","user":"U06ECBRTJ","text":"urfave/cli/v2 の使い方は <https://github.com/mattn/memo> を元にしてて、私の中で、2回めの実装です","ts":"1589450281.085300","attachments":[{"fallback":"GitHub: mattn/memo","id":1,"title":"mattn/memo","title_link":"https://github.com/mattn/memo","text":":notebook: Memo Life For You. Contribute to mattn/memo development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/memo","original_url":"https://github.com/mattn/memo"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gmfZK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"95109e80-33bd-41ec-9055-507acb340987","type":"message","user":"U06BRP8VD","text":"Usageのテキストをちゃんと書いてほしいのと、あとはフラグ化するかどうかって感じ。","ts":"1589450718.086100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KmW3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66bbd74b-19c5-4a64-9a11-43322a9974bc","type":"message","user":"U06BRP8VD","text":"基本的には Usage なおして ArgsUsage 書けば良いと思う。","ts":"1589450747.086600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"as9m"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fe4a4943-63ec-4455-bc49-168f4672f2ea","type":"message","user":"U06BRP8VD","text":"っていうかちゃんと urfave/cli/v2 に書いてあるドキュメントをベースにしたほうが良いですよ。","ts":"1589450773.087200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HsRA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cb6ef5f2-32ae-422d-bdba-52ad74632836","type":"message","user":"U06BRP8VD","text":"#120 は approve でてるのでマージしちゃいます。","ts":"1589450816.087600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EOt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7fce8c7b-5377-40fa-b464-913786f04604","type":"message","user":"U06ECBRTJ","text":"#121 は炊飯したら直します","ts":"1589451025.088300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v7Y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"90413e9c-5f1c-4189-b539-0ea8e9b27bdc","type":"message","user":"U06BRP8VD","text":"まぁフラグ化とかデフォルト値はあんま気にしないで良いです。既存のスクリプトがちゃんと動くなら。\n\nただ新しく導入したライブラリを正しく使うように(Argsの長さチェックの方法 &amp; Usage の書き方 (正しくは ArgsUsage の利用) はしておきたいです。あとで混乱しないように。","ts":"1589451492.090400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+IV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"37c61516-80eb-4d96-abe7-4301c8f3eec5","type":"message","user":"U06ECBRTJ","text":"了解です","ts":"1589458292.090600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WD44k"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"23f03e97-15a2-48f1-93f1-283e67d0f670","type":"message","user":"U06ECBRTJ","text":"```$ ./slacklog-generator generate-html --help\n[./slacklog-generator generate-html --help]\nNAME:\n   slacklog-generator generate-html - generate html from slacklog_data\n\nUSAGE:\n   slacklog-generator generate-html [command options] [arguments...]\n\nOPTIONS:\n   --config value       config.json path (default: \"scripts/config.json\")\n   --templatedir value  templates dir (default: \"templates\")\n   --filesdir value     files downloaded dir (default: \"_logdata/files\")\n   --indir value        slacklog_data dir (default: \"_logdata/slacklog_data\")\n   --outdir value       generated html target dir (default: \"_site\")\n   --help, -h           show help (default: false)```\nフラグ化してみた","ts":"1589465407.091100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3RB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd7bbe38-e938-4439-898c-607ba348ab14","type":"message","user":"U06ECBRTJ","text":"全てに default value を追加したので、引数いらない！","ts":"1589465458.092000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DgaMB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ba018b1-0b0c-40f6-aa7b-bac32a3fa6d3","type":"message","user":"U06ECBRTJ","text":"``` ./slacklog-generator --help\n[./slacklog-generator --help]\nNAME:\n   slacklog-generator - generate slacklog HTML\n\nUSAGE:\n   slacklog-generator [global options] command [command options] [arguments...]\n\nVERSION:\n   0.0.0\n\nCOMMANDS:\n   convert-exported-logs  convert slack exported logs to API download logs\n   download-emoji         download custamized emoji from slack\n   download-files         download files from <http://slack.com|slack.com>\n   generate-html          generate html from slacklog_data\n   serve                  serve a generated HTML with files proxy\n   help, h                Shows a list of commands or help for one command\n\nGLOBAL OPTIONS:\n   --help, -h     show help (default: false)\n   --version, -v  print the version (default: false)```\n本体のヘルプはこんな感じ","ts":"1589465508.092400","team":"T03C4RC8V","reactions":[{"name":"benri","count":3,"users":["UG6DF6W87","U9S4G0LJW","U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PhjLF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
