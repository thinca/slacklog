[{"client_msg_id":"29e4c17f-9e91-4dff-90ef-7757999440c8","type":"message","user":"U03C71D7H","text":"daily の更新処理、ログ自体の取得や html の生成なんかより、画像(添付ファイル全般)が全部入ったブランチを fetch してきて新しいファイルを DL してきてそれを commit &amp; push するのが一番時間かかりそうな気がしてきた","ts":"1587285433.183700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PXq4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74ca30c8-c989-41d2-8d9c-053401078201","type":"message","user":"U03C71D7H","text":"まあでもたぶん数分とかだとは思うけど…トラフィックが膨れるのは申し訳無さがある","ts":"1587285478.184300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wzQq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"316bd4eb-f233-440f-8269-afa81b3f0da8","type":"message","user":"U03C71D7H","text":"もう1つもマージしてほしい…","ts":"1587290693.184600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hDsS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cbccd32b-58df-41d2-bb09-c7877d86f10b","type":"message","user":"U03C71D7H","text":"皆さん進捗どうですか","ts":"1587290709.184900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q54Ii"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d4630434-09e0-416f-a48b-188241aade6d","type":"message","user":"U03C71D7H","text":"そろそろ files に着手したいけどスクリプトが Go なので Go 力が試される…","ts":"1587290843.185500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FsN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d7206ccb-1371-47bd-8d83-1fb2113836c3","type":"message","user":"U03C71D7H","text":"(たぶんしばらく着手はしないので誰かやってくれて大丈夫)","ts":"1587290862.185900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7AqV1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6cc807f3-0a8e-4dc2-9fb2-4f65822b3d74","type":"message","user":"U0M7GCBPD","text":"スクリプトのレビューなので家戻ってからやろうと思ってた、今から見ます &gt;もう1つ","ts":"1587302863.187000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"znIHb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"50553665-505a-4bf8-9608-db90f14b2508","type":"message","user":"U0M7GCBPD","text":"approve したけどコミットメッセージ typo ってる (thinca さん後悔しそう)\n<https://github.com/vim-jp/vim-jp.github.io/pull/357>","ts":"1587302914.187700","attachments":[{"fallback":"GitHub: Fix license display at page footer by thinca · Pull Request #357 · vim-jp/vim-jp.github.io","id":1,"title":"Fix license display at page footer by thinca · Pull Request #357 · vim-jp/vim-jp.github.io","title_link":"https://github.com/vim-jp/vim-jp.github.io/pull/357","text":"Changes forgotten at #354.","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vim-jp.github.io/pull/357","original_url":"https://github.com/vim-jp/vim-jp.github.io/pull/357"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Koi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8e4ebe49-ac6d-4ae5-973f-919b887c95f2","type":"message","user":"U03C71D7H","text":"l が…","ts":"1587302945.188100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FfWkq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1babd4b2-59da-49f2-a310-cab9d5a079d3","type":"message","user":"U03C71D7H","text":"s と c も逆だった :totemoturai:","ts":"1587303011.188400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lwX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9836c77-d91f-465b-b4db-fcf11d5ffdb7","type":"message","user":"U03C71D7H","text":"fixed","ts":"1587303016.188600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xz+i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7dd4de29-c5a9-4a8c-b302-f45fe0fbe1f0","type":"message","user":"U03C71D7H","text":"ありがとうございます","ts":"1587303028.188800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I0A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ec05c194-3a84-486f-a63a-c0c362f15f58","type":"message","user":"U03C71D7H","text":"マージしたった","ts":"1587303151.189000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ifkyx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"590cbe59-55a0-4883-b883-4b2892c3ef70","type":"message","user":"U03C71D7H","text":"slacklog の PR も見ていただけると…","ts":"1587303175.189300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eJpGx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b98159e-be49-4db0-8e73-632db14e4af3","type":"message","user":"U0M7GCBPD","text":"みます","ts":"1587303262.189500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Luxrs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"43e4ea69-4a8e-44c3-9a99-fc64b26e3db9","type":"message","user":"U0M7GCBPD","text":":merged: あざす","ts":"1587303488.189800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dT0w1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5462660e-e030-4d60-83c5-6114b603e8fa","type":"message","user":"U0M7GCBPD","text":":manbou: の進捗力すごい","ts":"1587303526.190400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=H=sT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3ce19ed6-766a-448d-93ca-d011e8b1892f","type":"message","user":"U03C71D7H","text":"みんなもがんばってくれ","ts":"1587303610.190600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ynpe4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ce3fb05d-acb0-4e60-932d-473486e0c2ec","type":"message","user":"U03C71D7H","text":"これ勢いで完成させないと半端なままで放置するのめっちゃもったいない","ts":"1587303628.191000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aKEBr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"24f0babd-7cc0-44a2-8cb4-be71be9b05a3","type":"message","user":"U0M7GCBPD","text":"わかる\nOSS は中途半端になると絶対誰もやってくれない","ts":"1587303767.191700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HGPl9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ae6f8e37-6217-4a97-8a99-e22419d6bd06","type":"message","user":"U0M7GCBPD","text":"ただ今は仕事で(小)火消しとプレゼン作成が気になってしまって…\nあんまり知らない部分だからコード読んでおきたいとかプレゼン苦手だしそもそも作成できてなかったりでつらい…","ts":"1587303912.193800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S57qo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fe9c1249-89b8-48ea-995b-0b0c417fcd93","type":"message","user":"U0M7GCBPD","text":"マルチタスク苦手なので今は無理…","ts":"1587303923.194100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HCd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8d1a0022-af47-4e23-9c46-3d57a7fd1ee4","type":"message","user":"U03C71D7H","text":"ログを html に変換するやつ、今は一括だけど daily だと最新部分だけやる必要があるのでそういう指定ができるようにする必要があるな","ts":"1587304014.194900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SAH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5cb4ca47-220c-48f2-992b-96d9569b9c1f","type":"message","user":"U03C71D7H","text":"export したログが JST 区切りになっていない件もあるし、export ログをいい感じに変換するスクリプトは別途必要そうだなー","ts":"1587304073.195700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PLQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"494f4f00-3e23-49d4-9c08-ba6dde4279f1","type":"message","user":"U03C71D7H","text":"Go あまりわかってないんですけど、共通部分を別ファイルに分けた方がいい感じになったりする? 全部1ファイルの方がラク?","ts":"1587304129.196500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o=+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd2d1e4b-5bbd-4d7f-9b20-361a4f06e709","type":"message","user":"U78A6ESHM","text":"もう少ししたら手をつけられそう。","ts":"1587304508.197800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mjjT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9f89461e-85df-457a-beaa-3257cb3e8fa1","type":"message","user":"U03C71D7H","text":"期待","ts":"1587304524.198000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cg2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dce9bacc-a538-462f-abad-f0a924a23856","type":"message","user":"U0M7GCBPD","text":"マジで助かります","ts":"1587304539.198300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"esE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d19064d4-891f-4cd7-b332-77d27ac14db7","type":"message","user":"U03C71D7H","text":"他の人と作業被らなそうなところを優先して進めたい。みんなどの辺りやる予定とかってありますかね? (確約するものではないので言ったら責任が発生するとかではないです)","ts":"1587304596.199300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oqjn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4f8a2642-ef22-461a-8894-92cd9169b291","type":"message","user":"U78A6ESHM","text":"とりあえず画面周り。Go は分からんのでお任せします。","ts":"1587304663.201200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5i8H"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3a91f58-fedf-4843-8492-a76bf7334a58","type":"message","user":"U9S4G0LJW","text":"<https://github.com/vim-jp/slacklog/issues/2> これぐらいならなんとかなりそうな気がするけど高確率でやるやる詐欺になりそう","ts":"1587304669.201300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"w+vV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97bc7294-a8dc-4a40-804d-52f266dbf684","type":"message","user":"U0M7GCBPD","text":"&gt; 通部分を別ファイルに分けた方がいい感じになったりする? 全部1ファイルの方がラク?\n複数に分けると go build が必要になるというのがあります（go run で完結できない）\nupdate_slack_logs.sh で go build する手はあるけど","ts":"1587304675.201400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"78b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4800f8e0-c302-455a-84a7-6cb26860b00b","type":"message","user":"U03C71D7H","text":"スクリプトについて、\n現状あるもの:\n- ログ全体を一括で html に変換する\n他に必要そうな機能:\n- ログの一部を html に変換する\n- export なログを API で取ってきたログっぽく変換する","ts":"1587304782.202800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OPm8Y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"acba7213-1a45-4014-b044-27dd6e3b5f75","type":"message","user":"U03C71D7H","text":"他にあるかな","ts":"1587304791.203000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LOi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97cc7c09-dc34-402a-b3ed-9a068c57ccb7","type":"message","user":"U03C71D7H","text":"ログの一部を変換、よく考えると結果は月単位のファイルだし大して時間かからんし常に全体変換でもいい気もしてきた","ts":"1587304823.203600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Jmc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de81d2de-9c71-439a-ae90-5ed73fc7b7d4","type":"message","user":"U03C71D7H","text":"後者のスクリプトはほしいな…なんか引数で処理を変えるようにしてごまかすかなぁ","ts":"1587304876.204200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QQsfb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8037af95-e636-4a7a-a65b-9d214c76cd9f","type":"message","user":"U03C71D7H","text":"あーあとそもそももっと色々必要なスクリプトあるじゃん…\n- 指定範囲のログを API で取ってきて JSON で保管\n  - チャンネルリストやユーザーリストも更新\n- 添付ファイルをダウンロードしてくる\n- 絵文字データを最新に更新する","ts":"1587304997.205800","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U0M7GCBPD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5myn8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7199d4fe-df8f-4821-9134-f2ed610ea806","type":"message","user":"U03C71D7H","text":"既存のスクリプトが Go なのでこれらもたぶん Go でやるのがよさそう。API 叩くためのライブラリもあるし","ts":"1587305041.206400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aHdD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6fe47a44-b6e1-4868-928c-3ff84f3761c7","type":"message","user":"UG6DF6W87","text":"あれ? script ディレクトリを指定して go run すれば複数ファイルあっても動きません?","ts":"1587305242.207800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CsZBM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"560f3f1d-5c31-4c8d-9f0c-78f534f8b1a2","type":"message","user":"UG6DF6W87","text":"あ、go mod init しとかんといかんのか\nけど go run で動かすのはできそうです","ts":"1587305277.208400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=DDW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4768b90-9a32-4ffd-b94e-e7bf878f3a1c","type":"message","user":"U0M7GCBPD","text":"おおなるほど。自分多分ディレクトリ指定とかしてなかったな","ts":"1587305308.209100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lgMfO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e45e6f42-3ee0-454c-a9bc-37c4e6299cbd","type":"message","user":"UG6DF6W87","text":"ファイル指定だとだめなんですけど、main package のディレクトリを指定してやればいけそうです","ts":"1587305340.209800","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["U0M7GCBPD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pw9A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8a99a31c-ae1b-42a1-a3ee-bbdbf3d90832","type":"message","user":"U03C71D7H","text":"そうかそもそも main ってパッケージ(ディレクトリ)に1つだけか…","ts":"1587305370.210800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Olrm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e2478f62-f494-4a65-a1cb-584c2c992fbe","type":"message","user":"U03C71D7H","text":"別コマンドにしたかったらその時点でディレクトリ分けないといかんか","ts":"1587305399.211600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QzK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ec2bac0-49b1-4437-bca0-33431a541c38","type":"message","user":"U03C71D7H","text":"めんどう…","ts":"1587305402.211900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9WQc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"594be210-a504-4554-a151-e582b5bdaed9","type":"message","user":"UG6DF6W87","text":"まぁそれか main.go だけ script ディレクトリ直下に置いて、ディレクトリを掘ってスクリプト書いていってもよさそうです","ts":"1587305402.212000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"G9bI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a9cd92cd-662c-4b35-b64c-420cf1afd61e","type":"message","user":"U9S4G0LJW","text":"手元の雑パッケージで試してみたらディレクトリ直下で`go run .`したら動いたな","ts":"1587305445.213200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"in2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"923ac89d-89ad-4d72-a5e4-0f1f1f263412","type":"message","user":"U9S4G0LJW","text":"共通部分だけサブディレクトリ掘ってimportして、スクリプト群は単ファイルみたいなのとかだめなんだろうか","ts":"1587305689.217800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aY8G8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2a050666-40df-4136-9825-202937e4d066","type":"message","user":"U9S4G0LJW","text":"相対パスによるimportってあんまりよくない？","ts":"1587305699.218300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/nhPA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8afb9f88-2ebf-45c0-9a9e-83504521fa18","type":"message","user":"UG6DF6W87","text":"現状\n```script/\n  - update_slack_logs.go```\nファイル分割案A(エントリポイントは各ディレクトリ直下の main.go)\n```script/\n  - update_slack_logs/\n    - main.go\n  - hogehoge/\n    - main.go```\nファイル分割案B(エントリポイントは main.go でサブコマンドで実行スクリプト振り分け)\n```script/\n  - main.go\n  - lib/\n    - update_slack_logs.go\n    - hogehoge.go```\nみたいな感じですかね","ts":"1587306017.222800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fmsT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97953ded-3ad3-4fee-9eae-69ecf5e00b12","type":"message","user":"U03C71D7H","text":"これ別に分けた場合、import にはどう書くのでしょう?","ts":"1587306069.223600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VQ/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ceb52009-3c19-4276-b3b7-535600f52acd","type":"message","user":"UG6DF6W87","text":"A のパターンで共通処理を lib ディレクトリを掘ってやるってのが中間ですかね","ts":"1587306069.223700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nMp9="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"194af7e8-9458-4679-8956-55f1eef83199","type":"message","user":"U03C71D7H","text":"今、処理はサブコマンドに分けつつスクリプトは1ファイルでやっていこうとしていた (他のやり方わからん…)","ts":"1587306112.224700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MTN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a42c2ff4-3cba-4764-a771-52cf3f261237","type":"message","user":"UG6DF6W87","text":"例えば `go.mod` に `module script` って書いてれば、ファイル分割案 B だと `import script/lib` を main.go に書けば lib package を import できます","ts":"1587306230.227200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+42w"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5c6461c3-3683-46dd-88ca-74dacdd72480","type":"message","user":"U0M7GCBPD","text":"サブコマンドなら main() が1つになるのでディレクトリ分けるよりは分かりやすくなりそう","ts":"1587306306.228000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oVK/y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d35f8df5-e6ea-4302-bacb-d9352849a9df","type":"message","user":"U03C71D7H","text":"なるほど。go.mod は手で書く感じか","ts":"1587306318.228400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EHEW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c4290dd7-c0cd-497a-b0f6-97f363002822","type":"message","user":"UG6DF6W87","text":"あ、別に go mod init で自動的に設定される(であろう) `module <http://github.com/vim-jp/slacklog/script|github.com/vim-jp/slacklog/script>` をそのまま使っても問題ないです\nその場合は `import <http://github.com/vim-jp/slacklog/script|github.com/vim-jp/slacklog/script>` になります","ts":"1587306433.230500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aYEH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"18c9112e-b836-4766-8f77-d2d2c7f2bc82","type":"message","user":"U03C71D7H","text":"この `scripts` ディレクトリはたまたまここにあるだけで明確な意図がないんだよなw","ts":"1587306474.231600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E=rx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"06a41677-44cf-496e-b66d-7a8715ff7e63","type":"message","user":"U0M7GCBPD","text":"<http://vim-jp.github.io|vim-jp.github.io> のディレクトリ構成のままだったので必要なら変えてもよさそう","ts":"1587306754.234500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q4=FY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b248a1e2-0986-4c30-a393-d673723a714b","type":"message","user":"UG6DF6W87","text":"main.go とその依存パッケージをどう置くかさえ決まってれば、全体の置き場所が変わるとかはそんなに面倒ではないですね\n// import path を全部書き換える作業は発生しますが、いうてもそれだけ","ts":"1587307078.237500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WpT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b518ff53-7f9a-4ce4-a287-48a557a271b4","type":"message","user":"U0M7GCBPD","text":"はい、ガンガンやっちゃっていいです","ts":"1587307174.240300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kV9a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d8c38aba-97a6-4d30-bfd1-ad60af51720d","type":"message","user":"U03C71D7H","text":"それで結局 Go わからんので度の方針で行くのがよいか識者にきめてほしい (放り投げ)\n\n- 今は処理が1つしかないけど複数の処理(複数のエントリーポイント)が実行できるようにしたい\n- 中で使ってる構造体とかは共通化しておきたい","ts":"1587307178.240400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L/eDh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"59d8a739-0bfc-4740-bef0-c86b92d7283c","type":"message","user":"UG6DF6W87","text":"ちょっと叩き台として \"ファイル分割案 B\" 書き始めてみますね","ts":"1587307187.240800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IdSiT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7b198802-6ee5-4d4d-b5a2-0f81cc0616eb","type":"message","user":"U0M7GCBPD","text":"きれいはあと、しんちょくがさき","ts":"1587307188.240900","team":"T03C4RC8V","reactions":[{"name":"sorena","count":4,"users":["UG6DF6W87","U03C71D7H","U78A6ESHM","U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cLFx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e190dd2b-9b22-4ea8-8d76-9f8067b0d91f","type":"message","user":"U03C71D7H","text":"おなしゃす！ :pray:","ts":"1587307196.241100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ixBB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"92856d39-bc26-4413-8d20-25373cc4499e","type":"message","user":"U0M7GCBPD","text":"了解です、お願いします &gt;B","ts":"1587307234.242000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WaV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a25319ca-82e5-465b-958b-712dc948381e","type":"message","user":"U03C71D7H","text":"そう言えば Git のログ消すのいつやろ","ts":"1587307240.242100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Pp8s"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e0e69713-9981-43de-ab45-7b9807c2c95c","type":"message","user":"U78A6ESHM","text":"しばらくわちゃわちゃしそうなのである程度道筋見えてからが良さそうじゃないですかね。","ts":"1587307300.242700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dwfAe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c92b5a85-e694-4dd4-a256-67eeb365360e","type":"message","user":"U0M7GCBPD","text":"ですね。issues 全部消化できればそれが一番いいけど、もし皆忙しくなって停滞したら途中で本運用に移ってしまってもいいと思いますし","ts":"1587307350.243700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vTha"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"62e6bb8a-4179-4539-b131-82aedc1148f6","type":"message","user":"U0M7GCBPD","text":"本運用するとしたら JSON をエクスポートで過去含めて取り込むのもやらなきゃな","ts":"1587307378.244300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"m1pjL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"23a7bb77-7394-4812-9e24-104a6fb86334","type":"message","user":"U03C71D7H","text":"ようやく Go を書く時がきたのだ。何もわからんのでみんなに聞きまくってやるぞー(今日はもう閉店)","ts":"1587307582.246000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d7F"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"506afd73-27c4-4548-81c9-d4a59282b964","type":"message","user":"U9S4G0LJW","text":"ローカルで動かそうとして、自分のslackのlog放り込んでjekyllのビルドまでかけてみたんですが、何もチャンネルが表示されなくてつらい","ts":"1587307649.248500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oh/F"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d1c08b14-b2e2-4dbf-ace7-c0d5eca43592","type":"message","user":"U9S4G0LJW","text":"ローカルじゃ動かない？それとも自分のやり方が何かおかしいです？","ts":"1587307661.249100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k6S4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"268ed849-0891-4cc4-acc1-e0f84a84ce41","type":"message","user":"U03C71D7H","text":"Docker の Vim イメージを全部ビルドし直す大作戦が個人タスクにあるのだけど全然進んでない (本件とは一切関係がない)","ts":"1587307663.249300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NI4+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"70bcd02f-63f3-4bc7-838f-aab11e025248","type":"message","user":"U78A6ESHM","text":"ローカルだとパスの問題があるかな？","ts":"1587307673.249600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0Sy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3fa7fb60-449a-4fd5-b375-a9bfb5ed1289","type":"message","user":"U78A6ESHM","text":"これなんとかしたいんですけどねぇ。","ts":"1587307678.249900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Iq/q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"46508bd4-990d-417f-b2ba-6c2d4165594a","type":"message","user":"U03C71D7H","text":"あ、変換が必要","ts":"1587307690.250400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AGc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f442197-5582-4174-8362-f60315bbe13e","type":"message","user":"U03C71D7H","text":"一番最近マージされた辺りの PR から jq のコマンドを探してみて","ts":"1587307723.251600","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y2U"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d6ccb346-2171-4d70-bfc5-89e8305bf770","type":"message","user":"U78A6ESHM","text":"お。別問題か。","ts":"1587307743.252100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ox58k"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1256a465-994a-4ca8-a1e4-9371bf2d4c71","type":"message","user":"U03C71D7H","text":"ディレクトリをチャンネル名ではなくチャンネル ID にする変更が今日入った","ts":"1587307770.253600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fRuo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3a284e3e-a28c-4773-95bc-038fd641d934","type":"message","user":"U9S4G0LJW","text":"<https://github.com/vim-jp/slacklog/pull/24>","ts":"1587307774.253900","attachments":[{"fallback":"GitHub: Move channel data by thinca · Pull Request #24 · vim-jp/slacklog","id":1,"title":"Move channel data by thinca · Pull Request #24 · vim-jp/slacklog","title_link":"https://github.com/vim-jp/slacklog/pull/24","text":"ログに追記時に追記先が変わらないように、ログを置くディレクトリ名にチャンネル名ではなくチャンネル ID を使う。 一旦以下で取り急ぎの変換。 cd slacklog_data jq -r &amp;#39;.[] | &amp;quot;\\(.name) \\(.id)&amp;quot;&amp;#39; channels.json | xargs -n 2 mv 最終的には export data → API data...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/slacklog/pull/24","original_url":"https://github.com/vim-jp/slacklog/pull/24"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x5+SG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"10f10391-f7e1-47d1-b98b-6dd509325cfd","type":"message","user":"U78A6ESHM","text":"README 更新しないといかんな…。","ts":"1587307774.254000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D7P"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6ed0bc6e-d4c5-4e4e-bdea-78bee895bffb","type":"message","user":"U9S4G0LJW","text":"これか","ts":"1587307777.254400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HAS2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d286557f-ff3a-404f-81cb-42c7836da687","type":"message","user":"U0M7GCBPD","text":"パス問題は thinca さんが解決してくれた","ts":"1587307783.254600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sMqD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0615dc3e-fce3-43ff-8082-bc3aea791019","type":"message","user":"U03C71D7H","text":"それ","ts":"1587307784.254700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vXKW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"139c9c07-c25f-4ff4-979e-9edc02e03e7e","type":"message","user":"U78A6ESHM","text":":sasu_manbou:","ts":"1587307798.255200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uMe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac93643b-0a6b-4f2a-b6c9-4d950ab48f21","type":"message","user":"U0M7GCBPD","text":"エクスポートした JSON はチャンネル名の構造になってるので、修正するスクリプトも :manbou: によって秒速で入るはず","ts":"1587307823.255700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"16JCE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0bbad81e-a6a8-4f5a-9101-4725147110ad","type":"message","user":"U03C71D7H","text":"今は jq でしのいでくれ","ts":"1587307854.256200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"t2z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cfe43b2f-3272-4326-a71b-f34c480503a1","type":"message","user":"U9S4G0LJW","text":"お、来た","ts":"1587307861.256600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"owE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a88ae53f-e296-43ae-b9be-4c01e48d0c40","type":"message","user":"U9S4G0LJW","text":"あざます","ts":"1587307867.257100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W5AuS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"11dbfbb8-7956-4ae6-b608-fc0976ba7601","type":"message","user":"U03C71D7H","text":"それを変更するスクリプトを書こうとして複数コマンド問題になったので叩き台をてんなしさんがやってくれたら変換するのやる","ts":"1587307901.258300","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":1,"users":["U0M7GCBPD"]},{"name":"+1","count":1,"users":["U0M7GCBPD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+oKN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a555e9ce-0fd0-49a2-93a3-5e3477e0b4fe","type":"message","user":"U9S4G0LJW","text":"明日からぼちぼちやっていきます","ts":"1587307904.258500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wNqa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"26342bc4-cdc7-415c-a218-3c30b6de73ff","type":"message","user":"U03C71D7H","text":"みんなでやると寝てる間に進捗が出るのでスピード感があってよい","ts":"1587307970.259600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=5sR8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UPWFF5YQ7","text":"<@UPWFF5YQ7> has joined the channel","ts":"1587250233.182000","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"f62e5b8f-607c-48fb-a994-b5bf95400587","type":"message","user":"U03C71D7H","text":"<https://github.com/vim-jp/slacklog/pull/24>\n<https://github.com/vim-jp/slacklog/pull/25>","ts":"1587277928.182400","attachments":[{"fallback":"GitHub: Move channel data by thinca · Pull Request #24 · vim-jp/slacklog","id":1,"title":"Move channel data by thinca · Pull Request #24 · vim-jp/slacklog","title_link":"https://github.com/vim-jp/slacklog/pull/24","text":"ログに追記時に追記先が変わらないように、ログを置くディレクトリ名にチャンネル名ではなくチャンネル ID を使う。 一旦以下で取り急ぎの変換。 cd slacklog_data jq -r &amp;#39;.[] | &amp;quot;\\(.name) \\(.id)&amp;quot;&amp;#39; channels.json | xargs -n 2 mv 最終的には export data → API data...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/slacklog/pull/24","original_url":"https://github.com/vim-jp/slacklog/pull/24"},{"fallback":"GitHub: Use channel ID for URL by thinca · Pull Request #25 · vim-jp/slacklog","id":2,"title":"Use channel ID for URL by thinca · Pull Request #25 · vim-jp/slacklog","title_link":"https://github.com/vim-jp/slacklog/pull/25","text":"#24 をマージ後に適用する。 URL にチャンネル名ではなくチャンネル ID を使うようにする。 closes #13","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/slacklog/pull/25","original_url":"https://github.com/vim-jp/slacklog/pull/25"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sVr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
