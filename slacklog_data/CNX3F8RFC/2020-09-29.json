[{"client_msg_id":"23058bf5-12e1-4675-a8c3-d720ed8a3ad8","type":"message","user":"UP6PA1UBE","text":"後者はコマンドラインの展開後の `echo` の実行結果が `$?` になってるのでこうなる","ts":"1601362221.065500","team":"T03C4RC8V","reactions":[{"name":"sasu","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6=DVh"}]},{"client_msg_id":"f59897fa-1de9-48a8-9bf6-5d809ccd56a2","type":"message","user":"U01ASHBSD9V","text":"コマンド置換より変数展開が順序早いからでしょうか\n戻り値見て落とすみたいなことしないといけないんですかね。といっても記述によって判定できない\n```#!/bin/bash -u\n\nhoge=$(echo $HOGE)\necho $? # =\u0026gt; 1\n\necho $(echo $HOGE)\necho $? # =\u0026gt; 0```","ts":"1601355519.063900","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q71K/"}]},{"client_msg_id":"475e916c-29b8-4534-bc52-84ae7c0bb144","type":"message","user":"U9S4G0LJW","text":"サブシェルという概念よく忘れる","ts":"1601353816.061600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O5bF3"}]},{"client_msg_id":"d36e6d72-fdbb-4a41-a6e5-a249cb5c4c45","type":"message","user":"U9S4G0LJW","text":"外側までは落ちてくれないという意味ですね、効いてはいる","ts":"1601353795.061200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Dp4"}]},{"client_msg_id":"c5cb9051-df3a-4ec6-a35a-f26a2518e982","type":"message","user":"U03C6TEAZ","text":"```$ bash -uc 'echo $(echo $NOTFOUND) || echo ウェーイ'\nbash: NOTFOUND: unbound variable```","ts":"1601353615.060500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xy1"}]},{"client_msg_id":"41952b3c-fac9-4947-ba9a-acce49b2de58","type":"message","user":"U03C6TEAZ","text":"およ?\n```$ bash -uc 'echo $(echo $NOTFOUND)'\nbash: NOTFOUND: unbound variable```","ts":"1601353574.060200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7l2jG"}]},{"client_msg_id":"97b52c6d-9c49-4044-bf2d-e50de75407c5","type":"message","user":"U03C6TEAZ","text":"てかサブシェルで落ちないのか。","ts":"1601353493.059900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tCj"}]},{"client_msg_id":"b8984dd6-3d20-497a-baae-e633692e15fd","type":"message","user":"U03C6TEAZ","text":"`$()` だと外側でパースされてそう。","ts":"1601353433.059600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"67R"}]},{"client_msg_id":"b478f736-0caf-47a2-b5f5-49a34bfda15a","type":"message","user":"U9S4G0LJW","text":"シェルスクリプト本当につらい","ts":"1601352346.058800","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":4,"users":["U7B4ZD49X","UD1FQV38V","UL6CFN8NR","U01ASHBSD9V"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HVkwR"}]},{"client_msg_id":"4c07bd9e-b40f-4122-89fb-aae7b3992b6f","type":"message","user":"U9S4G0LJW","text":"bashの`-u`オプション、`$()`ブロックの中だと落ちてくれないな\nなんでこんなに中途半端なんだ","ts":"1601352332.058600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kU8R"}]}]
