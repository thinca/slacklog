[{"type":"message","user":"UEGMPAGSV","text":"<@UEGMPAGSV> has joined the channel","ts":"1543764417.018500","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UDDCM376D","text":"【質問】\n添付のgifのように、外部コマンドを実行終了後、自動でウィンドウを閉じるようにしたいのですが、\nどのように実現すればよいかご存知のかた、教えて頂けますか？\n\n現在、`!{comand}`で実行していますが、コマンド実行終了後自動で編集画面に戻れるようにしたいのが目的です。\n\nちなみに、添付の動作はvim-goで使っているfzf.vimで、ソースを読んでもよくわかりませんでした…","ts":"1543798811.021100","files":[{"id":"FEJFKL8TZ","created":1543798802,"timestamp":1543798802,"name":"fzf.vim.gif","title":"fzf.vim.gif","mimetype":"image/gif","image_exif_rotation":1,"filetype":"gif","pretty_type":"GIF","user":"UDDCM376D","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":596828,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FEJFKL8TZ/fzf.vim.gif","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FEJFKL8TZ/download/fzf.vim.gif","original_h":512,"original_w":746,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FEJFKL8TZ-8129e21850/fzf.vim_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FEJFKL8TZ-8129e21850/fzf.vim_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FEJFKL8TZ-8129e21850/fzf.vim_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FEJFKL8TZ-8129e21850/fzf.vim_360.png","thumb_360_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FEJFKL8TZ-8129e21850/fzf.vim_360.gif","thumb_360_w":360,"thumb_360_h":247,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FEJFKL8TZ-8129e21850/fzf.vim_480.png","thumb_480_w":480,"thumb_480_h":329,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FEJFKL8TZ-8129e21850/fzf.vim_720.png","thumb_720_w":720,"thumb_720_h":494,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/UDDCM376D/FEJFKL8TZ/fzf.vim.gif","permalink_public":"https://slack-files.com/T03C4RC8V-FEJFKL8TZ-5697142e69","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"deanimate_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FEJFKL8TZ-8129e21850/fzf.vim_deanimate_gif.png","display_as_bot":false,"has_rich_preview":false,"thumb_480_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FEJFKL8TZ-8129e21850/fzf.vim_480.gif","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"b18a415b-0797-43f3-abe3-a8e0644b1c3b","type":"message","user":"U03C6TEAZ","text":"!command は Vim のメッセージ行に出力を表示するので more (もっと表示) が効いてしまいます。このオプションは set nomore でオフにする事が出来ますが、通常 on にしておきたい人が殆どなので、Vim script から system() で実行するのが良いと思います。","ts":"1543799448.022700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"03451fa2-a260-4d9a-bb5b-87562b65a887","type":"message","user":"U03C6TEAZ","text":"```\n:call system(\"....\")\n```","ts":"1543799458.023000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"afe5b1d6-4d08-4dfb-84e2-17c58c4947be","type":"message","user":"UDDCM376D","text":"<@U03C6TEAZ> さん\n```\ncall system(\"...\")\n```\nを試し見てましたが、何も起きませんでした…\n\n<https://vim-jp.org/vimdoc-ja/usr_41.html>\nを見ると\n```\n system()                シェルコマンドを実行し、その結果を文字列で得る\n```\nと書いてあり、自分のやりたい事と違っている様です。\n\nちょっと、説明が足りませんでした。\n\n今回やりたいのは\nfzfと同じような自作アプリlauncherコマンドを実行して、実行完了後編集画面に戻る\nです…","ts":"1543799923.027100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fde7cec6-c2d8-4921-96ff-979e95bc254c","type":"message","user":"U03C6TEAZ","text":"あー、なるほど。では `:terminal ++close command` はどうでしょう","ts":"1543800062.027600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1a2bf677-3dd3-4391-b7a2-d3cd17ad8417","type":"message","user":"U03C6TEAZ","text":"<https://github.com/mattn/vim-fz>","ts":"1543800101.027900","attachments":[{"fallback":"GitHub: mattn/vim-fz","id":1,"title":"mattn/vim-fz","title_link":"https://github.com/mattn/vim-fz","text":"Ultra Fast Fuzzy Finder for Vim8. Contribute to mattn/vim-fz development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/mattn/vim-fz","original_url":"https://github.com/mattn/vim-fz"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7eb9ffa9-9620-4d45-aca0-fd3afaf6f3e7","type":"message","user":"U03C6TEAZ","text":"このプラグインがランチャー(コマンド)とうい例で良いかと。","ts":"1543800119.028900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74de683b-659b-434c-b956-9ce0f6ec8257","type":"message","user":"UDDCM376D","text":"あ、できました\nありがとうございますm(_ _)m","ts":"1543800137.029100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7530cce2-8ffc-41b7-947c-65611adfcf59","type":"message","user":"UDDCM376D","text":"リンクちょっと、見てみます","ts":"1543800152.029500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"837669bc-3c2f-47c4-b9a4-32e54bfb46bf","type":"message","user":"U03C6TEAZ","text":"あ、vim-fz は良く見たら term_start という関数を使ってる例でした。なのであまり参考にならないかも。","ts":"1543800439.030000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d3d0aefc-c581-46be-a3fe-b9374c17f556","type":"message","user":"UDDCM376D","text":"ちょっとvim scriptの基礎が足りなくて読んでもあまりわかりませんでした…\n一応、教えていただいたやり方で、やりたい事はできたので、あとはキーマップしたら快適になりそうです。\nvim scriptもうちょっと勉強してから、↑を読んで勉強します。\n\nありがとうございますm(_ _)m","ts":"1543800720.032000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e2e96c81-21dc-4454-93d0-6ad12f2cca4f","type":"message","user":"U0M7GCBPD","text":"@ゴリラ `system()` は標準出力をコマンドラインに出力せず返り値として返すので、表示させたい場合は `:echo system('{command}')` みたいにする必要があります","ts":"1543803369.034400","thread_ts":"1543803369.034400","reply_count":1,"replies":[{"user":"UDDCM376D","ts":"1543804612.041100"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"122f4295-bfaf-4639-9dc1-dbabe88e5635","type":"message","user":"U0M7GCBPD","text":"あれ、マルチバイト文字列のユーザにメンションしたい場合どうすればいいんだw","ts":"1543803416.035600","team":"T03C4RC8V","reactions":[{"name":"laughing","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"53335f13-8545-43a8-9d70-25d040fa0ece","type":"message","user":"U78A6ESHM","text":"<@UDDCM376D> こうかな？","ts":"1543803480.036000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"70e3b07b-7153-4059-89cb-eb5fd53b73fd","type":"message","user":"U78A6ESHM","text":"何が違うんだw","ts":"1543803485.036200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4f3d0136-3287-4bb8-a3a1-e23efba5b52a","type":"message","user":"U78A6ESHM","text":"↑ちなみに `@ゴ` で tab 補完しました。","ts":"1543803514.036800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fcd9a1b0-72d3-47b8-8e0b-5cf8706265f2","type":"message","user":"U06BRP8VD","text":"自前で打ち込んでも、次の1文字入れた時にmentionに変わりますね。折々でESC叩いてキャンセルしても認識される。","ts":"1543804146.038400","thread_ts":"1543804146.038400","reply_count":7,"replies":[{"user":"U0M7GCBPD","ts":"1543804806.041500"},{"user":"U78A6ESHM","ts":"1543804820.041700"},{"user":"UDDCM376D","ts":"1543805458.042400"},{"user":"UDDCM376D","ts":"1543805497.042800"},{"user":"U06BRP8VD","ts":"1543805522.043200"},{"user":"U0M7GCBPD","ts":"1543805560.043500"},{"user":"UDDCM376D","ts":"1543805819.045400"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"13f941f5-9e00-4800-887f-6da212bdcce1","type":"message","user":"U03C6TEAZ","text":"system() の話、起動するプログラムが isatty(2) などで出力先を判断しながら出力内容を変える様な動作をしてると、:terminal じゃないとうまく動かないケースもありますね。","ts":"1543804509.039800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3CFF8441-2D5F-4A6D-A636-B5F26BF41CFE","type":"message","user":"UDDCM376D","text":"なるほど、だから何も動きなかったんですね…\n確かに標準出力の結果を返すと書いてありました…","ts":"1543804612.041100","thread_ts":"1543803369.034400","edited":{"user":"UDDCM376D","ts":"1543804721.000000"},"subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":null,"root":{"client_msg_id":"e2e96c81-21dc-4454-93d0-6ad12f2cca4f","type":"message","user":"U0M7GCBPD","text":"@ゴリラ `system()` は標準出力をコマンドラインに出力せず返り値として返すので、表示させたい場合は `:echo system('{command}')` みたいにする必要があります","ts":"1543803369.034400","thread_ts":"1543803369.034400","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null}},{"client_msg_id":"9247e994-25c7-4320-b517-c34411047e57","type":"message","user":"U0M7GCBPD","text":"スマホだとできないっぽいですね… <@U78A6ESHM>さんの tab 補完のやつも出てこないです… (`@ゴ` でも `@ゴリラ` でも)","ts":"1543804806.041500","thread_ts":"1543804146.038400","parent_user_id":"U06BRP8VD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d1769c2c-7384-4cce-a1e1-b07e53b5e80a","type":"message","user":"U78A6ESHM","text":"あらまw","ts":"1543804820.041700","thread_ts":"1543804146.038400","parent_user_id":"U06BRP8VD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"F7166162-7734-4D05-8E4E-0264AF242A7E","type":"message","user":"UDDCM376D","text":"<@UDDCM376D> 自分はスマホのアプリ←できました","ts":"1543805458.042400","thread_ts":"1543804146.038400","parent_user_id":"U06BRP8VD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UDDCM376D","ts":"1543805497.042800","thread_ts":"1543804146.038400","parent_user_id":"U06BRP8VD","files":[{"id":"FEHM4HJDB","created":1543805491,"timestamp":1543805491,"name":"iOS の画像.jpg","title":"iOS の画像","mimetype":"image/jpeg","image_exif_rotation":1,"filetype":"jpg","pretty_type":"JPEG","user":"UDDCM376D","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":192892,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FEHM4HJDB/ios__________.jpg","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FEHM4HJDB/download/ios__________.jpg","original_h":2208,"original_w":1242,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FEHM4HJDB-de9ff0eec4/ios___________64.jpg","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FEHM4HJDB-de9ff0eec4/ios___________80.jpg","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FEHM4HJDB-de9ff0eec4/ios___________160.jpg","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FEHM4HJDB-de9ff0eec4/ios___________360.jpg","thumb_360_gif":"","thumb_360_w":203,"thumb_360_h":360,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FEHM4HJDB-de9ff0eec4/ios___________480.jpg","thumb_480_w":270,"thumb_480_h":480,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FEHM4HJDB-de9ff0eec4/ios___________720.jpg","thumb_720_w":405,"thumb_720_h":720,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-FEHM4HJDB-de9ff0eec4/ios___________960.jpg","thumb_960_w":540,"thumb_960_h":960,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-FEHM4HJDB-de9ff0eec4/ios___________1024.jpg","thumb_1024_w":576,"thumb_1024_h":1024,"permalink":"https://vim-jp.slack.com/files/UDDCM376D/FEHM4HJDB/ios__________.jpg","permalink_public":"https://slack-files.com/T03C4RC8V-FEHM4HJDB-2442d616de","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FEHM4HJDB-de9ff0eec4/ios___________800.jpg","thumb_800_h":1422,"thumb_800_w":800,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"918017ad-769d-40b1-a4f8-ea4c459ebc56","type":"message","user":"U06BRP8VD","text":"iOS か Android か、かな?","ts":"1543805522.043200","thread_ts":"1543804146.038400","parent_user_id":"U06BRP8VD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cbe6f7d1-971b-4c8d-b21f-a1a2c0baf55d","type":"message","user":"U0M7GCBPD","text":"Android だとできないですね","ts":"1543805560.043500","thread_ts":"1543804146.038400","parent_user_id":"U06BRP8VD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"69147c0f-b534-4e54-9f6f-fa4f724e6484","type":"message","user":"U7JL1UKKL","text":"<@U03C71D7H> nvim-yarpの件はvim-hug-neovim-rpc側で直ったようなので確認をお願いします","ts":"1543805594.044600","thread_ts":"1543805594.044600","reply_count":3,"replies":[{"user":"U03C71D7H","ts":"1543816861.045700"},{"user":"U7JL1UKKL","ts":"1543823760.046500"},{"user":"U03C71D7H","ts":"1543889153.046900"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"803D964C-083C-41A7-9CBA-1145DC70EF04","type":"message","user":"UDDCM376D","text":"iOSです\nアンドロイドと若干動き違うんですね","ts":"1543805819.045400","thread_ts":"1543804146.038400","parent_user_id":"U06BRP8VD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aa64d5a5-cbfe-45a0-81e6-1fe8f62a27c0","type":"message","user":"U03C71D7H","text":"確認しました。直ってるっぽいです。ありがとうございます！\nなぜかまだ起動時に1秒くらい待たされるんですが、nvim-yarp を古くするのを試しても変わらなかったので、全く別の原因の予感です。(ちなみに以前は4,5秒待たされてたのでだいぶマシになった)","ts":"1543816861.045700","thread_ts":"1543805594.044600","parent_user_id":"U7JL1UKKL","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b632ba4f-04ec-4953-bf73-4cd125b5e0c8","type":"message","user":"U8996GYBF","text":"急にginaのmappingその他が効かなくなった気がする","ts":"1543822911.046200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f558fd4f-4679-48ac-b5f4-5cfb3bd9a857","type":"message","user":"U7JL1UKKL","text":"起動時の問題はdeopleteを最新版にすると直ってるはずです","ts":"1543823760.046500","thread_ts":"1543805594.044600","parent_user_id":"U7JL1UKKL","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
