[{"client_msg_id":"677869ed-644d-4b7a-b806-c156ad2a85c2","type":"message","user":"U03C6TEAZ","text":"<https://twitter.com/mattn_jp/status/1129205311753994240>","ts":"1558058592.318100","attachments":[{"fallback":"<https://twitter.com/mattn_jp|@mattn_jp>: なるならどれ？","id":1,"author_name":"mattn＠従来型IT人材","author_subname":"@mattn_jp","author_link":"https://twitter.com/mattn_jp/status/1129205311753994240","author_icon":"https://pbs.twimg.com/profile_images/1022150732634419200/yZg4xLsO_normal.jpg","text":"なるならどれ？","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1558058500,"service_name":"twitter","from_url":"https://twitter.com/mattn_jp/status/1129205311753994240","original_url":"https://twitter.com/mattn_jp/status/1129205311753994240"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"588481aa-6f51-43d6-9a4c-454d2ed31f6b","type":"message","user":"U03C6TEAZ","text":"頭が vim 意外に人気ない","ts":"1558058637.318800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"31769307-C4C6-4C8C-8BA9-ABA73747D998","type":"message","user":"U03C4RC8X","text":":thinking_vim: ","ts":"1558059204.319000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4120035F-7A8B-41E9-8547-1CCCB02CEA68","type":"message","user":"UDDCM376D","text":"全身の選択肢が欲しい","ts":"1558059652.319600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"93cfb42f-7983-429a-97c9-3439d7b9ede7","type":"message","user":"U03C6TEAZ","text":"全身がゴリラさん","ts":"1558059699.319900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"D20E4A92-6C07-45E9-9653-4E7960D407ED","type":"message","user":"UDDCM376D","text":"vimの皮被ってvimになりたい","ts":"1558059960.320400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f74cb093-b9b4-4fcd-984d-ef9543f671de","type":"message","user":"UAZ33BKV2","text":":gorilla:\n:shirt:\n:jeans:","ts":"1558065296.321400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd36fd06-0d60-4c26-bb7a-b25cdae88e27","type":"message","user":"UAZ33BKV2","text":"すみません、issueに上げるまえにちょっと聞いてみたいのですが...\n\n```\nvim -u NONE -c 'set cmdheight=2' -p test1.txt test2.txt\n```\n\nとしたとき、test1はcmdheightが2なのですが、test2は1なのです。\nこれってそういうものなのか、不具合なのか、どちらでしょう...?","ts":"1558065372.322900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"06975a25-cff7-4d98-b2b8-a216a0a82643","type":"message","user":"U03C71D7H","text":"cmdheight はタブローカルですね","ts":"1558065423.323200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ce19c883-6159-408f-acb7-95dc3831b690","type":"message","user":"U03C71D7H","text":":h 'cmdheight'","ts":"1558065452.323400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\n                                                *'cmdheight'* *'ch'*\n'cmdheight' 'ch'        数値    (既定では 1)\n                        グローバル\n                        {Vi にはない}\n        コマンドラインに使われる画面上の行数。|hit-enter| プロンプトの出現を避\n        けるのに役立つ。\n        各タブページが異なる値を持てるようにするために、このオプションの値はタ\n        ブページに保存される。\n```","ts":"1558065452.323500","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"33e681b8-e804-443e-875b-823fc8b0e1fe","type":"message","user":"U03C71D7H","text":"グローバル (グローバルとは言っていない)","ts":"1558065482.323800","team":"T03C4RC8V","reactions":[{"name":"kzk","count":3,"users":["UB88NP1PY","U8CC7MDCL","U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1362c07c-0e41-4fc8-8f8f-12a12c87a512","type":"message","user":"UAZ33BKV2","text":"おうふ...起動時初期設定として与えてもいっぺんに開くタブすべてに影響させることはできない...なんですね。","ts":"1558066199.324800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3648c5cb-5ad6-470e-96c0-01ebe8f8deb9","type":"message","user":"UAZ33BKV2","text":"tabdoすれば、とりあえず対応できる、かな?","ts":"1558066280.325600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"89901160-2866-4bb6-a663-1b1f3224d0db","type":"message","user":"UAZ33BKV2","text":"できそうですね...vimrc reading的な気付きをえられました。ありがとうございます。\nというかグローバルだけどタブローカルなの洗い直さないとかも &gt; 自分のvimrc","ts":"1558066382.327000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5063eb7c-c295-40bb-8d6e-a58037d3db56","type":"message","user":"UB88NP1PY","text":"`--cmd` だとすべてのタブに適用されるように見えましたがどうですか？","ts":"1558066466.327600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"69be313c-1bf0-4bf1-b286-ae77b52559cd","type":"message","user":"UB88NP1PY","text":"`-c` の替わりに","ts":"1558066498.328000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9de46b47-e42f-4578-ae7f-2602b10ef914","type":"message","user":"UAZ33BKV2","text":"あ、ききますね...ただ、自分自身としてはvimrcの設定が不完全だったので検証したかったので、やっぱ`-c`なのかなと","ts":"1558066558.329100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cc46524f-9415-477e-b56e-34fef41963c9","type":"message","user":"UAZ33BKV2","text":"ありがとうございます。","ts":"1558066566.329300","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UB88NP1PY"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"88e06591-089d-4c40-816e-2225a1c2aea1","type":"message","user":"UAZ33BKV2","text":"とりあえず、タブ/バッファで同じようなのはない...っぽい?","ts":"1558066659.330100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d01d95f3-08db-4f33-bdd3-90646ea0172c","type":"message","user":"UAZ33BKV2","text":"setglobalでどうなるか確認...やっぱだめなのでtabdoか","ts":"1558066941.330800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"408a7296-fe36-43be-a5f6-c6f1fc587365","type":"message","user":"U03C6TEAZ","text":"<https://speakerdeck.com/tennashi/terminal-api-nituite>","ts":"1558087710.000600","attachments":[{"fallback":"Speaker Deck: terminal-api について","id":1,"title":"terminal-api について","title_link":"https://speakerdeck.com/tennashi/terminal-api-nituite","image_url":"https://speakerd.s3.amazonaws.com/presentations/485e49e5a6ce46c9988d94e8128dbe71/slide_0.jpg?516427","blocks":null,"service_name":"Speaker Deck","service_icon":"https://d2dfho4r6t7asi.cloudfront.net/assets/favicon-c0fe5475f88a65b817c8cc7c0fedc01b7acc17fe27628fa13ca3f96e56e16977.png","from_url":"https://speakerdeck.com/tennashi/terminal-api-nituite","original_url":"https://speakerdeck.com/tennashi/terminal-api-nituite"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c6fbac93-904e-4894-a555-2158307e00f8","type":"message","user":"U03C6TEAZ","text":"Tapi_open の中、execute はあまり宜しくないかも。","ts":"1558087728.001100","thread_ts":"1558087728.001100","reply_count":11,"replies":[{"user":"UG6DF6W87","ts":"1558099990.005800"},{"user":"U03C6TEAZ","ts":"1558100135.006200"},{"user":"U03C6TEAZ","ts":"1558100160.006400"},{"user":"UG6DF6W87","ts":"1558100607.006600"},{"user":"UG6DF6W87","ts":"1558100621.006800"},{"user":"UG6DF6W87","ts":"1558101295.007000"},{"user":"U03C6TEAZ","ts":"1558101372.007200"},{"user":"U03C6TEAZ","ts":"1558101379.007400"},{"user":"U03C6TEAZ","ts":"1558101385.007600"},{"user":"U03C6TEAZ","ts":"1558101404.007800"},{"user":"UG6DF6W87","ts":"1558101598.008000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1BE89B99-D63A-4F02-917A-1287D9411D4B","type":"message","user":"UDDCM376D","text":"tapi何もわからない","ts":"1558094034.001600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8ee8c911-5904-432c-8c6f-d994f742e851","type":"message","user":"U9S4G0LJW","text":":h terminal-api","ts":"1558095336.002000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\n                                                        *terminal-api*\nジョブは特殊なエスケープシーケンスを使用してJSONをVimに送ることができます。\nJSONは、Vimが理解できるコマンドをエンコードします。そのようなメッセージの例:  \n        &lt;Esc&gt;]51;[\"drop\", \"README.md\"]&lt;07&gt;\n \n本体は常にリストになっており、終わりを見つけやすいです: ]&lt;07&gt;\n&lt;Esc&gt;]51;msg&lt;07&gt; シーケンスは \"Emacs shell\" のためにxtermによって予約されてい\nます。私たちがここでやっていることに似ています。\n \n現在サポートされているコマンド:\n \n        call {funcname} {argument}\n \n                ユーザー定義関数を {argument} で呼び出します。\n                関数は2つの引数で呼び出されます: 端末のバッファ番号とデコード\n                されたJSON引数 {argument} です。\n                関数名は、端末API用に意図されていない関数を誤って呼び出すのを\n                避けるため、\"Tapi_\" で始まる必要があります。\n                ユーザー関数は引数の正常性チェックをする必要があります。\n                関数は |term_sendkeys()| を使って返信を送り返すことができます。\n                JSONでの例:  \n                        [\"call\", \"Tapi_Impression\", [\"play\", 14]]\n                次のように定義された関数を呼び出します:  \n                        function Tapi_Impression(bufnum, arglist)\n                          if len(a:arglist) == 2\n                            echomsg \"impression \" . a:arglist[0]\n                            echomsg \"count \" . a:arglist[1]\n                          endif\n                        endfunc\n                `:echo` からの出力は、再描画によって消去されるかもしれません。\n                `:echomsg` を使い、`:messages` でそれを見ることができます。\n \n        drop {filename} [options]\n \n                Vimに `:drop` コマンドのようにファイルを開かせます。\n                もし、{filename} が既にウィンドウで開かれていたら、そのウィン\n                ドウに切り替えます。それ以外の場合は、{filename} を編集するた\n                めの新しいウィンドウを開きます。\n                Note ジョブとVimの両方がカレントディレクトリを変更する可能性が\n                あるので、フルパスを使用することをお勧めします。\n \n                [options] は新しくウィンドウを開いた時にだけ使われます。\n                与える場合、それは辞書でなければなりません。 |++opt| と同様に、\n                これらのエントリは認識されます:\n                  \"ff\"          ファイルフォーマット: \"dos\" か \"mac\" か \"unix\"\n                  \"fileformat\"  同上。\n                  \"enc\"         'fileencoding' を上書きします。\n                  \"encoding\"    同上。\n                  \"bin\"         'binary' を設定します。\n                  \"binary\"      同上。\n                  \"nobin\"       'binary' をリセットします。\n                  \"nobinary\"    同上。\n                  \"bad\"         不正な文字のための振る舞いを指定します。\n                                |++bad| を参照してください。\n \n                JSONでの例:  \n                        [\"drop\", \"path/file.txt\", {\"ff\": \"dos\"}]\n \nVimにこのエスケープシーケンスを送信させるトリック:  \n        exe \"set t_ts=\\&lt;Esc&gt;]51; t_fs=\\x07\"\n        let &amp;titlestring = '[\"call\",\"Tapi_TryThis\",[\"hello\",123]]'\n        redraw\n        set t_ts&amp; t_fs&amp;\n \n理論的根拠: コマンドや式を許可しないのはなぜですか？ セキュリティ上の問題が生\nじる可能性があるためです。\n \n \nクライアントサーバー機能を使う\n```","ts":"1558095337.002100","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"3f5eab8f-4a7a-419d-8115-e5b64f605322","type":"message","user":"U9S4G0LJW","text":"現状callとdropしかないのでこれ読めばなんとかなる","ts":"1558095367.002800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d98932ed-9a5d-4390-acd5-5811c4c81972","type":"message","user":"U9S4G0LJW","text":"terminal使ってるとVim in Vimをよくやってしまうけど、ここでdropすると便利、多分","ts":"1558095902.005500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5224b3d5-bef6-484f-a42f-6367d01d4edc","type":"message","user":"UG6DF6W87","text":"おわ、なるほど？\n宜しくないというのはどういうことでしょうか？","ts":"1558099990.005800","thread_ts":"1558087728.001100","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":null,"root":{"client_msg_id":"c6fbac93-904e-4894-a555-2158307e00f8","type":"message","user":"U03C6TEAZ","text":"Tapi_open の中、execute はあまり宜しくないかも。","ts":"1558087728.001100","thread_ts":"1558087728.001100","reply_count":11,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null}},{"client_msg_id":"c258b741-af7b-4d1a-88a9-0f311b7a6c43","type":"message","user":"U03C6TEAZ","text":"あ、えと例えば","ts":"1558100135.006200","thread_ts":"1558087728.001100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"87ec7beb-2589-4a6b-b4ed-ce1f972390b2","type":"message","user":"U03C6TEAZ","text":"`['drop', 'foo|q!']` みたいな事が出来るなぁと。","ts":"1558100160.006400","thread_ts":"1558087728.001100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f45aca9e-802f-450f-822e-c791f4cd1476","type":"message","user":"UG6DF6W87","text":"あ、確かにそうですね\nあの書き方だと任意のコマンドを実行可能なので宜しくないってことですね\n\nプラグインとして出すときは open するためのコマンドリストを持って、それに入っているコマンドのみ実行可能にしようとしてますが、それでもファイル名として `foo|q!` って入れられるのは防げないですね...","ts":"1558100607.006600","thread_ts":"1558087728.001100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c47be536-60cc-4c20-9ef2-5668edde0874","type":"message","user":"UG6DF6W87","text":"どうしようかなぁ...","ts":"1558100621.006800","thread_ts":"1558087728.001100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1a1a65c8-531e-4f09-9565-057aab504535","type":"message","user":"UG6DF6W87","text":"ちゃんとファイルかどうかチェックすればよさそうですが、新規に名前付きでファイル開くときも対応したいしなぁ","ts":"1558101295.007000","thread_ts":"1558087728.001100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f0832b44-ddc4-4932-a68b-caa900c8bdc7","type":"message","user":"U03C6TEAZ","text":"exe は . で結合しなければそのままわたるので","ts":"1558101372.007200","thread_ts":"1558087728.001100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"54b828aa-eed7-4551-8389-70665e4ccd8e","type":"message","user":"U03C6TEAZ","text":"execute arg1 arg2","ts":"1558101379.007400","thread_ts":"1558087728.001100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"082e635f-3c46-46d1-9684-0bc069ff46da","type":"message","user":"U03C6TEAZ","text":"とすれば良いかも。","ts":"1558101385.007600","thread_ts":"1558087728.001100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ef0c520-cd96-46aa-b68d-a0bac551049b","type":"message","user":"U03C6TEAZ","text":"そうすれば `foo|q!` というファイルが開く事になるので。","ts":"1558101404.007800","thread_ts":"1558087728.001100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16af1d80-4bcd-4948-bd0a-eb03c3e6a775","type":"message","user":"UG6DF6W87","text":"あ、なるほど！\n文字列として結合する必要なかったんですね\n\nありがとうございます、そう直してみます！","ts":"1558101598.008000","thread_ts":"1558087728.001100","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd9291f2-f9a2-4883-854a-f28988ff0b6c","type":"message","user":"UG6DF6W87","text":"terminal-api 今後 call と drop 以外も増えていくんですかね?","ts":"1558102246.009300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fde16897-ddb1-4930-ad85-e5903bb33cfe","type":"message","user":"U03C6TEAZ","text":"あるかもですね。","ts":"1558103070.009500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b42478e5-5e92-4de0-91cc-96dc0bf0e24e","type":"message","user":"UG6DF6W87","text":"どんどん増えて便利になってってほしいですねー\n今はほぼ call があるからなんでも出来るでしょ? みたいな感じなのでw","ts":"1558103690.011400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
