[{"client_msg_id":"0bb0012a-731e-4d99-b07c-31cdb4bf6045","type":"message","user":"U7EEZ4LMR","text":"ナ","ts":"1557501238.032500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ae2d75c-f5d8-4487-b2a1-9add100eb6ac","type":"message","user":"UAZ33BKV2","text":"ナ","ts":"1557501772.032700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6025176-48f2-42a6-a7e3-6fc83b3110d6","type":"message","user":"U782D5DF1","text":"ナナナナナー！","ts":"1557503366.034700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d19e140-778b-4a10-b6d9-7d7c55d2b536","type":"message","user":"UDDCM376D","text":"バ","ts":"1557503388.035100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"010af65c-c81a-471b-8343-8edbe63fd5b2","type":"message","user":"UDDCM376D","text":"【質問】\nVim scriptを勉強するのに情報がまとめられているサイトありますか？\nそれとも日本語マニュアルを読むのが良いとしたら、どれを読んだ方が良いでしょうか？","ts":"1557503423.035700","edited":{"user":"UDDCM376D","ts":"1557504428.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aba150f2-3407-4ae2-83a3-ddea4315d3cf","type":"message","user":"UBQ2H65JQ","text":"`:h usr_41`","ts":"1557503485.036000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d0b90b7d-87bc-4354-ba70-59405fc7b435","type":"message","user":"UDDCM376D","text":"ありがとうございます！","ts":"1557503574.036200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf7db78e-ced2-4ca3-8c8e-5ed89e9445f2","type":"message","user":"U03C4RC8X","text":"昔だとvim hacks","ts":"1557503797.036500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4b3486f7-f6eb-4da0-90b8-41da9204b020","type":"message","user":"UDDCM376D","text":"ちなみに、\nスクリプト内で `job_start` の `callback` で指定する関数は `\"\"` ではなく `function()` で参照を取得しないと行けないのにjobのマニュアルを見ても見当たらないのですが、\nこういうのを探すコツってありますか？","ts":"1557504046.039300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6f93a53a-fd92-4d5c-815d-9f1a62d0a57e","type":"message","user":"UDDCM376D","text":"vim hacksって\n<https://vim-jp.org/vim-users-jp/2011/10/25/Hack-238.html>\nとかですか？","ts":"1557504127.039900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e4ca577-a959-476f-847c-8e5a6882f11f","type":"message","user":"UBQ2H65JQ","text":"どちらでもいけるような.. ＞｀callback｀ で指定する関数は ｀\"\"｀ ではなく ｀function()｀","ts":"1557504191.040400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7b6ec404-e888-4067-9c85-586c79f524c5","type":"message","user":"UBQ2H65JQ","text":"たぶん、 `s:` の関数が特殊と考えたほうがいいと思う","ts":"1557504235.041400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a22289ee-83c2-4012-b495-1f85b463c536","type":"message","user":"UDDCM376D","text":"スクリプト内では `\"\"` は動かなかったんですよね…\nグローバルの関数( `s:` じゃない)なら問題ないってthincaさんが言っていました","ts":"1557504302.042800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f8ec1a97-c9cc-4cf3-9dec-bc4d2265e42d","type":"message","user":"U03C6TEAZ","text":"Vim script と書かないと警察が来るそうです。","ts":"1557504348.043600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"24db736b-4e2d-4476-934b-a478b092837e","type":"message","user":"UDDCM376D","text":"直しました！","ts":"1557504435.045300","team":"T03C4RC8V","reactions":[{"name":"male-police-officer","count":2,"users":["UB88NP1PY","UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d1f970fb-625a-481b-8b2b-40555d8ba107","type":"message","user":"U03C6TEAZ","text":"本来、スクリプト関数というのは SID という物が付与されていて `s:Foo` と書くと Vim の内部では `&lt;SNR&gt;42_Foo` の様に管理されます。","ts":"1557504463.045800","edited":{"user":"U03C6TEAZ","ts":"1557505017.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ee786583-ac77-4709-8e0c-bfa51da2b5b1","type":"message","user":"U03C6TEAZ","text":"で、こんな書き方だとユーザが触れないので同じスクリプトファイル内であれば `s:` 付きで参照できる様になっています。","ts":"1557504496.046600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"301e2db6-a644-485b-a3b9-e1618073a815","type":"message","user":"U03C6TEAZ","text":"実際、 `&lt;SNR&gt;42_Foo()` の様に呼び出す事も、実は内緒なんですができます。(内緒じゃない)","ts":"1557504527.047300","edited":{"user":"U03C6TEAZ","ts":"1557505026.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b9712a4b-aafd-4045-9318-39483ee27eaa","type":"message","user":"U03C6TEAZ","text":"この 42 というのはスクリプトファイル1つに足して1つ割り当てられた番号で、その番号は `:scriptnames` を実行すると表示される番号と同じです。","ts":"1557504565.048100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f781ab87-2d5a-41a8-8bad-7591d88cc49d","type":"message","user":"U03C6TEAZ","text":"`s:Foo` は同じスクリプトファイル内であれば参照できますが、他のスクリプトファイルからは参照できません。なぜなら `s:` だから。","ts":"1557504612.049000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2fb5cb1f-c062-446b-90f4-b2224cd587d0","type":"message","user":"U9S4G0LJW","text":"スクリプト一覧なんてあったのか","ts":"1557504639.049900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"92361484-2601-4b7c-9279-3d181f42c95f","type":"message","user":"U03C6TEAZ","text":"で、他のスクリプトからでも参照できる様に「関数オブジェクト」にする必要がある訳です。それをするのが `function('s:Foo')` なのです。","ts":"1557504650.050200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d090dcf-5e73-449c-b907-e64ccde6da60","type":"message","user":"U03C6TEAZ","text":"一旦関数オブジェクトになってしまえば変数経由で他のスクリプトからも呼び出し可能になる、という訳です。","ts":"1557504678.050900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e799e08e-628e-4d65-a1b8-60e7c65af0f0","type":"message","user":"U03C6TEAZ","text":"なので Vim script の関数のスコープとしては","ts":"1557504699.051400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"430b098e-7759-4dec-bfb4-3ce97091a899","type":"message","user":"U03C6TEAZ","text":"• グローバルスコープ関数 `g:`\n• スクリプトスコープ関数 `s:`\n• Lambda 関数","ts":"1557504725.052100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7cc59e40-fa01-4d2e-857e-102f29d650f6","type":"message","user":"U03C6TEAZ","text":"の3つがある事になります。","ts":"1557504732.052400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3ccec80b-bbbf-48c1-97d4-ca39817e083d","type":"message","user":"U03C6TEAZ","text":"で、ここからが大事なのですが","ts":"1557504751.052800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e4902104-4aeb-4b3f-b66e-eaca65e31828","type":"message","user":"U03C6TEAZ","text":"マッピングや `:` のコマンドライン、だったりタイマーから発動する関数はスコープがグローバルになりますよね。","ts":"1557504813.054100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"02fda82f-88c7-4a44-94d6-bdd8d99dccc5","type":"message","user":"U03C6TEAZ","text":"これは JavaScript の setTimeout でも同じ話。グローバルから見ると `s:` って誰やねん、という事になってしまう、なので `function('s:Foo')` が必要になるという訳です。","ts":"1557504849.054900","edited":{"user":"U03C6TEAZ","ts":"1557504873.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb18156e-e723-40a8-ba04-40750e442479","type":"message","user":"U03C6TEAZ","text":"map コマンドの右項も `s:` が使えませんが、それも同じ理由。キーが押されたタイミングでは `s:` って誰やねんとなる。","ts":"1557504940.056000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e986469b-d536-4a72-8eda-38552cc1dda0","type":"message","user":"U03C6TEAZ","text":"なので `&lt;SID&gt;` を付ける。","ts":"1557504956.056300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3a8f23e3-5bb2-4bf1-82a5-79a39c022128","type":"message","user":"U03C6TEAZ","text":"スクリプトファイル内で実行される map コマンドは `&lt;SID&gt;` を見つけると、その時点のスクリプトID を付けて内部で `&lt;SNR&gt;42_` の様に管理します。","ts":"1557505001.057400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"882dfdb3-462c-4bee-9d31-418036a3b44a","type":"message","user":"U03C6TEAZ","text":"表面上は\n```\nmap x :call &lt;SID&gt;Foo()\n```\nと見えますが、内部では\n```\nmap x :call &lt;SNR&gt;42_Foo()\n```\nになっている、という意味です。","ts":"1557505078.058600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3d7aaad5-1988-43d5-ab10-880c028239c3","type":"message","user":"UDDCM376D","text":"なるほど\n理解しました","ts":"1557505299.059400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cae2539f-520e-49dd-9d3e-72a94687a83e","type":"message","user":"UDDCM376D","text":"めっちゃわかりやすかったです","ts":"1557505323.060000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e1756080-3d8f-48f9-b168-75776319cbc8","type":"message","user":"UDDCM376D","text":"ありがとうございます！","ts":"1557505327.060400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"89d8f58e-0191-41f5-8c38-f6d2a5b40ff1","type":"message","user":"U03C6TEAZ","text":"つまり全て `function('...')` で書いておけば問題ないって話にもなりますね。","ts":"1557505335.060700","team":"T03C4RC8V","reactions":[{"name":"tashikani","count":1,"users":["UEBF2KQTD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b7a23a28-dd75-44f3-b9ce-2d94c9adab01","type":"message","user":"UDDCM376D","text":"確かに","ts":"1557505343.060900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b170530b-6139-432c-bfb0-b62cf17bd774","type":"message","user":"U03C6TEAZ","text":"あと Lambda で書きたくなるんですが、ご存じか分かりいませんが Vim script の Lambda は式しか書けません。","ts":"1557505381.061700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"622b82ac-6ba9-49a3-9ec1-2115691cc37b","type":"message","user":"U03C6TEAZ","text":"`execute('let x = 1')` の様に文を書く事も出来るといえば出来るのですが、文字列って気持ち悪いですからね。","ts":"1557505414.062300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d54dffe-05cf-4226-83b9-7802bd38372f","type":"message","user":"U03C6TEAZ","text":"ここからはオマケですが、Vim script は関数オブジェクトを変数に代入する事ができるのですが","ts":"1557505554.062800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7adffc3f-ec6f-4d5a-9537-8bf4e5c940f9","type":"message","user":"U03C6TEAZ","text":"変数名が大文字でないといけません。","ts":"1557505563.063100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"60e231bb-0890-4b4e-a15e-741edcd5daf6","type":"message","user":"U03C6TEAZ","text":"```\nlet X = function('s:Foo')\n```","ts":"1557505575.063400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"42af2877-f4aa-42f9-93ec-cba51bbe078b","type":"message","user":"U03C6TEAZ","text":"なぜこんな事になっているのかというと、builtin 関数を乗っ取ってしまえるからです。\n```\nlet add = function('MyAdd')\ncall add(list, 2)\n```","ts":"1557505628.064400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"12e44196-79be-4f75-a3b0-a01b5f5c3b2e","type":"message","user":"U03C6TEAZ","text":"実際昔にこのバグがありました。","ts":"1557505671.065000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b542d870-4191-4631-89d1-fc076ce56326","type":"message","user":"U03C6TEAZ","text":"さらにバグ改修が甘くて、ドットを付けると宣言できてしまうというのもありました。\n```\nlet printf. = function('MyPrintf')\ncall printf()\n```","ts":"1557505712.065800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7646dc3b-0487-4960-afca-e1a6bbcce9b4","type":"message","user":"U03C6TEAZ","text":"歴史ですね～。","ts":"1557505729.066000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7036999D-3585-4683-AAA5-05C14275944D","type":"message","user":"UDDCM376D","text":"ほえー","ts":"1557507424.068500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"691441FA-7CD1-4214-803F-9A5B6B87BEBF","type":"message","user":"UDDCM376D","text":"builtinの関数ってこもじなんですね","ts":"1557507450.069400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2B7139D9-C3D5-47D3-99EC-777A130BFB9B","type":"message","user":"UDDCM376D","text":"言われてみれば大文字見た記憶がない","ts":"1557507460.070000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"A2E1080E-1C02-4FD5-AF36-20CFCDDCADFF","type":"message","user":"UDDCM376D","text":"気がする","ts":"1557507463.070200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"75cd135d-911f-4a59-876a-2f6569767e2a","type":"message","user":"U6XP9LZ6V","text":"一方、関数オブジェクトを関数の引数に渡すときは、引数名が大文字で始まる必要はありません。使う際には `a:foo` のように `a:` を付ける必要があるから組み込み関数と区別できるからですね。しかし、ここでLambdaが登場すると状況が変わります。Lambdaでは簡単に引数にアクセスできるように `a:` を付ける必要がありません。そうすると、小文字で始まる引数名でも関数オブジェクトを受け取ることができます。おや、そうなるとLambda内では組み込み関数を乗っ取ってしまえるのでは？","ts":"1557507785.073000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"B9754973-050A-47C0-89AB-A79C98F886E0","type":"message","user":"UDDCM376D","text":"むむ？\n仕事終わったらちょっとスコープについて勉強します！","ts":"1557507924.073500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"43fbe065-a805-498b-920f-927a82b8e5a2","type":"message","user":"U03C6TEAZ","text":"```\necho call({printf-&gt; printf(\"びろろーん\")}, [{x-&gt;substitute(x, 'び', 'ば', '')}])\n```","ts":"1557508331.073700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d0b829d1-7cd4-4794-8215-292ab29f98c8","type":"message","user":"U03C6TEAZ","text":"すごい。","ts":"1557508335.073900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c881bbc-67c3-4a06-bcf1-d2ebe5e1e5e4","type":"message","user":"UBQ2H65JQ","text":"あーなるほどw","ts":"1557508423.074500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"641c59ac-6b2c-4b4e-baaf-a9246b79424f","type":"message","user":"U6XP9LZ6V","text":"あー、乗っ取っちゃったｗ","ts":"1557508461.075000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2a14054e-2a52-47a8-93c4-98f1e772f2c6","type":"message","user":"U03C6TEAZ","text":"まぁ Lambda スコープ内なのでまだ許せるw","ts":"1557508493.075400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"922a9fbc-3ae9-44cc-b7cc-a730a544ca9c","type":"message","user":"U6XP9LZ6V","text":"この挙動、僕が入れたんだけど、Bramは気づいているのかな？ｗ","ts":"1557509350.076200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"971dbb73-53c4-43de-ae26-ec85f898f2d0","type":"message","user":"U03C6TEAZ","text":"引数名に明示する事になるのでまぁ悪用は難しいですね。","ts":"1557509638.076800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0dd8ddd8-eb6e-47d1-b91e-81e0e823cd01","type":"message","user":"U6XP9LZ6V","text":"ですね。書いた人は分かるはず。","ts":"1557509696.077200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6f8f0efc-568c-40a8-98c0-2a5db414d3fd","type":"message","user":"UBQ2H65JQ","text":"`echo call({printf-&gt; function('printf')(\"びろろーん\")}, [{x-&gt;substitute(x, 'び', 'ば', '')}])`","ts":"1557509840.077500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97829469-709c-47cf-bb81-ad173a1a05b1","type":"message","user":"UBQ2H65JQ","text":"-&gt; びろろーん","ts":"1557509859.077700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bcfe2146-0aba-45ae-af2b-3b48af257d86","type":"message","user":"UBQ2H65JQ","text":"むずいｗ","ts":"1557509868.077900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"92dabce1-4275-4fc3-82d6-f9a95bdf206e","type":"message","user":"UBQ2H65JQ","text":"`echo call({printf-&gt; function(printf)(\"びろろーん\")}, [{x-&gt;substitute(x, 'び', 'ば', '')}])`\n-&gt; ばろろーん","ts":"1557509954.078600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"29e7f721-9334-4d73-90b9-e4523a665388","type":"message","user":"U03C6TEAZ","text":"スコープから名前での辿り順が lambda は最後なんでしょう。","ts":"1557509983.079100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65c41490-94c2-44bc-9f77-d11db78b5d13","type":"message","user":"U7D5LRRQD","text":"これってもしかして、ローカルでname shadowingしているのではなく、グローバルな名前「add」に再代入できてしまっていた……？\n<https://vim-jp.slack.com/archives/C03C4RC9F/p1557505628064400>","ts":"1557512212.081500","attachments":[{"fallback":"[May 10th, 2019 9:27 AM] mattn: なぜこんな事になっているのかというと、builtin 関数を乗っ取ってしまえるからです。\n```\nlet add = function('MyAdd')\ncall add(list, 2)\n```","id":1,"author_id":"U03C6TEAZ","author_name":"mattn","author_subname":"mattn","author_link":"https://vim-jp.slack.com/team/U03C6TEAZ","author_icon":"https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png","text":"なぜこんな事になっているのかというと、builtin 関数を乗っ取ってしまえるからです。\n```\nlet add = function('MyAdd')\ncall add(list, 2)\n```","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #random","ts":1557505628.064400,"from_url":"https://vim-jp.slack.com/archives/C03C4RC9F/p1557505628064400","original_url":"https://vim-jp.slack.com/archives/C03C4RC9F/p1557505628064400"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"982a0817-e10d-406e-8177-b454ab1a0789","type":"message","user":"U7D5LRRQD","text":"それともname shadowingも問題があるって感じなのでしょうか:open_mouth:","ts":"1557512265.082300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"17badd32-1505-41ee-bdf6-ed16afdf4639","type":"message","user":"U03C6TEAZ","text":"shadowing に問題がありました。名前の解決順を直せばそれで解決できてたのかもしれません。","ts":"1557512427.082900","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["U7D5LRRQD"]},{"name":"banjaku","count":1,"users":["U7D5LRRQD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6588ed61-131e-412a-a43f-7b474af59e84","type":"message","user":"U7D5LRRQD","text":"ありがとうございます！\n\n今Vim scriptを拡張した感じの、Vim scriptにコンパイルされるプログラミング言語を作っていて、いつかそれに「関数参照への変数も先頭小文字でいい」っていうサポートを入れたかったので、気になりました！\n\n（今気づいたけどどちらにせよ、変数に関数参照型が付くので、その変数を自動的に先頭大文字にしてやって出力すればいいのでした:relieved:）","ts":"1557512621.087100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d2ffb78a-2381-459b-811d-0f79330bc8b0","type":"message","user":"U7D5LRRQD","text":"静的型検査が入るから、誤り検知率高そうだし、shadowing許してしまおうかな（:thinking_face:）","ts":"1557512702.088100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16b6bccb-1668-40fd-a3fe-03f652af5e21","type":"message","user":"UAZ33BKV2","text":"funcrefの使い分けという地味な影響も考慮が必要かもしれない微妙なアレコードですね びろろーん","ts":"1557535926.089900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0f7534c2-c24a-46b6-b5e6-362588291121","type":"message","user":"U7JL1UKKL","text":"<https://github.com/Shougo/denite.nvim/pull/624>","ts":"1557540109.090200","attachments":[{"fallback":"GitHub: [WIP] Replace UI by Shougo · Pull Request #624 · Shougo/denite.nvim","id":1,"title":"[WIP] Replace UI by Shougo · Pull Request #624 · Shougo/denite.nvim","title_link":"https://github.com/Shougo/denite.nvim/pull/624","text":"Fix #509 #625","thumb_url":"https://avatars3.githubusercontent.com/u/41495?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/Shougo/denite.nvim/pull/624","original_url":"https://github.com/Shougo/denite.nvim/pull/624"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb99ad96-67fe-4c79-a5a2-74dd1f659147","type":"message","user":"U7JL1UKKL","text":"denite.nvim uiブランチのテスターを募集中です","ts":"1557540124.090900","team":"T03C4RC8V","reactions":[{"name":"blush","count":1,"users":["U7ZUUQSBT"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"27dbcd57-1be9-42df-9d01-e403dbae6dd4","type":"message","user":"UDDCM376D","text":"denite興味あるが未だに手を出していない…","ts":"1557540224.091300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac2d5244-e061-4398-b1ef-dfd07c496400","type":"message","user":"U03C6TEAZ","text":"読み返して見ると funcref は実装面を知らないと理解しづらいのはたしかだなぁ。","ts":"1557541383.092700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dd052a18-fe3d-4f68-9063-ebd2e1e425fa","type":"message","user":"UDDCM376D","text":"【質問】\n特定のバッファにimapを設定したいのですが、可能でしょうか？","ts":"1557543379.093600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"88eec06d-21b8-4f19-94fd-66d799d7c2a8","type":"message","user":"UB88NP1PY","text":":h :map-&lt;buffer&gt;","ts":"1557543512.095800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\n                                *:map-local* *:map-&lt;buffer&gt;* *E224* *E225*\nカレントバッファだけで使用できるマップを作成するには、マップコマンドの引数に\n\"&lt;buffer&gt;\" を指定します。例:  \n        :map &lt;buffer&gt;  ,w  /[.,;]&lt;CR&gt;\nこの場合、他のバッファで、\",w\" に対して別の操作を割り当てることができます:  \n        :map &lt;buffer&gt;  ,w  /[#&amp;!]&lt;CR&gt;\nバッファローカルなマップは通常のマップよりも優先して使用されます。長いグローバ\nルなマップが存在する場合に短いローカルなマップが影響を受けないようにするには下\n記の &lt;nowait&gt; を参照して下さい。\n\"&lt;buffer&gt;\" はマップを削除するときにも指定できます:  \n        :unmap &lt;buffer&gt; ,w\n        :mapclear &lt;buffer&gt;\nバッファローカルなマップはそのバッファが削除されるときにいっしょに消去されま\nす。アンロード(|:bunload|)では消去されません。ローカルオプションと同じです。\nまた、|map-precedence| を参照して下さい。\n```","ts":"1557543512.095900","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"1b557960-3791-4840-a03c-6dd265758174","type":"message","user":"UB88NP1PY","text":"かな","ts":"1557543528.096200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"256da7c0-ecee-416d-8062-8f429c83ed87","type":"message","user":"UDDCM376D","text":"カレントバッファではなく、違うバッファに当てたいですねよねぇ。。。","ts":"1557543548.096700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"19e4a5e1-33e1-4510-b681-937e1cd50d64","type":"message","user":"UB88NP1PY","text":"おぉ、カレントではなくてということか","ts":"1557543584.097000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"89108213-a214-4ed8-bbb5-14de88ef8cb8","type":"message","user":"UDDCM376D","text":"こういうことをしたいです\n<https://github.com/rhysd/ss/blob/master/reply.vim/auto.gif?raw=true>","ts":"1557543690.097700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9d5b6b11-4ea8-4d1d-a019-b8bcda43560c","type":"message","user":"UAZ33BKV2","text":"1. いったんカレントバッファを切り替える\n2. バッファのファイルタイプ、バッファ変数などを利用。autocmdを全体に定義しておいて、doautocmdを発火することで、該当バッファでコマンド実行-&gt;マッピングする\n\nとかかなあ?","ts":"1557544127.099400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"beace4a0-b90c-4d36-8947-16adb1c36be3","type":"message","user":"UAZ33BKV2","text":"ファイルタイプ定義なら、doautocmdは不要だけど","ts":"1557544187.099900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"86804E90-7A1F-48DC-9560-C860548E8C01","type":"message","user":"UDDCM376D","text":"なるほど、そういうやり方もあるのか","ts":"1557549104.100300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"27FB8FFE-BC7F-4709-BFAE-574852813BCF","type":"message","user":"UDDCM376D","text":"ありがとうございます","ts":"1557549107.100500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6E2C9F8B-B93A-4F72-B056-4BE973B89D67","type":"message","user":"UDDCM376D","text":"参考させていただきます","ts":"1557549118.100900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fcd689e1-b34e-4a22-9425-962b3a506e5c","type":"message","user":"U03C6TEAZ","text":"バッファが裏にある場合にはフォーカスさせる必用が出てきます。","ts":"1557549225.102200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b298158d-b869-4c4b-8add-7b1f587df785","type":"message","user":"U03C6TEAZ","text":"それが嫌な場合は bufdo call Foo() して Foo の中で対象のバッファならマップする、とするといいかも。","ts":"1557549311.104300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0edda6d8-8671-4cd8-b6d4-17eed39d512f","type":"message","user":"UAZ33BKV2","text":"あ、bufdoありましたね","ts":"1557549393.104500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e7122c6e-95ae-4c8d-bbac-4cc50ed3c02e","type":"message","user":"UDDCM376D","text":"あー、なるほど","ts":"1557550181.105200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"126cb616-1ad7-4eba-abb7-3cbcd51e3eaf","type":"message","user":"UAZ33BKV2","text":"bufdoにtargetbuffer id指定できるようになっててもいいのに、という気もしますね、全バッファ宛てが主だから違うともいえますが","ts":"1557550201.105800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e14eae0f-78b8-479b-a6bd-d26613638974","type":"message","user":"UDDCM376D","text":"&gt;bufdoにtargetbuffer id指定できるようになっててもいいのに\nそれがあると今回やりたいことがよりスマートにできるなぁと","ts":"1557550242.106200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"866d8f2e-ef5d-44f9-8ab0-89eb0a72b568","type":"message","user":"UDDCM376D","text":"<https://vim-jp.org/vimdoc-ja/usr_41.html>","ts":"1557550310.106400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65c7c5ea-a5fc-499c-bd6b-189ad4d96341","type":"message","user":"UDDCM376D","text":"ココ見ているけど、ウィンドウを閉じる関数なさそう…","ts":"1557550325.106800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"039c2139-1926-48a9-a9ac-e63f4a2a865c","type":"message","user":"UDDCM376D","text":"みなさんvim scriptでどうやってウィンドウを閉じていますか？","ts":"1557550363.107300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e662ab57-15fb-4aac-b77f-643ff8a99b11","type":"message","user":"U03C71D7H","text":":close","ts":"1557550738.107500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"be18a9de-d7a8-4bd3-93d9-e0e26cdb21a1","type":"message","user":"UDDCM376D","text":"closeの引数の●番目って、どうやって確認するんですか？","ts":"1557550892.108400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0aa00384-ebf4-4361-8e61-c21465e7ee0f","type":"message","user":"U03C71D7H","text":"前提条件によって色々あるけど、window id を持ってるのなら win_id2win() かな","ts":"1557551458.109200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7e40d3df-474c-4161-b51f-1e1cf71cdbb5","type":"message","user":"UDDCM376D","text":":h win_id2win()","ts":"1557552091.109400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\nwin_id2win({expr})                                      *win_id2win()*\n                {expr} の ID で示されるウィンドウのウィンドウ番号を返す。\n                現在のタブページ内でそのウィンドウが見付からなかった場合は 0\n                を返す。\n```","ts":"1557552092.109500","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"ca675265-2ca1-4341-b23c-43831e05aa69","type":"message","user":"UDDCM376D","text":"なる","ts":"1557552096.109800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd27a32b-0020-4a61-8fb1-704be6b3e377","type":"message","user":"UDDCM376D","text":"ありがとうございます！","ts":"1557552097.110000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1cf25213-341c-461a-9b1a-d3e206d5b201","type":"message","user":"UDDCM376D","text":"【質問】\nインサートモードの特定のmapがあるかどうかを確認したい\nもしくは\nunmapするときに対象のmapが存在しなくてもエラーを出さないようにしたい\nですが、どうすればよいでしょうか？","ts":"1557554755.112100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c29cbac-d4eb-4a64-9afd-290560aec4d0","type":"message","user":"UDDCM376D","text":"ヘルプもウェブも見つからずorz","ts":"1557554764.112400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"38e4c226-6340-4711-b30d-e94e68b23799","type":"message","user":"U03C71D7H","text":"unmap したい理由は?","ts":"1557554961.112600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"876b428f-6abf-4279-bec9-3c08ffed95d8","type":"message","user":"UAZ33BKV2","text":":help mapcheck","ts":"1557557223.112900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\nmapcheck({name} [, {mode} [, {abbr}]])                  *mapcheck()*\n                モード{mode}におけるキーマップ{name}が存在するかチェックする。\n                {name}に指定できる特殊文字は|maparg()|を参照。\n                {abbr}が指定され、|TRUE|の場合はマッピングでなく短縮入力を対象\n                とする。\n                マッピングが{name}で始まるとき、またはマッピングが{name}のはじ\n                めに等しいときマッチすると見なされる。\n \n                        マッチするか    \"a\"     \"ab\"    \"abc\"  \n                   mapcheck(\"a\")        yes     yes      yes\n                   mapcheck(\"abc\")      yes     yes      yes\n                   mapcheck(\"ax\")       yes     no       no\n                   mapcheck(\"b\")        no      no       no\n \n                maparg()との違いは、mapcheck()は{name}にマッチするマップを見つ\n                けるが、maparg()はぴったり{name}に一致するマッピングのみを見つ\n                ける。\n                {name}にマッチするキーマップが存在しない時には、空文字列が返さ\n                れる。結果が一つならばマップされたRHSが返される。{name} で始ま\n                るマッピングが複数見つかった場合には、それらのうちどれか一つの\n                RHSが返される。RHS が空の場合は \"&lt;Nop&gt;\" となる。\n                まずカレントバッファにローカルなマッピングを探し、次のグローバ\n                ルマッピングを探す。\n                この関数はマッピングが曖昧にならないかチェックするために使うこ\n                とができる。例:  \n        :if mapcheck(\"_vv\") == \"\"\n        :   map _vv :set guifont=7x13&lt;CR&gt;\n        :endif\n                これは、\"_vv\" というマッピングが \"_v\" とか \"_vvv\" といったマッ\n                ピングと衝突しないように事前にチェックしている。\n```","ts":"1557557223.113000","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"bfac5904-55e5-4bb8-93cc-f009fa6153c6","type":"message","user":"UAZ33BKV2","text":"unmapのエラーはtry catchかsilentで握り潰しという手はなくはないような","ts":"1557557260.113600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"869cfcae-8c06-49d7-a6f6-d8ed9b35cbfd","type":"message","user":"UAZ33BKV2","text":":help unmap","ts":"1557557265.113800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\n:unm[ap]  {lhs}                 |mapmode-nvo|           *:unm*  *:unmap*\n:nun[map] {lhs}                 |mapmode-n|             *:nun*  *:nunmap*\n:vu[nmap] {lhs}                 |mapmode-v|             *:vu*   *:vunmap*\n:xu[nmap] {lhs}                 |mapmode-x|             *:xu*   *:xunmap*\n:sunm[ap] {lhs}                 |mapmode-s|             *:sunm* *:sunmap*\n:ou[nmap] {lhs}                 |mapmode-o|             *:ou*   *:ounmap*\n:unm[ap]! {lhs}                 |mapmode-ic|            *:unm!* *:unmap!*\n:iu[nmap] {lhs}                 |mapmode-i|             *:iu*   *:iunmap*\n:lu[nmap] {lhs}                 |mapmode-l|             *:lu*   *:lunmap*\n:cu[nmap] {lhs}                 |mapmode-c|             *:cu*   *:cunmap*\n:tunma[p] {lhs}                 |mapmode-t|             *:tunma* *:tunmap*\n                        マップコマンドに対応したモードの {lhs} というマップを\n                        削除します。他のモードのマップは残ります。\n                        Note: 末尾の空白は {lhs} に含まれます。次の unmap コマ\n                        ンドは機能しません:  \n                                :map @@ foo\n                                :unmap @@ | print\n```","ts":"1557557266.113900","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"13f6665c-94e6-4ad8-8638-c70dd16744d0","type":"message","user":"UAZ33BKV2","text":"こういうのは似たような挙動を実現してるプラグインを教科書として見てみるだけでもいろいろ発見があるかなと思う。","ts":"1557557329.114900","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"353fbfa9-0e97-4802-ae09-2152cf6a02d8","type":"message","user":"UAZ33BKV2","text":"この話題に近い挙動については、最近入れたvim-dirvish\n<https://github.com/justinmk/vim-dirvish>\nに類似例が含まれてたのですぐ答えられた","ts":"1557557378.115800","attachments":[{"fallback":"GitHub: justinmk/vim-dirvish","id":1,"title":"justinmk/vim-dirvish","title_link":"https://github.com/justinmk/vim-dirvish","text":"Directory viewer for Vim :zap:. Contribute to justinmk/vim-dirvish development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/1359421?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/justinmk/vim-dirvish","original_url":"https://github.com/justinmk/vim-dirvish"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a18d96b0-95d7-4a59-9e52-13efdde76c07","type":"message","user":"U9S4G0LJW","text":"リファレンス見ても分からないけど実際のコードを見ると理解が進むということがよくある","ts":"1557558473.116800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"54467f58-09e6-485f-804f-2172805147f3","type":"message","user":"UDDCM376D","text":"みなさん\nありがとうございます！","ts":"1557560126.117600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ae60f8f5-f482-4bcb-8337-f2f59a8bc62b","type":"message","user":"UDDCM376D","text":"ひとりじゃ限界なところありがたい情報を頂けるのはホント助かりますm(_ _)m","ts":"1557560156.118300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d87e4fc0-fecd-4da4-8366-ea1718c91e92","type":"message","user":"UDDCM376D","text":"thincaさん\n&gt;unmap したい理由は?\n一時的に使うmapなので、不要になったら削除したいんですよね\n残っていると気持ち悪いし、バッティングしそうなので","ts":"1557560286.119500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6fba56ab-3bc3-4f1b-bfd3-8fd61aa4cd40","type":"message","user":"UBQ2H65JQ","text":":mapは-bufferという引数を指定できて、そのバッファのみに適用するってことができます","ts":"1557560874.120300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4e1fe0ad-daf5-413b-a5b2-fbb9ed9bbd6b","type":"message","user":"UBQ2H65JQ","text":"nnoremapやimapなども同様","ts":"1557560922.120900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b34982db-0591-40d2-811c-1ad7e6a89a76","type":"message","user":"UDDCM376D","text":"`-buffer` の後ってバッファ番号ですか？","ts":"1557561382.121300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cda5b40c-8f2f-4f78-acd6-e81b9879c734","type":"message","user":"UBQ2H65JQ","text":"あ、失礼、 `-buffer` じゃなくて `&lt;buffer&gt;` でした","ts":"1557561497.122500","edited":{"user":"UBQ2H65JQ","ts":"1557561506.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d6826d2-88d3-4f45-aadc-329750a6fce4","type":"message","user":"UBQ2H65JQ","text":"で、カレントバッファのみに適用ですね（バッファ番号は指定できない）","ts":"1557561551.123500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28f43bb3-8ade-4b3c-a956-b6eae4400600","type":"message","user":"UBQ2H65JQ","text":":h :map-arguments","ts":"1557561582.124100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\n1.2 特別な引数                                          *:map-arguments*\n \n引数に \"&lt;buffer&gt;\"、\"&lt;nowait&gt;\"、\"&lt;silent&gt;\"、\"&lt;special&gt;\"、\"&lt;script&gt;\"、\"&lt;expr&gt;\"、\n\"&lt;unique&gt;\" を指定できます。マップコマンドの直後 (他の引数の前) に置いてくださ\nい。\n```","ts":"1557561582.124200","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"e74ba192-77b6-451b-9d2c-6f5a45657fda","type":"message","user":"UDDCM376D","text":"よくよく見たらscriptが\nってことはスクリプト内限定ってことか","ts":"1557561614.125000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0eb37fa1-6ab2-4e43-a472-1eea1dae8c76","type":"message","user":"UBQ2H65JQ","text":"```\naugroup xxx\n  autocmd!\n  autocmd FileType xxx :map &lt;buffer&gt; ...\naugroup END\n```\nってやることが多いかな。","ts":"1557561652.125800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"58cdc14e-5448-4d59-b815-f1ae4b5f4c3b","type":"message","user":"UBQ2H65JQ","text":"当然、うまくターゲットできるんなら、FileTypeじゃなくてOKです。","ts":"1557561699.126600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e60ae8cf-bf93-4daa-85d0-e4163149746b","type":"message","user":"UBQ2H65JQ","text":"WinEnterにしておいて、 `:if bufnr == n | map &lt;buffer&gt; ... | endif` にしてもいけるはず","ts":"1557561756.127700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9be893dc-4d6e-4883-921a-5e12c278b270","type":"message","user":"UBQ2H65JQ","text":"私は `|` の扱いがめんどいのでこの部分は関数化しておいて、 `autocmd FileType xxx :call XXX()` でしますね","ts":"1557561846.128800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"024f3e8a-e7c8-40ac-b0fa-fd2af0f2cdc4","type":"message","user":"UDDCM376D","text":"なるほど","ts":"1557562000.129000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c815ba9-41b6-4fad-8428-6a5156c4b841","type":"message","user":"UDDCM376D","text":"関数化もありですね","ts":"1557562029.129500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"10C5372A-7888-4001-9F2A-2BAB81AB7C0A","type":"message","user":"U7ZUUQSBT","text":":gorilla: ウホウホ","ts":"1557564668.130000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"983b292f-0098-4914-987e-6113f4b56a51","type":"message","user":"UG6DF6W87","text":"terminal-api から、それを実行した terminal buffer で `:hide` を実行したいのですが上手く動いてくれません...","ts":"1557569950.131400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e795e2e9-b72c-4144-a7af-430b4bc55ad1","type":"message","user":"UG6DF6W87","text":"```\nfunction! Tapi_hide(bufnr, args)\n  hide\nendfunction\n```\nみたいに定義して","ts":"1557569991.132100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ee631417-8c6a-402d-b447-9a400d156ea8","type":"message","user":"UG6DF6W87","text":"terminal mode で\n```\n$ echo -e \"\\x1b]51;[\\\"call\\\", \\\"Tapi_hide\\\", []]\\x07\"\n```\nを実行しても何も起こらず","ts":"1557570160.134000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ed8e35ee-62f6-4368-add7-395fcf1af103","type":"message","user":"UG6DF6W87","text":"normal mode から\n`:call Tapi_hide(\"%\", [])`\nと呼び出すと上手く動いてくれます","ts":"1557570204.134800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2db2cf4-9ca1-4015-9325-68f573a60ad1","type":"message","user":"UG6DF6W87","text":"どうやったら上手く動かせるでしょうか?\n// そもそも無理なんですかね...?","ts":"1557570417.138500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9cebbf45-fbb6-4bf2-8dc6-fb04ccdb79a0","type":"message","user":"U9S4G0LJW","text":"全く原因分からなかったのでデバッガで潜ってみたら、ターミナルモードの時にコマンドでウインドウが閉じないようにロックされてるみたいなんですよね","ts":"1557572281.141700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7265ffba-0893-4898-8f5c-02d4da8c1927","type":"message","user":"U9S4G0LJW","text":"具体的に言うとここでこけてる <https://github.com/vim/vim/blob/master/src/window.c#L2320>","ts":"1557572392.142000","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/master/src/window.c#L2320","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/master/src/window.c#L2320","original_url":"https://github.com/vim/vim/blob/master/src/window.c#L2320"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4f888142-926b-4df9-ad30-e134538920dc","type":"message","user":"U9S4G0LJW","text":"ダーティな解決策なのであまり好きではないかもしれないですが、要はターミナルモードにいなければいいので `hide` の部分を `call feedkeys(\"\\&lt;C-w&gt;:hide\\&lt;CR&gt;\")` 等に変えれば動きはします","ts":"1557572602.143800","thread_ts":"1557572602.143800","reply_count":8,"replies":[{"user":"UG6DF6W87","ts":"1557572874.145400"},{"user":"UAZ33BKV2","ts":"1557573009.145600"},{"user":"U9S4G0LJW","ts":"1557573223.145900"},{"user":"U9S4G0LJW","ts":"1557573247.146300"},{"user":"UAZ33BKV2","ts":"1557573497.146500"},{"user":"UG6DF6W87","ts":"1557573600.147200"},{"user":"U9S4G0LJW","ts":"1557573656.148200"},{"user":"UG6DF6W87","ts":"1557576405.154500"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f433f864-ee8d-4228-a4aa-373bc7b2fc14","type":"message","user":"UAZ33BKV2","text":"symlinkつかってるプラグインがあったので、windowsのsymlink対応した","ts":"1557572743.144800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5fecf623-3ae6-4886-98ba-fc1c4ec90cfc","type":"message","user":"UG6DF6W87","text":"ほわー、なるほど、ありがとうございます","ts":"1557572769.145000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aa3ae810-0b77-48d3-81bd-be99a7ca1817","type":"message","user":"UG6DF6W87","text":"なるほどなるほど、normal mode に抜けてから `:hide` するんですね","ts":"1557572874.145400","thread_ts":"1557572602.143800","parent_user_id":"U9S4G0LJW","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e85e846c-7a15-4c72-b9f5-c7966d05d574","type":"message","user":"UAZ33BKV2","text":"ロックの趣旨とか考えるとnormal! hideじゃ無理でしょうかね...","ts":"1557573009.145600","thread_ts":"1557572602.143800","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":null,"root":{"client_msg_id":"4f888142-926b-4df9-ad30-e134538920dc","type":"message","user":"U9S4G0LJW","text":"ダーティな解決策なのであまり好きではないかもしれないですが、要はターミナルモードにいなければいいので `hide` の部分を `call feedkeys(\"\\&lt;C-w&gt;:hide\\&lt;CR&gt;\")` 等に変えれば動きはします","ts":"1557572602.143800","thread_ts":"1557572602.143800","reply_count":8,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null}},{"client_msg_id":"c68d971b-47d5-45aa-91ca-e74d2dd2d09b","type":"message","user":"U9S4G0LJW","text":"無理っぽい","ts":"1557573223.145900","thread_ts":"1557572602.143800","parent_user_id":"U9S4G0LJW","files":[{"id":"FJ9A5NU0K","created":1557573220,"timestamp":1557573220,"name":"2019-05-11-201315_1920x1080_scrot.png","title":"2019-05-11-201315_1920x1080_scrot.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U9S4G0LJW","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":93584,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FJ9A5NU0K/2019-05-11-201315_1920x1080_scrot.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FJ9A5NU0K/download/2019-05-11-201315_1920x1080_scrot.png","original_h":1080,"original_w":1920,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FJ9A5NU0K-90543c1e3a/2019-05-11-201315_1920x1080_scrot_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FJ9A5NU0K-90543c1e3a/2019-05-11-201315_1920x1080_scrot_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FJ9A5NU0K-90543c1e3a/2019-05-11-201315_1920x1080_scrot_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FJ9A5NU0K-90543c1e3a/2019-05-11-201315_1920x1080_scrot_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":203,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FJ9A5NU0K-90543c1e3a/2019-05-11-201315_1920x1080_scrot_480.png","thumb_480_w":480,"thumb_480_h":270,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FJ9A5NU0K-90543c1e3a/2019-05-11-201315_1920x1080_scrot_720.png","thumb_720_w":720,"thumb_720_h":405,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-FJ9A5NU0K-90543c1e3a/2019-05-11-201315_1920x1080_scrot_960.png","thumb_960_w":960,"thumb_960_h":540,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-FJ9A5NU0K-90543c1e3a/2019-05-11-201315_1920x1080_scrot_1024.png","thumb_1024_w":1024,"thumb_1024_h":576,"permalink":"https://vim-jp.slack.com/files/U9S4G0LJW/FJ9A5NU0K/2019-05-11-201315_1920x1080_scrot.png","permalink_public":"https://slack-files.com/T03C4RC8V-FJ9A5NU0K-e341d82544","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FJ9A5NU0K-90543c1e3a/2019-05-11-201315_1920x1080_scrot_800.png","thumb_800_h":450,"thumb_800_w":800,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"60b00fab-b2fa-4361-b374-d4c500d18cdb","type":"message","user":"U9S4G0LJW","text":"`normal! :hide` をTapi経由で走らせたらこうなった","ts":"1557573247.146300","thread_ts":"1557572602.143800","parent_user_id":"U9S4G0LJW","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68eb0fa4-cac6-433c-86fc-5426aefbee29","type":"message","user":"UAZ33BKV2","text":"おう...","ts":"1557573497.146500","thread_ts":"1557572602.143800","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":null,"root":{"client_msg_id":"4f888142-926b-4df9-ad30-e134538920dc","type":"message","user":"U9S4G0LJW","text":"ダーティな解決策なのであまり好きではないかもしれないですが、要はターミナルモードにいなければいいので `hide` の部分を `call feedkeys(\"\\&lt;C-w&gt;:hide\\&lt;CR&gt;\")` 等に変えれば動きはします","ts":"1557572602.143800","thread_ts":"1557572602.143800","reply_count":8,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null}},{"client_msg_id":"d6f9a67c-5db6-461c-b80f-d96b177142ff","type":"message","user":"UG6DF6W87","text":"えぇ...","ts":"1557573600.147200","thread_ts":"1557572602.143800","parent_user_id":"U9S4G0LJW","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47db7be2-5d7b-4dd2-b98e-a0a2a146038a","type":"message","user":"U9S4G0LJW","text":"あー、改行が抜けてたからみたい、ただ改行あっても無理でした","ts":"1557573656.148200","thread_ts":"1557572602.143800","parent_user_id":"U9S4G0LJW","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"01aee071-d6e1-4fb1-90d0-9d7263edf650","type":"message","user":"UG6DF6W87","text":"ロックするフラグ立ててるのはここですかね?\nなんかそれっぽいコメント書いてますね\n\n<https://github.com/vim/vim/blob/afde13b62b8fa25dac4635d5caee8d088b937ee0/src/terminal.c#L3831>","ts":"1557573686.149200","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/afde13b62b8fa25dac4635d5caee8d088b937ee0/src/terminal.c#L3831","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/afde13b62b8fa25dac4635d5caee8d088b937ee0/src/terminal.c#L3831","original_url":"https://github.com/vim/vim/blob/afde13b62b8fa25dac4635d5caee8d088b937ee0/src/terminal.c#L3831"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2a76457a-73d1-4714-a466-1454384203ba","type":"message","user":"U9S4G0LJW","text":"みたいですね、バッファが途中で消えると困るのかな","ts":"1557574124.149900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"749dbfad-cb78-4c35-a94b-2296ff90b0bf","type":"message","user":"UG6DF6W87","text":"<https://github.com/vim/vim/commit/a997b45c7e350ea5b378ca0c52ed3d4cc610975c>","ts":"1557574501.150400","attachments":[{"fallback":"GitHub: patch 8.0.1732: crash when terminal API call deletes the buffer · vim/vim@a997b45","id":1,"title":"patch 8.0.1732: crash when terminal API call deletes the buffer · vim/vim@a997b45","title_link":"https://github.com/vim/vim/commit/a997b45c7e350ea5b378ca0c52ed3d4cc610975c","text":"Problem: Crash when terminal API call deletes the buffer. Solution: Lock the buffer while calling a function. (closes #2813)","thumb_url":"https://avatars1.githubusercontent.com/u/8530623?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/vim/vim/commit/a997b45c7e350ea5b378ca0c52ed3d4cc610975c","original_url":"https://github.com/vim/vim/commit/a997b45c7e350ea5b378ca0c52ed3d4cc610975c"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"82668c4f-7542-4534-92eb-6c61bbfe2f4d","type":"message","user":"UG6DF6W87","text":"これで入ったらしい","ts":"1557574516.150800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65d6e54f-a763-4959-9ff9-7c7667d9bd3b","type":"message","user":"UG6DF6W87","text":"<https://github.com/vim/vim/issues/2813>","ts":"1557574599.151100","attachments":[{"fallback":"GitHub: Segfault when Tapi calls `bdelete!` on invoking terminal · Issue #2813 · vim/vim","id":1,"title":"Segfault when Tapi calls `bdelete!` on invoking terminal · Issue #2813 · vim/vim","title_link":"https://github.com/vim/vim/issues/2813","text":"Running against vim 8.0.1727 compiled with defaults. Using this vimrc: function Tapi_Err(bufnum, arg) execute &amp;#39;bdelete!&amp;#39; a:bufnum endfunction Running the following causes a segfault: :termi...","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/issues/2813","original_url":"https://github.com/vim/vim/issues/2813"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"095a1f94-3038-42dd-a839-1778ab4958fe","type":"message","user":"UG6DF6W87","text":"なるほどなるほど、やっぱり terminal-api 実行中に buffer が落ちると crash するって問題があったんですね","ts":"1557574765.153400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e69ee660-bd43-40b5-ab0f-d633a0a40c35","type":"message","user":"UG6DF6W87","text":"いただいた方法でやりたいことは達成できました!!\nありがとうございます","ts":"1557576405.154500","thread_ts":"1557572602.143800","subtype":"thread_broadcast","reactions":[{"name":"slow-loris","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":null,"root":{"client_msg_id":"4f888142-926b-4df9-ad30-e134538920dc","type":"message","user":"U9S4G0LJW","text":"ダーティな解決策なのであまり好きではないかもしれないですが、要はターミナルモードにいなければいいので `hide` の部分を `call feedkeys(\"\\&lt;C-w&gt;:hide\\&lt;CR&gt;\")` 等に変えれば動きはします","ts":"1557572602.143800","thread_ts":"1557572602.143800","reply_count":8,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null}},{"type":"message","user":"USLACKBOT","text":"Reminder: vimrc読書会はじまるのでは","ts":"1557582609.155100","bot_id":"B01","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null}]
