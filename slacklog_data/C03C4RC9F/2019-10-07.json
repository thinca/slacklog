[{"client_msg_id":"65b8c9e2-7435-4b4f-b861-d7612b4ce82e","type":"message","user":"U03C71D7H","text":"そう言えば、今朝ちょろっと遭遇してまだ詳細を追ってないのだけど、Windows で Vim をコマンドラインから起動する場合にパス区切りを `\\` にして絶対パスを渡すと、カレントディレクトリがファイルのある場所に移ってしまう気がするのだけど、これは仕様だろうか?\n\n`D:\\foo\\bar&gt; vim.exe --cmd \"echomsg getcwd()\" D:\\test.txt` → カレントディレクトリが D:\\ に移動してしまう\n`D:\\foo\\bar&gt; vim.exe --cmd \"echomsg getcwd()\" D:/test.txt` → `/` 区切りだとセーフ\n`D:\\foo\\bar&gt; vim.exe --cmd \"echomsg getcwd()\" ..\\..\\test.txt` → 相対パスだとセーフ\n\ngvim.exe でも同様","ts":"1570419486.231300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b6eb3cfc-928d-4945-9f61-4e5fcef6b6da","type":"message","user":"U03C71D7H","text":"localrc.vim との組み合わせで設定ファイルが読み込まれなくてハマった","ts":"1570419530.231700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fedc4546-9587-463f-b129-16ce404e1768","type":"message","user":"UAZ33BKV2","text":"あくまで実行した場所がカレント、という意味でなら、それだとちょっと挙動が変ですね...","ts":"1570419674.232300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0581c016-1d3b-4089-82c5-8754331d9b70","type":"message","user":"UAZ33BKV2","text":"たしかになりますね...","ts":"1570419816.232500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"792d9639-6711-438b-9d3d-978b270279fb","type":"message","user":"U6XP9LZ6V","text":"ヘルプのどこかに書いてあったような？","ts":"1570419914.233400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cb92611e-42ab-49d8-89ba-f43a3d536858","type":"message","user":"U6XP9LZ6V","text":":h win32-curdir","ts":"1570419993.234000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\nカレントディレクトリ                                    *win32-curdir*\n \nVimにフルパスのファイル名(\"x:\\\" の形で始まる)を指定したとき、Vimはエクスプロー\nラーから起動されたと仮定してそのファイルのあるディレクトリをカレントディレクト\nリにする。そうならないようにするにはファイルのパスにバックスラッシュ(\\)の代わり\nにスラッシュ(/)を使うこと。  \n \n        vim c:\\text\\files\\foo.txt\n \nこれはカレントディレクトリを \"C:\\text\\files\" に変更する。  \n \n        vim c:/text\\files\\foo.txt\n \nこうすればカレントディレクトリを変更しない。\n```","ts":"1570419994.234100","bot_id":"B894RTUCU","team":"T03C4RC8V","reactions":[{"name":"eyes","count":2,"users":["U06BRP8VD","UN1NW3ZCP"]}],"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"18555587-e48f-44b4-bf91-78b962d65f54","type":"message","user":"UAZ33BKV2","text":"おおう、書いてある","ts":"1570420016.234300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"504f9933-f60e-40de-8f0e-c273916c25ee","type":"message","user":"U03C71D7H","text":"なるほど。これ知りませんでした","ts":"1570420110.234600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e5a0c496-dd86-46ff-9d78-5549fd0b6b01","type":"message","user":"U03C71D7H","text":"`:h startup` をずっと見てたけど何も書いてなかった…","ts":"1570420170.235000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cdc7de18-b108-4a74-a6be-ae9b35a37f39","type":"message","user":"UAZ33BKV2","text":"(エクスプローラを想定って、エクスプローラはプロセスのベースディレクトリを設定しないで起動させるのか...?)","ts":"1570420229.236000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dd5dfb0c-3b4d-43d0-a9a3-0675d66eeed7","type":"message","user":"U03C71D7H","text":"実際のところ、この処理が入ってなかったらエクスプローラから起動した場合のカレントディレクトリはどこになるんだろう? Windows わからん…","ts":"1570420277.236600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ea263e1d-d440-4c79-a305-84e2e22f812d","type":"message","user":"UAZ33BKV2","text":"ショートカットとかにはWorkdirの設定項目あるし、そこがベースになると思うので、エクスプローラがサボる/COM呼び出しだとできない、とかかな...","ts":"1570420320.237400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dfa6fa43-2c2e-4e6e-a122-f28068b5dc83","type":"message","user":"UAZ33BKV2","text":"ショートカットの作業フォルダ設定すれば、そこ基準で起動するな\nファイルの関連付けのとき、エクスプローラがなにやってるか、によりそう","ts":"1570420587.238300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04e034cf-c1d8-4a2d-a45d-80f9c4bf6a97","type":"message","user":"U782D5DF1","text":"10月に入ってからやたらとwindowsのパス区切りが起因で時間泥棒されてる","ts":"1570446100.239400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c70d73b-2b32-4010-8253-8ea14c1c9dd1","type":"message","user":"U782D5DF1","text":"Windowsのバックスラッシュ区切りは悪い文明","ts":"1570446107.239600","edited":{"user":"U782D5DF1","ts":"1570446130.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c981b9ef-6661-44e0-bcfc-7c731948f4db","type":"message","user":"UAZ33BKV2","text":"DOSの時代でもスラッシュOKに設定できたけど、マシンパワーがそれを許せるほどじゃなかった感(DOSとそのアプリをなるべく簡素な作りにしたツケの意味で)","ts":"1570449540.240800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bac44a30-c8a8-4168-9f1d-e546f66a1408","type":"message","user":"UAZ33BKV2","text":"でもMac 9までのCRだけとか、パス区切りの別もあったし、ほんとうは多様性後退の問題もなきにしもあらず...かも?\nいやまあ、統一されたほうがラクだけど...","ts":"1570449598.242000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"43e2dcca-33dc-453e-8fe5-afd0d53f10ba","type":"message","user":"U9S4G0LJW","text":"DOS由来の負の遺産を引きずりすぎな印象あるなぁ確かに。これを言うならUNIX系統だってそうだけども。","ts":"1570450011.243800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
