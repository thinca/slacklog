[{"type":"message","user":"UK329JDM4","text":"<@UK329JDM4> has joined the channel","ts":"1581756579.302900","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"3a21eb95-f920-4258-9d35-ec2e1f84c6ac","type":"message","user":"UAZ33BKV2","text":"efm-langserverのformat-command、stdinサポートしてないコマンドのとき、ファイルを再readさせるような挙動相当は実現可能なんだろうか...","ts":"1581760801.303900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d+ToV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eed84b88-1e37-4e51-bae3-8aef9b462903","type":"message","user":"U03C6TEAZ","text":"${INPUT} 使うか、stdin をファイルに吐き出してそれを読み込ませるか。","ts":"1581760907.305200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FCO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cdbd2d88-88e9-4db1-b92c-8f3f5de13db5","type":"message","user":"UAZ33BKV2","text":"いえ、${INPUT}を使ったのですが、ファイルが変ってしまったことでの再詠み込みってすぐに発生しますっけ?","ts":"1581760949.306000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lGw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5a900302-cadc-4b9b-ac3b-d83a59d619ad","type":"message","user":"UAZ33BKV2","text":"markdownlint の --fix がno stdinなのでefm-langserverに設定投入して動きを見てたのですが、警告ののちに再詠み込みになったんですよね...警告なしで自動でできたらなあ、と思って","ts":"1581761031.307200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ANz/o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f7fe4c4b-3028-4f67-98e1-b90ffc04e048","type":"message","user":"U8R597E9H","text":"保存してないバッファでのフォーマットってことですよね。","ts":"1581761068.308100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lG0wQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d80872b7-ec26-4fba-88bc-3d3d295ada3f","type":"message","user":"UAZ33BKV2","text":"いえ、未保存はとりあえずよくて\nfixが発生するファイルをオープン、変更などはせず、LspDocumentFormatした時の場合です...","ts":"1581761134.309900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"THYpt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"846eafdf-2604-4985-a584-eb9122b94b5d","type":"message","user":"U8R597E9H","text":"一旦 tmp とかに書いてやるしか思いつかない…","ts":"1581761134.310000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Eau"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1140052e-c30f-4d99-80c8-70f1ad1b259e","type":"message","user":"U8R597E9H","text":"なるほど。それでもだめなのか…なんでだろう。","ts":"1581761153.310500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lX7t"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"520e9a14-ad32-4caa-aa7a-caf3c26b4fa6","type":"message","user":"UAZ33BKV2","text":"警告ダイアログで再詠み込みすれば読めはしますが、警告はちょっと避けたくて","ts":"1581761178.310900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Qr5S"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"159601ac-a1dc-4584-87ea-30c3a8e08867","type":"message","user":"UAZ33BKV2","text":"<https://github.com/tsuyoshicho/vim-efm-langserver-settings>\nいろいろ対応を充実させました。","ts":"1581761249.311200","attachments":[{"fallback":"GitHub: tsuyoshicho/vim-efm-langserver-settings","id":1,"title":"tsuyoshicho/vim-efm-langserver-settings","title_link":"https://github.com/tsuyoshicho/vim-efm-langserver-settings","text":"trial vim lsp client - efm-langserver link and configure settings - tsuyoshicho/vim-efm-langserver-settings","thumb_url":"https://avatars2.githubusercontent.com/u/96727?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/tsuyoshicho/vim-efm-langserver-settings","original_url":"https://github.com/tsuyoshicho/vim-efm-langserver-settings"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Csm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4180ec98-7208-4ff4-b209-b17c8220a031","type":"message","user":"UAZ33BKV2","text":"LspDocumentFormat実行する瞬間だけ `autoread` をローカル設定する、とかはアリな気がしてきた","ts":"1581761419.312000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aQ/1b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"19600e94-a1b4-43c2-ac16-90f4c045bf5e","type":"message","user":"U8R597E9H","text":"あー。そういうことか、意味がわかりました。\nフォーマットによって、物理ファイル側が変わった場合の挙動ということですね。","ts":"1581761478.313100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4bM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c659c534-f787-4031-8de1-00ce53fcfc76","type":"message","user":"UAZ33BKV2","text":"はい、そのときの再詠み込みが警告になるの、ちょっともったいないなと","ts":"1581761510.313800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2u9Y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eff73d77-f2f2-42e9-a153-4bd4ca24b8c5","type":"message","user":"U8R597E9H","text":"やはり、一度 tmp ファイルなどを経由しないと LSP のスペックと思想がだいぶ噛み合わない気がしますね…","ts":"1581761541.314800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Imea"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b8319c16-a84f-4635-8434-816a3b80efa6","type":"message","user":"UAZ33BKV2","text":"vim側の工夫でちょっと逃げるとかはありかな...と\nあとefmがinputなら、tmp書き換え、内容を出力、みたいな挙動するとlsp的に適合?とも思いましたが....","ts":"1581761624.316200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FNtkN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6bcac9ea-f8be-433c-aa23-502343046808","type":"message","user":"UAZ33BKV2","text":"やっぱそうですよね...","ts":"1581761643.316500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7TjWU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d2d56478-2b85-47c8-91c9-2d3663a1167e","type":"message","user":"UAZ33BKV2","text":"efm-langserverでmarkdownlintとvaleを混ぜた結果\n```# level1\n\n## level2\n- listA\n- listB\n\nThis is approximately what happend.```\n```test.md|3 col 1| Error:MD022/blanks-around-headings/blanks-around-headers Headings should be surrounded by blank lines [Expected: 1; Actual: 0; Below] [Context: \"## level2\"]\ntest.md|4 col 1| Error:MD032/blanks-around-lists Lists should be surrounded by blank lines [Context: \"- listA\"]\ntest.md|7 col 9| Error:'approximately' is a weasel word!```\nうまく両方でるなあ","ts":"1581761924.317400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EfQm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5c545a67-ce97-4c6e-b28f-6a2739d028bb","type":"message","user":"UAZ33BKV2","text":"あ、しまった、`autoread` はむしろ設定してたや(なので警告ありで再詠み込みになる)\n...どうしようもないか","ts":"1581762529.318200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i/HM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a9d35542-f94b-465c-ac7a-e97217ee88f6","type":"message","user":"UAZ33BKV2","text":"出るけど読めるから、いいといえばいいか","ts":"1581762671.318300","files":[{"id":"FTRQN3CV7","created":1581762668,"timestamp":1581762668,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"UAZ33BKV2","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":16175,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FTRQN3CV7/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FTRQN3CV7/download/image.png","original_h":174,"original_w":622,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FTRQN3CV7-f36dcc28a9/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FTRQN3CV7-f36dcc28a9/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FTRQN3CV7-f36dcc28a9/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FTRQN3CV7-f36dcc28a9/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":101,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FTRQN3CV7-f36dcc28a9/image_480.png","thumb_480_w":480,"thumb_480_h":134,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/UAZ33BKV2/FTRQN3CV7/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FTRQN3CV7-fef321fcca","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwANADC8JfmYbTx3p2/2ozRmgA8z2oDEj7v60mOvJpMHP3jQA/cf7v60ZPcYpM0ZoA//2Q==","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dgefF"}]},{"client_msg_id":"bb03b65a-6a9b-49e1-b2b4-7f586472be9b","type":"message","user":"U8996GYBF","text":"なんかcocでefm-langserverのfiletypesが二重に出てくるのと、FixJsonとかが効いてくれない\n`&lt;Plug&gt;(coc-format)` では動かないのかな","ts":"1581763313.319500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hLf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"544340cb-902b-42e8-89ca-983100499299","type":"message","user":"U8996GYBF","text":"他のlangserverでも明示的に設定してたらfiletypesは二重になるなー\nこっちはcocの設定の問題っぽいけどなんでだろ","ts":"1581763397.320000","edited":{"user":"U8996GYBF","ts":"1581763414.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7gRb9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0a501d8d-8428-457d-b678-da5637939906","type":"message","user":"UAZ33BKV2","text":"なんか自動設定系と自前の二重っぽさありますね、それ","ts":"1581763432.320600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BOvB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"95c3aa73-3f81-4cdf-994e-f1266b346a9a","type":"message","user":"U8996GYBF","text":"そんな気はしてるんですが、efmはextensionじゃないんで二重にならないと思うんですよねぇ","ts":"1581763492.321300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PKvp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2e83651-5b90-441f-b85e-6a221c348bc5","type":"message","user":"UAZ33BKV2","text":"jsonのフォーマットはvim-lsp+efm+fixjsonでできてるので、設定ミス系かもしれず","ts":"1581763530.322000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DSoR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"636f660f-7a03-4628-86ef-1b3485498fed","type":"message","user":"U8996GYBF","text":"とりあえずプラグインの更新は入れてみよう","ts":"1581763548.322300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hkm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"094145fc-cde9-4c9b-bbb1-dfd57ecd3c85","type":"message","user":"U8996GYBF","text":"設定してないvimlspだけ1つで、設定してるやつ全部2重になってるなーｗ","ts":"1581763580.322700","edited":{"user":"U8996GYBF","ts":"1581763594.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yrK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7b05f53e-22e2-49d5-9c7d-7b415575f85c","type":"message","user":"U8996GYBF","text":"```call coc#config('languageserver', {\n\\ 'efm': {\n\\   'command': 'efm-langserver',\n\\   'args': [],\n\\   'filetypes': ['go', 'eruby', 'json', 'markdown', 'vim']\n\\ },\n\\ })```\nこれだけなんだけど、jsonの方に書くと通るとかありそうでいやだなー","ts":"1581763651.323300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xqao"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d0b9f2f1-9c2b-4b59-88f5-724875dfb533","type":"message","user":"UAZ33BKV2","text":"参考になるので、自分のプラグインに設定コピらせてもらおう...\nしかし謎ですねえ","ts":"1581763782.323900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"w=Ss"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"29755484-a96e-481a-a06f-c0075684ca29","type":"message","user":"U8996GYBF","text":"あ、FixJsonは動いたっぽい、お騒がせしました","ts":"1581763845.324500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M=c"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"229fc2e5-26ce-4feb-a40f-ac12d1dde455","type":"message","user":"U7TMPGWJ0","text":"話は少し、斜めにずれちゃいますが json のフォーマッターって最近 prettier でしか僕かけてないなー","ts":"1581763954.326200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e56yA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c937339-b5cd-45e6-931e-1f23fca01724","type":"message","user":"U7TMPGWJ0","text":"coc.nvim だと coc-prettier いれてるので `:call CocAction('format')` は prettier が走るようにしてる。最近のprettierでもケツカンマもやっつけてくれてる気がするし。","ts":"1581764044.327200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LnJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7fe8c027-1848-4f42-86d0-964da5480b62","type":"message","user":"U7TMPGWJ0","text":"coc.nvim なら `diagnostic-languageserver` だと `coc-diagnostic` の拡張があるので少しは連携部分は安心感あるかもしれませんね。efm-langserver なら vim-jp の Slack で聞けるって力強いメリットはありますけどね。","ts":"1581764306.328200","edited":{"user":"U7TMPGWJ0","ts":"1581764427.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Nuhq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"af618bc0-18f5-4300-b4f9-2baadfd0f8fd","type":"message","user":"U8996GYBF","text":"あー、diagnostic-languageserverってextensionあるんですね\n知らなかった","ts":"1581764563.328700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+U9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16a34531-8dc0-454d-87b7-1e39f7b54dac","type":"message","user":"U7TMPGWJ0","text":"はい、あります。vint も golangci-lint も coc-diagnostic 自体に設定埋め込みな感じで持ってるので。","ts":"1581764618.330000","edited":{"user":"U7TMPGWJ0","ts":"1581764730.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E002B"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1702b25f-657e-452b-b4da-3da75925d691","type":"message","user":"U7TMPGWJ0","text":"```  \"diagnostic-languageserver.filetypes\": {\n    \"go\": \"golangci-lint\",\n    \"vim\": \"vint\",\n    \"sh\": \"shellcheck\",\n    \"php\": \"phpstan\"\n  },```","ts":"1581764622.330400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wRS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3fd2a957-5f48-47d8-b2e2-d78d2834ff67","type":"message","user":"U7TMPGWJ0","text":"こういう設定だけで動きます(coc-settings.jsonの場合)。","ts":"1581764639.330900","edited":{"user":"U7TMPGWJ0","ts":"1581764697.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MQmh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"36873a5b-7908-4426-bb23-0df271bddd48","type":"message","user":"UAZ33BKV2","text":"ちなみにお聞きしたいのですが、 coc#config は起動後(というかcocロード後?)に呼ぶようにする作法ですか?\ncoc用の補助プラグイン作ってみたくて","ts":"1581764643.331100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sm/9I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ecfdce28-84b2-409a-be30-5306319517e9","type":"message","user":"U8996GYBF","text":"あー、これは色々と事情があって・・・","ts":"1581764672.331300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"emzj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22c12686-b9a2-4016-9b1b-220a2f914dd3","type":"message","user":"U8996GYBF","text":"apollo-language-serverってやつ無理矢理入れてるんですけど（完全にVSCodeの拡張用のやつ）\n```call coc#config('languageserver', {\n\\ 'graphql': {\n\\   'module': expand('~/repos/github.com/apollographql/apollo-tooling/packages/apollo-language-server/lib/server.js'),\n\\   'args': ['--node-ipc'],\n\\   'filetypes': ['graphql', 'javascript', 'javascriptreact', 'typescript', 'typescriptreact', 'typescript.tsx'],\n\\   'rootPatterns': ['apollo.config.js']\n\\ },\n\\ })```","ts":"1581764734.332400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0/3=b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5f7135ef-c283-4f55-9357-30517c911c06","type":"message","user":"U8996GYBF","text":"これmoduleに絶対パスを埋め込む必要があって、jsonだと関数で展開みたいなことができないんでVim script側でexpandかけてるんですよね・・・","ts":"1581764781.333300","thread_ts":"1581764781.333300","reply_count":8,"replies":[{"user":"U7TMPGWJ0","ts":"1581767592.347700"},{"user":"U8996GYBF","ts":"1581767616.348000"},{"user":"U7TMPGWJ0","ts":"1581767773.348200"},{"user":"U8996GYBF","ts":"1581767793.348400"},{"user":"U8996GYBF","ts":"1581767797.348600"},{"user":"U7TMPGWJ0","ts":"1581768014.348900"},{"user":"U7TMPGWJ0","ts":"1581768041.349200"},{"user":"U8996GYBF","ts":"1582034918.046200"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RxjO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b8dff40c-1599-4634-844e-7f9fb60d6aa8","type":"message","user":"U8996GYBF","text":"やむを得ず `coc#config` 叩いてる状態です\nlanguageserver全体はこう\n```call coc#config('languageserver', {\n\\ 'graphql': {\n\\   'module': expand('~/repos/github.com/apollographql/apollo-tooling/packages/apollo-language-server/lib/server.js'),\n\\   'args': ['--node-ipc'],\n\\   'filetypes': ['graphql', 'javascript', 'javascriptreact', 'typescript', 'typescriptreact', 'typescript.tsx'],\n\\   'rootPatterns': ['apollo.config.js']\n\\ },\n\\ 'efm': {\n\\   'command': 'efm-langserver',\n\\   'args': [],\n\\   'filetypes': ['go', 'eruby', 'json', 'markdown', 'vim']\n\\ },\n\\ })```","ts":"1581764817.334000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ajkx+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"88f43a89-18c4-4407-bdde-5b5310b41de2","type":"message","user":"U7TMPGWJ0","text":"coc.nvim は各種設定や、coc.nvimのプラグイン的な拡張やLSP等を含む拡張の設定、LSPの直接登録(vim-lspの設定のようなイメージ)を coc-settings.json という jsonファイルで設定します。jsonではなく、vimrcレベルでも書けるようになってましてそれが coc#config になります。これは起動前でも勿論使えますし、起動後の動作変更(例えばdiagnosticsを有効/無効にトグルするとか)にも使えます。","ts":"1581765014.334200","edited":{"user":"U7TMPGWJ0","ts":"1581899235.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+Ay9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"da703681-7fa5-44ee-814c-9ee3d6c72a29","type":"message","user":"UAZ33BKV2","text":"お、よかった、autocmdで細工しなくてもいいのか","ts":"1581765046.334500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FabaU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd181ed9-4f24-415a-867a-b0b707ad1e86","type":"message","user":"U7TMPGWJ0","text":"coc#config でホバーを一時的にポップアップからプレビューに変えたりとか。もとに戻したりとかもごにょごにょとできますね。","ts":"1581765128.335100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uKzU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"15e0fdc7-d121-4bb6-a1f6-e0023eae19d2","type":"message","user":"U8996GYBF","text":"あ、プレビューあるんだ\n使いたいかも","ts":"1581765145.335300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"73HBm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"632800bd-032f-48a7-b61b-99f6c33aa1c2","type":"message","user":"U8996GYBF","ts":"1581765167.335400","files":[{"id":"FU1UYSY56","created":1581765081,"timestamp":1581765081,"name":"2020-01-08 17-24-58.2020-01-08 17_28_31.gif","title":"2020-01-08 17-24-58.2020-01-08 17_28_31.gif","mimetype":"image/gif","image_exif_rotation":1,"filetype":"gif","pretty_type":"GIF","user":"U8996GYBF","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":898407,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FU1UYSY56/2020-01-08_17-24-58.2020-01-08_17_28_31.gif","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FU1UYSY56/download/2020-01-08_17-24-58.2020-01-08_17_28_31.gif","original_h":419,"original_w":654,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FU1UYSY56-d5a8ddd249/2020-01-08_17-24-58.2020-01-08_17_28_31_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FU1UYSY56-d5a8ddd249/2020-01-08_17-24-58.2020-01-08_17_28_31_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FU1UYSY56-d5a8ddd249/2020-01-08_17-24-58.2020-01-08_17_28_31_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FU1UYSY56-d5a8ddd249/2020-01-08_17-24-58.2020-01-08_17_28_31_360.png","thumb_360_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FU1UYSY56-d5a8ddd249/2020-01-08_17-24-58.2020-01-08_17_28_31_360.gif","thumb_360_w":360,"thumb_360_h":231,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FU1UYSY56-d5a8ddd249/2020-01-08_17-24-58.2020-01-08_17_28_31_480.png","thumb_480_w":480,"thumb_480_h":308,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U8996GYBF/FU1UYSY56/2020-01-08_17-24-58.2020-01-08_17_28_31.gif","permalink_public":"https://slack-files.com/T03C4RC8V-FU1UYSY56-e90f42ed63","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"deanimate_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FU1UYSY56-d5a8ddd249/2020-01-08_17-24-58.2020-01-08_17_28_31_deanimate_gif.png","display_as_bot":false,"has_rich_preview":false,"thumb_480_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FU1UYSY56-d5a8ddd249/2020-01-08_17-24-58.2020-01-08_17_28_31_480.gif","thumb_tiny":"AwAeADChuNG9vWkooAXe3rRvb1pKKAF3t60b29aSigAop5VO27r3NNYAdKAEopKKAFopVKjO4E+mDRlPRvzoA//Z","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"8ebbdd5b-5541-440f-97c7-f5ac8dec354d","type":"message","user":"U8996GYBF","text":"apolloはこんなやつなんですけど、GraphQL始めるときにVSCodeでしか動かないのにイラっとして無理矢理動かしたやつです\n調べた範囲だとどこにも情報落ちてなさそう","ts":"1581765219.336800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6gbxj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d7b3389a-75b4-4a1c-b80f-a49ca54cfa5f","type":"message","user":"U8996GYBF","text":"これがvim-lspだと動いてくれなくてdeopleteから全面的にcocに乗り換えたって経緯が","ts":"1581765264.337400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R+ki"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bca0f270-0708-454b-aac1-d39a5d0e9ebb","type":"message","user":"U7TMPGWJ0","text":"coc のホバーのですが、通常の `K` は float (ポップアップ) のホバーで、 `&lt;Leader&gt;K` はプレビューのホバーが動くようにしてます。CocAction / CocActionSync 自体が vim-lspで言うところの LspHover (LspXXXX) 等になりますね。\n```\" ...snip\n\nnnoremap &lt;buffer&gt; &lt;silent&gt; K :call &lt;SID&gt;show_documentation()&lt;CR&gt;\nnnoremap &lt;buffer&gt; &lt;silent&gt; &lt;Leader&gt;K :call &lt;SID&gt;coc_hover_preview()&lt;CR&gt;\n\n\" ...snip\n\nfunction! s:show_documentation()\n  if (index(['vim','help'], &amp;filetype) &gt;= 0)\n    execute 'h '.expand('&lt;cword&gt;')\n  else\n    \"call CocAction('doHover')\n    call CocActionAsync('doHover')\n  endif\nendfunction\n\nfunction! s:coc_hover_preview()\n  call coc#config('coc.preferences', { 'hoverTarget': \"preview\" })\n  call CocAction('doHover')\n  call coc#config('coc.preferences', { 'hoverTarget': \"float\" })\nendfunction```","ts":"1581765759.338000","edited":{"user":"U7TMPGWJ0","ts":"1581768178.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MHfS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d7667ad4-5682-4ca8-84a3-58e7327a053c","type":"message","user":"UAZ33BKV2","text":"<https://github.com/tsuyoshicho/vim-efm-langserver-settings>\ncocの自動設定を同梱してみた、上手く動くかまったく確認できてないけどw","ts":"1581765762.338100","attachments":[{"fallback":"GitHub: tsuyoshicho/vim-efm-langserver-settings","id":1,"title":"tsuyoshicho/vim-efm-langserver-settings","title_link":"https://github.com/tsuyoshicho/vim-efm-langserver-settings","text":"trial vim lsp client - efm-langserver link and configure settings - tsuyoshicho/vim-efm-langserver-settings","thumb_url":"https://avatars2.githubusercontent.com/u/96727?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/tsuyoshicho/vim-efm-langserver-settings","original_url":"https://github.com/tsuyoshicho/vim-efm-langserver-settings"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zwN5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"69b28e60-c154-419f-960d-545986d3662d","type":"message","user":"UAZ33BKV2","text":"もし試すなら、自前のefmの設定はコメントアウトしてみて試してみていただけると嬉しい","ts":"1581765806.338700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p68P"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28f0d7c6-a479-4a7b-98ed-7af244625d9a","type":"message","user":"UAZ33BKV2","text":"afterじゃなくて、coc.vimロード後に呼ばれることが保障されてるか、ちょっと自信ないが...","ts":"1581765949.339400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ynEl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e1d2fa0-2f67-450c-92ce-10ddd441cf70","type":"message","user":"U8996GYBF","text":"よさそう、これって追加になってくれるのかな・・・？","ts":"1581766007.339900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ocIVu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9da77812-c8e5-4916-8334-d4b8bce3deaf","type":"message","user":"UAZ33BKV2","text":"もし動きがおかしかったら、連絡(直し方含むでも)でもPRでもしていただけるとがんばります :gativim:","ts":"1581766054.340700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sa1A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"05380cc2-2f26-46a6-b187-3e31f6559c94","type":"message","user":"U8996GYBF","text":"プラグインは入れてないんですけど、自前で\n```call coc#config('languageserver', {\n\\ 'graphql': {\n\\   'module': expand('~/repos/github.com/apollographql/apollo-tooling/packages/apollo-language-server/lib/server.js'),\n\\   'args': ['--node-ipc'],\n\\   'filetypes': ['graphql', 'javascript', 'javascriptreact', 'typescript', 'typescriptreact', 'typescript.tsx'],\n\\   'rootPatterns': ['apollo.config.js']\n\\ },\n\\ })\ncall coc#config('languageserver', {\n\\ 'efm': {\n\\   'command': 'efm-langserver',\n\\   'args': [],\n\\   'filetypes': ['go', 'eruby', 'json', 'markdown', 'vim']\n\\ },\n\\ })```\nってやったらefmしか入らないんで元の設定破壊する気がしますねー\n既存のを取ってきてマージ的なのやらないとまずいかもです","ts":"1581766190.341500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x6UFI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"706d2d06-ab0b-4fb5-860e-ee72d309a28f","type":"message","user":"UAZ33BKV2","text":"あー、なるほどマージが必要な感じなんですね...そらあかんw","ts":"1581766221.342000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ktc+a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"709a177b-d822-4be6-8ca4-c41fbfb8a5c0","type":"message","user":"UAZ33BKV2","text":"```g:coc_user_config \t\t\t\t*g:coc_user_config*\n\n\n\t\t\tUser configuration object, define this variable when\n\t\t\tyou can't use |coc#config()|```\nちょっとナゾなhelp...","ts":"1581766291.342400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Yby"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bece2ea1-5c64-4ee5-a57a-d6eeafcf9978","type":"message","user":"U8996GYBF","text":"え、使っちゃダメ？","ts":"1581766534.342900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Kaq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e7ca33e9-b1db-4be7-abb9-d9ccd89cc444","type":"message","user":"U7TMPGWJ0","text":"coc#cofig で追加した内容って dict で確認できたような(うろおぼえな記憶)。そこに追加してくってことなら勿論できたと思いますが。","ts":"1581766565.343500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g+=aa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4f838348-9a1f-4b54-8384-007ced40d773","type":"message","user":"UAZ33BKV2","text":"その方法を現在検索ちう","ts":"1581766579.343700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BR4h"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d85ba61e-f6f6-432f-82e8-e1aefeed4795","type":"message","user":"U7TMPGWJ0","text":"普通にechoすればみれた `echo g:coc_user_config`","ts":"1581766787.344400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iFK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"285ece48-61e4-428b-a4cb-d697510e26c1","type":"message","user":"UAZ33BKV2","text":"問題は、user_configに追記するのか、これでcoc#configするのか...","ts":"1581766817.344900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"20BNw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c47cd5b8-888f-420a-8c1f-0a4e02d233e6","type":"message","user":"UAZ33BKV2","text":"<https://github.com/neoclide/coc.nvim/wiki/Language-servers#lua>\nを見ると、普通にやってもいいんじゃないか疑惑があるのだけど...","ts":"1581766885.345300","attachments":[{"fallback":"GitHub: neoclide/coc.nvim","id":1,"title":"neoclide/coc.nvim","title_link":"https://github.com/neoclide/coc.nvim/wiki/Language-servers#lua","text":"Intellisense engine for vim8 &amp; neovim, full language server protocol support as VSCode - neoclide/coc.nvim","thumb_url":"https://repository-images.githubusercontent.com/131770422/11ead600-81d9-11e9-8028-45f8617ba5bd","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":527,"thumb_height":250,"from_url":"https://github.com/neoclide/coc.nvim/wiki/Language-servers#lua","original_url":"https://github.com/neoclide/coc.nvim/wiki/Language-servers#lua"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D9L"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c3aeca86-9ae5-4dbe-9dcc-add1c5777abb","type":"message","user":"U7TMPGWJ0","text":"coc#config は g:coc_user_config の中身を変えつつ、LS等に状態の変更を反映させるってことをしてるようですね\n```function! coc#config(section, value)\n  let g:coc_user_config[a:section] = a:value\n  call coc#rpc#notify('updateConfig', [a:section, a:value])\nendfunction```","ts":"1581767004.346400","edited":{"user":"U7TMPGWJ0","ts":"1581768079.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Yk5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ab93937-e925-403d-b046-edcf47202ec9","type":"message","user":"UAZ33BKV2","text":"あー、マージしないといかんのはしょうがないのか...","ts":"1581767045.346800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ssH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0784b73d-a292-4fe5-9642-7474ade75ff7","type":"message","user":"UAZ33BKV2","text":"対応...できたと思う","ts":"1581767518.347200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dPrY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9795821e-5c23-4b1c-b2fa-a1299460b196","type":"message","user":"U7TMPGWJ0","text":"<@U8996GYBF> さん。coc.nvim で jsonファイルで LS を直接登録する languageserver の設定のパスの件ですが。ドキュメント化はされてない？のかもですが、 `\"shell\": true` っていれると ~ で展開してくれるかも (試してない)","ts":"1581767592.347700","thread_ts":"1581764781.333300","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FIgI"}],"root":{"client_msg_id":"5f7135ef-c283-4f55-9357-30517c911c06","type":"message","user":"U8996GYBF","text":"これmoduleに絶対パスを埋め込む必要があって、jsonだと関数で展開みたいなことができないんでVim script側でexpandかけてるんですよね・・・","ts":"1581764781.333300","thread_ts":"1581764781.333300","reply_count":8,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RxjO"}]}},{"client_msg_id":"c3891eda-547b-4988-a37a-370d70f9aaa2","type":"message","user":"U8996GYBF","text":"えっ、マジですか\nあとでやってみます","ts":"1581767616.348000","thread_ts":"1581764781.333300","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gHqX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3b3c7595-9da6-4783-a947-bbd93c9ba0bf","type":"message","user":"U7TMPGWJ0","text":"僕、luaのLSだけlanguageserverで直接設定してるものがあるのですがそれで試したらいけました\n```  \"languageserver\": {\n    \"sumneko_luals\": {\n      \"command\": \"~/.local/src/lua-language-server/bin/macOS/lua-language-server\",\n      \"args\": [\"-E\", \"~/.local/src/lua-language-server/main.lua\"],\n      \"filetypes\": [\"lua\"],\n      \"shell\": true\n    }\n  }```","ts":"1581767773.348200","thread_ts":"1581764781.333300","edited":{"user":"U7TMPGWJ0","ts":"1581767922.000000"},"parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J9T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd570904-0007-4bf2-8a8d-d27c9f4af7b8","type":"message","user":"U8996GYBF","text":"！","ts":"1581767793.348400","thread_ts":"1581764781.333300","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C/c"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d076ddc5-2cd0-4dd8-9a39-a3bbd26e9633","type":"message","user":"U8996GYBF","text":"便利","ts":"1581767797.348600","thread_ts":"1581764781.333300","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Chzt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f0819267-bf8d-4af2-995e-bafac824676d","type":"message","user":"U7TMPGWJ0","text":"ちなみにこのPRで最終的にそれをつけたってことを発見しました <https://github.com/neoclide/coc.nvim/pull/678>","ts":"1581768014.348900","thread_ts":"1581764781.333300","attachments":[{"fallback":"GitHub: expand tilde in languageserver args #650 by panders23 · Pull Request #678 · neoclide/coc.nvim","id":1,"title":"expand tilde in languageserver args #650 by panders23 · Pull Request #678 · neoclide/coc.nvim","title_link":"https://github.com/neoclide/coc.nvim/pull/678","text":"Continuation of #650 Also expand ~ for language server language-server args: for example: &amp;quot;languageserver&amp;quot;: { &amp;quot;phppsalmls&amp;quot;: { &amp;quot;command&amp;quot;: &amp;quot;php&amp;...","thumb_url":"https://repository-images.githubusercontent.com/131770422/11ead600-81d9-11e9-8028-45f8617ba5bd","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":527,"thumb_height":250,"from_url":"https://github.com/neoclide/coc.nvim/pull/678","original_url":"https://github.com/neoclide/coc.nvim/pull/678"}],"edited":{"user":"U7TMPGWJ0","ts":"1581768270.000000"},"parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xO7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"09fe1780-5fdf-484a-9628-d311c5666652","type":"message","user":"U7TMPGWJ0","text":"あとは coc-settings.json で補完で出てきたので。動作確認済みです。","ts":"1581768041.349200","thread_ts":"1581764781.333300","parent_user_id":"U8996GYBF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4rM8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8edd7e2d-4f0d-4179-b51c-b8112ed478fa","type":"message","user":"U03C6TEAZ","text":"sqls、code action で SQL 実行するの欲しいな。","ts":"1581770560.350000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EG2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ea30d560-ce19-4352-a28c-6ce0f6ef1947","type":"message","user":"UAZ33BKV2","text":"そしてテーブル全消しやったりしてw","ts":"1581770740.351600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I+A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aa375929-fb1d-4c13-ae16-995e0fcdf251","type":"message","user":"U03C6TEAZ","text":"まぁ SQL の IDE も同じ話なのでw","ts":"1581770775.352200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+P4JO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9ca73dd3-0386-43eb-9717-4f1b1dc338ec","type":"message","user":"U03C6TEAZ","text":"これが出来れば今苦労してる quickrun のプロファイル切り替えが楽になったりするかなと。","ts":"1581770830.353300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Omt4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a947ee91-9e9d-4f39-9b70-2d83ace2aeab","type":"message","user":"U03C6TEAZ","text":"1つの接続先の為に sqls と quickrun の両方を管理するのがめんどい。","ts":"1581770851.353700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KA1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac53f063-7c6d-4973-a9cb-fe953902780b","type":"message","user":"U03C6TEAZ","text":"あとプロファイルはプロジェクトディレクトリ直下に `.vim-lsp-settings/config.json` 置いて `lsp#register_server` に渡すパラメータの上書きする部分だけ拾う仕組みが良さそうな気がしてる。","ts":"1581770885.354100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OLdt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4f4811ea-2683-48cb-b433-18c0911796ce","type":"message","user":"U03C6TEAZ","text":"あと sqls は接続しっぱなので begin trans みたなトランザクションも扱えるはず。","ts":"1581770952.354700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Afh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eaad1f20-a4c3-4bec-a240-26b395607622","type":"message","user":"UAZ33BKV2","text":"おー、たしかに","ts":"1581771050.355000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W4E/7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f2f4438d-ad6d-453d-81d9-4957b2d349c8","type":"message","user":"U03C6TEAZ","text":"で `:LspSettings` かなんかでその JSON が編集できれば尚よさげ。","ts":"1581771107.355600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z3tr3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78219f3f-9dce-48ec-b9a3-a1f7c242ee4a","type":"message","user":"U03C6TEAZ","text":"`:CocConfig` のパクリぽくもあるけど。","ts":"1581771118.355900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/fEdN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fbb2631b-91d3-43a5-b213-39bcb26e6f51","type":"message","user":"U7TMPGWJ0","text":"coc だと `:CocLocalConfig` になります。 `:CocConfig` はグローバルな 設定json をeditする用ですね。","ts":"1581771449.356800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QfG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0006ffaf-196a-43f5-a1a1-fa86ef793e3d","type":"message","user":"U7TMPGWJ0","text":"coc も結局 VSCode 様のパクリといえばそうですしw","ts":"1581771491.357600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bysiY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e5767c8f-31f1-48fe-8147-33c745ce38d1","type":"message","user":"U03C6TEAZ","text":"そうなんです。いま Visual Studio Code 実践ガイドを読んでるんですが、ローカルプロファイルとグローバルプロファイルを分けないとダメだなぁと思っていたのです。","ts":"1581771548.358600","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":2,"users":["UGP5AJKU4","U7TMPGWJ0"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OSuK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"05c5fd41-a4cb-412a-aae1-22e4f6fbdec3","type":"message","user":"U7TMPGWJ0","text":"普通にIDEでも .idea とかおきますし、vim-lspでもプロジェクトレベルでの設定変更が容易にできると良いと思います。","ts":"1581771613.359700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8ih"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e1b1d48-a227-4112-a9ce-40c5ca33b6c5","type":"message","user":"U7TMPGWJ0","text":"sqls 自体がということではないんですが sqls の性質上、接続情報をLSP関連の設定で持たせると vim-lsp のログにも重要情報(パスワード等)とかを入れたまま sqls に issue報告とかで貼り付けてきそうな人もいそうな...そんな想像をしました。もっとも、開発用のものだろうと思いますが、そうじゃない人とかも...。(issueテンプレートとかちゃんと用意しておくほうがよさそう)","ts":"1581771888.360200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vU3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d7902b2-e038-436a-86c7-f62f41437a8c","type":"message","user":"U03C6TEAZ","text":"あ、これ閉じちゃいますか？ <https://github.com/mattn/efm-langserver/pull/31>","ts":"1581772229.360500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/R7r"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"321F5BBB-5B52-4C1F-9534-7C643322BEDE","type":"message","user":"U7TMPGWJ0","text":"はい。phpstanだけ追加したかったので。ついでにgolangci-lintもと思ったのですが、正直、個人的にそれが必要な場合はエディタのlintじゃなくてcliで直接叩く派なので実際にエディタのlintで常用してる方からのPRのほうがいいだろうなと思いました。","ts":"1581772460.366100","edited":{"user":"U7TMPGWJ0","ts":"1581772535.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wofA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0bb68da7-d135-4f34-9d91-969f969c324b","type":"message","user":"U03C6TEAZ","text":"なるほど。","ts":"1581772664.366400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hne"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c2b408dd-8af3-4d86-9f7a-3c0bee9ebbbd","type":"message","user":"U7TMPGWJ0","text":"Visual Studio Code実践ガイド ってまだ発売されてないんですねー。mattnさん凄い <https://gihyo.jp/book/2020/978-4-297-11201-1>","ts":"1581773273.368100","attachments":[{"fallback":"技術評論社: Visual Studio Code実践ガイド —最新コードエディタを使い倒すテクニック","id":1,"title":"Visual Studio Code実践ガイド —最新コードエディタを使い倒すテクニック","title_link":"https://gihyo.jp/book/2020/978-4-297-11201-1","text":"近年注目を集めるエディタ「Visual Studio Code」について徹底的に解説。基本はもちろん，意外と知られていないさまざまな機能，TypeScript，Go，Pythonでの開発を通した実践例，そして拡張機能開発までを扱う決定版です！","image_url":"https://gihyo.jp/assets/images/cover/2020/thumb/TH300_9784297112011.jpg","blocks":null,"service_name":"技術評論社","from_url":"https://gihyo.jp/book/2020/978-4-297-11201-1","original_url":"https://gihyo.jp/book/2020/978-4-297-11201-1"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8Kncv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1f2283bc-babc-4666-a117-02cda0b2aa89","type":"message","user":"U03C6TEAZ","text":"筆者さん vim (vim-lsp-settings) ユーザとの事で献本頂いたのです。","ts":"1581773384.369200","team":"T03C4RC8V","reactions":[{"name":"sasumatsu","count":4,"users":["U7TMPGWJ0","UAZ33BKV2","UEACRCY0Z","UN1NW3ZCP"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VC9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"859EF44D-ECD2-41CF-86EA-7E0AD0D4CF52","type":"message","user":"U80CX6XDZ","text":"sqlsのSQL実行とexplain実行は私も欲しいと思っていました。","ts":"1581773423.370800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SL+X"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"937f59b6-6876-421f-8901-c512d4816525","type":"message","user":"U03C6TEAZ","text":"ちなみに本を技術さんの編集の方経由で送って頂いたんですが、その方も vim ユーザとの事でお手紙に書いてありました。","ts":"1581773456.371500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pDrMY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66F8A8E4-51B6-49A5-8C8F-6D4E8AF6EE02","type":"message","user":"U80CX6XDZ","text":"sqlsのロードマップちゃんと書いといた方が良さそうですね。今日明日でまとめておきます。","ts":"1581773615.372900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"18Q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e6414331-1bb1-4dad-bce0-11fae4b5f386","type":"message","user":"U7TMPGWJ0","text":"MSさん公式のLSPのでLSのリストに sqls が最終的に載るってことですよねー。 lighttiger2505 さん凄い <https://microsoft.github.io/language-server-protocol/implementors/servers/>","ts":"1581774030.373300","attachments":[{"fallback":"Language Servers","id":1,"title":"Language Servers","title_link":"https://microsoft.github.io/language-server-protocol/implementors/servers/","text":"If you are missing a server please create a pull request in GitHub against this markdown document Language Maintainer Repository Im...","blocks":null,"service_name":"microsoft.github.io","service_icon":"https://microsoft.github.io/language-server-protocol/img/favicon.png","from_url":"https://microsoft.github.io/language-server-protocol/implementors/servers/","original_url":"https://microsoft.github.io/language-server-protocol/implementors/servers/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3u+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"00dad56d-f7fd-4dcd-8c8c-21a998b32727","type":"message","user":"U7TMPGWJ0","text":"vim-language-server もあるので VSCode の拡張がなくても載せられるのか...","ts":"1581774060.373600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7xgyr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"14d4245e-0649-4170-99ec-c6b21854f376","type":"message","user":"U03C6TEAZ","text":"僕も efm 載せて貰おうかな","ts":"1581774092.373900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V5gpJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2a8fa4ed-fedd-4b28-9c42-35e8ae2bd991","type":"message","user":"U7TMPGWJ0","text":"PR出せばってやつなんですねかねー","ts":"1581774137.374700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vBa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ece7f72f-0972-4aea-8dd7-0502ba16dc36","type":"message","user":"U03C6TEAZ","text":"<https://github.com/microsoft/language-server-protocol/pull/920>","ts":"1581774303.374900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aQD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d70a2b7-7b08-4489-9815-19184f5f17cd","type":"message","user":"U03C6TEAZ","text":"一番下入ったった。","ts":"1581774332.375200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DQzj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"37d0da52-c82a-4eb6-a253-4cebffcffc90","type":"message","user":"U7TMPGWJ0","text":"もしかしたら Implementation Language は Any ではなく Go  かもしれませんね","ts":"1581774477.375800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fx/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0D0BF840-5DED-43FA-8ABC-67CFECFB7F9D","type":"message","user":"U80CX6XDZ","text":"自分で作っててわかりましたLS作りはまず根性。","ts":"1581774593.376700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MJQa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74f31ddc-a6ed-4ea4-a159-0ad3e3c433cc","type":"message","user":"U03C6TEAZ","text":"あー","ts":"1581774599.377000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"X5/sE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"91CBEA5A-4039-439D-BACC-8E668D10FDF4","type":"message","user":"U80CX6XDZ","text":"根性さえあればつくれるはず。多分。。。","ts":"1581774623.377700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PK=i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9772484a-99bc-4111-a720-6ba8fe236d13","type":"message","user":"U03C6TEAZ","text":"なおしed","ts":"1581774673.377900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"32sB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bdaa5028-6cda-4bad-ac84-a000537e637c","type":"message","user":"U03C6TEAZ","text":"project related な `.vim-lsp-settings/config.json` を読むようにしました。","ts":"1581775999.378700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WF6e9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2982571-b15c-46f5-8199-05b69769bd28","type":"message","user":"U03C6TEAZ","text":"<https://github.com/mattn/vim-lsp-settings/pull/161>","ts":"1581775999.378800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dGLf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7be11bf0-c777-45e8-83ac-fff11212f514","type":"message","user":"U03C6TEAZ","text":"しまったな。 settings.json にすればよかった。","ts":"1581776014.379100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sh8wo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5cf16728-5a05-48d1-8c0b-d4393b4264a8","type":"message","user":"U03C6TEAZ","text":"した。","ts":"1581776086.379300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZaY0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0b943173-a3a8-44a2-9b18-d07e233aa14a","type":"message","user":"U03C6TEAZ","text":".git のある場所に `.vim-lsp-settings/settings.json` 置いて","ts":"1581776180.379800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Mv3=1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dc1dc48f-66b3-460e-b40b-5ac5d9c15caf","type":"message","user":"U03C6TEAZ","text":"```{\n  \"efm-langserver\": {\n    \"disabled\": false\n  }\n}```\nとか書いておくとそこだけ efm が起動するとか出来ます。","ts":"1581776198.380300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3HlE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7eb92439-1439-4a03-9be4-bf792a971bfe","type":"message","user":"U03C71D7H","text":"そしてそのファイルをコミットして… vim-lsp 使ってない人からなにこれって言われる","ts":"1581776232.380700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ucgwC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"B7063C0D-2725-46F9-94EF-F0240299EA59","type":"message","user":"U80CX6XDZ","text":"最近sqlsのウォッチされてる感がwww急増の汚いコードだから恥ずかしい。","ts":"1581692450.242200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ea38o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b7b9dff4-34b7-4b64-b146-c9d93a3a596e","type":"message","user":"U03C6TEAZ","text":":eyes:","ts":"1581693541.242900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FCtg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9f19a749-74d7-4203-8e46-253c20d30aed","type":"message","user":"U03C6TEAZ","text":"これやっとくと sqlite3 も対応しやすい。","ts":"1581693571.243500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GdoUS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"37ad9495-2381-43cc-bafa-1d221a68ddd1","type":"message","user":"U80CX6XDZ","text":"今頂いたPR見てます","ts":"1581693789.243700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DjI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"da4c9d57-65d1-45ca-9575-e1e77c59affe","type":"message","user":"U03C6TEAZ","text":"1か所 WHEN が小文字の個所を見つけました。","ts":"1581694293.244000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oqdn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5af1945c-cb07-4442-895a-3ca0910541af","type":"message","user":"U03C6TEAZ","text":"追い push","ts":"1581694343.244300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Tiy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b8574e5b-c13f-4062-a8f8-d53b4ae884fc","type":"message","user":"U80CX6XDZ","text":"<@U03C6TEAZ> すみません。InitializeOptionsのvim-lspでの渡し方がわからず。以下であってます？\n\n```        autocmd User lsp_setup call lsp#register_server({\n        \\ 'name': 'sqls',\n        \\ 'cmd': {server_info-&gt;['sqls', '-log', 'sqls.log']},\n        \\ 'whitelist': ['sql'],\n        \\ 'workspace_config': {'sql': {\n        \\   'driver': 'mysql',\n        \\   'data_source_name': 'root:root@tcp(127.0.0.1:13306)/world',\n        \\ }},\n        \\ })```","ts":"1581694686.245200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"f0Jg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"13022cf1-e599-441a-8bf9-6d95ef2415ea","type":"message","user":"U03C6TEAZ","text":"'sql' がいらない感じです。","ts":"1581694717.245500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LI+3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e9f5d3c-96c0-43c0-9e34-9cef19765c7e","type":"message","user":"U03C6TEAZ","text":"workspace_config 直下に driver/data_source_name","ts":"1581694737.246000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A1mum"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dea77570-3078-475b-a99b-89ca208ca551","type":"message","user":"U80CX6XDZ","text":"いけました。ありがとうございます。","ts":"1581694785.246400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=5y3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a38195b8-d193-4be8-89b2-14fd6f9a6dc4","type":"message","user":"U03C6TEAZ","text":"マージしたった。 <https://github.com/prabirshrestha/vim-lsp/pull/704>","ts":"1581696035.246600","attachments":[{"fallback":"GitHub: Remove typed_pattern by mattn · Pull Request #704 · prabirshrestha/vim-lsp","id":1,"title":"Remove typed_pattern by mattn · Pull Request #704 · prabirshrestha/vim-lsp","title_link":"https://github.com/prabirshrestha/vim-lsp/pull/704","text":"See #701 I realized typed_pattern is not good to remove prefix of items in completion. To fix correctly, we should implement same as asyncomplete. If we set b:asyncomplete_refresh_pattern correctly...","thumb_url":"https://avatars1.githubusercontent.com/u/287744?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/prabirshrestha/vim-lsp/pull/704","original_url":"https://github.com/prabirshrestha/vim-lsp/pull/704"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=dFB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"615b2370-6bf8-44cb-ac8a-b17bd3bd8d45","type":"message","user":"U8R597E9H","text":"やってしまったほうがいいんだろうなと思いつつ、すごい二の足踏んでました、このマインドを身に着けていきたい…","ts":"1581696111.247800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"he5eu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a75c5555-37ce-401e-a7ea-035e75900cbd","type":"message","user":"U03C6TEAZ","text":"prabir と thomas(思い出せない) さん、いまあまり活発じゃないのでこちらから動かないと停滞しそう。","ts":"1581696190.248500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LhUv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2dec8359-c5cc-476f-81e8-dfbe6729f951","type":"message","user":"U03C6TEAZ","text":"補完直ったので最近だと一番マシな vim-lsp の補完になったはず。","ts":"1581696365.249900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"b3f4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"90050617-b398-4fb8-8a4a-11436dbbbf92","type":"message","user":"U78A6ESHM","text":"さす！","ts":"1581696384.250100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5yIk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"85ef6bac-fe45-491c-b09f-2e4302b136da","type":"message","user":"U8R597E9H","text":":muscle: を意識していこう","ts":"1581696398.250500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E+xal"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c3459e2-e2cf-4dc0-b8f7-beefca7d5d38","type":"message","user":"U03C6TEAZ","text":"refresh_pattern を設定しないと効果がでないので vim-lsp-settings 必須になります。","ts":"1581696426.251100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dtzoQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b643c2f2-a53d-4f41-9443-45077047f51f","type":"message","user":"U03C6TEAZ","text":"(自分で設定できなくないけど)","ts":"1581696435.251500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pYpm7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"89c727b7-b9e8-4075-aff0-3753fc9bbc48","type":"message","user":"U8R597E9H","text":"正直、自力設定勢としても、iskeyword 汚染しなくても startcol まともになるのは相当でかいです。","ts":"1581696486.252700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ESu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0c6f6c70-36e0-4e04-b6b0-47aa6e2e1d7f","type":"message","user":"U03C6TEAZ","text":"僕としては何よりこれが直ったのがうれしい。","ts":"1581696557.252800","files":[{"id":"FU0G319A8","created":1581696530,"timestamp":1581696530,"name":"screenshot.gif","title":"screenshot.gif","mimetype":"image/gif","image_exif_rotation":1,"filetype":"gif","pretty_type":"GIF","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":81397,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FU0G319A8/screenshot.gif","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FU0G319A8/download/screenshot.gif","original_h":515,"original_w":794,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FU0G319A8-2c31b4a70d/screenshot_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FU0G319A8-2c31b4a70d/screenshot_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FU0G319A8-2c31b4a70d/screenshot_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FU0G319A8-2c31b4a70d/screenshot_360.png","thumb_360_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FU0G319A8-2c31b4a70d/screenshot_360.gif","thumb_360_w":360,"thumb_360_h":234,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FU0G319A8-2c31b4a70d/screenshot_480.png","thumb_480_w":480,"thumb_480_h":311,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FU0G319A8-2c31b4a70d/screenshot_720.png","thumb_720_w":720,"thumb_720_h":467,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FU0G319A8/screenshot.gif","permalink_public":"https://slack-files.com/T03C4RC8V-FU0G319A8-2e0e5c93d8","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"deanimate_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FU0G319A8-2c31b4a70d/screenshot_deanimate_gif.png","display_as_bot":false,"has_rich_preview":false,"thumb_480_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FU0G319A8-2c31b4a70d/screenshot_480.gif","thumb_tiny":"AwAfADClk4pD9aMnGKSgAzRmiigAzRmiigAop5EeeHY/8B/+vTcD1P5UAJRS4HqfypQExyxz9KBXG0U/Eefvt/3z/wDXp22D/nq//fH/ANegZ//Z","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MsKE"}]},{"client_msg_id":"2a8b6b45-d942-484b-9a68-8bb2056f0f76","type":"message","user":"U8R597E9H","text":" `//div` 問題ですね…","ts":"1581696615.253300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aKTt9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3beb8ca2-39b0-4dad-b910-3ad659d17bb6","type":"message","user":"U03C6TEAZ","text":"ちなみに refresh_pattern はここで管理してますので、もし「この言語のこの補完がおかしい」みたいなのがあれば refresh_pattern を直す pr を下さい。 <https://github.com/mattn/vim-lsp-settings/blob/16d44096c416295c4762aefbc139b139a2aa8caf/settings.json#L68>","ts":"1581696786.254800","attachments":[{"fallback":"GitHub: mattn/vim-lsp-settings","id":1,"title":"mattn/vim-lsp-settings","title_link":"https://github.com/mattn/vim-lsp-settings/blob/16d44096c416295c4762aefbc139b139a2aa8caf/settings.json#L68","text":"Auto configurations for Language Server for vim-lsp - mattn/vim-lsp-settings","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/vim-lsp-settings/blob/16d44096c416295c4762aefbc139b139a2aa8caf/settings.json#L68","original_url":"https://github.com/mattn/vim-lsp-settings/blob/16d44096c416295c4762aefbc139b139a2aa8caf/settings.json#L68"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ivSC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"94c66e1b-d277-4bbc-8b25-3a4e8ee3ca78","type":"message","user":"U80CX6XDZ","text":"<@U03C6TEAZ> sqlsマージしました。すごい勉強になります。ありがとうございました。","ts":"1581696801.255200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iHCQs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"55c1bee2-b8e6-4c45-a7f5-74b40bc0a7ab","type":"message","user":"U03C6TEAZ","text":"いえ！助かります！","ts":"1581696813.255400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KgD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0bac5688-7a89-4c28-97c1-7aba603a8d73","type":"message","user":"U03C6TEAZ","text":"ちなみに SQLite3 は cgo なのですが、あまり気が進まなかったりますか？","ts":"1581696838.255900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"91nX="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"44c146ad-1de6-411a-a41b-1d96bd55f914","type":"message","user":"U03C6TEAZ","text":"であれば PR やめときますが。","ts":"1581696850.256100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9VA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"acdc502e-28cd-4b6a-95f8-765e15706ce2","type":"message","user":"U80CX6XDZ","text":"正直cgoなのでどうなるのだろうというのがわかっていないので、回答できないところです。","ts":"1581697017.256800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J54"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e1eca5d7-11db-4212-b662-d90db6a17f91","type":"message","user":"U80CX6XDZ","text":"SQLite3は対応したいと思ってはいます。","ts":"1581697047.257300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z2w"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c95636c-c7ae-4811-9ae0-cde78a5645d4","type":"message","user":"U03C6TEAZ","text":"cgo だと gcc が必要になります。go-sqlite3 はソースの中にC言語のソースも含んでいるので別のライブラリが必要になったりはせず、ただ `go build` の時に初回だけC言語のコンパイルが実行されます。","ts":"1581697108.258400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lllUI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d6bbb14-93f8-4968-805a-6359b2b52d8d","type":"message","user":"U03C6TEAZ","text":"今後、GitHub Actions で goreleaser 使ってバイナリを配布する際、actions の yaml で gcc を入れておく必要があるかもしれません。","ts":"1581697169.259500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XuOg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"200b6e58-3580-4b08-a9bd-8d11a5c1c512","type":"message","user":"U80CX6XDZ","text":"直接Cを触るというところがなければ可能なのかと思います。","ts":"1581697187.259800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TRsOa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4080c015-6bcb-42d7-8c86-57ba98eabb87","type":"message","user":"U03C6TEAZ","text":"最悪、build constraints という\n```// +build hogehoge```\nみたいなのを使って `go build -tags hogehoge` しないとビルド出来ないようにも出来ます。","ts":"1581697235.260600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2vo=z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"971F7355-CDD2-4BA4-B0BC-5F8885346B67","type":"message","user":"U80CX6XDZ","text":"多分大丈夫です！","ts":"1581697555.261000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5fWVk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"365096a2-559a-481e-a7be-5ec76eb2ce2a","type":"message","user":"U7TMPGWJ0","text":"vim-lsp の refresh_pattern ですが。 vim-lsp-settings を使わない場合は vim-lsp の lsp#register_server に refresh_pattern を追加することと、 asyncomplete 側にも b:asyncomplete_refresh_pattern で同じパターンを設定する(ファイルタイプ別で)ってことですね。","ts":"1581705448.261200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wCY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"409c3b1e-e45d-42e0-8425-df945137987e","type":"message","user":"U7TMPGWJ0","text":"php でも iskeyword で `$` の設定ナシでも動作したことは確認できました。","ts":"1581705591.261600","edited":{"user":"U7TMPGWJ0","ts":"1581705599.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Nzk8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28f1045c-4fff-479f-95d9-dd5c99750927","type":"message","user":"U7TMPGWJ0","text":"`sqls` の workspace_config の設定の構造ですが他のLSのものと重複しないように `sqls` などを頭に付けたほうがが良いのではないかなと思いました。","ts":"1581707794.262100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5gh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e8c00e7e-74bf-4670-a994-6ee7d9b2cdc9","type":"message","user":"U7TMPGWJ0","text":"例えば VSCode の settings.json や coc.nvim の coc-settings.json はフラットなjson構成です。 MSの pyls だと `python.` から始まり、 いつものplys (palantir/python-language-server)  は `pyls.` から始まります。 vscode-go は `go.` から始まるし、 php の intelephense は `intelephense.` から始まります。","ts":"1581707823.262300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AT1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ad426abf-40b4-4653-bcdc-785d9ad673bf","type":"message","user":"U7TMPGWJ0","text":"solargraph (vscode-solargraph) は `solargraph.` から始まるし、vetur (vue-language-server ) は `vetur.` から始まります。","ts":"1581708229.262600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pJueE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dbb616e0-f32a-480e-a9ec-5aa294a18e7a","type":"message","user":"U03C6TEAZ","text":"workspace_config になった際はその方がいいですね。現状は initialization_options なのでこれでいいかと。","ts":"1581726414.264800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"z91x"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"661a76ce-2425-481f-9418-df3ed65e18e8","type":"message","user":"U7TMPGWJ0","text":"sqls の中身みてなかったです。。なるほど。\n```\t\tparams.InitializationOptions.Driver,\n\t\tparams.InitializationOptions.DataSourceName,```","ts":"1581726605.265700","edited":{"user":"U7TMPGWJ0","ts":"1581726650.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pFz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2709c25d-e915-4afa-8d5d-840f463584a0","type":"message","user":"U03C6TEAZ","text":"workspace_config に移行する際は前後比較した方がいいかもですね。まれに設定何も変えてないのに workspace/didChangeConfiguration 送ってくるクライアントもあるので。","ts":"1581727218.266800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TGA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ca70b4fa-3e6e-4f2a-8432-3806a25a848c","type":"message","user":"U03C6TEAZ","text":"sqlite3 動いたので PR <https://github.com/lighttiger2505/sqls/pull/3>","ts":"1581731329.267100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Uz7pU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3A1B9A29-09B0-4EA1-8C8A-22AEEE44281E","type":"message","user":"UFYACJ537","text":"spannerもmemefishあるからいけそう","ts":"1581731570.267800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E=a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6442dad8-cecc-4071-9f60-36d9acdbf027","type":"message","user":"U03C6TEAZ","text":"database/sql から使えるんでしたっけ","ts":"1581731795.268100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Uj9="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6e6f4ad1-399e-40d1-ae2a-43d426663647","type":"message","user":"U03C6TEAZ","text":"まぁ sqls の database.Database の形式になってればいいだけだし database/sql 必須ではないか。","ts":"1581731915.268600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ciN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5edc3a49-bbdf-45d1-9d51-0238988e1782","type":"message","user":"U03C6TEAZ","text":"あとは sqls が太っていくかどうか次第w","ts":"1581731960.268900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3jwJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4bf74477-6813-45df-a977-afe3fa5896e1","type":"message","user":"U03C6TEAZ","text":"sqlite3 込みで現在 19MB","ts":"1581731968.269200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uvcI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76CA0870-848A-4FD5-964B-4190D05531AA","type":"message","user":"U80CX6XDZ","text":"DBの方言や独自の記法、Functionなどにどこまで対応するのかというところですね。今のところサポートがselectだけだから簡単そうに見えますが、ほかの構文を追加したら相当辛くなりそう。","ts":"1581732966.273600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GEUuK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6A8E06C9-33C8-45BB-96E0-E6ACA5ABD4C5","type":"message","user":"U80CX6XDZ","text":"しばらくはこれ以上対応DBを増やさずに、対応構文や正確な補完を目指すことをしたいです。","ts":"1581733055.275600","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":1,"users":["UFYACJ537"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vd9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ff2eda26-2c8e-436c-a6dd-9a91c2bb2383","type":"message","user":"U03C6TEAZ","text":"はい。","ts":"1581733064.275800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ypO8z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4ccd5d51-bc7f-4374-b1d6-ba60e64194fe","type":"message","user":"U03C6TEAZ","text":"特に postgresql とか構文が特殊ですしね。","ts":"1581733088.276300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ECCN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1d954606-3bb8-4999-a969-3fcb1667f342","type":"message","user":"U03C6TEAZ","text":"`SELECT now()::date` とか。","ts":"1581733174.276500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C/P"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"F0EE86CF-59DE-4E5E-8DF0-D7080C645066","type":"message","user":"U80CX6XDZ","text":"多分どこかのタイミングで補完処理系自体を分けないとダメだろうなと思ってますね。下手に共通化するとスパゲティになりそうです。","ts":"1581733341.278600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oldj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"37762c6b-f207-473d-9941-11b2b5b579f9","type":"message","user":"U03C6TEAZ","text":"いま仮に placeholder の途中コードを入れてますが(実装はなし)、それも検討が必要ですね。","ts":"1581733431.279200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wty5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aac4c75b-0bea-484f-be55-d95b451b1b7e","type":"message","user":"U03C6TEAZ","text":"mysql は `\\$[a-zA-Z0-9]+` postgresql は `\\$[1-9]+` sqlite3 は両方プラス `?` だったかな。","ts":"1581733570.280700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3ri"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UBNGE5D1A","text":"<@UBNGE5D1A> has joined the channel","ts":"1581733855.281400","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"f181205c-7a4f-4b41-9fea-875f18c3dc4c","type":"message","user":"U06BRP8VD","text":"ORM とかだとだいたい dialect ってレイヤが導入されてますよね。","ts":"1581733856.281600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/GF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"48806e26-8aa7-4faf-85a0-fc578d6ef129","type":"message","user":"U03C6TEAZ","text":"はい。現状も入ってますが driver として入れるのと parser として入れるのだと、parser として dialect で共通化するのはなかなか難しいですねー。","ts":"1581733964.282900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Rlt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fc74490d-d732-4ed2-8ebd-bee5bb46b584","type":"message","user":"UGXMRNBUM","text":"お、vim-lspまた妙なことになっている","ts":"1581734362.283700","thread_ts":"1581734362.283700","reply_count":32,"replies":[{"user":"UGXMRNBUM","ts":"1581734406.283800"},{"user":"UGXMRNBUM","ts":"1581734423.284000"},{"user":"UGXMRNBUM","ts":"1581734423.284200"},{"user":"UGXMRNBUM","ts":"1581734531.284500"},{"user":"UGXMRNBUM","ts":"1581734867.284800"},{"user":"UGXMRNBUM","ts":"1581734934.285000"},{"user":"UGXMRNBUM","ts":"1581735004.285200"},{"user":"UGXMRNBUM","ts":"1581735025.285400"},{"user":"UGXMRNBUM","ts":"1581735067.285600"},{"user":"UGXMRNBUM","ts":"1581735176.285800"},{"user":"UGXMRNBUM","ts":"1581735290.286000"},{"user":"UGXMRNBUM","ts":"1581735299.286200"},{"user":"UGXMRNBUM","ts":"1581735605.286400"},{"user":"UGXMRNBUM","ts":"1581735639.286600"},{"user":"UGXMRNBUM","ts":"1581735725.286800"},{"user":"UGXMRNBUM","ts":"1581735837.287000"},{"user":"UGXMRNBUM","ts":"1581735915.287200"},{"user":"U03C6TEAZ","ts":"1581736070.287400"},{"user":"UGXMRNBUM","ts":"1581736154.287600"},{"user":"UGXMRNBUM","ts":"1581736227.287800"},{"user":"UGXMRNBUM","ts":"1581736406.288000"},{"user":"U03C6TEAZ","ts":"1581736428.288200"},{"user":"U03C6TEAZ","ts":"1581736499.288400"},{"user":"UGXMRNBUM","ts":"1581736605.288600"},{"user":"UGXMRNBUM","ts":"1581736687.288800"},{"user":"UGXMRNBUM","ts":"1581736761.289100"},{"user":"UGXMRNBUM","ts":"1581736839.289300"},{"user":"U03C6TEAZ","ts":"1581736879.289500"},{"user":"U03C6TEAZ","ts":"1581736983.289700"},{"user":"UGXMRNBUM","ts":"1581737036.289900"},{"user":"UGXMRNBUM","ts":"1581737049.290100"},{"user":"UGXMRNBUM","ts":"1581737218.290600"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iHF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9365c022-e1f5-4bec-8c40-1b7b689073b5","type":"message","user":"UGXMRNBUM","text":"起動時メッセージ\n```function lsp#enable[19]..&lt;SNR&gt;35_register_events[18]..&lt;SNR&gt;35_on_text_document_did_open[6]..&lt;SNR&gt;35_ensure_flush[1]..lsp#utils#step#start[1]..&lt;SNR&gt;95_next[9]..&lt;lambda&gt;6[1]..&lt;SNR&gt;35_ensure_start[47]..&lt;SNR&gt;95_callback[1]..&lt;SNR&gt;95_next[9]..&lt;lambda&gt;7[1]..&lt;SNR&gt;35_ensure_init[57]..&lt;SNR&gt;35_send_request[7]..lsp#client#send_request[1]..&lt;SNR&gt;96_lsp_send[36]..async#job#send[1]..&lt;SNR&gt;97_job_send の処理中にエラーが検出されました:\n行    6:\nE631: ch_sendraw(): 書き込みに失敗しました```","ts":"1581734406.283800","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s34r"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7b768521-4172-45cf-aa93-94fbbb77ea4e","type":"message","user":"UGXMRNBUM","text":"`:version`\n\n","ts":"1581734423.284000","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Pxq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7b768521-4172-45cf-aa93-94fbbb77ea4e","type":"message","user":"UGXMRNBUM","text":"```VIM - Vi IMproved 8.2 (2019 Dec 12, compiled Feb 12 2020 03:12:45)\n適用済パッチ: 1-246\nCompiled by Arch Linux AUR\nHuge 版 with GTK2 GUI.  機能の一覧 有効(+)/無効(-)\n+acl               +clientserver      +diff              +folding           +libcall           +mouse_gpm         +packages          +rightleft         -tag_old_static    +user_commands     +X11\n+arabic            +clipboard         +digraphs          -footer            +linebreak         -mouse_jsbterm     +path_extra        +ruby/dyn          -tag_any_white     +vartabs           -xfontset\n+autocmd           +cmdline_compl     +dnd               +fork()            +lispindent        +mouse_netterm     +perl/dyn          +scrollbind        -tcl               +vertsplit         +xim\n+autochdir         +cmdline_hist      -ebcdic            +gettext           +listcmds          +mouse_sgr         +persistent_undo   +signs             +termguicolors     +virtualedit       +xpm\n-autoservername    +cmdline_info      +emacs_tags        -hangul_input      +localmap          -mouse_sysmouse    +popupwin          +smartindent       +terminal          +visual            +xsmp_interact\n+balloon_eval      +comments          +eval              +iconv             +lua/dyn           +mouse_urxvt       +postscript        +sound             +terminfo          +visualextra       +xterm_clipboard\n+balloon_eval_term +conceal           +ex_extra          +insert_expand     +menu              +mouse_xterm       +printer           +spell             +termresponse      +viminfo           -xterm_save\n+browse            +cryptv            +extra_search      +job               +mksession         +multi_byte        +profile           +startuptime       +textobjects       +vreplace          \n++builtin_terms    +cscope            -farsi             +jumplist          +modify_fname      +multi_lang        +python/dyn        +statusline        +textprop          +wildignore        \n+byte_offset       +cursorbind        +file_in_path      +keymap            +mouse             -mzscheme          +python3/dyn       -sun_workshop      +timers            +wildmenu          \n+channel           +cursorshape       +find_in_path      +lambda            +mouseshape        +netbeans_intg     +quickfix          +syntax            +title             +windows           \n+cindent           +dialog_con_gui    +float             +langmap           +mouse_dec         +num64             +reltime           +tag_binary        +toolbar           +writebackup       \n      システム vimrc: \"$VIM/vimrc\"\n      ユーザー vimrc: \"$HOME/.vimrc\"\n   第2ユーザー vimrc: \"~/.vim/vimrc\"\n       ユーザー exrc: \"$HOME/.exrc\"\n     システム gvimrc: \"$VIM/gvimrc\"\n     ユーザー gvimrc: \"$HOME/.gvimrc\"\n  第2ユーザー gvimrc: \"~/.vim/gvimrc\"\n  デフォルトファイル: \"$VIMRUNTIME/defaults.vim\"\n    システムメニュー: \"$VIMRUNTIME/menu.vim\"\n       省略時の $VIM: \"/usr/share/vim\"\nコンパイル: gcc -c -I. -Iproto -DHAVE_CONFIG_H -DFEAT_GUI_GTK  -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/lib/libffi-3.2.1/include -I/usr/include/harfbuzz -I/usr/include/fribidi -I/usr/include/freetype2 -I/usr/include/libpng16 -I/usr/include/cairo -I/usr/include/pixman-1 -I/usr/include/gdk-pixbuf-2.0 -I/usr/include/libmount -I/usr/include/blkid -I/usr/include/atk-1.0 -pthread    -march=x86-64 -mtune=generic -O2 -pipe -fno-plt -D_REENTRANT  -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1       \nリンク: gcc   -L. -Wl,-O1,--sort-common,--as-needed,-z,relro,-z,now -fstack-protector-strong -rdynamic -Wl,-export-dynamic -Wl,-E -Wl,-rpath,/usr/lib/perl5/5.30/core_perl/CORE  -Wl,-O1,--sort-common,--as-needed,-z,relro,-z,now -L/usr/local/lib -Wl,--as-needed -o vim   -lgtk-x11-2.0 -lgdk-x11-2.0 -lpangocairo-1.0 -latk-1.0 -lcairo -lgdk_pixbuf-2.0 -lgio-2.0 -lpangoft2-1.0 -lpango-1.0 -lgobject-2.0 -lglib-2.0 -lharfbuzz -lfontconfig -lfreetype  -lSM -lICE -lXpm -lXt -lX11 -lXdmcp -lSM -lICE  -lm -ltinfo -lelf -lnsl    -lcanberra  -lacl -lattr -lgpm -ldl   -Wl,-E -Wl,-rpath,/usr/lib/perl5/5.30/core_perl/CORE -Wl,-O1,--sort-common,--as-needed,-z,relro,-z,now -fstack-protector-strong -L/usr/local/lib  -L/usr/lib/perl5/5.30/core_perl/CORE -lperl -lpthread -ldl -lm -lcrypt -lutil -lc        ```","ts":"1581734423.284200","thread_ts":"1581734362.283700","edited":{"user":"UGXMRNBUM","ts":"1581734426.000000"},"parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wflbj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74f453a6-c93d-4102-8874-b1dfd5d638b5","type":"message","user":"UGXMRNBUM","text":"vim-lsp周りのvimrc (with vim-plug)\n\n```  Plug 'prabirshrestha/async.vim'\n  Plug 'prabirshrestha/vim-lsp'\n  function! s:plug.after.vim__lsp()\n  \"  let g:lsp_async_completion = 1\n    let g:lsp_diagnostics_echo_cursor = 1 \" enable echo under cursor when in normal mode\n\n    \" 保存時に自動でフォーマット {{{\n\n    let g:kyoh86_auto_format = v:true\n\n    function! s:autoFormatSync()\n      if g:kyoh86_auto_format\n        LspDocumentFormatSync\n      endif\n    endfunction\n\n    function! s:goAutoFormatSync()\n      if g:kyoh86_auto_format\n        LspCodeAction source.organizeImports\n        LspDocumentFormatSync\n      endif\n    endfunction\n\n    augroup Lsp.format\n      autocmd!\n      autocmd BufWritePre *.py call s:autoFormatSync()\n      autocmd BufWritePre *.go call s:goAutoFormatSync()\n    augroup END\n\n    \" }}}\n\n    nmap &lt;Leader&gt;ld &lt;Plug&gt;(lsp-definition)\n    nmap &lt;Leader&gt;lh &lt;Plug&gt;(lsp-hover)\n    nmap &lt;Leader&gt;ln &lt;Plug&gt;(lsp-next-error)\n    nmap &lt;Leader&gt;lp &lt;Plug&gt;(lsp-previous-error)\n    nmap &lt;Leader&gt;lr &lt;Plug&gt;(lsp-rename)\n    nmap &lt;Leader&gt;lf &lt;Plug&gt;(lsp-document-format)\n    nmap &lt;Leader&gt;la &lt;Plug&gt;(lsp-code-action)\n    nmap &lt;Leader&gt;ll &lt;Plug&gt;(lsp-document-diagnostics)\n    nmap &lt;Leader&gt;ls &lt;Plug&gt;(lsp-status)\n\n    \" nmap &lt;Leader&gt; &lt;Plug&gt;(lsp-references)\n    \" nmap &lt;Leader&gt; &lt;Plug&gt;(lsp-declaration)\n    \" nmap &lt;Leader&gt; &lt;Plug&gt;(lsp-document-symbol)\n    \" nmap &lt;Leader&gt; &lt;Plug&gt;(lsp-workspace-symbol)\n    \" nmap &lt;Leader&gt; &lt;Plug&gt;(lsp-implementation)\n    \" nmap &lt;Leader&gt; &lt;Plug&gt;(lsp-type-definition)\n\n    autocmd FileType go,python,typescript,vim,markdown,sh setlocal omnifunc=lsp#complete\n\n  endfunction\n\n  Plug 'mattn/vim-lsp-settings'\n  \" {{{ function! s:plug.after.mattn__vim__lsp__settings()\n    \" for python\n    let g:lsp_settings = {}\n    let g:lsp_settings['pyls'] =\n          \\ {\n          \\   'workspace_config': {'pyls': {\n          \\     'configurationSources': ['flake8'],\n          \\     'plugins': {\n          \\       'black': {'enabled': v:true},\n          \\       'pycodestyle': {'enabled': v:false},\n          \\       'pyls_mypy': {'enabled': v:true, 'live_mode': v:false},\n          \\     }\n          \\   }}\n          \\ }\n    \" for viml\n    let g:lsp_settings['efm-langserver'] = \n          \\ {\n          \\   'disabled': v:false\n          \\ }\n    let g:lsp_settings['vim-language-server'] = \n          \\ {\n          \\   'workspace_config': {\n          \\     \"iskeyword\": \"vim iskeyword option\",\n          \\     \"diagnostic\": {\n          \\       \"enable\": v:true\n          \\     }\n          \\   }\n          \\ }\n  \" endfunction }}}```\n`s:<http://plug.after.xxx|plug.after.xxx>` は独自拡張で、plug.End呼ぶときに自動で呼ばれる機構を仕込んでる","ts":"1581734531.284500","thread_ts":"1581734362.283700","edited":{"user":"UGXMRNBUM","ts":"1581734549.000000"},"parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zfhr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"247ce6cc-3e33-4ba6-83a6-05771e1d642e","type":"message","user":"UGXMRNBUM","text":"```    let g:lsp_settings['efm-langserver'] = \n          \\ {\n          \\   'disabled': v:false\n          \\ }```\nここをコメントアウトすると治る","ts":"1581734867.284800","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nmRfY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c396bf41-3e30-4e74-aa51-0305a50c7da5","type":"message","user":"UGXMRNBUM","text":"```$ efm-langserver --version\nflag provided but not defined: -version\nUsage of efm-langserver:\n  -c string\n        path to config.yaml\n  -log string\n        logfile\n[2]\n\n$ which efm-langserver\n/home/kyoh86/go/bin/efm-langserver```\nversion情報はなかった","ts":"1581734934.285000","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1WlN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"670915dc-b133-4a02-a157-ab8f506baf1e","type":"message","user":"UGXMRNBUM","text":"`go get -u <http://github.com/mattn/efm-langserver|github.com/mattn/efm-langserver>` しても状況は変わらず","ts":"1581735004.285200","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lrT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0ce1cffd-e03d-4ca3-b76f-fb44c8ce1924","type":"message","user":"UGXMRNBUM","text":"```$ efm-langserver\n2020/02/15 11:50:09 open /home/kyoh86/.config/efm-langserver/config.yaml: no such file or directory```\nあれ","ts":"1581735025.285400","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vtuU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65db5502-7a8e-4370-872b-b11e639d56cb","type":"message","user":"UGXMRNBUM","text":"というかそもそもvim-lsp-settingってefm-langserverローカルのやつ使うんだっけ。独自のbinをどこかに入れてなかったか","ts":"1581735067.285600","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r26l"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c51b4c68-f276-44af-8b90-6cffc6df291b","type":"message","user":"UGXMRNBUM","text":"やめたのかな。見当たらない。","ts":"1581735176.285800","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jEAt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"77e4532f-ab2d-480d-b3e6-0af738ec116b","type":"message","user":"UGXMRNBUM","text":"```$ cat installer/install-efm-langserver.sh   \n#!/usr/bin/env bash\n\nset -e\n\n\"$(dirname \"$0\")/go_install.sh\" <http://github.com/mattn/efm-langserver|github.com/mattn/efm-langserver>\n$ cat installer/go_install.sh\n#!/usr/bin/env bash\n\n# Usage\n# $ go_install [GO_GET_URLPATH]\n\nset -e\n\nGOPATH=$(pwd) GOBIN=$(pwd) GO111MODULE=on go get -v \"$1\"\nrm -rf src```\nやってた","ts":"1581735290.286000","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jomgq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1f1123e0-ec3f-41f6-a27e-2b483daaf4b1","type":"message","user":"UGXMRNBUM","text":"このときのpwdってどこになるんだろう？？","ts":"1581735299.286200","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hsA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4efd08f9-088c-4109-8c1a-e9d4484e5c40","type":"message","user":"UGXMRNBUM","text":"```echo lsp_settings#servers_dir():\n/home/kyoh86/.local/share/vim-plug/vim-lsp-settings/servers```","ts":"1581735605.286400","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8NAQL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"901b132e-93e8-4621-8eab-31d08836075c","type":"message","user":"UGXMRNBUM","text":"```$ ls -la /home/kyoh86/.local/share/vim-plug/vim-lsp-settings/servers\nls: '/home/kyoh86/.local/share/vim-plug/vim-lsp-settings/servers' にアクセスできません: そのようなファイルやディレクトリはありません```\nなんもない","ts":"1581735639.286600","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9vFn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d7bb310-0935-499d-959a-c51ce0a322ca","type":"message","user":"UGXMRNBUM","text":"？？？つまり何が起きてるの？？","ts":"1581735725.286800","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TUAJv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"347383a8-e03a-457f-af87-51c198983520","type":"message","user":"UGXMRNBUM","text":"efm-langserverが起動されようとして、コケてるログに見えるけど、そもそもなんでvim-lsp-settingはサーバーをインストールしてないのかがよくわからん","ts":"1581735837.287000","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q40v7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8a069014-f26e-4e3a-bc67-a6a730ac279f","type":"message","user":"UGXMRNBUM","text":"お手上げなのでIssue切ろう…","ts":"1581735915.287200","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1mUR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2433eb7d-fcf8-4623-9d65-758e078ac4de","type":"message","user":"U03C6TEAZ","text":"ls で見つからないのであればプラグインとかの範疇ではない気がします。","ts":"1581736070.287400","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6kAm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f9fed7ff-3574-4035-b25b-2b0461ee56e1","type":"message","user":"UGXMRNBUM","text":"ディレクトリごと削除されてしまったように見えますね","ts":"1581736154.287600","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u2Tr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"12fa7313-6fa1-4a7a-a976-b5fcf56a3a10","type":"message","user":"UGXMRNBUM","text":"```{'pyls': {'workspace_config': {'pyls': {'plugins': {'black': {'enabled': v:true}, 'pyls_mypy': {'enabled': v:true, 'live_mode': v:false}, 'pycodestyle': {'enabled': v:false}}, 'configurationSources': ['flake8']}}}, 'vim-language-server': {'workspace_config': {'iskeyword': 'vim iskeyword option', 'diagnostic': {'enable': v:true}}}}```\nefm-langserverの設定を削除すると動くんですが、\nそもそも動いてる状態でもg:lsp_settingsがvimrcで設定した分しかないのは正しいんだろうか","ts":"1581736227.287800","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j+8ps"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ec414b8-de19-4051-8002-4fe904d04780","type":"message","user":"UGXMRNBUM","text":"efm-langserverの設定を削除して動いた状態で、\n```$ ls -la /home/kyoh86/.local/share/vim-plug/vim-lsp-settings/servers\n合計 8\ndrwxr-xr-x  2 kyoh86 kyoh86 4096  2月 15 12:01 .\ndrwxr-xr-x 12 kyoh86 kyoh86 4096  2月 15 12:01 ..```\nとなるので、ディレクトリが無い状態は特に問題と関係ないっぽい","ts":"1581736406.288000","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8th"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d98ce6fa-ee40-4d98-b18e-0c07be647811","type":"message","user":"U03C6TEAZ","text":"一度プラグインを消してインストールする様なタイプだとなるかもですね。あと dein の様なマージ型のマネージャ使ってる場合は README に書いてある様にマージしない設定にしないといけないですね。","ts":"1581736428.288200","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GpD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eb0419c0-3e2b-4f02-93fd-95bf6e5532e0","type":"message","user":"U03C6TEAZ","text":"efm-langserver はデフォルト無効にしてあります。コマンドは LspInstallServer しないと入りません。","ts":"1581736499.288400","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DHNK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bf9b64bd-d8d0-42ad-a23f-8d2237c30c58","type":"message","user":"UGXMRNBUM","text":"vim-plug使ってるので、マージではなく消す方の何かをされた可能性がありますね","ts":"1581736605.288600","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bY1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"92fa171c-66aa-4971-a629-f5c394ff40e6","type":"message","user":"UGXMRNBUM","text":"efm-langserverはデフォルトで無効なんですが、\nefm-langserverをインストールした状態（PATHの通った状態）で\n\n    let g:lsp_settings['efm-langserver'] =\n          \\ {\n          \\   'disabled': v:false\n          \\ }\n\nとするとvimの起動時にエラーになるんです。\n\n<https://vim-jp.slack.com/archives/CQ57P4XU4/p1581734406283800?thread_ts=1581734362.283700&amp;cid=CQ57P4XU4>","ts":"1581736687.288800","thread_ts":"1581734362.283700","attachments":[{"fallback":"[February 14th, 2020 6:40 PM] chili.pepper86: 起動時メッセージ\n```function lsp#enable[19]..&lt;SNR&gt;35_register_events[18]..&lt;SNR&gt;35_on_text_document_did_open[6]..&lt;SNR&gt;35_ensure_flush[1]..lsp#utils#step#start[1]..&lt;SNR&gt;95_next[9]..&lt;lambda&gt;6[1]..&lt;SNR&gt;35_ensure_start[47]..&lt;SNR&gt;95_callback[1]..&lt;SNR&gt;95_next[9]..&lt;lambda&gt;7[1]..&lt;SNR&gt;35_ensure_init[57]..&lt;SNR&gt;35_send_request[7]..lsp#client#send_request[1]..&lt;SNR&gt;96_lsp_send[36]..async#job#send[1]..&lt;SNR&gt;97_job_send の処理中にエラーが検出されました:\n行    6:\nE631: ch_sendraw(): 書き込みに失敗しました```","id":1,"author_id":"UGXMRNBUM","author_name":"kyoh86","author_subname":"kyoh86","author_link":"https://vim-jp.slack.com/team/UGXMRNBUM","author_icon":"https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png","text":"起動時メッセージ\n```function lsp#enable[19]..&lt;SNR&gt;35_register_events[18]..&lt;SNR&gt;35_on_text_document_did_open[6]..&lt;SNR&gt;35_ensure_flush[1]..lsp#utils#step#start[1]..&lt;SNR&gt;95_next[9]..&lt;lambda&gt;6[1]..&lt;SNR&gt;35_ensure_start[47]..&lt;SNR&gt;95_callback[1]..&lt;SNR&gt;95_next[9]..&lt;lambda&gt;7[1]..&lt;SNR&gt;35_ensure_init[57]..&lt;SNR&gt;35_send_request[7]..lsp#client#send_request[1]..&lt;SNR&gt;96_lsp_send[36]..async#job#send[1]..&lt;SNR&gt;97_job_send の処理中にエラーが検出されました:\n行    6:\nE631: ch_sendraw(): 書き込みに失敗しました```","mrkdwn_in":["text"],"blocks":null,"footer":"From a thread in #lsp","ts":1581734406.283800,"from_url":"https://vim-jp.slack.com/archives/CQ57P4XU4/p1581734406283800?thread_ts=1581734362.283700&amp;cid=CQ57P4XU4","original_url":"https://vim-jp.slack.com/archives/CQ57P4XU4/p1581734406283800?thread_ts=1581734362.283700&amp;cid=CQ57P4XU4"}],"parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=VgS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"20845fef-69d5-49dc-9bd2-078e508621de","type":"message","user":"UGXMRNBUM","text":"whitelistを設定して自分でLspInstallServerするのが良いのだろうか…？","ts":"1581736761.289100","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KKGl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"38fe4ad9-0507-484d-9c98-8a15ca9c99c8","type":"message","user":"UGXMRNBUM","text":"いや、efm-langserverはLspInstallServerではインストールされないっぽい","ts":"1581736839.289300","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ppmS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"67f5e457-96be-40d1-8493-976e7f579b82","type":"message","user":"U03C6TEAZ","text":"引数なしだとファイルタイプに従います。","ts":"1581736879.289500","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"30nH3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a41748b7-c36b-41c7-935e-3b63d4044d69","type":"message","user":"U03C6TEAZ","text":"何も開かず vim 起動して LspInstallServer すると efm-langserver 入ると思います。","ts":"1581736983.289700","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T++LG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6b0348b8-e0d3-4987-ba70-e809d1e5e760","type":"message","user":"UGXMRNBUM","text":"あー","ts":"1581737036.289900","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1a336"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f29c01cc-109a-442f-a562-a4a6f93dc99f","type":"message","user":"UGXMRNBUM","text":"原因がわかりました。","ts":"1581737049.290100","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IQ4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c7ecd920-bf35-4a60-983b-3c94927ad2c4","type":"message","user":"UGXMRNBUM","text":"・ローカルにefm-langserverをインストールしてあった\n・~/.config/efm-langserver/config.yamlがない\n・`let g:lsp_settings['efm-langserver'] = { 'disabled': v:false }` としている\n\n状態で起動すると、\n\n1. ローカルにあるefm-langserverを起動しようとする\n2. configがないのでエラー\n3. efm-langserverの設定が有効にならない\n4. LspInstallServerしたところでefm-langserverの設定が入ってないのでインストールもされない\n\nという悪循環に陥ってしまう\n\n要は\n・ローカルにefm-langserverをインストールしてあった\n・~/.config/efm-langserver/config.yamlがない\nという半端な状態が悪いですね。間違って消してしまってたみたいなので、config.yaml復活させて事なきを得ました","ts":"1581737218.290600","thread_ts":"1581734362.283700","parent_user_id":"UGXMRNBUM","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1IHm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"26D2C1F1-E328-4DF9-A65B-D081CA39E094","type":"message","user":"U80CX6XDZ","text":"ちなみになぜmysqlとpostgresqlとsqliteなのかというと既にコマンドライン上での自動補完が、参考にしてるsqlparserによって実現されてるからなんですよ。理屈の上ではそれらを真似すれば同等のUXは得られる。","ts":"1581737962.293600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3ghUO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8a0e5c3e-56b6-4581-8b72-9cd26b13cc81","type":"message","user":"U03C6TEAZ","text":"YATTA！ sqlite3 マージされた。","ts":"1581738602.293900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iXBDf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"A06C7876-E518-4421-A5EF-C71E4E2341DB","type":"message","user":"U80CX6XDZ","text":"マージしました。","ts":"1581738745.294500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SK4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99CE571C-E133-41E8-AC41-4CF48189ADAF","type":"message","user":"U80CX6XDZ","text":"<@U03C6TEAZ> 多分一人だと対応DB追加まで手が回らなかったと思います。ありがとうございました:bangbang:","ts":"1581738818.296100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KgB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a84d812c-db5c-4cb5-a79f-7e8a4d694b17","type":"message","user":"U03C6TEAZ","text":"いえ、こちらこそありがとうございます。sql-language-server がイマイチなので常用できるところまで持っていきたいです。","ts":"1581739048.296900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XqJ2E"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"C1BB0DBF-0CA0-4ED1-97E6-0B27108C4AF3","type":"message","user":"U80CX6XDZ","text":"4月までにはDMLは一通りとサブクエリ対応したいですね。そこまでいけばそこそこ実用的になる想定です。","ts":"1581739225.298300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tnFQo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"42e7daf9-4a49-439c-aefd-8932b6bea7b4","type":"message","user":"U03C6TEAZ","text":"sqlite だと実際のDB使って CI できるのでそっちも今度テスト書いてみます。","ts":"1581739397.299700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wz=lb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"56B24277-166D-4AC1-9520-4284D638E958","type":"message","user":"U80CX6XDZ","text":"mysqlとpostgresqlも多分出来るとおもうのでCIでIntegration Testは私もやりたかったところです。いまはモックでお茶を濁してますが。","ts":"1581739608.302700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ftp+O"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
