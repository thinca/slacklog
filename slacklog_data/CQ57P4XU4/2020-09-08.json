[{"client_msg_id":"c717d9b1-c04c-4687-813d-73725a70fbfe","type":"message","user":"U03C6TEAZ","text":"とりあえず autochdir は廃止だな。","ts":"1599574121.087100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cEu"}]},{"client_msg_id":"dd5c9e23-f858-4015-9018-a091d9cd0632","type":"message","user":"U03C6TEAZ","text":"vscode も .vscode のあるディレクトリ配下なんよなー。","ts":"1599574032.086200","edited":{"user":"U03C6TEAZ","ts":"1599574051.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Tt3v"}]},{"client_msg_id":"66d6bb84-2c9f-4f41-8a78-7f0f6483c74c","type":"message","user":"U03C6TEAZ","text":"まぁでも困るくらいならルートマーカー案はありだと思う。ひっかって欲しかったら独自の作ればいいだけだし。","ts":"1599573543.084400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QVg"}]},{"client_msg_id":"9e42b0f1-d0ba-4088-a369-c970a7f28721","type":"message","user":"UG6DF6W87","text":"LSP の単一ワークスペースはサーバが単一のワークスペースしか扱えないという仕様であって、クライアントは常に複数ワークスペースを扱わねばならないのであった!!\n// あくまで一つの rootUri について一つのサーバということまでしか規定してないので...","ts":"1599573526.084200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NgejI"}]},{"client_msg_id":"a01912ea-64f5-425d-8fe6-db381d1f62be","type":"message","user":"U03C71D7H","text":"1. サーバはできるだけ workspace 対応する\n2. クライアントは、サーバが workspace 対応していなかったら workspace 分だけサーバを起動させる\n\nっていうことなんだろうか (どのみち workspace の判定はクライアント任せだ…そこはもう諦めた)","ts":"1599573400.082100","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9Pcj"}]},{"client_msg_id":"bfe7b76b-9caf-407f-852a-2e77c69f73e7","type":"message","user":"U03C6TEAZ","text":"ruby とかスクリプト的に書く事結構多いですしねー。","ts":"1599573274.080500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d5w"}]},{"client_msg_id":"f97bdbf0-a391-4c07-bdff-034b066b5413","type":"message","user":"UAZ33BKV2","text":"他言語は確実、とは言いきれませんからね...","ts":"1599573236.079700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q5s"}]},{"client_msg_id":"6e8397ad-dd85-42a7-913b-75b5ed558abb","type":"message","user":"UG6DF6W87","text":"ですね","ts":"1599573200.079000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AmY"}]},{"client_msg_id":"349cd931-69c3-4cd9-9888-0a89c82a365f","type":"message","user":"U03C6TEAZ","text":"はっきりとマーカーがあるからいですよねー。","ts":"1599573180.078600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SMWo"}]},{"client_msg_id":"ae0c58dc-573e-4e38-91b2-730fc4c1b77f","type":"message","user":"UG6DF6W87","text":"gopls は独自に回避してますね...","ts":"1599573158.078000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xc2u"}]},{"client_msg_id":"9716f77d-dfb5-446b-9e44-a2eb2921f6fe","type":"message","user":"U03C6TEAZ","text":"異なるプロジェクトの ruby ファイルを2つ開くと破綻するんだよなー。いまの仕様。","ts":"1599573144.077700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4/Y"}]},{"client_msg_id":"730b1289-37ba-4dcf-83c8-4fa4d682b72c","type":"message","user":"U03C71D7H","text":"solargraph 結局試せてないけど最近どうなってるのか今度試してみようかな","ts":"1599573076.076600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4g=S="}]},{"client_msg_id":"239a6e79-8d0c-49c1-a742-924700d34a16","type":"message","user":"U03C71D7H","text":"今は Ruby 書くのには efm-langserver 使って RuboCop 走らせてるのみです","ts":"1599573073.076400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kaZ"}]},{"client_msg_id":"cca0dbdf-3356-42b7-ac7d-aca68ab15a25","type":"message","user":"U03C71D7H","text":"個人的にはそうです","ts":"1599573029.075500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0AyAX"}]},{"client_msg_id":"daeb271e-2b40-4996-9b66-517f1ab914ea","type":"message","user":"U03C6TEAZ","text":"今困るのって efm だけなんですよね？","ts":"1599573011.075300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jf7"}]},{"client_msg_id":"2450760d-8a7e-4773-bc29-32bdb7fce52f","type":"message","user":"U03C6TEAZ","text":"その辺はうまくやらないとですね。","ts":"1599572887.075000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GTX"}]},{"client_msg_id":"df4ded7a-c8eb-4310-8bbb-1bb0fe7926ae","type":"message","user":"U03C6TEAZ","text":"あらゆる URI のリクエストが来たらその URI からルートディレクトリを efm が判断して、そこを exec/CCommand.Dir にしてコマンドを起動する。","ts":"1599572869.074700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jr3S"}]},{"client_msg_id":"1f6451fa-9f2c-46e7-b5b6-0687a98ffd8e","type":"message","user":"UAZ33BKV2","text":"プロジェクトファイルがあるだけ、かな?\nただ、それも開いてないなら、デフォルトのディレクトリはあって、ファイルオープンダイアログはそこ起点になる?","ts":"1599572860.074400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2x="}]},{"client_msg_id":"2c2030e9-0efd-47ee-869f-b8aa4fcff89e","type":"message","user":"U03C6TEAZ","text":"やっぱりルートマーカー入れるしかないかもなぁ。","ts":"1599572830.073300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E+qXG"}]},{"client_msg_id":"a3b007f8-ffe9-40e5-90f3-14a4fd944ca8","type":"message","user":"UG6DF6W87","text":"それはプロジェクトの開きなおしが相当するような気がします","ts":"1599572821.072900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pZ4"}]},{"client_msg_id":"4c7afea8-8412-430a-99a8-18ab1b6fca40","type":"message","user":"U03C71D7H","text":"なんだろうな。汎用プロトコルなんだから世のエディタの多様性を考慮して設計してほしいのだけど…","ts":"1599572820.072600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GE/u4"}]},{"client_msg_id":"36a6d3fb-5e4b-4528-b5d1-e528327d1ca7","type":"message","user":"U9S4G0LJW","text":"大本のVSCodeってcdって概念ないですよね、たしか","ts":"1599572784.071200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6+WU="}]},{"client_msg_id":"5eabbbf8-9b3c-418d-ba8c-47cd3b319076","type":"message","user":"U9S4G0LJW","text":"なんというかVimと物凄く相性の悪い設計だな","ts":"1599572765.070400","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nXjs+"}]},{"client_msg_id":"f13bf73c-9299-42cf-bf39-ce18f9d43dd7","type":"message","user":"UG6DF6W87","text":"で、さらに効率的にサーバをあつかいたければ、複数ワークスペースの仕様に乗ればいいのかな? とか","ts":"1599572651.069100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wqr0"}]},{"client_msg_id":"0025cc69-5f07-404c-b875-2a8fc7ad7a56","type":"message","user":"UAZ33BKV2","text":"実際すごい数起動した、っていう話がありましたね","ts":"1599572630.068500","edited":{"user":"UAZ33BKV2","ts":"1599572641.000000"},"team":"T03C4RC8V","reactions":[{"name":"hiee","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HQr3P"}]},{"client_msg_id":"008d25a0-3be7-45e6-87a0-1f760afc286e","type":"message","user":"UG6DF6W87","text":"基本開くたびに、でいいと思うんですよね\nで、クライアントの効率化のためにたとえば rootUri 毎にサーバを起動しっぱなしにする、という実装が存在できる\n// LSP ではどの単位でサーバを起動すべきかは述べてないので","ts":"1599572609.068100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rRDbu"}]},{"client_msg_id":"d5ea3827-49ff-4ca1-a96a-e834c224c5d4","type":"message","user":"U03C71D7H","text":"LSP の仕様がぶっ壊れているようにしか見えない","ts":"1599572557.067000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Esm"}]},{"client_msg_id":"63c9405a-e2c1-49a0-afe6-6afee33a07f5","type":"message","user":"UAZ33BKV2","text":"ただ、そうすると `:cd` はともかく `:lcd` や `:tcd` はどうしましょ、とかあるんですよね...つらたん","ts":"1599572404.064500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7=oV"}]},{"client_msg_id":"1c391d70-5bdc-4d5b-a194-04c7e14b4aa1","type":"message","user":"UG6DF6W87","text":"この結論は単一ワークスペースの LSP クライアントがあまりに不憫なのでもうちょい考えてみた\nLSP では rootUri とは workspace のルートである、と定められている\nで、vim-lsp はその rootUri としてデフォルトだと `getcwd()` の結果つまりカレントディレクトリだと主張している\nとすれば単一ワークスペースにしか対応してないクライアントは rootUri が変更されたらそれに追従すべきでは? と思った\nで、LSP 仕様では rootUri 指定する術は initialize リクエストしか存在せず、initialize リクエストはサーバライフサイクル上一度しか送信してはならない\nつまり vim-lsp はカレントディレクトリの変更を検知して、そのタイミングでサーバを開きなおすべきなのでは? と思った","ts":"1599572341.063600","thread_ts":"1599562397.033800","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FgUS="}],"root":{"client_msg_id":"f7f1cb90-bcdf-4f2a-9be2-fbd766a815b9","type":"message","user":"UG6DF6W87","text":"gopls なんかは恐らくプロジェクトルート(go.mod があるディレクトリ) を `initialize` リクエストで受け取った `rootUri(rootPath)` に依らずに探索してるっぽいですね","ts":"1599562397.033800","thread_ts":"1599562397.033800","last_read":"1599572341.063600","subscribed":true,"reply_count":36,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KS0dT"}]}},{"client_msg_id":"efbcf1f1-15db-4586-ab7f-bae027eaa851","type":"message","user":"U03C71D7H","text":"プロジェクトはセッションロードで開くので、どのファイルから開かれるかわからんですね…","ts":"1599572243.063500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AkwtV"}]},{"client_msg_id":"fe6c1def-997f-41cb-b19e-d3da4d136dd6","type":"message","user":"U03C6TEAZ","text":"まぁでも常駐派の人はいつ対象のファイルを開くか分からんからなー。","ts":"1599572220.063100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zin"}]},{"client_msg_id":"383397f9-b639-4923-b405-502bc5de1e50","type":"message","user":"U03C6TEAZ","text":"```\\  'efm-langserver': {\n\\    'blocklist': [''],\n\\   },```","ts":"1599572180.062500","edited":{"user":"U03C6TEAZ","ts":"1599572193.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ugoP"}]},{"client_msg_id":"77dcc75b-06ea-478e-aad9-f1cf121de3a2","type":"message","user":"U03C6TEAZ","text":"`g:lsp_settings` に空を blocklist に入れればデフォルトで起動しないのでは。","ts":"1599572171.062200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YNq"}]},{"client_msg_id":"2d4a982a-cabe-4827-8637-2966b63d3971","type":"message","user":"U06BRP8VD","text":"というかpwdが常にプロジェクトルートだな","ts":"1599572157.061800","edited":{"user":"U06BRP8VD","ts":"1599572166.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bXKzV"}]},{"client_msg_id":"f0c44ad9-17f3-41bb-a883-3e0a35f76fd9","type":"message","user":"U06BRP8VD","text":"`start gvim foobar.go` みたいな (Windows)","ts":"1599572124.061200","edited":{"user":"U06BRP8VD","ts":"1599572132.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jDN"}]},{"client_msg_id":"4a95c36f-730e-422d-bf55-1096d0133b88","type":"message","user":"U06BRP8VD","text":"ん～僕シェルから起動してるな。","ts":"1599572108.060900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Owza"}]},{"client_msg_id":"2f221bdd-0a64-49ed-ad75-43564faa81e8","type":"message","user":"U9S4G0LJW","text":"コマンド入力式のランチャーであれば引数与えられそう(Windowsのランチャー事情知らないからないのかも)","ts":"1599572054.060500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1is2"}]},{"client_msg_id":"aa6db167-bb18-4657-8f67-f5de8bffbbf4","type":"message","user":"UAZ33BKV2","text":"ですねえ(WindowsだからコンソールよりGUIがラクなだけだしな、自分)","ts":"1599572012.059800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"65OO"}]},{"client_msg_id":"9d0b3211-c16d-491c-b276-cd976ef8a1e0","type":"message","user":"U03C71D7H","text":"gvim 使ってる人の多くはシェルからじゃなくてランチャーから起動している気がしている","ts":"1599571990.059300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iRu"}]},{"client_msg_id":"33fe52b4-fafd-4c55-8e9b-348a27197169","type":"message","user":"UAZ33BKV2","text":"gvim を `gvim a/b/c.hoge`  で起動 + singleton+findrootなのでわりと使えてるけど...まあトラブりやすそうではある","ts":"1599571951.058800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"twB"}]},{"client_msg_id":"65a7d4cf-62bc-40f9-8b00-83f741d69846","type":"message","user":"U03C71D7H","text":"gVim の人つらそう…","ts":"1599571784.057900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MibH"}]},{"client_msg_id":"0aaae099-c502-4a76-9459-8464aad21148","type":"message","user":"U03C71D7H","text":"まあ今のところ「シェル上でプロジェクトルートに cd してから Vim を起動する」ワークアラウンドでなんとかなってるので急いでほしいとかではないですが…","ts":"1599571778.057700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EUV"}]},{"client_msg_id":"9fd7e149-ee01-4535-89f4-c5ac2d410139","type":"message","user":"U03C71D7H","text":"つらい","ts":"1599571728.056900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RrJ"}]},{"client_msg_id":"54bcc27d-268b-49e3-b8d1-b9acf1f41c5b","type":"message","user":"U03C6TEAZ","text":"それか efm-langserver にルートマーカーの仕組みを入れるか。(つらい)","ts":"1599571710.056700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8q9B"}]},{"client_msg_id":"640a91de-12e4-43d4-af8e-49d22f2d7cf3","type":"message","user":"U03C6TEAZ","text":"これはやはり workspace がないと無理かなー。","ts":"1599571682.056200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XjUqt"}]},{"client_msg_id":"ab5eca66-12c1-4375-85ed-1cb2dc8f6287","type":"message","user":"U03C71D7H","text":"そうなんですよね。今回の目的としては意味なしでした…","ts":"1599571434.055900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gvZbQ"}]},{"client_msg_id":"983b9fcc-9bd3-49ba-b89e-a34378e6a094","type":"message","user":"U03C6TEAZ","text":"その時点で efm-langserver が起動してしまってるので。","ts":"1599571413.055500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TiT"}]},{"client_msg_id":"1987283a-52c6-4f59-b4a9-8515f1e32230","type":"message","user":"U03C6TEAZ","text":"autochdir 意味無かったかも。","ts":"1599571396.055200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D2Os"}]},{"client_msg_id":"02233b7f-4b2d-4cd9-85e3-75a32807b129","type":"message","user":"U03C6TEAZ","text":"あー","ts":"1599571387.054900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u85"}]},{"client_msg_id":"41721bb1-f58a-49ed-a406-9d97f9a23f42","type":"message","user":"U03C71D7H","text":"引数なしで起動するので最初は無名バッファが開かれますね","ts":"1599570885.054500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0Hgns"}]},{"client_msg_id":"4707082e-2097-40df-955e-f9d7ca545d21","type":"message","user":"U03C6TEAZ","text":"えーっとカレントディレクトリが `/` みたいな場所で\n\n```/home/mattn/rails-project/app/controllers/application_controllers.rb```\nを開いた時に efm-langserver が running になれば良いですかね？","ts":"1599570709.054100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ckI"}]},{"client_msg_id":"0f08b711-7d1e-4de2-82d8-bc7b6c4d886a","type":"message","user":"UAZ33BKV2","text":"このプラグインにおいて、ですが\neslint自体はzero-configでも動かないわけじゃない、というだけで、実際の利用はユーザープロジェクト設定が必要だろうとは思います。\n説明があんまりよくないかも。更新しないとな...","ts":"1599569666.052300","thread_ts":"1599561605.028100","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MPy1v"}],"root":{"client_msg_id":"eca6c082-3e19-4d9f-87c5-e356dcd4986f","type":"message","user":"UDDCM376D","text":"つまり入れるだけで使える…？","ts":"1599561605.028100","thread_ts":"1599561605.028100","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DIc+"}]}},{"client_msg_id":"dd39e1a7-72e2-4f4f-9925-b3242863f8a3","type":"message","user":"U03C71D7H","text":"とりあえず私が遭遇している直近の問題「プロジェクトルードで Vim を起動しないと efm-langserver が正しく動いてくれない(linter を正しいディレクトリで実行してくれない)」が直るためには、\n1. vim-lsp と efm-langserver が双方 workspace に対応する\nor\n2. efm-langserver が独自に言語毎にルートディレクトリをマーカー等で検知して、適切な位置で linter を実行する\nのどちらかが必要そう","ts":"1599568429.049700","thread_ts":"1599562397.033800","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YwRV"}],"root":{"client_msg_id":"f7f1cb90-bcdf-4f2a-9be2-fbd766a815b9","type":"message","user":"UG6DF6W87","text":"gopls なんかは恐らくプロジェクトルート(go.mod があるディレクトリ) を `initialize` リクエストで受け取った `rootUri(rootPath)` に依らずに探索してるっぽいですね","ts":"1599562397.033800","thread_ts":"1599562397.033800","last_read":"1599572341.063600","subscribed":true,"reply_count":36,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KS0dT"}]}},{"client_msg_id":"B86A4BEC-3DD0-451A-A31A-E5F47E4E618D","type":"message","user":"U78A6ESHM","text":"へーー知らない子だった","ts":"1599565995.047600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T6=mh"}]},{"client_msg_id":"8eace4c0-e27e-4f27-ab1d-4a9635c6434b","type":"message","user":"UNJ2DANJC","text":"eslint-language-serverはvscode-eslintそのものです。\n\n関係ないけどあとこんなの見つけた\n\u003chttps://github.com/tbodt/js-langserver|https://github.com/tbodt/js-langserver\u003e","ts":"1599565890.047200","attachments":[{"fallback":"GitHub: tbodt/js-langserver","id":1,"title":"tbodt/js-langserver","title_link":"https://github.com/tbodt/js-langserver","text":"A simple language server for JavaScript, powered by ESLint and Tern. - tbodt/js-langserver","thumb_url":"https://avatars1.githubusercontent.com/u/5678977?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/tbodt/js-langserver","original_url":"https://github.com/tbodt/js-langserver"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cTv9"}]},{"client_msg_id":"9e4683c0-0da3-4198-8b78-4ccaed00a840","type":"message","user":"UDDCM376D","text":"試してみる","ts":"1599565548.044500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tG8V"}]},{"client_msg_id":"ed469ede-1a9d-4f19-bae2-c6d545882b3e","type":"message","user":"UDDCM376D","text":"eslint-language-server があるんですね\n気づかなかった…","ts":"1599565545.044300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o+U0Y"}]},{"client_msg_id":"ec51397f-ed1e-4601-8a38-54338ea9d0c7","type":"message","user":"UNJ2DANJC","text":"g:lsp_settings_filetype_typescriptとかだったかな\nREADMEには一応書いてあるけどここらへん割とわかりにくい気がする","ts":"1599565487.043700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DnbL"}]},{"client_msg_id":"41ddcb3c-bc00-4282-9870-e77c31ac9c22","type":"message","user":"UNJ2DANJC","text":"vim-lsp-settingsにはeslint-language-serverのインストーラがついているのでそっちを使ったほうがいい気がします。\n\nあとエスパーですがtsxではないですか？\nefmでやるならtypescriptreactとかのfiletypeも指定しないといけないような気がします。\nちがったらごめんなさい。","ts":"1599564639.042200","edited":{"user":"UNJ2DANJC","ts":"1599564654.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WYn1L"}]},{"client_msg_id":"8585ae07-8190-4284-b16f-5cabcd6fe6c0","type":"message","user":"UDDCM376D","text":"\u003c@U03C6TEAZ\u003e\neslintをvimで使いたくて、↓をやって js/ts ファイルを開き、 :LspStatus に efm-langserver が出てこないのは設定不足でしょうか？\n1. vim-lsp-settings で efm-langserver をインストール\n2. ~/.config/efm-langserver/config.yaml に↓を設定\n```version: 2\ntools:\n  javascript-eslint: \u0026amp;javascript-eslint\n    lint-command: 'eslint -f unix --stdin'\n    lint-ignore-exit-code: true\n    lint-stdin: true\n\nlanguages:\n  javascript:\n    - \u0026lt;\u0026lt;: *javascript-eslint\n  typescript:\n    - \u0026lt;\u0026lt;: *javascript-eslint```","ts":"1599562578.036000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4SKT"}]},{"client_msg_id":"f7f1cb90-bcdf-4f2a-9be2-fbd766a815b9","type":"message","user":"UG6DF6W87","text":"gopls なんかは恐らくプロジェクトルート(go.mod があるディレクトリ) を `initialize` リクエストで受け取った `rootUri(rootPath)` に依らずに探索してるっぽいですね","ts":"1599562397.033800","thread_ts":"1599562397.033800","last_read":"1599572341.063600","subscribed":true,"reply_count":36,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KS0dT"}]},{"client_msg_id":"16b129a2-fb39-4a26-b67e-d7c115b95da2","type":"message","user":"U03C71D7H","text":"今の LSP のプロトコル設計が本当に後者ができるようになっているのかは知らない","ts":"1599561968.031100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tXgc"}]},{"client_msg_id":"b9967dd3-97f8-4f0a-8bf1-42108b56cff5","type":"message","user":"U03C71D7H","text":"新しくファイルを開いた時にそのファイルが所属しているプロジェクトのプロジェクトルートを逐一送る or 開かれたファイルに応じて LS 側がプロジェクトルートを認識して正しく動作する\nのどっちかが必要。LSP というプロトコルの思想を考えるとファイルが所属するプロジェクトなんてのは言語固有の要素なので本来は後者の動作になるべき","ts":"1599561951.030700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KZaRR"}]},{"client_msg_id":"541b052d-d7f3-4bda-bbb2-fa23be70f06e","type":"message","user":"U03C71D7H","text":"そもそも起動時にしか送ってないのか。そりゃどうやっても無理だわ","ts":"1599561841.028600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lChea"}]},{"client_msg_id":"30f7af08-d853-4626-adb4-d686f7fa6de8","type":"message","user":"U03C71D7H","text":"vim-lsp が rootPath を正しく送ってないように見える","ts":"1599561615.028300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tMi"}]},{"client_msg_id":"eca6c082-3e19-4d9f-87c5-e356dcd4986f","type":"message","user":"UDDCM376D","text":"つまり入れるだけで使える…？","ts":"1599561605.028100","thread_ts":"1599561605.028100","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DIc+"}]},{"client_msg_id":"d51ac280-2335-43e6-a8c7-988521ede1ea","type":"message","user":"UDDCM376D","text":"eslintが `not need config / user config affected`","ts":"1599561574.027600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BHa"}]},{"client_msg_id":"f2bf797e-f13e-440b-ab50-83129f8082e3","type":"message","user":"UDDCM376D","text":"お","ts":"1599561535.027200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"meEmq"}]},{"client_msg_id":"9905b14e-8d05-44f8-a3af-1b67fab86fbb","type":"message","user":"UDDCM376D","text":"\u003chttps://github.com/tsuyoshicho/vim-efm-langserver-settings\u003e","ts":"1599561534.027000","attachments":[{"fallback":"GitHub: tsuyoshicho/vim-efm-langserver-settings","id":1,"title":"tsuyoshicho/vim-efm-langserver-settings","title_link":"https://github.com/tsuyoshicho/vim-efm-langserver-settings","text":"vim lsp client - efm-langserver link and configure settings - tsuyoshicho/vim-efm-langserver-settings","thumb_url":"https://avatars2.githubusercontent.com/u/96727?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/tsuyoshicho/vim-efm-langserver-settings","original_url":"https://github.com/tsuyoshicho/vim-efm-langserver-settings"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d4+"}]},{"client_msg_id":"6c265df7-5af4-4b7f-9954-26e0598dc428","type":"message","user":"UDDCM376D","text":"誰かすでに設定持ってたりしないかなぁ","ts":"1599561520.026800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6af="}]},{"client_msg_id":"b0eb1168-af0b-4055-932e-95dca2cd7e1b","type":"message","user":"UDDCM376D","text":"やはり efm-langserver を使うのか","ts":"1599561495.026200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PjNR"}]},{"client_msg_id":"cf656a24-caa2-4202-aacd-c1b08ad4eda2","type":"message","user":"U03C71D7H","text":"eslint 単体で使いたいなら efm-langserver でいいのでは?","ts":"1599561158.025700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jZZ/"}]},{"client_msg_id":"599b3b07-693c-4f5b-abdc-f989e18486dc","type":"message","user":"UDDCM376D","text":"eslint の lspってないかなぁ","ts":"1599561062.025300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CLp0H"}]},{"client_msg_id":"93079b77-08e4-4ee9-bd3b-f132e972df85","type":"message","user":"U03C71D7H","text":"\u003c@U03C6TEAZ\u003e autochdir って設定ファイルのルートで合ってますよね? どうもうまく動かない…","ts":"1599560308.024800","thread_ts":"1599560308.024800","last_read":"1599561238.025800","subscribed":true,"reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xUQ"}]},{"client_msg_id":"cdc7657c-2906-4f3a-9b1a-00fe180c86de","type":"message","user":"U03C71D7H","text":"thinca さんえらい","ts":"1599556638.023700","team":"T03C4RC8V","reactions":[{"name":"+1","count":2,"users":["U03C6TEAZ","UL6CFN8NR"]},{"name":"sasu_manbou","count":4,"users":["U8CC7MDCL","U7JL1UKKL","U76GA7MFA","UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P4HBW"}]},{"client_msg_id":"2b689511-fa4c-4a9d-9257-ced186768c12","type":"message","user":"U03C6TEAZ","text":"はい。インストール済みのフォルダを rmdir する処理は thinca さんに対応してもらいました。","ts":"1599556613.023500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r5oTX"}]},{"client_msg_id":"3ec268e4-61ad-4cde-9b7f-e92ce895433f","type":"message","user":"U03C71D7H","text":"おお、uninstall しなくても install できるんですね","ts":"1599556578.022900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BJJ"}]},{"client_msg_id":"1398ebce-c1f3-4999-940b-286cb1bde36a","type":"message","user":"U03C6TEAZ","text":"Install が上書きなので。","ts":"1599556524.022600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ysk1"}]},{"client_msg_id":"434cece4-703e-446d-9939-1bf490f9dd1c","type":"message","user":"U03C71D7H","text":"Reinstall があると便利なのか","ts":"1599556329.022400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rclHe"}]},{"client_msg_id":"26223311-b9f8-45b0-9e61-31a90a20a377","type":"message","user":"U03C71D7H","text":"Uninstall → Install?","ts":"1599556319.022200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OTJ5"}]},{"client_msg_id":"90bf43a7-c7ef-4d15-9f63-01d8abd1e882","type":"message","user":"U03C71D7H","text":"複数 workspace ほしい","ts":"1599556107.021700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jIb2"}]},{"client_msg_id":"419e67b4-a8b0-4d17-b5f2-a0b40a7d0abe","type":"message","user":"UG6DF6W87","text":"// 複数 workspace は vim-lsp は対応してなかったはず\n// やるとしても、そも Vim にそういう概念がないのでどう実装するんだろう?","ts":"1599555957.021500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5bVZT"}]},{"client_msg_id":"04df6190-e4e1-4ffa-8de8-bd9554359123","type":"message","user":"U03C6TEAZ","text":"入れ直すと更新です。","ts":"1599555918.021400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ifr"}]},{"client_msg_id":"ea1e7bf0-2652-4c82-a2d9-2f639206b9b6","type":"message","user":"U03C71D7H","text":"(未だに lsp-settings でのサーバの正しい更新の仕方をわかってない)","ts":"1599555863.020800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ro85"}]},{"client_msg_id":"802ddece-5e98-457a-a69c-506c23f925bd","type":"message","user":"U03C71D7H","text":"どのみち efm-langserver を更新しないといけないですね","ts":"1599555748.019600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PUx5A"}]},{"client_msg_id":"86f104c1-dec5-4651-b941-1ba35ef8d76d","type":"message","user":"U03C6TEAZ","text":"僕もそれで使ってみて弊害なければデフォルト true にするかもしれませんし、workspace で弊害あるなら false のままにするかもしれないです。(つまりまだ考えてない)","ts":"1599555642.019300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DbE"}]},{"client_msg_id":"97429533-bd5b-45df-bda2-c3e614d5df77","type":"message","user":"U03C71D7H","text":"お、便利そうすぎる。あとで試してみます！","ts":"1599555557.018500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/DO"}]},{"client_msg_id":"51af04c6-792e-4c1a-8046-92903bb5ad67","type":"message","user":"U03C6TEAZ","text":"入れ直すと thinca さんは便利になるかも。","ts":"1599555516.017900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5vr"}]},{"client_msg_id":"c88caa48-9ae9-4a95-a8ec-44d96e44fc58","type":"message","user":"U03C6TEAZ","text":"デフォルト false です。","ts":"1599555496.017300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bh6/0"}]},{"client_msg_id":"0640c5b8-f76c-4e54-90fc-53609c1162b0","type":"message","user":"U03C6TEAZ","text":"config.yaml に `autochdir: true` 入れると初期化時に rootPath に cd する様にしてみました。","ts":"1599555461.016600","team":"T03C4RC8V","reactions":[{"name":"+1::skin-tone-5","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"H/tL6"}]},{"client_msg_id":"81694acb-d34b-4b00-92ef-df0316631b01","type":"message","user":"U03C6TEAZ","text":"efm 自身が rootPath に cd するという手があるな。","ts":"1599555124.015800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7rt+h"}]},{"client_msg_id":"1bbf3d88-3892-4ce3-a746-a38c2851b6d6","type":"message","user":"U03C71D7H","text":"最近の lsp には workspace みたいな概念があるらしいと聞いたけどよくわかってないのだよな…","ts":"1599555104.015500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7bB5b"}]},{"client_msg_id":"21098f78-c8aa-41ba-ac1f-d08771029d28","type":"message","user":"U03C71D7H","text":"Vim の各バッファでの :lcd はすでにやってますねー","ts":"1599555036.014300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a22"}]},{"client_msg_id":"7167cfbf-0645-4297-a315-a4c516d7d127","type":"message","user":"U03C6TEAZ","text":"あ、でもそれだともう遅いのか。","ts":"1599554953.013800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7TCv="}]},{"client_msg_id":"2381d7ce-6275-4922-8198-9bd69329e873","type":"message","user":"U03C6TEAZ","text":"`s:on_lsp_buffer_enabled` で自分で cd するという手はあるかも。","ts":"1599554942.013600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fkR"}]},{"client_msg_id":"80efe82a-acc6-42cf-8336-42e453ba52bd","type":"message","user":"U03C71D7H","text":"Ruby で RuboCop 動かしていたやつですね","ts":"1599551787.012700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ITPWm"}]},{"client_msg_id":"36c830d5-422f-434b-aebd-f74d313eb738","type":"message","user":"U03C6TEAZ","text":"ruby ?","ts":"1599550019.012200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5rp"}]},{"client_msg_id":"54f8e826-b438-4969-990b-bd4117209833","type":"message","user":"U03C71D7H","text":"efm-langserver がエラー吐かなくなって、なんでだろうと調べていたら、以前もハマった「Vim 自体をプロジェクトルートで起動しないといけない」って制約のせいでした…。ここはまだ変わってないのか","ts":"1599549733.012000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TWyf"}]},{"client_msg_id":"c54caa03-b5f4-4d69-8464-810a7c5338a5","type":"message","user":"U03C71D7H","text":"なんかめちゃくちゃバックスラッシュが入ってるのはなんでなんだ…?","ts":"1599549499.011000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SIXD"}]},{"client_msg_id":"7952d926-1a02-4d74-8bce-d0d8755cb096","type":"message","user":"U03C71D7H","text":"lsp.vim のログ、必要なとこだけ見ようと grep してもそれでも1行がでかすぎて全然読めない…","ts":"1599549416.010700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8kJ"}]},{"client_msg_id":"a5781029-06df-49f1-aeae-163d39b4c8d3","type":"message","user":"U03C71D7H","text":"たぶんこれが正しい気がする","ts":"1599562598.036100","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"okU="}]},{"client_msg_id":"5b04ced1-1621-4c84-9b10-425f15564429","type":"message","user":"UG6DF6W87","text":"Vim (vim-lsp 側) はそも project 的概念はないし、エディタ側でやるのは厳しい気はしますよね\nVSCode(とかそれっぽいやつら) は人間が project を開く、という UI なので成立する","ts":"1599563188.036400","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I2d"}]},{"client_msg_id":"29347cfe-f411-42e3-85de-90b1be920b9d","type":"message","user":"U03C71D7H","text":"しかしそもそも LSP って IDE みたいな豪華な機能がないテキストエディタに IDE のような機能を提供するものなので、大抵の LSP クライアントはプロジェクトなんて概念は持ってないと思うんだよな","ts":"1599563281.036600","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ekC0"}]},{"client_msg_id":"345dcdd1-3aa5-4329-84c7-37dd925d6ef4","type":"message","user":"UG6DF6W87","text":"まぁでも仕様書読む限りはworkspace周りの機能のメインターゲットは VSCode/Atom/Sublime Text だぞ! というのをひしひしと感じはしますねぇ...","ts":"1599563409.036900","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UJG"}]},{"client_msg_id":"db02f92a-fc56-4ccb-a48d-857bef984489","type":"message","user":"UG6DF6W87","text":"実際言及されてるのはその3つだけだし...","ts":"1599563425.037100","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9Wa6"}]},{"client_msg_id":"cc10d0ae-3300-4f80-b10c-66dc5fcdb831","type":"message","user":"U03C71D7H","text":"ゆるせねぇ… alt LSP 仕様作ろう (死亡フラグ)","ts":"1599563513.037300","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NRd"}]},{"client_msg_id":"e78be209-4b7c-49ba-b231-23774c9b5745","type":"message","user":"UG6DF6W87","text":"まぁでも vim-lsp に language ID 毎にマーカーとなるファイルを指定できる機能はあってもいいような気はしないでも...?","ts":"1599563534.037500","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hC3L"}]},{"client_msg_id":"4e0d74ab-d2cb-4ecb-a4d2-7739eea3c893","type":"message","user":"UG6DF6W87","text":"デフォで直上の .git\n指定されてればそのファイル、みたいな?","ts":"1599563597.037700","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Tb0g"}]},{"client_msg_id":"4be31746-4486-4bbb-b207-83d2024d3b8f","type":"message","user":"UG6DF6W87","text":"VSCode とかはどうなんだろうな\n言語毎の薄い plugin がいるのが前提だからエディタ側が言語の知識を持つのが許容されてるのかな","ts":"1599563670.037900","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7G7u6"}]},{"client_msg_id":"7fd733ee-8349-4022-8b9a-8851b45825fa","type":"message","user":"U03C71D7H","text":"個人的にはプロジェクトルートの類推はサーバがやるべきだと思っているけど、LSP というプロトコルの設計上そうなっておらず、ルートはクライアント(引いてはユーザーによる人力)が指定しろってのなら、vim-lsp に root を検出させる機能は付けるべきでしょうね。というか必須かと思う。","ts":"1599563780.038100","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Tg2"}]},{"client_msg_id":"ee4ac5cc-a240-428f-9e4c-911269c2e9c5","type":"message","user":"UG6DF6W87","text":"\u003chttps://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_workspaceFolders\u003e\nこのあたりでそれっぽい思想が非常に濃く出てると思うんですが、複数の workspace の rootUri はサーバがクライアントに聞くんですよね","ts":"1599564048.038300","thread_ts":"1599562397.033800","attachments":[{"fallback":"Specification","id":1,"title":"Specification","title_link":"https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_workspaceFolders","text":"Language Server Protocol Specification - 3.15This document describes the 3.15.x version of the language server protocol. An implementation for node of the 3....","blocks":null,"service_name":"microsoft.github.io","service_icon":"https://microsoft.github.io/language-server-protocol/img/favicon.png","from_url":"https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_workspaceFolders","original_url":"https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_workspaceFolders"}],"parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U=p"}]},{"client_msg_id":"3fd4cddc-5355-4f32-a630-09c043d6190c","type":"message","user":"UG6DF6W87","text":"根本的にファイルを開くのが前提の Vim とプロジェクトを開くのが前提の VSCode での違いが...","ts":"1599564133.038600","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WQ/"}]},{"client_msg_id":"d690a588-f012-44f9-8926-9aa554fd6229","type":"message","user":"U03C71D7H","text":"汎用プロトコルとはなんだったのか","ts":"1599565504.043800","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qAWRJ"}]},{"client_msg_id":"b2a2b60b-1f7e-44c2-ab68-08100f1c53b5","type":"message","user":"UG6DF6W87","text":"あー、そう、この辺の議論どっかで見たと思ったんですよ\n\u003chttps://github.com/prabirshrestha/vim-lsp/issues/274\u003e","ts":"1599566544.047700","thread_ts":"1599562397.033800","attachments":[{"fallback":"GitHub: default rootUri · Issue #274 · prabirshrestha/vim-lsp","id":1,"title":"default rootUri · Issue #274 · prabirshrestha/vim-lsp","title_link":"https://github.com/prabirshrestha/vim-lsp/issues/274","text":"castwide/solargraph#151 rootUr should be able to set null for default behavior.","thumb_url":"https://avatars1.githubusercontent.com/u/287744?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/prabirshrestha/vim-lsp/issues/274","original_url":"https://github.com/prabirshrestha/vim-lsp/issues/274"}],"parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7qo0"}]},{"client_msg_id":"f6666b83-4d00-4aa7-9549-5e1b35d4c296","type":"message","user":"U03C71D7H","text":"initialize で rootUri を渡すという仕様が一切理解できない。その時点では決まるはずないのに","ts":"1599566965.048000","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RUMml"}]},{"client_msg_id":"8be887a3-fb02-40ed-9974-1c6d5221236a","type":"message","user":"U03C71D7H","text":"プロジェクトの数だけサーバプロセスを起動しろ、というスタイルであれば別だけど","ts":"1599567020.048200","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q2JZP"}]},{"client_msg_id":"3677d36c-42a9-407e-8aae-20625af2cddd","type":"message","user":"UG6DF6W87","text":"\u003chttps://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_didChangeWorkspaceFolders\u003e\n複数 workspace 対応なら rootUri をあとから変えれるんですよ","ts":"1599567837.048500","thread_ts":"1599562397.033800","attachments":[{"fallback":"Specification","id":1,"title":"Specification","title_link":"https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_didChangeWorkspaceFolders","text":"Language Server Protocol Specification - 3.15This document describes the 3.15.x version of the language server protocol. An implementation for node of the 3....","blocks":null,"service_name":"microsoft.github.io","service_icon":"https://microsoft.github.io/language-server-protocol/img/favicon.png","from_url":"https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_didChangeWorkspaceFolders","original_url":"https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_didChangeWorkspaceFolders"}],"parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x2eVR"}]},{"client_msg_id":"b37553a8-f294-4f03-bcc9-11787823e77c","type":"message","user":"UG6DF6W87","text":"まぁでも対応してない場合も rootUri 変えれてほしい","ts":"1599567866.048800","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HztC3"}]},{"client_msg_id":"7de5b4dd-4e22-40b4-825a-15657e32fc06","type":"message","user":"U03C71D7H","text":"これはサーバがこの機能に対応してないといけないってことですよね","ts":"1599567895.049000","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QUQKm"}]},{"client_msg_id":"af2c0f47-8e75-45cf-a6f1-baba5eebcf69","type":"message","user":"UG6DF6W87","text":"そすね、双方対応してなければならない...","ts":"1599567979.049200","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","reactions":[{"name":"totemoturai","count":1,"users":["U03C71D7H"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uQf6A"}]},{"client_msg_id":"d5ec8ab5-5b2c-4ecb-ab00-19879470d427","type":"message","user":"UG6DF6W87","text":"capability は後から動的に変える想定はあるが、initialize 時にやりとりされるその他の情報を変える想定はないつらい","ts":"1599568254.049500","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"60gRo"}]},{"client_msg_id":"eef0127c-d904-40bf-a17a-3a9260083bc5","type":"message","user":"UG6DF6W87","text":"あー、なるほど、開きっぱなので vim-lsp の initialize 時の指定でもダメなのかー","ts":"1599568683.050000","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pZR8t"}]},{"client_msg_id":"1b021d0e-d29b-45ea-89bd-017ea3f6b676","type":"message","user":"UG6DF6W87","text":"プロジェクトを開くまで LSP サーバの起動を遅延できれば...?","ts":"1599568728.050200","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GZ/l"}]},{"client_msg_id":"ac7115eb-be66-4311-9573-5ab818bce773","type":"message","user":"UG6DF6W87","text":"むぅなるほど難しい","ts":"1599568746.050400","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WAb"}]},{"client_msg_id":"18ba1772-8220-4dc9-96c5-5fe9f8244d44","type":"message","user":"U03C71D7H","text":"efm-langserver はあらゆるファイルに対して反応するので、そもそも複数プロジェクトを扱えないといろいろキビしいです","ts":"1599568795.050600","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K7P"}]},{"client_msg_id":"4187f50a-a670-4d30-9436-79668c3c0539","type":"message","user":"U03C71D7H","text":"プロジェクトで作業中にちょっと vimrc 開いたらもう反応しないってことだからね (vimrc の場合は linter が実行ディレクトリに依存しないだろうから結果的に問題はないかもしれないけども)","ts":"1599568859.050800","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0inN"}]},{"client_msg_id":"213913e8-ef25-4019-8a95-5667e86b18fd","type":"message","user":"UG6DF6W87","text":"そうすねぇ、そういう意味で efm-langserver が特殊なのはたしかに","ts":"1599568884.051000","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AYoo7"}]},{"client_msg_id":"7a04741f-7412-4fd8-84d6-27edb2f78394","type":"message","user":"U03C71D7H","text":"それ以外の言語でも、リポジトリ中にプロジェクトが複数入ってて相互にやり取りがあるような場合は両方同時に触るだろうからなぁ","ts":"1599568944.051200","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sB9"}]},{"client_msg_id":"32c472dc-7b17-41ea-898b-dd720b885da0","type":"message","user":"UG6DF6W87","text":"まぁでも複数プロジェクトに対応してないクライアント/サーバは他のプロジェクトというのは認識できないので、他のプロジェクトのファイルを開いたとしても最初に開いたプロジェクトのファイルとしてしか認識できないよね、というのはそれはそれで妥当になってしまうように思うんですよねーー...\n// 実際不便なのはそう","ts":"1599569591.051500","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qPh"}]},{"client_msg_id":"807a107f-b5d6-4139-9738-738aec7818d4","type":"message","user":"U03C71D7H","text":"対応してなかったらそうならざるを得ないですね。対応してないんだし","ts":"1599569633.051700","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y6Ev"}]},{"client_msg_id":"dfb98531-43f7-4f69-a81c-0c9392f58544","type":"message","user":"U03C71D7H","text":"そしてそれは不便…","ts":"1599569643.051900","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fzpo"}]},{"client_msg_id":"c3460d37-b340-408d-9256-9e598a27339f","type":"message","user":"UG6DF6W87","text":"かなしい...","ts":"1599569649.052100","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R0RrC"}]},{"client_msg_id":"2f0db489-b011-44bb-9bd4-6b09263f9f9f","type":"message","user":"UG6DF6W87","text":"やっぱ結局 vim-lsp が自前のプロジェクトという概念を持たないといけないのだろうか...","ts":"1599569766.052600","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hcOK"}]},{"client_msg_id":"d2d2e116-9385-4415-bc74-4c16fd9ee51e","type":"message","user":"U03C71D7H","text":"LSP の workspace の仕様に沿うならそうなると思う","ts":"1599569797.052800","thread_ts":"1599562397.033800","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jPZ"}]},{"client_msg_id":"2673002d-bcfb-4b35-9306-db0fe9966f02","type":"message","user":"U03C6TEAZ","text":"はい。後で見ます。","ts":"1599561238.025800","thread_ts":"1599560308.024800","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hyn"}]}]
