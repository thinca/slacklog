[{"client_msg_id":"e8913e59-acf4-4079-bb22-2d4313a146e8","type":"message","user":"UEB17JJJE","text":"たしかtypescriptからなにか自動生成とかもしていましたよね","ts":"1592262792.327000","thread_ts":"1592200626.311100","parent_user_id":"UEB17JJJE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UJ7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5f9dae51-3119-447b-959a-52ded56e6adf","type":"message","user":"UEB17JJJE","text":"<@U8R597E9H> 昨日の話の続きになるのですが、\n ‘workspace/didChangeConfiguration’でclinetからnotifyするときのparamsと‘workspace/configuration’でclientがresponseで返すものの型が違うのがよくわからなくなってきてしまったのですが、どの様に理解されていますか？","ts":"1592266058.328700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dRu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"41ee2693-304a-4878-bf67-875c472a633c","type":"message","user":"U8R597E9H","text":"自分は\n\n# workspace/didChangeConfiguration\n- 設定が変更された時 or サーバ初期化時に、すべての設定内容を送る\n\n# workspace/configuration\n- 正直 scopeUri は理解できてないです\n- `{ items: [{ section: 'intelephense.files'' }, { section: 'yaml.schemas' }] }` のようなリクエストがくるのでそれぞれ dot で区切って設定を拾って配列で返す\n\nと認識しています。","ts":"1592274010.332300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D9m"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d212dabe-d345-474f-a857-6f3f1dbb78a9","type":"message","user":"U8R597E9H","text":"かえす値は `[['*.php'], null]` とかになるという感じです。","ts":"1592274053.333200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ppc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78d7a529-e903-44a8-9939-0f581c089b6e","type":"message","user":"UEB17JJJE","text":"clientから送るconfigurationなのに全然別物で辛い…やっぱり仕様にはなくてもinitializeの後にdidChangeConfigurationしないとだめですね…","ts":"1592274664.335200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e9OoD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"88ce14f9-504c-49d5-a5a6-a7f15699bc1e","type":"message","user":"UEB17JJJE","text":"ドットで区切るのもVSCodeがそうしてますね…仕様とは…","ts":"1592274814.336200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hwj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d5e49468-8c76-44f1-b00e-c13b5e5e3a7f","type":"message","user":"U8R597E9H","text":"正直、自分も workspace/configuration のこの仕様はどうなんだ。。。と思いました。\nそもそも json を想定しているんだったら、キーにドットが入ってる場合どうするんだ。とか。","ts":"1592275311.337000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sGfZ/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"59092770-5d45-4fc0-b10e-1d5ef9d82e3d","type":"message","user":"UEB17JJJE","text":"別物というよりはdidChangeConfigurationのときは全部とりあえず送って、configurationのときはその中で必要なとこだけ返すってことか？","ts":"1592275342.337600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wqx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ab98891c-7708-4cc0-a82e-92fe82c9ca24","type":"message","user":"U8R597E9H","text":"それはそうです。","ts":"1592275352.338100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0IAQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fa3b74e9-cbb1-426c-9c87-5823026a169a","type":"message","user":"UEB17JJJE","text":"仕様には明記ないけどそう解釈しないと腑に落ちない…","ts":"1592275355.338200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LJvZ8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"38b5df18-16e2-40fa-a439-faf13d48c5d6","type":"message","user":"UEB17JJJE","text":"こんなのspecから読み取れない…","ts":"1592275371.338700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eO+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7d669aa8-02a2-4dd3-aba3-b27877786195","type":"message","user":"U8R597E9H","text":"そうです。というか、みんなそう実装していると思います。という感じです。ｗ","ts":"1592275374.338800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0WiNk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"51ae5ea2-f462-4bfd-a52e-34ef8c834df8","type":"message","user":"UEB17JJJE","text":"VSCodeのこのあたりの実装がextension側にhookをもたせてるからとても読みにくい","ts":"1592275431.340000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ujcyR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"86693197-7dba-4b5a-ab8f-0ff2d61eea93","type":"message","user":"UEB17JJJE","text":"このあたり完全にVSCodeの実装が仕様になってますよね","ts":"1592275456.340500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/Ftl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9594b05d-9ed5-4000-9d68-a8b6492a8a6f","type":"message","user":"UEB17JJJE","text":"eslint-language-severはsectionが空文字なんですよ、これ全部送ってこいや！って解釈でいいんですよね。。多分。。\n<https://github.com/microsoft/vscode-eslint/blob/master/server/src/eslintServer.ts#L668>","ts":"1592275571.341200","attachments":[{"fallback":"GitHub: microsoft/vscode-eslint","id":1,"title":"microsoft/vscode-eslint","title_link":"https://github.com/microsoft/vscode-eslint/blob/master/server/src/eslintServer.ts#L668","text":"VSCode extension to integrate eslint into VSCode. Contribute to microsoft/vscode-eslint development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/6154722?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/microsoft/vscode-eslint/blob/master/server/src/eslintServer.ts#L668","original_url":"https://github.com/microsoft/vscode-eslint/blob/master/server/src/eslintServer.ts#L668"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"db1lc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b879c738-8b86-48fd-8923-fad2ada03c00","type":"message","user":"U8R597E9H","text":"`['']` がきたら全部という意味だと思いますｗ","ts":"1592276662.341600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Du9d"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f15565f4-2b4e-49ca-9b3d-c277eb105095","type":"message","user":"UAZ33BKV2","text":"`['']&lt;ぜんぶくれ`","ts":"1592276892.342000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P6L"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b3707cb9-8db0-4fd7-95ab-9c8f5a619750","type":"message","user":"UAZ33BKV2","text":"lspすごい大変になってるなあ...(ROMの人)","ts":"1592276913.342400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DLa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"13e8aec5-8d24-47d5-a6b9-e85b0412192b","type":"message","user":"UEB17JJJE","text":"hrsh7thさんのおかげでだいぶすっきりしました","ts":"1592278036.344200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ycxS/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fa999ebe-2b27-4ad9-bc17-50aa21702884","type":"message","user":"U8R597E9H","text":"_自分としてはキーにドット入ってたらどうすんねんっていう部分が気持ち悪くてものすごくもにょっています。。。_ よかったです。","ts":"1592278415.344900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"irWV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"071872dd-d7e4-49a9-afc3-ddee4ca39e20","type":"message","user":"UEB17JJJE","text":"やっぱりこのissueを足がかりに色々解決していかなければいけない気がします。。。\n<https://github.com/microsoft/language-server-protocol/issues/567|https://github.com/microsoft/language-server-protocol/issues/567>","ts":"1592285239.345900","attachments":[{"fallback":"GitHub: Spec should discourage abuse of initializationOptions and didChangeConfiguration · Issue #567 · microsoft/language-server-protocol","id":1,"title":"Spec should discourage abuse of initializationOptions and didChangeConfiguration · Issue #567 · microsoft/language-server-protocol","title_link":"https://github.com/microsoft/language-server-protocol/issues/567","text":"I&amp;#39;m working on having Eclipse IDE adopting some language servers. I see a possible bad trend for Language Servers to heavily rely on initializationOptions and didChangeConfigurations to enable/...","thumb_url":"https://avatars2.githubusercontent.com/u/6154722?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/microsoft/language-server-protocol/issues/567","original_url":"https://github.com/microsoft/language-server-protocol/issues/567"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B450e"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
