[{"client_msg_id":"7db92b5b-3695-41bd-869a-5f905ac9ff82","type":"message","user":"U8R597E9H","text":"2 個目は <http://eclipse.jdt.ls|eclipse.jdt.ls> と同じ問題ですよね。。。（なんでコマンドの引数に code action を入れてくるのか。。。）\nこれ、coc とかがどうハンドリングしてるかそろそろ見ないと辛いですね。。。","ts":"1582988432.393100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T=HPm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aa9a8487-eed4-4985-8cd7-e5b7bc1dc295","type":"message","user":"U03C6TEAZ","text":"これって response で返ってきてますか？ <https://vim-jp.slack.com/archives/CQ57P4XU4/p1582988059387700>","ts":"1582988438.393200","attachments":[{"fallback":"[February 29th, 2020 6:54 AM] hrsh7th: `Insert explici type 'File'` を選ぶと、\n\n```{\n\t\"title\": \"Insert explicit type 'File'\",\n\t\"command\": {\n\t\t\"arguments\": [{\n\t\t\t\"label\": \"Insert explicit type 'File'\",\n\t\t\t\"cursorPosition\": null,\n\t\t\t\"workspaceEdit\": {\n\t\t\t\t\"documentChanges\": [{\n\t\t\t\t\t\"edits\": [{\n\t\t\t\t\t\t\"range\": {\n\t\t\t\t\t\t\t\"end\": {\n\t\t\t\t\t\t\t\t\"character\": 12,\n\t\t\t\t\t\t\t\t\"line\": 3\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"start\": {\n\t\t\t\t\t\t\t\t\"character\": 12,\n\t\t\t\t\t\t\t\t\"line\": 3\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"newText\": \": File\"\n\t\t\t\t\t}],\n\t\t\t\t\t\"textDocument\": {\n\t\t\t\t\t\t\"uri\": \"file:///Users/.../misc/rust/src/main.rs\",\n\t\t\t\t\t\t\"version\": null\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t}\n\t\t}],\n\t\t\"title\": \"Insert explicit type 'File'\",\n\t\t\"command\": \"rust-analyzer.applySourceChange\"\n\t}\n}```\nこれが返ってきてます。\nこれ、LSP のスペックでいうと「ただのコマンドを表す CodeAction」なので、こっちがこけるのはちょっと解せないです。。。","id":1,"author_id":"U8R597E9H","author_name":"hrsh7th","author_subname":"hrsh7th","author_link":"https://vim-jp.slack.com/team/U8R597E9H","author_icon":"https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png","text":"`Insert explici type 'File'` を選ぶと、\n\n```{\n\t\"title\": \"Insert explicit type 'File'\",\n\t\"command\": {\n\t\t\"arguments\": [{\n\t\t\t\"label\": \"Insert explicit type 'File'\",\n\t\t\t\"cursorPosition\": null,\n\t\t\t\"workspaceEdit\": {\n\t\t\t\t\"documentChanges\": [{\n\t\t\t\t\t\"edits\": [{\n\t\t\t\t\t\t\"range\": {\n\t\t\t\t\t\t\t\"end\": {\n\t\t\t\t\t\t\t\t\"character\": 12,\n\t\t\t\t\t\t\t\t\"line\": 3\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"start\": {\n\t\t\t\t\t\t\t\t\"character\": 12,\n\t\t\t\t\t\t\t\t\"line\": 3\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"newText\": \": File\"\n\t\t\t\t\t}],\n\t\t\t\t\t\"textDocument\": {\n\t\t\t\t\t\t\"uri\": \"file:///Users/.../misc/rust/src/main.rs\",\n\t\t\t\t\t\t\"version\": null\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t}\n\t\t}],\n\t\t\"title\": \"Insert explicit type 'File'\",\n\t\t\"command\": \"rust-analyzer.applySourceChange\"\n\t}\n}```\nこれが返ってきてます。\nこれ、LSP のスペックでいうと「ただのコマンドを表す CodeAction」なので、こっちがこけるのはちょっと解せないです。。。","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #lsp","ts":1582988059.387700,"from_url":"https://vim-jp.slack.com/archives/CQ57P4XU4/p1582988059387700","original_url":"https://vim-jp.slack.com/archives/CQ57P4XU4/p1582988059387700"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S6aJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"896ef460-9f7e-4023-92f2-fdab9c393f4d","type":"message","user":"U03C6TEAZ","text":"それとも notification?","ts":"1582988450.393600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wCj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8037f02f-0560-473a-abf6-8a0acdc1dde9","type":"message","user":"U8R597E9H","text":"↑ の JSON は `s:handle_code_action` で `a:command_or_code_action` を log に吐いたものなので、 `textDocument/codeAction` の戻り値に入っていたものです。","ts":"1582988551.395000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4xim2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4ff4f1d3-44ea-4b73-9539-a1da033a875f","type":"message","user":"UEB0VGD7E","text":"すみません。よくわかっていないのですが、これって関係ありますか？\n<https://github.com/autozimu/LanguageClient-neovim/pull/815>","ts":"1582988563.395100","attachments":[{"fallback":"GitHub: Add client-side support for \"rust-analyzer.applySourceChange\"  by JeanMertz · Pull Request #815 · autozimu/LanguageClient-neovim","id":1,"title":"Add client-side support for \"rust-analyzer.applySourceChange\"  by JeanMertz · Pull Request #815 · autozimu/LanguageClient-neovim","title_link":"https://github.com/autozimu/LanguageClient-neovim/pull/815","text":"The rust-analyzer language server requires the clients to implement a custom source change operation. This is similar to the already existing &amp;quot;java.apply.workspaceEdit&amp;quot; functionality in t...","thumb_url":"https://avatars2.githubusercontent.com/u/1453551?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/autozimu/LanguageClient-neovim/pull/815","original_url":"https://github.com/autozimu/LanguageClient-neovim/pull/815"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"m9F"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7cf3048b-f6c1-4475-9a58-224b4808b319","type":"message","user":"U8R597E9H","text":"めっちゃ関係あります。","ts":"1582988641.395500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cI2m"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c5607e7a-7dda-49f1-a1ee-0b3f97acc339","type":"message","user":"UEB0VGD7E","text":"お、ほんとですか","ts":"1582988663.395800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c9S7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"62a24de1-b7a6-4dae-a5f8-e52bba3aa2af","type":"message","user":"U03C6TEAZ","text":"これって特別対応？","ts":"1582988690.396200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VwSvF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"40e34932-b039-43ed-a7d0-56979d5fdb30","type":"message","user":"U8R597E9H","text":"ただ、こんなのがまかり通っているのか。。。です。特別対応ではあります。","ts":"1582988703.396500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yFybs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cccc0744-e058-4c08-adf8-29402a47f995","type":"message","user":"U03C6TEAZ","text":"<https://github.com/autozimu/LanguageClient-neovim/pull/815/files#diff-27ebfa082188b80aa07414ddf00c884eR829-R837>","ts":"1582988719.397000","attachments":[{"fallback":"GitHub: Add client-side support for \"rust-analyzer.applySourceChange\"  by JeanMertz · Pull Request #815 · autozimu/LanguageClient-neovim","id":1,"title":"Add client-side support for \"rust-analyzer.applySourceChange\"  by JeanMertz · Pull Request #815 · autozimu/LanguageClient-neovim","title_link":"https://github.com/autozimu/LanguageClient-neovim/pull/815/files#diff-27ebfa082188b80aa07414ddf00c884eR829-R837","text":"The rust-analyzer language server requires the clients to implement a custom source change operation. This is similar to the already existing &amp;quot;java.apply.workspaceEdit&amp;quot; functionality in t...","thumb_url":"https://avatars1.githubusercontent.com/u/383250?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/autozimu/LanguageClient-neovim/pull/815/files#diff-27ebfa082188b80aa07414ddf00c884eR829-R837","original_url":"https://github.com/autozimu/LanguageClient-neovim/pull/815/files#diff-27ebfa082188b80aa07414ddf00c884eR829-R837"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E4r3D"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"61c4a646-9edd-4123-b872-78c479eea734","type":"message","user":"U03C6TEAZ","text":"ここワロス","ts":"1582988722.397300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hXFU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cad8c934-16e2-4dd5-9fda-0ca1c1050c80","type":"message","user":"U8R597E9H","text":"どっかに明文化されてればギリギリ納得できるので探します。","ts":"1582988724.397400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fxo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"656197fa-37ee-4333-b3d5-bef8c6efc029","type":"message","user":"UEB0VGD7E","text":"となると、これもですかね。\n<https://github.com/neoclide/coc.nvim/issues/1124>","ts":"1582988753.397700","attachments":[{"fallback":"GitHub: Support local source changes for rust-analyzer · Issue #1124 · neoclide/coc.nvim","id":1,"title":"Support local source changes for rust-analyzer · Issue #1124 · neoclide/coc.nvim","title_link":"https://github.com/neoclide/coc.nvim/issues/1124","text":"I&amp;#39;m looking into making the rust-analyzer LSP work as much as possible with Coc. Everything mostly works out of the box, except that the server does not support workspace/executeCommand, and so...","thumb_url":"https://repository-images.githubusercontent.com/131770422/11ead600-81d9-11e9-8028-45f8617ba5bd","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":527,"thumb_height":250,"from_url":"https://github.com/neoclide/coc.nvim/issues/1124","original_url":"https://github.com/neoclide/coc.nvim/issues/1124"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pv0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"adc62969-b07f-40c8-9caf-219a6be633f7","type":"message","user":"U03C6TEAZ","text":"```            \"java.apply.workspaceEdit\" =&gt; {\n                if let Some(ref edits) = cmd.arguments {\n                    for edit in edits {\n                        let edit: WorkspaceEdit = from_value(edit.clone())?;\n                        self.apply_WorkspaceEdit(&amp;edit)?;\n                    }\n                }\n            }\n            \"rust-analyzer.applySourceChange\" =&gt; {```","ts":"1582988767.398000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MuPQf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6f889a2c-4646-4097-ac6e-6ec50fa1dc71","type":"message","user":"U03C6TEAZ","text":"こんなのいいのかw","ts":"1582988772.398200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2nuP2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"876d5643-5c8f-490f-a227-3d7ac207d093","type":"message","user":"U8R597E9H","text":"やっぱ、それですよね。。。mattn さんが搭載しようとしていた機能ｗ thoma… さんに「それは標準仕様ではない」と言われてましたね。僕もそう思っていましたが、こう立て続けにきちゃうと。。。","ts":"1582988830.399000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5en"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"495aef0e-dcc1-4f97-92ce-a4d3e7e58d3e","type":"message","user":"U8R597E9H","text":"そもそも、プロトコル上、コードアクションで textEdit を返すことはゆるされてるんだから、そのまま返してくれればいいのにｗ","ts":"1582988857.399700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s0u"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"614e9c3c-6a06-46b6-8353-7c2e3e98c7d8","type":"message","user":"U8R597E9H","text":"<https://github.com/rust-analyzer/rust-analyzer/issues/1232#issuecomment-489314885>\nありました。「TextEdit ではカーソル位置を指定できないため、クライアント側の実装が必要であるということにしている」とのことです。","ts":"1582988961.400400","edited":{"user":"U8R597E9H","ts":"1582988977.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kiF5u"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c6ad0d08-ee92-4c37-a440-2d0b163cfdd3","type":"message","user":"U03C6TEAZ","text":"僕はどっちかというと、arguments がある様なコマンドはサーバに返送する様な物じゃないから vim-lsp で実行しよう、みたいな PR だった気がする。","ts":"1582989014.401300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bTr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7142b03e-7237-473b-b260-7ec4d2e779c5","type":"message","user":"U8R597E9H","text":"vim-lsp に registerCommand を実装すればいいのかな。","ts":"1582989025.401400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9kc3C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a31cf927-2b0f-4d43-8b16-007118c9107d","type":"message","user":"U03C6TEAZ","text":"それはアリですね。そして vim-lsp-settings の仕事。","ts":"1582989047.401800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KPVBP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"75a4aaf6-3532-4fd2-9695-ca38507e7c5e","type":"message","user":"U03C6TEAZ","text":"prabir 氏は hook として入れようって言ってたけど、無視していいと思う。","ts":"1582989073.402300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ijigo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd499553-d4b1-4699-b69d-0284d77c69f1","type":"message","user":"U8R597E9H","text":"rust-analyzer の vscode client はやっぱり自前で追加してますねー。\n<https://github.com/rust-analyzer/rust-analyzer/blob/master/editors/code/src/main.ts#L85>","ts":"1582989143.402800","attachments":[{"fallback":"GitHub: rust-analyzer/rust-analyzer","id":1,"title":"rust-analyzer/rust-analyzer","title_link":"https://github.com/rust-analyzer/rust-analyzer/blob/master/editors/code/src/main.ts#L85","text":"An experimental Rust compiler front-end for IDEs. Contribute to rust-analyzer/rust-analyzer development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/43985197?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/rust-analyzer/rust-analyzer/blob/master/editors/code/src/main.ts#L85","original_url":"https://github.com/rust-analyzer/rust-analyzer/blob/master/editors/code/src/main.ts#L85"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j1qF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2157cddd-d38a-45e8-bdc3-2145581a8648","type":"message","user":"U03C6TEAZ","text":"正しさとは。。。","ts":"1582989174.403500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"btj9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b9aaf2d7-2794-4ead-a5e8-faf42560d022","type":"message","user":"U8R597E9H","text":"コマンド周りは世界観謎すぎて嫌ですね。。。それ以外は結構いいプロトコルなのに。。。(T_T)","ts":"1582989210.404100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gzfs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"69fc94b4-1652-43d4-b2bb-83843e31bb1b","type":"message","user":"U03C6TEAZ","text":"registerCommand が一番皆が納得行くと思います。","ts":"1582989278.404600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y/tZQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ee8fa06c-68a3-4cdd-adc1-4b27645f9906","type":"message","user":"U8R597E9H","text":"今、vim-lsp って register_notification とかいうのがあるのか。。。知らなかった。\nlsp#register_{server,command,notification} になる感じになりそうですね。","ts":"1582989393.405900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B1LWN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9459b52-10fd-4182-a8c0-99c663652bb0","type":"message","user":"U03C6TEAZ","text":"```call lsp#register_command('rust-analyzer.applySourceChange', function('s:xxx'))```","ts":"1582989397.406000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IPqD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c02fc8a-abe3-4e59-81a9-3a1019f9a1d2","type":"message","user":"U03C6TEAZ","text":"あ、はい。","ts":"1582989401.406200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8afm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d031cb8-3cf2-4178-86b2-8216d3a985f1","type":"message","user":"U03C6TEAZ","text":"既にコード弄ってます？(であれば僕は引きます)","ts":"1582989508.407100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LE4Kj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"032b27b0-80aa-4b72-a478-8566b93e30cb","type":"message","user":"U8R597E9H","text":"あ、register_command 対応やります！すいません。","ts":"1582989749.407700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"b3l"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6a49efbe-87c9-410b-934e-d03e5af871df","type":"message","user":"U03C6TEAZ","text":"お願いします:bow:","ts":"1582989845.408100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6cXg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac079b1d-4756-4260-b831-8d0dc35a44bb","type":"message","user":"U03C6TEAZ","text":"そして動いた rust のコールバック、vim-lsp-settings に下さいw","ts":"1582989915.409500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Evl5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b2d0924-2263-4bd4-a561-5b5da18614fa","type":"message","user":"U03C6TEAZ","text":"これ動いたら sqls でクエリ投げたらテーブル表示するの作れるな。","ts":"1582990016.410100","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["U80CX6XDZ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c/QC1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"41fd6d60-aaef-4af0-88bc-16e931312856","type":"message","user":"U8R597E9H","text":"はいｗ","ts":"1582990386.410300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fRHI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d2f90649-c519-4f76-b453-16d79ca2b1ac","type":"message","user":"UAZ33BKV2","text":"おもわぬところから知見が","ts":"1582991103.410500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e0U"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2e7dc751-192e-4a86-81fe-f2197f7b3ad2","type":"message","user":"U03C6TEAZ","text":"知見というかルール違反というかw","ts":"1582991215.410800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XUK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"270055e0-60e3-4c50-84c3-88e5e5ad7497","type":"message","user":"U03C6TEAZ","text":"うぉーーー、あった！","ts":"1582991558.411000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N0Hro"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5107aaa9-be46-4e59-97f5-1288cc225c2f","type":"message","user":"U03C6TEAZ","text":"```Represents a reference to a command. Provides a title which will be used to represent a command in the UI. Commands are identified by a string identifier. The recommended way to handle commands is to implement their execution on the server side if the client and server provides the corresponding capabilities. Alternatively the tool extension code could handle the command. The protocol currently doesn’t specify a set of well-known commands.```","ts":"1582991562.411200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XsW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e48bf32e-49ab-4e70-a2df-6a06b6c6dbaa","type":"message","user":"U03C6TEAZ","text":"この後半だw","ts":"1582991566.411400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0Pn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"db9fb906-5070-4512-965f-3299a168382a","type":"message","user":"U03C6TEAZ","text":"&gt; Alternatively the tool extension code could handle the command. The protocol currently doesn’t specify a set of well-known commands.\n","ts":"1582991581.411600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YBCzD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b4fc65e7-78ea-44d1-9f2f-a5d93ff632be","type":"message","user":"U03C6TEAZ","text":"結構読んだと思ってたけどなぁ。","ts":"1582991626.412100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HZlE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cc7fb0e0-7617-421d-a088-35fc67b502b6","type":"message","user":"U8R597E9H","text":"3.15 から追加された疑惑が高い。。。","ts":"1582991654.412400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ydn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f1070e91-c63f-42a6-a07b-483c62eb7e3d","type":"message","user":"U03C6TEAZ","text":"3.14 も記述あるぽい。","ts":"1582991702.412700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BJ+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4ba0898c-d0c5-4e62-90b1-dfbd47d64e4a","type":"message","user":"U03C71D7H","text":"vim-lsp のコード弄ろうとしたけど、これ LSP の仕様書全部読まないと無理だな、となった","ts":"1582991749.413600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yn7j"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f83306d6-333c-49ac-a2aa-d6ad1782c63e","type":"message","user":"U8R597E9H","text":"あれー。じゃあ、ツール向けの拡張コマンドを返す。は一応仕様的に合法なのか。。。ええ。。。どういうプロトコル。。。","ts":"1582991773.414100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LScb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8e31c965-6af1-4097-a625-c7c8f4257e58","type":"message","user":"U03C6TEAZ","text":"w","ts":"1582991785.414300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SOg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bc8523b1-f798-47b3-82e6-be516d31084f","type":"message","user":"U03C6TEAZ","text":"まぁ結果いい話。","ts":"1582991812.414700","team":"T03C4RC8V","reactions":[{"name":"subara","count":1,"users":["UEB0VGD7E"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3fAOK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2e94dcdc-993a-43f3-90f3-74f9c85f3b40","type":"message","user":"U8R597E9H","text":"そうですね。coc や vscode だけがやっている状態からは脱せそうです。\n_今実装してて気づいたのですが、このコマンドからは完全なるアンドキュメンテッド世界に突入しますね。LS 側も特殊コマンドの仕様をどこにも書いていない_","ts":"1582992069.416300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=p=eI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6d6abd50-936d-431f-9636-ca9197dca082","type":"message","user":"U03C6TEAZ","text":"&gt; The protocol currently doesn’t specify a set of well-known commands.\nですからね","ts":"1582992102.416500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qWK2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1e442fe5-693c-45e3-9b65-ccef84f28a5f","type":"message","user":"U03C6TEAZ","text":"さっきの↑のリンク先のコードも applyEdit 使ったり JSON パースしてたり様々だった。","ts":"1582992142.417300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xxXI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"25fa2128-7a02-49db-a641-79f4c53bd4ad","type":"message","user":"U8R597E9H","text":"おっ 動いた","ts":"1582992925.417500","team":"T03C4RC8V","reactions":[{"name":"sokudo","count":3,"users":["U03C6TEAZ","UEB0VGD7E","U78A6ESHM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hrmd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b3a6fac0-490f-4932-9b8a-7ec8a784069b","type":"message","user":"U8R597E9H","text":"英語書くのが今日は調子が悪くてよくわからないことを書いている気がしますが PR 出しました。","ts":"1582994128.418100","team":"T03C4RC8V","reactions":[{"name":"+1","count":2,"users":["U03C6TEAZ","U78A6ESHM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KaM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1f559e7e-b4d9-49a4-bc90-afa1a368555f","type":"message","user":"U03C6TEAZ","text":"なぜ `lsp#register_notifications` の `s` を付けてしまったんだ感がある。","ts":"1582995049.418800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7pR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2ab141f-f41b-47e4-ae73-d066a088e1cc","type":"message","user":"U8R597E9H","text":"Capbility 見たほうがいいか考えていましたが、ファイル分けてしまったので多分見たほうがよさそうですね。追加します。\nそれ、ちょっと思いました。せっかく並んでるのに美しさがｗ","ts":"1582995221.419900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BzPN+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28c6044e-78de-4e3b-9768-4fb8131e6936","type":"message","user":"U03C6TEAZ","text":"prabir から「良さそう」でたので既存壊さないし言われたサンプル載せてマージしちゃいましょう。","ts":"1583027908.421600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jaej"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb7716a9-2182-4f25-a1f6-8eef86019488","type":"message","user":"UAZ33BKV2","text":"flask8追加をマージ","ts":"1583030623.422100","thread_ts":"1583030623.422100","reply_count":5,"replies":[{"user":"U7TMPGWJ0","ts":"1583108096.435100"},{"user":"UAZ33BKV2","ts":"1583109098.435300"},{"user":"U7TMPGWJ0","ts":"1583109287.435600"},{"user":"U7TMPGWJ0","ts":"1583109311.435800"},{"user":"UAZ33BKV2","ts":"1583110193.436000"}],"team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U78A6ESHM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jYsEe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"395fb453-0692-43c5-bcdc-b0bbbac4a435","type":"message","user":"UEB0VGD7E","text":"すいません。\n <@U8R597E9H> さんが今出されてるpr、doc/vim-lsp.txtのこの行で、\npositionのスペルが違うのと、_lsp__to_vimの第一引数が足りないように見えています。\n```        call cursor(lsp#utils#positoin#_lsp_to_vim(l:cursor_position))```\n","ts":"1583042127.425900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zQis="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cb2366a8-f0a3-4351-861a-cfbd0eb87f3c","type":"message","user":"U8R597E9H","text":"ああ、そこ自分の動作確認だとたしかに通ってなかった","ts":"1583042174.426800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nuQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33d3025d-4a6f-483d-8bea-8ce0c9920b51","type":"message","user":"U8R597E9H","text":"ありがとう御座います！","ts":"1583042188.427100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XKl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"774b12d9-2ab0-4a34-87e1-08d17fc7c0c0","type":"message","user":"U8R597E9H","text":"家に帰ったら直します。","ts":"1583042194.427500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yCNjp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8c2b48d5-2b1a-442f-be1b-d2ea10b1261c","type":"message","user":"UAZ33BKV2","text":"prettier追加","ts":"1583042216.428100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Gm1zJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"289d2000-e26f-4bd9-81d2-55348d85792e","type":"message","user":"UEB0VGD7E","text":"いえいえ。こちらこそありがとうございます。\nかなり快適になりました。","ts":"1583042228.428300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hWYb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5635a312-ec01-47d8-ae68-ef5f41363816","type":"message","user":"U78A6ESHM","text":"prettier-vim","ts":"1583042388.428500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bGBR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e1882f35-752d-4e89-9714-0949db98cb12","type":"message","user":"U8R597E9H","text":"ずっと謎だったコマンド世界観も理解できてスッキリしました。","ts":"1583043962.429100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zUhwU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7be3c06f-e5ff-43e7-9919-910118993ef9","type":"message","user":"U03C6TEAZ","text":"件の pr がマージされたらこちらもマージします。 <https://github.com/mattn/vim-lsp-settings/pull/182>","ts":"1583061655.429800","attachments":[{"fallback":"GitHub: Add client-side commands by mattn · Pull Request #182 · mattn/vim-lsp-settings","id":1,"title":"Add client-side commands by mattn · Pull Request #182 · mattn/vim-lsp-settings","title_link":"https://github.com/mattn/vim-lsp-settings/pull/182","text":"See prabirshrestha/vim-lsp#735","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/vim-lsp-settings/pull/182","original_url":"https://github.com/mattn/vim-lsp-settings/pull/182"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0uRR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d48ca1be-77f7-4d9e-8842-1159a514fb3e","type":"message","user":"U03C6TEAZ","text":"```LspRegisterServer  {\n\\}```\nじゃなくて\n```LspSettingSetup lsp#register_server({\n\\})```\nとかにすればよかったなぁ。","ts":"1583069650.431000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o59Lp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9aa43931-4290-4567-8120-74ec7565ad6c","type":"message","user":"U03C6TEAZ","text":"まぁいずれやるか。","ts":"1583069667.431200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VQC5b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1be1665c-ea71-43c3-b97e-2c659a80cd26","type":"message","user":"UAZ33BKV2","text":"むずかしいですね、こういうIFの設計","ts":"1583070024.431600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zIC/k"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b0fad5e3-6f84-4bb5-bbb3-de8fbb2f5cd1","type":"message","user":"U03C6TEAZ","text":"ですね。 lsp#register_server も足したいとなった今気づいた。","ts":"1583070055.432100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ewO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
