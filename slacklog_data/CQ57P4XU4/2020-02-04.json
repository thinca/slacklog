[{"client_msg_id":"7aec173f-e512-4ea3-a69b-ea9944b34743","type":"message","user":"U8996GYBF","text":"cocでgoどう書くのがいいか調べてたんですが、efm-langserverでgolangci-lintが簡単に動いてくれて助かりました、mattnさんありがとうございます\n```languages:\n  go:\n    lint-command: \"golangci-lint run\"```","ts":"1580810016.076600","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":2,"users":["U03C6TEAZ","UEX9VPSET"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ktj4s"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"32fb5544-0acd-421d-8670-81a042b90279","type":"message","user":"U8996GYBF","text":"見た感じcoc-goだとlintしてくれなさそうだったんでとても助かる気がする","ts":"1580810146.077400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RsI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"94d6eb5b-5ea0-48cc-a28c-bbd230c15997","type":"message","user":"U03C6TEAZ","text":"gometalinter はちょっと強めの linter すね。","ts":"1580810156.077500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Obo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"db6fe9c5-432b-40d9-bab1-5480f5391e0d","type":"message","user":"U8996GYBF","text":"あー、みたいですね\n調べてrcファイルで最低限だけ有効にしてみてるんですけど","ts":"1580810195.078000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BT9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2299e4bf-56a8-472f-9626-20b81f425561","type":"message","user":"U8996GYBF","text":"coc-goでオプショナルでも設定できればよさそうだったんだけど、コンパイルエラー以外はできなさそう・・・？な予感がした","ts":"1580810224.078600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AOf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"F2407AAD-CDDA-48DA-A66A-76E15B0EDD1C","type":"message","user":"U7TMPGWJ0","text":"普通にcoc-goでgoplsのlintでますよー","ts":"1580810448.080100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c0q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"839b2eaa-4659-41c3-8315-973a61c52a4c","type":"message","user":"U8996GYBF","text":"あれ、インデントのずれとか教えて貰えなかったですけど設定あります・・・？","ts":"1580810509.081200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v8PN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"902568b9-7a02-45cf-a4b3-195bd7c72caa","type":"message","user":"U03C6TEAZ","text":"濃い目の奴は gometalinter すね。","ts":"1580810531.081600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uTLtP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fc53d84e-11d3-45d4-a57a-94c021d48279","type":"message","user":"U03C6TEAZ","text":"ある程度は gopls で行けますが。","ts":"1580810552.082000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AESP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4e373fd1-83c3-4b1a-8183-eba5ccb507b2","type":"message","user":"U8996GYBF","text":"gometalinter &gt; gopls &gt; コンパイルエラー\nみたいな感じなのかな","ts":"1580810597.082500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"15tCr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6154e3f1-efb5-4260-84c3-f638f17855c1","type":"message","user":"U78A6ESHM","text":"gometalinter archived...","ts":"1580810614.082700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EsIN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16a5e5d0-28ac-467d-ad1c-1f5e4719347d","type":"message","user":"U8996GYBF","text":"なんか移行したっぽい空気を感じながら（golangci-lintを）試してた <https://ponde-m.hatenablog.com/entry/2019/03/24/230333>","ts":"1580810854.084600","edited":{"user":"U8996GYBF","ts":"1580811086.000000"},"team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z2="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"03952dff-4795-46db-8a64-41a5f9ae3f60","type":"message","user":"UNJ2DANJC","text":"チーム開発とかある程度の規模なら多少のルールカスタマイズは必須ですがほぼgolangci-lint入れたほうがいいと思います。数え切れないくらいの回数救われました。","ts":"1580816604.087800","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GVEt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bde04440-b4bf-460d-af13-1133a6adda4b","type":"message","user":"U78A6ESHM","text":"正しそう。","ts":"1580816622.088000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vdd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2e6c709c-4037-421f-bff0-846b321bc0a6","type":"message","user":"U78A6ESHM","text":"そういえばお仕事の環境(Django)で jedi がやっぱりどうも辛い(補完がクソ遅い上に出ない)ので、pyls-ms にしてみたけど、async な分、. 打つたびに固まるのはなくなったくらいでした。やっぱスクリプト言語で黒魔術バリバリ系は補完は厳しい。","ts":"1580816754.090100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cTZCB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"11a43459-d46b-4b29-917c-43edb6830be6","type":"message","user":"UL6CFN8NR","text":"<#CJMV3MSLR|question> に投稿されていた <@U78UYGX8W> さんの質問を僕が流しちゃったみたいで申し訳ないので，LSP まわりということでこちらに共有しておきます\n詳しい方，どなたかお願いします...（自分は分からないという）\n<https://vim-jp.slack.com/archives/CJMV3MSLR/p1580818858459000>","ts":"1580823076.091400","thread_ts":"1580823076.091400","attachments":[{"fallback":"[February 4th, 2020 4:20 AM] bamchoh: 質問です。vim-lsp の `:LspDefinition` を以下のコードの main()中のfoo()の位置で実行したところ、候補が2つ表示されるようでしたが、これはなぜなのでしょうか？\n```package main\n\nimport \"fmt\"\n\nfunc foo() {\n\tfmt.Println(\"hello\")\n}\n\nfunc main() {\n\tfoo() // ← ここにカーソルがある状態で `:Lsp Definition` を実行\n}```\n表示された候補は以下の2つです。\n```\\dev\\go\\test_lspdefinition\\main.go|5 col 6| func foo() {\n\\dev\\go\\test_lspdefinition\\main.go|3 col 8| import \"fmt\"```\nfoo() の定義は1つなので、即時ジャンプするのかな？と思っていたんですが、そういうコマンドではないのでしょうか？","id":1,"author_id":"U78UYGX8W","author_name":"bamchoh","author_subname":"bamchoh","author_link":"https://vim-jp.slack.com/team/U78UYGX8W","author_icon":"https://secure.gravatar.com/avatar/175c2b6ed51169eb6ecb0b99ee47d5eb.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-48.png","text":"質問です。vim-lsp の `:LspDefinition` を以下のコードの main()中のfoo()の位置で実行したところ、候補が2つ表示されるようでしたが、これはなぜなのでしょうか？\n```package main\n\nimport \"fmt\"\n\nfunc foo() {\n\tfmt.Println(\"hello\")\n}\n\nfunc main() {\n\tfoo() // ← ここにカーソルがある状態で `:Lsp Definition` を実行\n}```\n表示された候補は以下の2つです。\n```\\dev\\go\\test_lspdefinition\\main.go|5 col 6| func foo() {\n\\dev\\go\\test_lspdefinition\\main.go|3 col 8| import \"fmt\"```\nfoo() の定義は1つなので、即時ジャンプするのかな？と思っていたんですが、そういうコマンドではないのでしょうか？","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #question","ts":1580818858.459000,"from_url":"https://vim-jp.slack.com/archives/CJMV3MSLR/p1580818858459000","original_url":"https://vim-jp.slack.com/archives/CJMV3MSLR/p1580818858459000"}],"reply_count":2,"replies":[{"user":"UL6CFN8NR","ts":"1580824217.095700"},{"user":"U78UYGX8W","ts":"1580830062.105700"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y5dG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U78UYGX8W","text":"<@U78UYGX8W> has joined the channel","ts":"1580823092.091700","subtype":"channel_join","inviter":"UL6CFN8NR","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"59562bbd-c95f-498d-8976-ff285ff59942","type":"message","user":"U8R597E9H","text":"これ再現しなかったんですよね…。 gopls version するとバージョンいくつになってますか？","ts":"1580823246.093000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hs2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7dc1e1d3-081a-46be-9d8c-d50fceae40f9","type":"message","user":"U03C6TEAZ","text":"```C:\\Users\\mattn\\go\\src\\<http://github.com|github.com>\\mattn\\misc\\def&gt;gopls symbols main.go:10:2\nfoo Function 5:6-5:9\nmain Function 9:6-9:10```\nこう出てるのでバージョン違いかな？","ts":"1580823365.093700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xlr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"42a1a085-a4d0-4f99-a0f0-5a64107bdd24","type":"message","user":"U7TMPGWJ0","text":"`\\dev\\go\\test_lspdefinition\\main.go`  って表示されてるってことは GOPATH が go のディレクトリなのでしょうかね。かなり上の上のほうのディレクトリが root_uri になってるってことなのでしょうかね？","ts":"1580823719.094900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4TZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c6406bf7-83cd-4028-a750-00882ebf9f28","type":"message","user":"U8R597E9H","text":"おお。root_uri 説もありえそうですね。","ts":"1580823781.095500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EhC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"45529dcc-797b-42fe-a67b-844ed8792598","type":"message","user":"UL6CFN8NR","text":"<@U78UYGX8W> 勝手に <#CQ57P4XU4|lsp> チャンネルに追加してしまいました．もしご迷惑だったら申し訳ないです，そのときは適当に退出などしていただければ...","ts":"1580824217.095700","thread_ts":"1580823076.091400","parent_user_id":"UL6CFN8NR","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D5Ui"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6c893625-69f7-405e-b9e6-aa4e090acd3c","type":"message","user":"U7TMPGWJ0","text":"`:LspDefinition` じゃなくて `LspDocumentSymbol` をしてしまってるとしても再現はできないですね。なんでしょう。 `func foo() {` が候補に出てるのは更に一体なんでしょう...","ts":"1580824982.097000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"w9QL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"25c3bf1e-0b34-4efc-8897-b033ff5b6661","type":"message","user":"U8R597E9H","text":"あ、そうか、main が出るのがそもそもおかしいんだから root_uri 説よりもバージョン説のほうが強いか","ts":"1580825162.098500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DZPfn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"361f4e8e-7f04-4bea-a970-dccbab12d96e","type":"message","user":"U0M7GCBPD","text":"vim language server でも関数にジャンプする時2つ候補があって location list 出る時あるんだよな","ts":"1580825339.098800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1lUB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c38ab1b1-817f-4f68-8763-36a0df5c6f78","type":"message","user":"U03C6TEAZ","text":"あるとしたら diagnostics がまざった？","ts":"1580825470.099300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"t38S"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"91c48a6c-4d02-4f58-a7b5-2ccc0e102c3c","type":"message","user":"U03C6TEAZ","text":"`:w` かなんかで fmt が事後に追加されて、diagnostics が非同期で走って location list に追加された。でも vim-lsp は自動では lopen には突っ込まない。 `LspDocumentDiagnostics` を実行したら入る。","ts":"1580825543.100600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9gre"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"08c74b82-ccdf-4151-a38c-a3ca9d517b1a","type":"message","user":"U7TMPGWJ0","text":"`:LspDefinition` は候補が複数ある場合は \"行レベル\" の表示になるようなので `:LspDefinition` での結果がそうなったのはたしかなのかもしれませんね。vim-language-serverだと辞書型の変数なんかでやれば複数出るし、typescript-language-serverだとnode_modules内の typescript や `@types` の中の複数が出たりするしで確認済み。ただ、やはり↑のGoのは再現はできない...","ts":"1580827122.101200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HJB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
