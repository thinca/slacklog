[{"client_msg_id":"35e8863d-459c-458b-8048-8f67b4fd410c","type":"message","user":"UGXMRNBUM","text":"うーん、相変わらずvim-lspとfzf.vimの組み合わせでpopup windowが空のまま死ぬな…","ts":"1585928495.190600","edited":{"user":"UGXMRNBUM","ts":"1585928545.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vsVh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c1f92fd2-fed6-4786-88a8-983e0ab547ef","type":"message","user":"UGXMRNBUM","text":"何かしらのソース上のエラーがある状態でファイルを保存して、\ndiagnosticsが報告されるくらいのタイミングで fzf を開くと再現する…","ts":"1585930574.192200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q=HZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3b2c0ab0-132f-4ffb-87b9-cc6bc8aa7c7d","type":"message","user":"UGXMRNBUM","text":"つらい","ts":"1585930575.192400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cPxD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1b9ae0e6-3d5d-42a1-ab6c-df23182ce0cf","type":"message","user":"UGXMRNBUM","text":"今日は寝よう…","ts":"1585930582.192600","team":"T03C4RC8V","reactions":[{"name":"otz","count":1,"users":["U78A6ESHM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uStkz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f13eb213-a004-40bb-bd1a-eae617ac21b1","type":"message","user":"UGXMRNBUM","text":"再現条件がわかった。\nvim-lspがpopupでdiagnosticsのメッセージを表示している状態\n```let g:lsp_diagnostics_float_cursor = 1```\nかつ、同時にfzfがpopup windowを表示しようとしたとき\n```let g:fzf_layout = { 'window': {\n      \\ 'width': 0.6,\n      \\ 'height': 0.6,\n      \\ 'border': 'ascii'\n      \\ } }```\nに必ずエラー\n```Error detected while processing BufWipeout Autocommands for \"*\":\nE994: Not allowed in a popup window```\nとなってしまうんだ…","ts":"1585955241.194500","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Aaxi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1dd5c9dc-00ce-49e5-b75d-9e7689f3fda0","type":"message","user":"UGXMRNBUM","text":"`diagnostics_float_cursor` 、`&lt;plug&gt;(lsp-hover)` とカブってしまって邪魔になりがちだし、\nオフにしておいたほうが良いんだろうな…ちょっと使いづらすぎる","ts":"1585960026.196100","edited":{"user":"UGXMRNBUM","ts":"1585960032.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jcm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"196f94a7-1206-4c9b-9243-9e75c0543f82","type":"message","user":"UAZ33BKV2","text":"fzfかなにかが `BufWipeout` のautocmdを無制御で実行しているのかなあ?","ts":"1585960353.197000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/pA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"736aa102-b93d-480c-90d6-bc4f187b70ac","type":"message","user":"U9S4G0LJW","text":"vim-lspのポップアップ消すやつがpopup-terminal対応してなくて（最近増えましたからね、あれ）fzf出してると干渉して死ぬのかなと推測してみる","ts":"1585960682.198700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RxwX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ff88121d-cfe4-4125-8aa7-597b799f7350","type":"message","user":"U9S4G0LJW","text":"Bram氏floatwin入れてくれ～","ts":"1585960697.199100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Piru"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fc85fa0e-d54d-4965-875a-d96cdf31b494","type":"message","user":"UAZ33BKV2","text":"自前のテーブルからバッファ名を検索してるから、こっちは大丈夫なんじゃないか感あるけど...どうなんだろ","ts":"1585961425.199800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"loq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dc7d688e-872d-4d93-9679-8b83fe4835b4","type":"message","user":"U9S4G0LJW","text":"popup-terminal出してる間は制限かなりかかるのでそれかなと、何も試してないのであれですが","ts":"1585961876.200600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YvJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9218b56e-76f6-45a5-9cca-25b5169219ec","type":"message","user":"U9S4G0LJW","text":"バッファ名云々は大丈夫そう","ts":"1585961889.200900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4yeg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e1a2254d-bff7-45b2-bb9a-50166e54aafc","type":"message","user":"UAZ33BKV2","text":"あー、なるほど","ts":"1585961923.201200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7ITG1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33eae8a4-518a-47ea-8f24-42374453e486","type":"message","user":"UEA8SS1RN","text":"vim-lsp-settingsってインストール後に設定必要なのかしら。 `hoge.`と打っても補完されない。`:LspHogeHoge` という関数は生えてるのでインストールは成功してると思うんだけど。","ts":"1585999182.202700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6mR91"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4dc77097-5a06-412d-a4b5-2c3af7563dd3","type":"message","user":"U03C6TEAZ","text":"どの言語ですか？","ts":"1585999381.203100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jXldg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8018762d-b6e8-45e8-832d-18591df39d20","type":"message","user":"UEA8SS1RN","text":"Goです。","ts":"1585999425.203400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6eF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"818e9fbc-070f-4f75-9e0a-b9820dee2f5a","type":"message","user":"UEA8SS1RN","text":"neovim on linuxです。","ts":"1585999448.203800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qs9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cabe4334-de05-450b-bfc8-f40acf3fc0a9","type":"message","user":"U9S4G0LJW","text":"goplsですよね、パッケージマネージャ経由で入れてます？","ts":"1585999503.205700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qTgGa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"326c68f8-7f09-4ea2-b073-dbd0ebb25f76","type":"message","user":"U03C6TEAZ","text":"Go のファイル開いたら `:LspInstallServer するといいよ` 的なメッセージ出てくると思うんですが、実行されました？","ts":"1585999506.205800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0PMzc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9732c16c-f845-4eda-b045-23d9d70cfa35","type":"message","user":"UEA8SS1RN","text":"それはやりました。","ts":"1585999526.206700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T5wt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"809128d0-dbed-42eb-8269-cb1d634d6403","type":"message","user":"UG6DF6W87","text":"補完プラグインは何を使われてるのでしょう?","ts":"1585999533.207000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WBw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b6b3e15f-ccfd-466d-a889-acc423129a99","type":"message","user":"UEA8SS1RN","text":"LspInstallServerしかしていないので、default で goplsだと思います。","ts":"1585999562.207600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"esz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3afc9766-d537-45d0-8046-518275bf9fc6","type":"message","user":"U9S4G0LJW","text":"だったら疑うのは補完かな、という気がします","ts":"1585999676.211000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/Vwv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3146330f-9974-4bb1-b43d-b512ad41ec31","type":"message","user":"UEA8SS1RN","text":"coc使ってたのを、vim-lsp-settingsに乗り換えてるところです。","ts":"1585999709.212400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jyFt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d560430c-c4bc-4627-ab66-8306b809850c","type":"message","user":"UEA8SS1RN","text":":LspRename とかは動いています。","ts":"1585999754.214300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9AA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd133162-7ad3-42d6-bd76-eccd4c1bd753","type":"message","user":"UG6DF6W87","text":"LSP による自動補完をするためには自動補完プラグインとそのソースとしてvim-lsp を取るためのプラグインが必要ですね","ts":"1585999780.215900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lnv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d338e56-9651-4f60-a317-112b85310d1d","type":"message","user":"U9S4G0LJW","text":"普通のオムニ補完って動きます？","ts":"1585999801.216600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pOB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d08b03eb-fb20-45ac-b24c-ecb33634b1e2","type":"message","user":"UEA8SS1RN","text":"```    call dein#add('prabirshrestha/async.vim')\n    call dein#add('prabirshrestha/vim-lsp')\n    call dein#add('mattn/vim-lsp-settings', {'merged': 0})\n    call dein#add('Shougo/deoplete.nvim')\n    call dein#add('lighttiger2505/deoplete-vim-lsp')```\nインストールしています。","ts":"1585999877.218600","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TLU5+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"10120da9-e39d-4712-b3a0-c31651548b36","type":"message","user":"UEA8SS1RN","text":"オムニ補完は動いてそうです。","ts":"1586000006.219300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uHw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9c580e2c-731a-42b2-88c7-6e9dd9454525","type":"message","user":"UEA8SS1RN","text":"補完の時、どのLsp関数が呼ばれてるんだろう。","ts":"1586000529.221300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g7aGG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8fb5494d-23d0-473c-a6eb-0a84479994e6","type":"message","user":"U03C6TEAZ","text":"`:LspStatus` 見てもらえますか？","ts":"1586000559.221700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+ZS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bee4ea1c-245b-411a-8d1d-82ce13ff1dc2","type":"message","user":"UEA8SS1RN","text":"`gopls: running` ですね。","ts":"1586000587.222200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i/H"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"08615870-be46-46e8-beaa-a3e5b0bb86ad","type":"message","user":"UEA8SS1RN","text":"エラーチェック? は動いているいたいですね。適当な文字列入れるとエラーで教えてくれる。","ts":"1586000678.223200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CvPnv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4e8a095c-37b7-449d-abc4-51b4464805cf","type":"message","user":"U03C6TEAZ","text":"だとするとあとは補完エンジンの話になるんでしょうけど、僕は deoplete まったく詳しくない。","ts":"1586000692.223600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l0f"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4151a1a9-70c6-4904-8c68-3b98fb915c73","type":"message","user":"UEA8SS1RN","text":"どういうplugin入れて使われてます?","ts":"1586000736.224100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sOT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ccada8ba-4795-4792-9aa3-d0caf18ba191","type":"message","user":"UEB17JJJE","text":"deopleteだとdeoplete-vim-lspが必要なはず","ts":"1586001071.224800","edited":{"user":"UEB17JJJE","ts":"1586001104.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R4c"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ba863bb4-988a-4450-b3df-1efde634dc6b","type":"message","user":"U03C6TEAZ","text":"僕が lsp 関連で入れてるのは\n```Plug 'prabirshrestha/async.vim'\nPlug 'prabirshrestha/asyncomplete.vim'\nPlug 'prabirshrestha/asyncomplete-lsp.vim'\nPlug 'prabirshrestha/vim-lsp'\nPlug 'mattn/vim-lsp-settings'\nPlug 'mattn/vim-lsp-icons'\nPlug 'hrsh7th/vim-vsnip'\nPlug 'hrsh7th/vim-vsnip-integ'\n````","ts":"1586001139.225700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/hZS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e254d2a-6f8b-4268-894b-7cc4f41eea9b","type":"message","user":"UEA8SS1RN","text":"参考にします。","ts":"1586001181.225900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ntRNF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e06786f0-7042-473b-8b4c-eb756b79bede","type":"message","user":"UEA8SS1RN","text":"マニュアルに書いてある通り\n```    call dein#add('prabirshrestha/asyncomplete.vim')\n    call dein#add('prabirshrestha/asyncomplete-lsp.vim')\n\"    call dein#add('Shougo/deoplete.nvim')\n\"    call dein#add('lighttiger2505/deoplete-vim-lsp')```\nしたら動きました。deoplete.nvimの記述もありましたが、asyncomplete.vimの記述を取ってみました。","ts":"1586001560.227100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FWq0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd0648c3-8e58-4613-8267-c29320f60ec3","type":"message","user":"U78A6ESHM","text":"deoplate が動いてないのって msgpack のバージョン問題とかありませんでしたっけ。","ts":"1586001899.227600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pbY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"00355959-c19b-49c4-b72d-fcd8513b7bff","type":"message","user":"U78A6ESHM","text":"deoplate 使ってないからよくわかってないですけど。","ts":"1586001911.228100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fzagn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7efe3180-537d-448b-b6ba-aaaa4cfad82a","type":"message","user":"U78A6ESHM","text":"<https://github.com/Shougo/deoplete.nvim#install>","ts":"1586001921.228300","attachments":[{"fallback":"GitHub: Shougo/deoplete.nvim","id":1,"title":"Shougo/deoplete.nvim","title_link":"https://github.com/Shougo/deoplete.nvim#install","text":":stars: Dark powered asynchronous completion framework for neovim/Vim8 - Shougo/deoplete.nvim","thumb_url":"https://avatars3.githubusercontent.com/u/41495?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/Shougo/deoplete.nvim#install","original_url":"https://github.com/Shougo/deoplete.nvim#install"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8TUqg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"62a252cb-3566-4095-acdc-18c160fdba3e","type":"message","user":"UAZ33BKV2","text":"最新では解決してたとおもうのと、lspだけだったらなんかの設定不足の可能性?","ts":"1586008497.229100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zWH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
