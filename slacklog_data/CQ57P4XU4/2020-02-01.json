[{"client_msg_id":"ebca36f9-3292-457c-8dc2-f2e0816020c7","type":"message","user":"UAZ33BKV2","text":"`質問です`\nWindowsでbash-language-serverで以下のようになったのですが、回避策ありましたっけ...?\n```Failed to initialize bash-language-server with error -32603: Request initialize failed with message: EPERM: operation not permitted, scandir 'C:\\Users\\tsuyoshi\\Application Data' ```\n","ts":"1580548782.022200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HybkH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8cb4aea6-193f-4bb4-a24c-fe99d8295007","type":"message","user":"U03C6TEAZ","text":"ないです。","ts":"1580549240.022400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k=62"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b7e7b3d2-def2-4d56-99bb-0193b2d61d9d","type":"message","user":"U03C6TEAZ","text":"％USERPROFILE% より下のファイルを開くとこれになってしまうらしいです。","ts":"1580549267.022900","edited":{"user":"U03C6TEAZ","ts":"1580549281.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LMU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e7b11720-4e79-4b6e-a631-51f2b08d0ba8","type":"message","user":"UAZ33BKV2","text":"どうにもならないんでしたね...うーんくやしいw\nとりあえず確認は別にするか....","ts":"1580549718.023500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KW5A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6dff80e6-f81e-4c45-acc8-8678ad89542f","type":"message","user":"U03C6TEAZ","text":"file watcher というのがファイルの変更監視するんですがそいつが Windows の symlink 読めない子らしいんですよね。","ts":"1580549762.024300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a7OeP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bca7874d-20ff-4432-b3b6-422c0a6e6e32","type":"message","user":"U03C6TEAZ","text":"Applidation Data は AppData への symlink","ts":"1580549791.024800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"21N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cfc3c244-347b-493a-890b-8aa355223f7a","type":"message","user":"UAZ33BKV2","text":"そうだ、それで一度bash-language-server殺したんだった","ts":"1580549799.025100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jGP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"88b9d2cf-9e7b-4386-9c26-cac3fdccaa48","type":"message","user":"U03C6TEAZ","text":"<https://microsoft.github.io/language-server-protocol/implementors/servers/>","ts":"1580549860.025300","thread_ts":"1580549860.025300","attachments":[{"fallback":"Language Servers","id":1,"title":"Language Servers","title_link":"https://microsoft.github.io/language-server-protocol/implementors/servers/","text":"If you are missing a server please create a pull request in GitHub against this markdown document Language Maintainer Repository Im...","blocks":null,"service_name":"microsoft.github.io","service_icon":"https://microsoft.github.io/language-server-protocol/img/favicon.png","from_url":"https://microsoft.github.io/language-server-protocol/implementors/servers/","original_url":"https://microsoft.github.io/language-server-protocol/implementors/servers/"}],"reply_count":1,"replies":[{"user":"UEX9VPSET","ts":"1580554468.028400"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LTMt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4b21813a-bb4e-4e6b-8f00-bd3b7ba9ad18","type":"message","user":"U03C6TEAZ","text":"次はどれ行こうかなぁ。","ts":"1580549866.025700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+qAe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2df4945f-1ed4-45f3-b7a7-9ec1d0aa7d7a","type":"message","user":"UAZ33BKV2","text":"むー、Vista.vimでnearestの認識、VimEnterだと更新できてない...その後手動でやると更新される(lspは起動していても)\nなぜだ...","ts":"1580550691.027100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zzx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8592d548-9d9d-4135-9e98-648b4faf90c8","type":"message","user":"UAZ33BKV2","text":":help vimEnter","ts":"1580550695.027300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BuI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e81724c1-2990-4f40-9853-a2548d9af27e","type":"message","user":"UAZ33BKV2","text":"ないけど、ReadPostの後だとhelpにある...","ts":"1580550707.027700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sjNzo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c1f38a71-fa2b-4c4f-ae9e-a9d42881693b","type":"message","user":"UAZ33BKV2","text":"おまけにVista.vimでCRしたら、同バッファ内の該当行に飛ぶorz、なんでや","ts":"1580550993.028300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"49Q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e2cebccd-1a00-4d54-ad2e-6135b422d831","type":"message","user":"UEX9VPSET","text":"ぜひ PowerShell を！！これあれば coc 不要になるので！","ts":"1580554468.028400","thread_ts":"1580549860.025300","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u681N"}],"root":{"client_msg_id":"88b9d2cf-9e7b-4386-9c26-cac3fdccaa48","type":"message","user":"U03C6TEAZ","text":"<https://microsoft.github.io/language-server-protocol/implementors/servers/>","ts":"1580549860.025300","thread_ts":"1580549860.025300","attachments":[{"fallback":"Language Servers","id":1,"title":"Language Servers","title_link":"https://microsoft.github.io/language-server-protocol/implementors/servers/","text":"If you are missing a server please create a pull request in GitHub against this markdown document Language Maintainer Repository Im...","blocks":null,"service_name":"microsoft.github.io","service_icon":"https://microsoft.github.io/language-server-protocol/img/favicon.png","from_url":"https://microsoft.github.io/language-server-protocol/implementors/servers/","original_url":"https://microsoft.github.io/language-server-protocol/implementors/servers/"}],"reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LTMt"}]}},{"client_msg_id":"516d92eb-aafa-422c-bc23-9237db2d7779","type":"message","user":"U03C6TEAZ","text":"powershell すよねー。僕も前チャレンジしたんですが、PowerShellEditorService 側の問題でうまく動いてないんですよね。","ts":"1580556492.029300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"m37q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"18241675-33e6-4ed6-a3ef-5503e29fb593","type":"message","user":"U03C6TEAZ","text":"LSP の didChange 、変更がない場合は content として null を送るんですが、PowerShellEditorService はこれで null 参照例外になるんですよね。","ts":"1580556864.030300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lvVY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"441c85e2-4042-4f4f-9576-26636e188c3b","type":"message","user":"U03C6TEAZ","text":"これ直す為には vim-lsp も変更に伴ってファイルコンテンツ全体を送る事になるけど、","ts":"1580556910.030900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UgIW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9d433df6-69cf-4f49-af91-fd6069809f96","type":"message","user":"U03C6TEAZ","text":"vim-lsp はこれをやってないから軽いというのがあってモヤモヤ。PowerShellEditorService に pull-req 送るしかないんかなぁ。","ts":"1580556934.031600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V+P7D"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dd36ee59-808e-4796-9cb0-995b7d9bbd61","type":"message","user":"U03C6TEAZ","text":"この問題、omnisharp もあってそれは先日 pr 送ってマージしてもらった。","ts":"1580557119.032800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v4IOw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9ce68609-9d2f-4272-bc76-a59958f1fa5c","type":"message","user":"UAZ33BKV2","text":"さすがに仕様に準拠したrequestで落ちるのは向う側の問題だとは思うので、直してもらう(ためのIssue/PR)をするのがいいんじゃないか感はありますよね...","ts":"1580557305.033900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L/a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5fa0d728-e50d-4955-b06a-08458fa118cc","type":"message","user":"UAZ33BKV2","text":"<https://ja.wikipedia.org/wiki/%E3%82%B8%E3%83%A7%E3%83%B3%E3%83%BB%E3%83%9D%E3%82%B9%E3%83%86%E3%83%AB#%E3%83%9D%E3%82%B9%E3%83%86%E3%83%AB%E3%81%AE%E6%B3%95%E5%89%87>\n送信するものに関しては厳密に、受信するものに関しては寛容に","ts":"1580557352.034200","edited":{"user":"UAZ33BKV2","ts":"1580557384.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mSNae"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8476ee02-cb88-4bd5-893b-150bd317cdac","type":"message","user":"U03C6TEAZ","text":"一応、手元ではこれくらいは動いてるんです。","ts":"1580557794.034900","files":[{"id":"FT2REC19R","created":1580557755,"timestamp":1580557755,"name":"screenshot.gif","title":"screenshot.gif","mimetype":"image/gif","image_exif_rotation":1,"filetype":"gif","pretty_type":"GIF","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":460719,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FT2REC19R/screenshot.gif","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FT2REC19R/download/screenshot.gif","original_h":520,"original_w":803,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FT2REC19R-4ce74f26b8/screenshot_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FT2REC19R-4ce74f26b8/screenshot_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FT2REC19R-4ce74f26b8/screenshot_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FT2REC19R-4ce74f26b8/screenshot_360.png","thumb_360_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FT2REC19R-4ce74f26b8/screenshot_360.gif","thumb_360_w":360,"thumb_360_h":233,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FT2REC19R-4ce74f26b8/screenshot_480.png","thumb_480_w":480,"thumb_480_h":311,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FT2REC19R-4ce74f26b8/screenshot_720.png","thumb_720_w":720,"thumb_720_h":466,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FT2REC19R/screenshot.gif","permalink_public":"https://slack-files.com/T03C4RC8V-FT2REC19R-1090a8a9de","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"deanimate_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FT2REC19R-4ce74f26b8/screenshot_deanimate_gif.png","display_as_bot":false,"has_rich_preview":false,"thumb_480_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FT2REC19R-4ce74f26b8/screenshot_480.gif","thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FT2REC19R-4ce74f26b8/screenshot_800.png","thumb_800_h":518,"thumb_800_w":800,"thumb_tiny":"AwAfADCgTk0UUUAFFFFABRRRQAUVIRFnhnx7gU0hc8E0ANop2F9TQAnct+FAhtFPAj7l/wAhTsQesv5CgZ//2Q==","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nwjMy"}]},{"client_msg_id":"9c9f414f-aeac-4b54-95a8-578b4ab32ab7","type":"message","user":"U03C6TEAZ","text":"`$` 近辺の補完もおかしい。","ts":"1580557839.035400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KrbJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b6a83720-b837-46d3-b859-dfdbda652343","type":"message","user":"U03C6TEAZ","text":"おっ、PowerShellEditorService のソースの一部、運よく OmniSharp と同じだぞ。","ts":"1580558720.036100","team":"T03C4RC8V","reactions":[{"name":"subara","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/gn0O"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"32e5a217-fb08-439b-8e80-d96df62c8fec","type":"message","user":"U03C6TEAZ","text":"OmniSharp に送ったパッチが使えるはず。","ts":"1580558734.036500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DD7h"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e38848e-067d-461e-b68b-741aededf9f8","type":"message","user":"U03C6TEAZ","text":"<https://github.com/OmniSharp/omnisharp-roslyn/pull/1668>","ts":"1580558746.036700","attachments":[{"fallback":"GitHub: Check null by mattn · Pull Request #1668 · OmniSharp/omnisharp-roslyn","id":1,"title":"Check null by mattn · Pull Request #1668 · OmniSharp/omnisharp-roslyn","title_link":"https://github.com/OmniSharp/omnisharp-roslyn/pull/1668","text":"Some Language Server Client null for contentChanges when SyncKind = 0. Also signatureparams.","thumb_url":"https://avatars2.githubusercontent.com/u/9420663?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":256,"thumb_height":256,"from_url":"https://github.com/OmniSharp/omnisharp-roslyn/pull/1668","original_url":"https://github.com/OmniSharp/omnisharp-roslyn/pull/1668"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/qn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"87a828eb-16c3-48b1-9563-d42b41f1ed3f","type":"message","user":"U03C6TEAZ","text":"powershell の↑の `$name` がおかしいのは asyncomplete.vim でした。","ts":"1580569103.037600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hzst"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0efa1d1c-02ca-4241-b812-12051bfe9a25","type":"message","user":"UAZ33BKV2","text":"おや","ts":"1580569129.037800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Pgu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f37829e-12b5-4353-9c74-e891408860fb","type":"message","user":"U03C6TEAZ","text":"あ、失礼。 asyncomplete-lsp.vim","ts":"1580569143.038200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D/1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a9a0771f-2683-44b5-a3b2-1eaf2e24867f","type":"message","user":"U03C6TEAZ","text":"<https://github.com/prabirshrestha/asyncomplete-lsp.vim/blob/9e7b2492578dca86ed12b6352cb56d9fc8ac9a6e/plugin/asyncomplete-lsp.vim#L92>","ts":"1580569165.038400","attachments":[{"fallback":"GitHub: prabirshrestha/asyncomplete-lsp.vim","id":1,"title":"prabirshrestha/asyncomplete-lsp.vim","title_link":"https://github.com/prabirshrestha/asyncomplete-lsp.vim/blob/9e7b2492578dca86ed12b6352cb56d9fc8ac9a6e/plugin/asyncomplete-lsp.vim#L92","text":"Contribute to prabirshrestha/asyncomplete-lsp.vim development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/287744?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/prabirshrestha/asyncomplete-lsp.vim/blob/9e7b2492578dca86ed12b6352cb56d9fc8ac9a6e/plugin/asyncomplete-lsp.vim#L92","original_url":"https://github.com/prabirshrestha/asyncomplete-lsp.vim/blob/9e7b2492578dca86ed12b6352cb56d9fc8ac9a6e/plugin/asyncomplete-lsp.vim#L92"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0T3UN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"31cc3923-3340-483e-b440-03e12c87d146","type":"message","user":"U03C6TEAZ","text":"Julia、随分前に LanguageServer 試してそろそろ直ってるかなと思ったけど、まだ駄目っぽい。","ts":"1580485865.447400","team":"T03C4RC8V","reactions":[{"name":"cry","count":1,"users":["UL6CFN8NR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bykXD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1aacedf2-6ef4-4193-9382-6023c3cb2955","type":"message","user":"U03C6TEAZ","text":"vim-lsp の textEdit のバグ見つけた。","ts":"1580527411.448500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iF0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"605d0443-d6d0-4c4c-8ea2-03405aa9eb86","type":"message","user":"U8R597E9H","text":"textEdit 意外と安定してるなと思って、setline 化の優先度下げてましたが、やったほうがよさそうですね…。","ts":"1580527581.450500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DfGm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0dc015f3-96bd-4d90-96de-11c788803766","type":"message","user":"U8R597E9H","text":"VSCode のテストケース通した実装自体は持ってますが、影響が大きくて二の足踏んでいる。","ts":"1580527630.451600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qfy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"20d299af-6cb5-4d9a-921a-a9367db8ed2a","type":"message","user":"U03C6TEAZ","text":"textEdit のバグ、julia language server で見つけたけど、起動がめっちゃ遅くて原因追及に時間かかる。","ts":"1580528295.452300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mLx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"29d7b286-e44f-4301-bd0d-dc1471375be5","type":"message","user":"U03C6TEAZ","text":"`import` を補完で入力するのにまず `i` をタイプ、補完から `import` を選んで続けて ` ` をタイプ。","ts":"1580528637.452900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LUS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5597369a-a513-4399-bd06-dfa4178dacde","type":"message","user":"U03C6TEAZ","text":"```[{\"range\":{\"end\":{\"character\":6,\"line\":0},\"start\":{\"character\":0,\"line\":0}},\"newText\":\"\"}]\n[{\"range\":{\"end\":{\"character\":0,\"line\":0},\"start\":{\"character\":0,\"line\":0}},\"newText\":\"mport \\n\"}]```","ts":"1580528652.453200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9KF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3ac93e35-4859-4cd1-8ee0-051335819b79","type":"message","user":"U03C6TEAZ","text":"なんだこれ。","ts":"1580528656.453400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O9e"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2e162990-ac82-4411-b95f-59b5201f6a6b","type":"message","user":"U03C6TEAZ","text":"あれ、でもログにはこんなの出てないな。","ts":"1580528873.453700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1RES"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d2788885-1102-4f4a-b7dc-cf0bed153428","type":"message","user":"U03C6TEAZ","text":"1個目は clear_inserted_text か。","ts":"1580530847.454100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zyr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6480e2c2-8d7f-4b54-b171-e96c51a185bf","type":"message","user":"U03C6TEAZ","text":"clear_inserted_text 呼ばなくしたら julia language server 的にはうまく行くな。","ts":"1580531132.454800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jeH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3cebcd14-cb60-4b87-a46a-94e55f64fbbd","type":"message","user":"U03C6TEAZ","text":"何か条件が必要かも。","ts":"1580531146.455300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ijz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6edfa2f8-5ad7-4c40-8644-44be814660a2","type":"message","user":"U03C6TEAZ","text":"<@U8R597E9H> これログなんですが分かりますかね。 <https://gist.github.com/mattn/991e68178f47bcd2806abf3c55f00aaf>","ts":"1580532489.455800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yJ1j"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8d87c9dc-c840-47da-a2fd-de25e5b3bf76","type":"message","user":"U03C6TEAZ","text":"import の i だけ入力して","ts":"1580532521.456100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tQ2z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"248607e0-770f-484f-a8d6-fceb49637d67","type":"message","user":"U03C6TEAZ","text":"<https://gist.github.com/mattn/991e68178f47bcd2806abf3c55f00aaf#file-gistfile1-txt-L48>","ts":"1580532521.456300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PiL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b991f34d-e9a2-45bf-97dd-e374fd63a262","type":"message","user":"U03C6TEAZ","text":"これを選んだら、本来は選択して入った import の mport 部分だけが消され","ts":"1580532588.457400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JRq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"401a4658-f9a4-45b9-b5c1-474804d610cb","type":"message","user":"U03C6TEAZ","text":"textEdit の mport が入るという想定だったけども、実際は clear_inserted_text で全部消えて mport だけが入った。","ts":"1580532619.458100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7cmW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8dd32c89-744e-4563-b208-b1ae76931e43","type":"message","user":"U03C6TEAZ","text":"clear_inserted_text の position が狂ってるのかもしれない。","ts":"1580532852.458600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BjXUu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d88e121-9654-4cd8-8fd8-4ce6f46be66d","type":"message","user":"U8R597E9H","text":"確認します。","ts":"1580533223.458900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J/k/H"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ceed316c-7735-40e5-905e-63ef0a9715dc","type":"message","user":"U03C6TEAZ","text":"vsnip は切ってます。","ts":"1580533244.459100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HSE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f02c99f7-d69a-4b54-b5c8-b38e3f5f4439","type":"message","user":"U03C6TEAZ","text":"全体のログ <https://gist.github.com/mattn/f0aec43ac9cf6b1598d0c9d5d131ee50>","ts":"1580533332.459700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zlTH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ff7b09bd-2002-4737-89b3-ba4e3062801a","type":"message","user":"U8R597E9H","text":"原因はなんとなく掴めましま。\n仕様を確認してみています。","ts":"1580533355.460300","team":"T03C4RC8V","reactions":[{"name":"sokudo","count":3,"users":["UAZ33BKV2","U03C6TEAZ","U78A6ESHM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7z+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d3b96bc-a0dd-4f37-9bf0-11eb933aa2e9","type":"message","user":"U8R597E9H","text":"julia lamguage server は、補完開始時のテキストをなるべく保持する形の textEdit を返すために起こっているようです。","ts":"1580533413.462000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qCp74"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9ae01976-288e-4a24-b858-91eb9baaec5a","type":"message","user":"U03C6TEAZ","text":"どこかでもう1回\n```let s:context['position'] = getpos('.')```\nで更新してあげないといけないのかな。","ts":"1580533570.466800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OmDI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7d2d3c4e-8a3d-4ddb-8184-0a06acc8d959","type":"message","user":"U8R597E9H","text":"自分の知る限り、補完開始位置を含まない textEdit を返すサーバは他には知らないです。\nclear_inserted_text 側の問題もありそうです。\ntextEdit から範囲を拡張する。みたいな発想のコードになってしまってるのですが、まさか textEdit の範囲のほうが狭いケースがあるとは…。まずは仕様を確認します。","ts":"1580533571.466900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FxuqU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3738be4-e9a5-45ca-a7e6-bb4a3580fc8b","type":"message","user":"U03C6TEAZ","text":"これめっちゃタイミング issue 生んでしまいそう。","ts":"1580533617.468300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KPq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4876e9e5-87a9-4046-9600-70d3dc02015b","type":"message","user":"U8R597E9H","text":"おそらく、textEdit がある場合は「その範囲で補正をする」ではなくて「その範囲を使う」にすればいいのかなと思います。","ts":"1580533619.468500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2I5lq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"df9d60f5-cf29-475c-a462-5088564a4c44","type":"message","user":"U03C6TEAZ","text":"めっちゃ速くタイプして補完候補選んだら position だけ更新されて impmport とかなりそう。","ts":"1580533646.469000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0tSSv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eb23ad7f-13e6-47ae-9d47-d4a0982453b3","type":"message","user":"U8R597E9H","text":"でも仕様違反だった気がするんだよなぁ…。","ts":"1580533668.469700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VohhB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1fa092e4-47e9-4dbe-82a9-8519f3487894","type":"message","user":"U8R597E9H","text":"```\n/**\n\t * An edit which is applied to a document when selecting this completion. When an edit is provided the value of\n\t * `insertText` is ignored.\n\t *\n\t * *Note:* The range of the edit must be a single line range and it must contain the position at which completion\n\t * has been requested.\n\t */```","ts":"1580533743.470300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A9Da"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f3db9cc3-91d1-4858-9869-979a1df7cfc4","type":"message","user":"U8R597E9H","text":"補完リクエス位置を含んでないので仕様違反？","ts":"1580533773.471000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h7R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b3e2e9ae-9f10-4f00-b61e-74bc494e63d4","type":"message","user":"U8R597E9H","text":"でも、textEdit 範囲を優先すれば直りそうなので試してみます。","ts":"1580533796.471800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tJz2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9f990fd0-ddea-4ffb-b56d-b45c5b4181c3","type":"message","user":"U03C6TEAZ","text":"textEdit、こういうエッジケースが多すぎる。","ts":"1580533927.473500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"na7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fdf05326-d5a8-48d9-8260-4d4de7c7c8f4","type":"message","user":"U8R597E9H","text":"だめだー！PHP language server のレスポンスと両立ができないｗ","ts":"1580534154.474200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qDaxq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9ba3e1ed-36de-40e1-89e0-5f96d738e580","type":"message","user":"U03C6TEAZ","text":"ww","ts":"1580534166.474400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xZE="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0e6973c3-b191-473f-92db-dc435b536b83","type":"message","user":"U8R597E9H","text":"intelephense の場合\n\n```$this-&gt;#&lt;C-x&gt;&lt;C-o&gt;&lt;C-n&gt;\n↓↓↓ 候補を選択\n$this-&gt;getValue#&lt;Tab&gt;\n↓↓↓ 補完確定\n$this-&gt;getValue(#)```\nという動きをした場合の textEdit の範囲は `$this-&gt;#` この `#` の部分のみを表す範囲でした。（ややこしすぎる）","ts":"1580534290.476500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Pdz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f6c9d01-0c58-42b7-990d-8a0814b2822f","type":"message","user":"U8R597E9H","text":"つまり、すでに vim の補完選択によって挿入されている `getValue` は「intelephense 的にはまだ挿入されてなくて、これから textEdit で挿入されるもの」ということらしいです。","ts":"1580534349.477400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7ME2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4ba7159a-0c74-488f-a209-a96b711b16aa","type":"message","user":"U8R597E9H","text":"現状の vim-lsp は「vim の補完選択によって挿入されてしまったテキストは全部キレイに消す」というロジックなので intelephense などの場合にもちゃんと動いてる。","ts":"1580534404.478400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gdP6D"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0fe764f8-b692-40ff-8b47-bb3505d55ad2","type":"message","user":"U03C6TEAZ","text":"方言多すぎる問題","ts":"1580534406.478500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Qtd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28bb5edd-f6a5-40bb-a394-d0ad9ff618d9","type":"message","user":"U8R597E9H","text":"julia language server はなぜか「一部はすでに入力済みのはず！」みたいな textEdit 返してきてるけど、いらないお世話。。。","ts":"1580534431.478900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oDtt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6ed7db42-d542-4d05-ad88-665a72457ca4","type":"message","user":"U8R597E9H","text":"```$this-&gt;get&lt;C-x&gt;&lt;C-o&gt;```\nこのケースで補完候補選んだときに、`すでに get までは入力済みであった` というのが vim 側で判別できればなんとかなるんだろうか。。。","ts":"1580534536.480500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7EZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eac1356a-49fe-48ea-b1a4-478431ab926e","type":"message","user":"U8R597E9H","text":"_この情報が増えたとしてもそれを使ってどう処理するかは思いついていませんが。。。_","ts":"1580534576.481100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3q7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"62eba8d6-f336-4d5c-8111-30751192f813","type":"message","user":"U03C6TEAZ","text":"今って position どうやって決めてるんでしたっけ。","ts":"1580534596.481400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y/8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d1126233-5d26-4e50-aa8b-2eee0ca39a6d","type":"message","user":"U03C6TEAZ","text":"on_complete_done か。","ts":"1580534615.481600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Dh2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c75ead11-3a80-462d-8580-029ad4c353d2","type":"message","user":"U8R597E9H","text":"`$this-&gt;getValue#` この状態で CompleteDone が呼ばれるので、その時の位置を記録しておいて、`v:completed_item.word` の文字数削れば、vim によって挿入された補完候補を削除可能。みたいな仕組みでやってます。","ts":"1580534720.482900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nAjrA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"77861ec3-10d5-4826-8dc5-ccf7774e5466","type":"message","user":"U03C6TEAZ","text":"didchange 飛ばしたタイミングで position 更新するとどうなるんだろう。","ts":"1580534733.483200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jenz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d51e4d37-ed18-40ae-acdb-e6afd911e1a8","type":"message","user":"U8R597E9H","text":"`s:context.position` には `$this-&gt;#` の位置ではなくて `$this-&gt;getValue#` の位置を入れているので、CompleteDone 以降に補正することはしなくてよさそうです。","ts":"1580534802.484000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Pwg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"61e37576-e957-444e-86f9-ba810b89793e","type":"message","user":"U8R597E9H","text":"_julia language server VSCode でも壊れる説_","ts":"1580534829.484800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3+y0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7cc06b29-6e0c-439f-98ff-350612d7d0d4","type":"message","user":"U03C6TEAZ","text":"要注意人物としては ~php language server~ intelephense、julia language server、scala language server の三兄弟くらい？","ts":"1580534893.485400","edited":{"user":"U03C6TEAZ","ts":"1580534941.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SjV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6b1a8ec-6753-46cc-a8b3-d01cf4c9a4b0","type":"message","user":"U8R597E9H","text":"あ。すいません。 intelephense でお願いします。","ts":"1580534922.485700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mMnt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd237a8b-d4f8-4d22-9c2a-3643f09cae50","type":"message","user":"U8R597E9H","text":"個人的なイメージとしては\n\n### textEdit を使って補完を返すし、みんな使ってて壊れてない群（html-languageserver に至っては Micorosoft 製なので挙動はデファクトと捉えている）\n- html-languageserver\n- intelephense\n\n### その他のちょっと特殊な振る舞いをすることがあるサーバ群、仕様を自分達で解釈して実装してそうなのでたまに齟齬がある\n- metals\n- julia language server\n- etc...","ts":"1580535038.487800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GAkva"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"819d879a-aa99-42e1-9424-069e5e8bddf4","type":"message","user":"U8R597E9H","text":"java の jdtls の CodeAction もなんか変みたいですし。。。","ts":"1580535075.488400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M4i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8eabcb33-9f43-46e3-9e0b-df66448776e0","type":"message","user":"U03C6TEAZ","text":"あーあれね。","ts":"1580535104.488900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vw9pi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"00280342-64be-4345-b6a3-ba072c7bcf68","type":"message","user":"U03C6TEAZ","text":"ハードコードする pr 来てたしw","ts":"1580535123.489800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pLA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"45843912-cf59-4faa-905e-398001c513f8","type":"message","user":"U8R597E9H","text":"ちょっと草って感じでしたｗ","ts":"1580535136.490100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oIe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7a743bd6-cf70-4900-8cfa-03cc15e73870","type":"message","user":"U8R597E9H","text":"_補完については vim-lsp 側の実装を賢くすれば解決可能なのかな〜〜、VSCode リーディングの旅が。。。_","ts":"1580535157.490900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pa=A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0b06559e-d0d8-4ed7-a935-9fb498074dc7","type":"message","user":"UL6CFN8NR","text":"julia language server の補完， coc でやってるときも上手く動かなくてアレなんですよね．","ts":"1580535164.491100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l7rG6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"577057bb-3fc3-4e81-8b9c-3b8d8de1a8fe","type":"message","user":"U03C6TEAZ","text":"julia に issue 建てたほうがいいんかもなぁ。","ts":"1580535208.492300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8df7="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a06ec05d-fd8a-4d1a-ae3d-76b0e63ff6e4","type":"message","user":"U8R597E9H","text":"import 程度で壊れるとしたら、絶対気づくと思うので VSCode では動いてるんじゃないか？説があるんですよね。。。\n<https://github.com/julia-vscode/julia-vscode>","ts":"1580535218.492500","attachments":[{"fallback":"GitHub: julia-vscode/julia-vscode","id":1,"title":"julia-vscode/julia-vscode","title_link":"https://github.com/julia-vscode/julia-vscode","text":"Julia extension for Visual Studio Code. Contribute to julia-vscode/julia-vscode development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/46800729?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":420,"thumb_height":420,"from_url":"https://github.com/julia-vscode/julia-vscode","original_url":"https://github.com/julia-vscode/julia-vscode"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Md9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3f1942f8-cfaf-4609-a109-7472d670f661","type":"message","user":"U03C6TEAZ","text":"julia の場合は vim-lsp-settings 側で client capability で snippet 不可にした方がいいかもな。","ts":"1580535278.493500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vpJs6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0c4c30dc-67f9-4ff3-999e-6bb6bb101ff7","type":"message","user":"U8R597E9H","text":"<https://github.com/julia-vscode/LanguageServer.jl/issues>\nめちゃくちゃ completion 周りの issue あるっぽいですねこいつ。","ts":"1580535807.494000","attachments":[{"fallback":"GitHub: julia-vscode/LanguageServer.jl","id":1,"title":"julia-vscode/LanguageServer.jl","title_link":"https://github.com/julia-vscode/LanguageServer.jl/issues","text":"An implementation of the Microsoft Language Server Protocol for the julia language. - julia-vscode/LanguageServer.jl","thumb_url":"https://avatars1.githubusercontent.com/u/46800729?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":420,"thumb_height":420,"from_url":"https://github.com/julia-vscode/LanguageServer.jl/issues","original_url":"https://github.com/julia-vscode/LanguageServer.jl/issues"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R9pQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"96f8c3e8-e415-4190-a448-9a45fb9487c7","type":"message","user":"U8R597E9H","text":"みんな Non-vscode ラベルが貼られている。","ts":"1580535819.494400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eE3o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a5160f4c-375c-48fd-8f77-6c14d393f2d5","type":"message","user":"U03C6TEAZ","text":"そもそも julia language server、起動させるまでにめっちゃてこずった。","ts":"1580536075.495200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tirgK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1263d144-3e63-44f9-a3bc-1f2fae943567","type":"message","user":"U8R597E9H","text":"<https://github.com/microsoft/vscode/blob/c4309702c525d61b34bb6403a121a0595a473974/src/vs/editor/contrib/suggest/suggestController.ts#L325>\n怪しげなコードを発見したので、余裕があったら解析します。","ts":"1580536097.496200","edited":{"user":"U8R597E9H","ts":"1580536107.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vuM+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76b1ff4e-df6c-48aa-a876-9f3860d11f12","type":"message","user":"UL6CFN8NR","text":"一時期 LanguageServer.jl の中でメソッドの引数の型が噛み合わない？とかでそもそも起動してなかった時期があったような","ts":"1580536112.497100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+CFE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d8326301-cc10-4836-aa78-fb902e7bb080","type":"message","user":"U03C6TEAZ","text":"LanguageServer というパッケージと SymbolServer というパッケージ、CSTParser というパッケージがキーパーソンでそれぞれが変なバージョン依存してて通常の Pkg.add では動かない。","ts":"1580536114.497200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kLg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"017a42f1-0dc2-4c8c-8bf6-ed4215bb5a6d","type":"message","user":"U03C6TEAZ","text":"今朝、物は試しと\n&gt; add LanguageServer.jl#master SymbolServer.jl#master CSTParser.jl#master\nしたら動いた。","ts":"1580536156.498400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fT5lU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"efc0beb8-ba31-47a4-8188-a9ad4fbc7a18","type":"message","user":"UL6CFN8NR","text":"そうですね，複数のパッケージの依存関係がおかしくてメソッド呼び出しのときに引数の数が合わなくてダメだったことが（少し前に解消されたはず）","ts":"1580536190.499100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1o/s"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"09476de5-a31f-4fcf-ae7f-274515dc9b62","type":"message","user":"U03C6TEAZ","text":"<https://machakann.hatenablog.com/entry/2019/02/09/160715>","ts":"1580536200.499300","attachments":[{"fallback":"書いたものなど: Julia の Language server を Vim でうごかす - 書いたものなど","id":1,"title":"Julia の Language server を Vim でうごかす - 書いたものなど","title_link":"https://machakann.hatenablog.com/entry/2019/02/09/160715","text":"※ --- 2020/1/21 追記 --- その２を書きました。 Julia の Language server を Vim でうごかす その２ - 書いたものなど ※ --- 2020/1/21 追記ここまで --- やっと、 LanguageServer.jl を動かせるようになったのでまとめます。将来はもっと簡単になると思いますが、とりあえず。 Julia 側の準備 まずなんですが、現在 (2019/2/9) の時点では [LanguageServer.jl] は Julia v1.1.0 では正常に動作しないようです。なので、別に v1.0.3 をインストールします。この時、パスを通…","image_url":"https://cdn-ak.f.st-hatena.com/images/fotolife/m/machakann/20190209/20190209152230.png","blocks":null,"ts":1549696035,"service_name":"書いたものなど","service_icon":"https://cdn.blog.st-hatena.com/images/touch-icon-iphone-retina.png","from_url":"https://machakann.hatenablog.com/entry/2019/02/09/160715","original_url":"https://machakann.hatenablog.com/entry/2019/02/09/160715"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SD5F"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ef68299e-f287-47d3-a56d-35d13969f1ce","type":"message","user":"U03C6TEAZ","text":"このページめっちゃ見た。","ts":"1580536205.499700","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["UL6CFN8NR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jZQx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c2c7d662-7a18-4ebc-b2a3-b3563bdaaac7","type":"message","user":"U8R597E9H","text":"mattn さん、週に 1 個以上は新しい LS に対応してる気がする。本当にすごい。","ts":"1580536228.000100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YuMUQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"feb3b1d7-e796-4767-abca-2aa8e579ad63","type":"message","user":"UL6CFN8NR","text":"今久しぶりに Julia の LanguageServer 動かそうと思ったら，あまりに補完が使えないから LanguageServer パッケージそのものを消してた...（再 add 中）","ts":"1580536300.001100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j83W"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f307ba1f-0a2b-46e0-bc10-80eb5307d8c2","type":"message","user":"U03C6TEAZ","text":"クソッ、ininitalize に capabilities 送ったら落ちやがる","ts":"1580536688.001800","team":"T03C4RC8V","reactions":[{"name":"hiee","count":2,"users":["UG6DF6W87","U8R597E9H"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d/Ym"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3c80c7f-bdbd-4038-ae60-f638034f31bc","type":"message","user":"U8R597E9H","text":"```  \" Expand remove range to textEdit.\n  if has_key(a:completion_item, 'textEdit')\n    let l:range['start']['character'] = a:completion_item['textEdit']['range']['start']['character']\n    let l:range['end']['character'] = max([\n          \\   l:range['end']['character'],\n          \\   a:completion_item['textEdit']['range']['end']['character']\n          \\ ])\n  endif```\nClear completed text のいち部を ↑ に変えたらいけるかもしれない！","ts":"1580536712.002300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MUY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3ed80f98-9eb1-4992-851b-21973c9f5aa9","type":"message","user":"U8R597E9H","text":"html language server とかも試してみます。","ts":"1580536726.002600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KwQLj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ee4498d4-27ed-43a4-be9a-904afaa772e2","type":"message","user":"U8R597E9H","text":"_start 位置はそのまま使うが、end 位置は補正するというものにしてみました。_","ts":"1580536775.003200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sayk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d0e1ced4-3cd6-4b44-b371-5424c21a7904","type":"message","user":"U8R597E9H","text":"vim-language-server/intelephense では動くことがわかった。理論上、julia-language-server もこの変更をすればいけると思うのですが。。。","ts":"1580536820.003700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vNh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0145b3d4-16a2-4fd2-9688-76077a94e180","type":"message","user":"U8R597E9H","text":"html-languageserver もいけた！","ts":"1580536863.004000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W3Ltj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c3fd697-92a7-4bba-af4c-55cb1d376056","type":"message","user":"U03C6TEAZ","text":"diff もらえたらこちらでも試せます。","ts":"1580536890.004700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BnU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"553b6cc6-1c7e-4da6-bdb1-b621d692eea7","type":"message","user":"U8R597E9H","text":"取り急ぎこちらです。\n<https://github.com/prabirshrestha/vim-lsp/pull/698>\nご確認お願いします。","ts":"1580536993.005100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"++u"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"06d75e9e-1fb3-40ec-ba2d-ff2099c29bee","type":"message","user":"U8R597E9H","text":"なんでこういう発想になったか、英語に頑張って落としてみます。。。","ts":"1580537015.005600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FYdvL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"56053681-400f-4ad0-99a8-54202b2c7cb8","type":"message","user":"U03C6TEAZ","text":"ﾀｲﾍﾝｿｳ","ts":"1580537068.006700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tIz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"73cb9781-0088-4fa4-9d46-87879997bf7e","type":"message","user":"U03C6TEAZ","text":"あれ、julia だめぽい。","ts":"1580537148.008400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tKRH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"83f157be-4c3f-4060-bd17-49fdfa145f48","type":"message","user":"U8R597E9H","text":"むむむ。。。もう一度 julia の textEdit 例確認してみます。","ts":"1580537178.009100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LlNbr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16323c38-11cd-479f-95ad-c86ab4b61726","type":"message","user":"U8R597E9H","text":"<@U03C6TEAZ> さんに以前貼ってもらった julia のレスポンスを見てみました。\n\nええ。。。julia さん、そこは流石に `start.character === 1` であるべきでは。。。\n```[{\"range\":{\"end\":{\"character\":0,\"line\":0},\"start\":{\"character\":0,\"line\":0}},\"newText\":\"mport \\n\"}]```\n","ts":"1580537263.010000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E2C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7924d731-abdb-4459-ad5b-73365e9003aa","type":"message","user":"U8R597E9H","text":"これうまくいっても `mporti` にしかならない気がする。ひどい。","ts":"1580537292.010300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lw4IN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8272bd1b-75b9-45cf-9c21-630a0de48760","type":"message","user":"U8R597E9H","text":"ということで、申し訳ありません。対応不能という結論になってしまいました。。。PR も閉じます。","ts":"1580537363.010900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o=s4T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6f2e93cd-0fea-405e-b9e7-ce0c4e74b497","type":"message","user":"U03C6TEAZ","text":"あ、やっぱりそこ変なのか。","ts":"1580537438.011400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UOxtH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"93aa25ce-c0be-4452-aead-2b454c50132c","type":"message","user":"U03C6TEAZ","text":"clientcapabilities でオフりたい。。、","ts":"1580537496.012000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nT+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"474238df-9a6b-46a3-9ac4-896dfa47e4c2","type":"message","user":"U03C6TEAZ","text":"昨日、R と apex/visualforce を入れたのでさらに利用者の幅が広がって欲しい。","ts":"1580537574.013500","edited":{"user":"U03C6TEAZ","ts":"1580537586.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UvW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de889885-308b-4745-b9a9-da7df90dd11c","type":"message","user":"U03C6TEAZ","text":"systemverilog も入れてた。","ts":"1580537805.014000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tSNF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7fa9bf11-9e38-49e5-9192-e2766a034b2e","type":"message","user":"U03C6TEAZ","text":"crystal と vala を入れたいけど Windows で動かない。","ts":"1580537826.014400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Srr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"df143149-2f8f-4155-b29d-7f9c0408a6dd","type":"message","user":"U8R597E9H","text":"このプラグインは mattn さんじゃないと作れなかっただろうなと思いますw","ts":"1580538149.015900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hdzg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7df1c1a7-b11d-4ee3-a341-5fdd54566e50","type":"message","user":"U03C6TEAZ","text":"皆さんの協力あってこそです。","ts":"1580538243.016200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gvV0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"198c6423-d2aa-43c5-bca3-35db5cd7f871","type":"message","user":"U03C6TEAZ","text":"snippetSupport:false を無視する julia 氏","ts":"1580538288.016600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B7tik"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8c3d160c-a9f6-4d61-9660-4527c4ed2982","type":"message","user":"U03C6TEAZ","text":"そりゃそうだ。見てないもん -&gt; snippetSupport","ts":"1580538404.017200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ph2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e8e91e81-1712-4c25-9521-6ee9c33297d7","type":"message","user":"U03C6TEAZ","text":"駄目だ。julia language server に issue たてるほかなくなった。","ts":"1580538501.017700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p8N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c086826f-fe29-4ffd-a69f-3ff18330c5b7","type":"message","user":"U8R597E9H","text":"これから展開する文字が、vim の補完選択によって挿入されている文字と一致していない部分だけパッチ的に適用するコードにすればいけるのかな。","ts":"1580538579.019600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v1E"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"55e51b2e-b82c-42e0-b882-73277ca79928","type":"message","user":"U8R597E9H","text":"どんどんややこしくなってはいますが。","ts":"1580538589.020000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KNA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3af2302-88db-433e-8563-22ba29d9f078","type":"message","user":"U8R597E9H","text":"_そもそも、newText に \"\\n\" が入ってる時点で完全に仕様違反な気がしてきた。気にするだけ無駄な気がしてきた。。。_","ts":"1580538755.020500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xG+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ccfa5fdc-75bf-42ca-a1f9-35f090c7735a","type":"message","user":"U8R597E9H","text":"single line range なのは `textEdit.range` に対する制約か、ならいちおう valid か。。。","ts":"1580538835.021000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZTcMT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
