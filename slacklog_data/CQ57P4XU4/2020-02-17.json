[{"client_msg_id":"67efdfeb-d64a-4767-8c06-338cb902319f","type":"message","user":"U03C6TEAZ","text":"知見があつまりつつある。 <https://github.com/mattn/efm-langserver/pull/36>","ts":"1581909371.464300","attachments":[{"fallback":"GitHub: Add \"prettier formatter\" for html, css and json to example config by yaegassy · Pull Request #36 · mattn/efm-langserver","id":1,"title":"Add \"prettier formatter\" for html, css and json to example config by yaegassy · Pull Request #36 · mattn/efm-langserver","title_link":"https://github.com/mattn/efm-langserver/pull/36","text":"Thanks for this plugin. I added it to REAME.md. Only the example of json using prettier was added with \"comments out\".","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/efm-langserver/pull/36","original_url":"https://github.com/mattn/efm-langserver/pull/36"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dHmf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6e2b848-c446-41a7-9499-357255639fea","type":"message","user":"U7TMPGWJ0","text":"おっ、さらされてましたw。プロジェクト内に .prettierrc があれば勿論、リスペクトされます。","ts":"1581909524.464800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Feb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"931fe397-5460-463f-9467-93e990dd935d","type":"message","user":"UAZ33BKV2","text":"これ、root_uriがちゃんとプロジェクトルートだといいカンジですね","ts":"1581909533.465100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"w+mx0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2319dbad-8a2c-4184-9d2b-599cfb23abac","type":"message","user":"UAZ33BKV2","text":"(なぜかFindRootがうまくroot見つけてくれなくて、最近ちょっとストレス、なんかミスったか)","ts":"1581909577.466100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WFiH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4a939d70-b6b7-447e-aaa7-7dce945d2b34","type":"message","user":"U7TMPGWJ0","text":"別件というかLSP関連での類似した件ですが `-bin` が更新されない vscode-html-languageserver,  vscode-css-languageserver, vscode-json-languageserver ですが bin じゃないのほうの本体リポジトリ落としてきて `tsconfig.json` いじって、入れてみました(vim-lsp-settingsのPRも参考に)。元々同梱されている tsconfig.json は VSCode のディレクトリ内にいる前提のものだったので調整が必要。","ts":"1581909645.466300","edited":{"user":"U7TMPGWJ0","ts":"1581911518.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Mpa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"edadc315-717d-4295-a037-555a924faaa6","type":"message","user":"U7TMPGWJ0","text":"html と json は LspDocumentRangeFormat が動くようになりました(htmlのはあんまりうれしくなかったですが)","ts":"1581909708.466800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T5g"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1d803679-6e59-4112-b1f4-3c59f91bd055","type":"message","user":"U8R597E9H","text":"ビルドして成果物つくって publish すればいいだけなら自分で CI 書いてしまえばいいんだろうか。","ts":"1581909713.466900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MaQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9e2f1bc-940b-4246-a880-1dd126104fa2","type":"message","user":"U7TMPGWJ0","text":"ソースから入れはやつは initialization_options で dataPaths を求めてきたりといった部分にも違いがありました。とりあえず空の配列を指定しました。無いと起動しない","ts":"1581909777.467100","edited":{"user":"U7TMPGWJ0","ts":"1581911034.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kMn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8028ab0e-8ee6-4301-aff2-8efc9940405c","type":"message","user":"U03C6TEAZ","text":"intelephense がそんな感じだった気が。","ts":"1581909802.467500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ghe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aac1941c-ef2e-486e-bf5f-ad55e4eeecc2","type":"message","user":"U7TMPGWJ0","text":"VSCode のここの中にある html-language-features と `vscode-langservers/vscode-html-languageserver` は同じなのですがもしかして、 typescript-language-features を頑張ればVSCode相当のtypescriptのLSが立ち上がるかなーなんと妄想してます。 <https://github.com/microsoft/vscode/tree/master/extensions>","ts":"1581910031.467700","attachments":[{"fallback":"GitHub: microsoft/vscode","id":1,"title":"microsoft/vscode","title_link":"https://github.com/microsoft/vscode/tree/master/extensions","text":"Visual Studio Code. Contribute to microsoft/vscode development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/6154722?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/microsoft/vscode/tree/master/extensions","original_url":"https://github.com/microsoft/vscode/tree/master/extensions"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uOf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6d5d3b20-e0e2-412d-8811-dfb649438a62","type":"message","user":"U8R597E9H","text":"vscode の typescript の ls ってなんか特殊なんですか？","ts":"1581910058.468400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JDX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"64f9d799-a08f-4978-b4c1-1f1a3ddbe98b","type":"message","user":"U7TMPGWJ0","text":"うーん。わかりませんが npm で入る typescirpt-language-server 自体が VSCode に入ってるわけではないと思ってるので違いがあるのなら試してみたなーと。同じもの相当なのであればそれはそれで。","ts":"1581910194.468700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xQP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76a74780-3a73-42ad-89d0-484bb82c091c","type":"message","user":"U7TMPGWJ0","text":"<@U8R597E9H>  さんって ts/js で eslint って何でかけられてますか？aleですか？参考までに知りたい。cocならeslintやprettierの拡張があるのでその流れでスッキリやれるのですがvim-lspの場合ってみなさんどうしてるのかなーと。","ts":"1581910282.469000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XeHg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"375f9f55-86b1-41a4-a499-d39cee89d945","type":"message","user":"U8R597E9H","text":"eslint は diagnostic-languageserver を経由させています。prettier も eslint 経由にしています。","ts":"1581910384.469600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cyJN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d3d36630-52aa-4ce0-9264-fcffc4b5e749","type":"message","user":"U8R597E9H","text":"<https://qiita.com/hrsh7th@github/items/7b9670adf3d8328fe2d8>","ts":"1581910407.470000","edited":{"user":"U8R597E9H","ts":"1581910428.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LiBXH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"afc7e576-87ff-470c-941e-ec50a273e603","type":"message","user":"U8R597E9H","text":"vscode-language-server を開発するしかない。","ts":"1581910424.470400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2t1D/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f3b752cb-c27b-48e7-98d4-006fbdaaa84d","type":"message","user":"U7TMPGWJ0","text":"なるほどです。ありがとうございます。","ts":"1581910448.470800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wIVnD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d8c7d276-fe7b-42dd-8d98-8b6fd173d8a9","type":"message","user":"U03C6TEAZ","text":"`:LspSettingsLocalEdit` 、特定ディレクトリ配下は efm オフりたいみたいなシーンで便利だ。(いま実感)","ts":"1581914822.471700","edited":{"user":"U03C6TEAZ","ts":"1581914833.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vb1An"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f1b2228c-223b-456a-9a1d-6876a6ae519a","type":"message","user":"U03C6TEAZ","text":"これ全部オフってるなw","ts":"1581914891.472300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D2i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9df28d15-7762-4130-9254-fc0d1bbc34f2","type":"message","user":"U03C6TEAZ","text":"あかんあかんw","ts":"1581914893.472600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nYAa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16a2ffa6-9b33-4bc9-8cb1-7dd6f114b92b","type":"message","user":"UAZ33BKV2","text":"ぐあ、Windowsで入れたlinterとLinuxで入れたLinterでefmのformatが違うパターンがあったw","ts":"1581925398.473200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Lbw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4ac31124-f0cd-4009-bf3f-015100df79c9","type":"message","user":"UAZ33BKV2","text":"どうりでefm-langserverの結果が環境で違うはずだ...","ts":"1581925544.473700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zbbA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5a47326b-7e32-4617-8910-ae435336ce18","type":"message","user":"U7TMPGWJ0","text":"あれ？ vim-lsp-settings の yaml-language-server の workspace_config ですが設定を空にされたんですか？","ts":"1581928152.473900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"22K2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"18df0742-994d-478a-9697-63600a22671a","type":"message","user":"U03C6TEAZ","text":"yaml-language-server の scheme 設定って動いてました？","ts":"1581928342.474400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GmqoF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74f5ba2a-db91-4a03-b659-18e34d44a5d2","type":"message","user":"U7TMPGWJ0","text":"はい。動いてましたが僕は独自で。","ts":"1581928367.474700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6Qw/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6f8f947d-115f-41c9-9e8b-cae6e20faa7c","type":"message","user":"U7TMPGWJ0","text":"```       \\ 'workspace_config': {\n       \\   'yaml': {\n       \\     'validate': v:true,\n       \\     'hover': v:true,\n       \\     'completion': v:true,\n       \\     'customTags': [],\n       \\     'schemas': {},\n       \\     'schemaStore': { 'enable': v:true },\n       \\   }\n       \\ }```","ts":"1581928379.475000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lXv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d38c0f81-c12a-48cd-87b0-78c4956c7ee6","type":"message","user":"U7TMPGWJ0","text":"YAMLのは schemaStore って設定がありまして。これを設定するだけでお外に取りにいきます。","ts":"1581928403.475600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jrpT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"84ab0266-453c-4751-8db5-a49927b002ab","type":"message","user":"U7TMPGWJ0","text":"fomat (フォーマッター関連)は残念ながらvscode-yamlじゃないと動かないみたいです。","ts":"1581928440.476100","edited":{"user":"U7TMPGWJ0","ts":"1581928826.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vg0Ay"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5a62857f-15c2-4bcf-9497-3985446683d8","type":"message","user":"U03C6TEAZ","text":"すいません。戻しました！","ts":"1581928441.476300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GfNM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ded9cdc8-fd0f-49d7-9fa5-47375ab53e88","type":"message","user":"U7TMPGWJ0","text":"いえいえ。何かあったのかなーと気になったくらいです。","ts":"1581928458.476700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tn16j"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04721636-d384-4167-a2ff-3d327c743203","type":"message","user":"U7TMPGWJ0","text":"あとこのyaml-language-serverのissueなんですが半年くらいのバージョンのはこのエラーが出たいたようです。 <https://github.com/mattn/vim-lsp-settings/issues/155>","ts":"1581928537.476900","attachments":[{"fallback":"GitHub: Yaml throws 'dynamicRegistration' of undefined · Issue #155 · mattn/vim-lsp-settings","id":1,"title":"Yaml throws 'dynamicRegistration' of undefined · Issue #155 · mattn/vim-lsp-settings","title_link":"https://github.com/mattn/vim-lsp-settings/issues/155","text":"Two issues here: yaml language server throws Cannot read property &amp;#39;dynamicRegistration&amp;#39; of undefined error. Maybe something similar to this: sublimelsp/LSP#649 yaml language server cannot b...","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/vim-lsp-settings/issues/155","original_url":"https://github.com/mattn/vim-lsp-settings/issues/155"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bT2YB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2e8f171d-1f82-4db3-8912-b955dd6c3940","type":"message","user":"U7TMPGWJ0","text":"yaml-language-server の 0.5.8 (3ヶ月前位に0.6.0が出て修正された)の以前のバージョンはこのエラーが出ちゃうみたいでした。0.6.0で修正されたようです。手元で再現しました。","ts":"1581928575.477200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DS2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d0416309-7915-4848-9471-1d46a147c312","type":"message","user":"U03C6TEAZ","text":"おっ。あざます。","ts":"1581928601.477400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZrBz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"992152ee-fae2-4b46-83e1-7da7709ac357","type":"message","user":"U7TMPGWJ0","text":"グローバルに古いやつでも入ってるとかで発生してるのかちょっとわかりませんが。 `npm i -g yaml-language-server@0.5.8` すると確認できました\n```Failed to initialize yaml-language-server with error -32603: Request initialize failed with message: Cannot read property 'dynamicRegistration' of undefined```","ts":"1581928738.477800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ENM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49a453da-ba74-42e4-b5e4-4950742fd4b2","type":"message","user":"U7TMPGWJ0","text":"最新は `0.7.2` です。最新は勿論問題なしです。","ts":"1581928960.478500","team":"T03C4RC8V","reactions":[{"name":"man-gesturing-ok","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jNjR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99fdb7f0-7a13-49d9-8b20-0ec8d12a41bb","type":"message","user":"UAZ33BKV2","text":"vim-lsp? かは不明ですが\n```vim -p test.* # test.txt, test.md```\nなどとして起動すると、片方(自分はtest.txt)で自動のチェックもLspDocumentDiagnoticsも効果が発揮されないという状態になります。\n\nなおLanguage Serverとしては、どちらにもefm-langserverだけが対応し、起動後の状態はrunningになります。\n個別のファイルで起動とか、起動後に `e test.txt` などで開く分には効果が発揮されます。\nうーん...vim の同時で開くは、わりと鬼門だな...","ts":"1581930641.481700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NurtL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"da3d61bb-524d-40cb-8ec8-1a6ad53d1424","type":"message","user":"UAZ33BKV2","text":"なんか自分の環境の影響が大きそうなので、あくまで報告まで","ts":"1581930838.482200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xVOPw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"07c7e3c9-7577-4577-9d52-ac418fc00967","type":"message","user":"U03C6TEAZ","ts":"1581930846.482500","files":[{"id":"FU38H8QEL","created":1581930842,"timestamp":1581930842,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":13580,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FU38H8QEL/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FU38H8QEL/download/image.png","original_h":566,"original_w":322,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FU38H8QEL-49ddf91fcb/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FU38H8QEL-49ddf91fcb/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FU38H8QEL-49ddf91fcb/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FU38H8QEL-49ddf91fcb/image_360.png","thumb_360_gif":"","thumb_360_w":205,"thumb_360_h":360,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FU38H8QEL-49ddf91fcb/image_480.png","thumb_480_w":273,"thumb_480_h":480,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FU38H8QEL/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FU38H8QEL-c20c5c53e0","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAwABt0Us0kYfzNuewQGpP3/wDz2/8AHBWSssijCuwHoDR58v8Az0f86ANbNx/z2P8A3wKXNx/z3/8AHBWR58v/AD0f86PPl/56P+dADKKKKACiiigBxjcdUb8qQqQcEEUF2JyWNGT60AJijB9KKKegH//Z","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"7edad89c-b542-4261-8e5b-ea78cc4e8e6b","type":"message","user":"U03C6TEAZ","text":"手元では `test.*` で test.vim と test.md 開いてこんな感じでした。","ts":"1581930860.483100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sCV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"598c36c3-a20d-4104-834f-29d00d293736","type":"message","user":"UAZ33BKV2","text":"おお、ちゃんと出ますね...なんなんだろう?","ts":"1581930874.483400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"b9Y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6540a461-fa71-4dee-a84a-5c2fd6de72f4","type":"message","user":"UAZ33BKV2","text":"あー、成功パターンと失敗パターンを把めたので、ログを取ってみたら、なんかvaleが途中でエラー吐いてた...\nセンシティブを除いたので貼付します...","ts":"1581931762.484300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DpH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d7f6236a-f32f-49d9-b924-67fa38918f88","type":"message","user":"UAZ33BKV2","text":"こっちは失敗","ts":"1581931825.484400","files":[{"id":"FU2R6RTEY","created":1581931823,"timestamp":1581931823,"name":"lsp_ng_nosense.log","title":"lsp_ng_nosense.log","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"UAZ33BKV2","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":5945,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FU2R6RTEY/lsp_ng_nosense.log","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FU2R6RTEY/download/lsp_ng_nosense.log","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/UAZ33BKV2/FU2R6RTEY/lsp_ng_nosense.log","permalink_public":"https://slack-files.com/T03C4RC8V-FU2R6RTEY-375f95fc8f","edit_link":"https://vim-jp.slack.com/files/UAZ33BKV2/FU2R6RTEY/lsp_ng_nosense.log/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ejdb"}]},{"client_msg_id":"877f5888-2c11-4ffa-bee1-17b5ae1f91b8","type":"message","user":"UAZ33BKV2","text":"こっちは成功","ts":"1581931856.484800","files":[{"id":"FU5549NTZ","created":1581931855,"timestamp":1581931855,"name":"lsp_ok_nosense.log","title":"lsp_ok_nosense.log","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"UAZ33BKV2","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":7303,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FU5549NTZ/lsp_ok_nosense.log","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FU5549NTZ/download/lsp_ok_nosense.log","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/UAZ33BKV2/FU5549NTZ/lsp_ok_nosense.log","permalink_public":"https://slack-files.com/T03C4RC8V-FU5549NTZ-99314266e3","edit_link":"https://vim-jp.slack.com/files/UAZ33BKV2/FU5549NTZ/lsp_ok_nosense.log/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6l19a"}]},{"client_msg_id":"36c03b05-f66f-48a4-8ed8-b61130ba1b35","type":"message","user":"U03C6TEAZ","text":"vale「バレたか！」","ts":"1581931864.485200","team":"T03C4RC8V","reactions":[{"name":"fuita","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RoGc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c5b5ec7-0bd7-4f62-beaf-5b757b5686f2","type":"message","user":"UAZ33BKV2","text":"あ、違うか...すみません、本文がvaleのサンプルだったので読み間違えました...","ts":"1581931932.485700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IKXPi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47caa362-0340-4bad-8e55-52931bfd39f8","type":"message","user":"UAZ33BKV2","text":"NGはレスポンスのdiagnosticsがなくてcloseしてるのは読めたが...","ts":"1581932216.486300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1+bf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"92c571ea-0fbc-4343-baa2-6b753da685fe","type":"message","user":"UAZ33BKV2","text":"root_uriの指定がザツ、とかかな..","ts":"1581932372.486700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qPY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a74afd39-74f5-4887-9f3c-129eedc1c685","type":"message","user":"U03C6TEAZ","text":"んー、ワカラナイ...","ts":"1581932506.487000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dc6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f1257bf6-7228-4891-b52c-9ccdd7dd91fc","type":"message","user":"UAZ33BKV2","text":"エラーってわけじゃないですもんねえ...efmがハンドルしてるコマンドが成功しない感じですが...ただ、efmのdumpと同じ内容を手打でやると出るので(同じディレクトリで)、ますますわからないという","ts":"1581932625.488200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gzTfB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6b04b928-f255-46ff-b5e9-f8e6fc8745a2","type":"message","user":"UAZ33BKV2","text":"あしたefmのログとってみます","ts":"1581934391.489000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zzm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"F1B8C253-FE60-4DB7-B310-20AA22F5B504","type":"message","user":"U7TMPGWJ0","text":"efm-langserver でフォーマッターかけるとファイル最終行にカーソルが飛んでしまう...","ts":"1581938725.491200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=3B"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4899bdd5-2a97-445b-9db8-d21ef17627d5","type":"message","user":"U8R597E9H","text":"げ！自分がやっちゃったやつかなそれ。","ts":"1581938740.491500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NTE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"26e15b6f-7bb4-44fa-8560-81e32f896c08","type":"message","user":"U8R597E9H","text":"<@U7TMPGWJ0> vim-lsp は最新でしょうか。。。","ts":"1581938751.491800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LaX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"FEACE731-FD1E-414C-9FFA-C0DC44C4B981","type":"message","user":"U7TMPGWJ0","text":"はい、最新です。各言語用のLSでフォーマッターを提供してるものは大丈夫だったと思います（ちょうどお外に出てしまって手元にPC無いです。すいません。）","ts":"1581939003.495200","edited":{"user":"U7TMPGWJ0","ts":"1581939020.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q4+e"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"568df9d4-fddd-4565-bbd0-68e78f996b9c","type":"message","user":"U8R597E9H","text":"確認してみます。","ts":"1581939279.495500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D61+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"80b74eab-9b3e-4dd0-8ab7-e863d38295fd","type":"message","user":"U03C6TEAZ","text":"や、たぶん僕。","ts":"1581940572.495800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qnRA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"749efca2-6bd8-429e-a8af-05a60d0cac78","type":"message","user":"U03C6TEAZ","text":"全体を書き換えてるので。","ts":"1581940597.496300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gLo="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4a2c7aa1-a4e3-40fb-84a8-3e88b00a4aeb","type":"message","user":"UFYACJ537","text":"neovimだけなのか `g:lsp_diagnostics_echo_cursor=1`  にしていると補完が変な挙動しちゃってoffにしてしまった…","ts":"1581941192.497400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C82s/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c431da91-e818-4377-8565-85f3633e718b","type":"message","user":"U8R597E9H","text":"<@U03C6TEAZ> いえ、これ僕のせいなのが発覚しました。efm-langserver は悪くないようです。","ts":"1581941308.497800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=LI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"35080f9f-59fb-406d-9bc1-d5ed7fa66688","type":"message","user":"U8R597E9H","text":"<@U7TMPGWJ0> <https://github.com/prabirshrestha/vim-lsp/pull/724/files> こちらの PR 試すことってできますでしょうか。","ts":"1581941958.498100","attachments":[{"fallback":"GitHub: Fix cursor pos after text edit by hrsh7th · Pull Request #724 · prabirshrestha/vim-lsp","id":1,"title":"Fix cursor pos after text edit by hrsh7th · Pull Request #724 · prabirshrestha/vim-lsp","title_link":"https://github.com/prabirshrestha/vim-lsp/pull/724/files","text":"Sometimes, target_bufname is not equaled to current_bufname.","thumb_url":"https://avatars0.githubusercontent.com/u/629908?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/prabirshrestha/vim-lsp/pull/724/files","original_url":"https://github.com/prabirshrestha/vim-lsp/pull/724/files"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Tx3e"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1296c7af-22b7-4056-9ba0-690c620aee0c","type":"message","user":"U8R597E9H","text":"おそらく治ったのでは。。。と思うのですが。","ts":"1581941965.498400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TUufP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5153242b-36cb-4764-8423-8194c593c8d2","type":"message","user":"U7TMPGWJ0","text":"少々お待ちを...","ts":"1581942385.498700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mTJSB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f1ac1495-b052-41ff-94bb-55e27c43d20a","type":"message","user":"U7TMPGWJ0","text":"LspDocumentFormat / LspDocumentFormatSync でカーソルが維持させることを確認しました！","ts":"1581942652.499400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A6q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5cf76bc9-0563-43aa-9596-9b42f7243a04","type":"message","user":"U8R597E9H","text":"あざます！","ts":"1581942727.499600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0cKfj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2e87baa-4539-448b-a404-6580e0bbd60c","type":"message","user":"U8R597E9H","text":"と思ったらテスト落ちとる。テスト直したらマージします。ご報告ありがとうございます。","ts":"1581942760.000000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Drc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c7658150-4468-48fd-bdba-456966b45f02","type":"message","user":"U8R597E9H","text":"この CI が落ちてるの、neovim の latest のビルドにこけてるだけっぽいかも。。。？","ts":"1581942908.001000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OO5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d64334e4-ab85-4ab0-b016-f9563bbe192f","type":"message","user":"U7TMPGWJ0","text":"すいません、ありがとうございます。手元で再度、試したのですがそもそもefm-langserver関係なく、通常のLSのフォーマッターでも起こっていたっぽかったですね。。","ts":"1581943018.001600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P3fhc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c0155385-bf45-428d-8220-86c188c86a71","type":"message","user":"U8R597E9H","text":"とりあえず、影響大きいのでマージしてしまおうかと思います。","ts":"1581943050.002500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aX/Yo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d276a7e-69a7-4b95-b618-d0ad091775e6","type":"message","user":"U7TMPGWJ0","text":"他のフォーマッタープラグインを抜き差ししてたりしてチェックがごちゃごちゃと混乱してしまいました。。","ts":"1581943240.003000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CPdsp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3d63541d-8e20-4606-8dbf-4e6f5dd4b366","type":"message","user":"U8R597E9H","text":"neovim の nightly のリリースに neovim.appimage のイメージがなくなってて CI が落ちてるっぽい。\n多分、neovim 側がそのうち appimage またリリースしてくれると信じてマージしちゃいました。","ts":"1581943489.003900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sil+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
