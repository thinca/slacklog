[{"client_msg_id":"32e9dd21-faca-4a99-9008-09d98b74e635","type":"message","user":"U0M7GCBPD","text":"efm-langserver 期待","ts":"1579957511.046900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/1z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"338b94da-0a96-4308-9124-bbc1952a6c33","type":"message","user":"U03C6TEAZ","text":"<@U8R597E9H> 最近よく slack で見る、補完で label が挿入されて気持ち悪いって話ですが、これ今までは多くの人が `lsp_text_edit_enabled` を 0 にしていて、問題になってなかっただけで実は既存から存在する問題だったと思っています。","ts":"1579958028.048500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QOOl+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"abb05fa9-8cb8-46bd-9482-5e577fb620ff","type":"message","user":"U03C6TEAZ","text":"で何が起きているかというと最近の textEdit の修正や vsnip の精度が上がった事で補完確定後の穴あきがきれいに処理される様になった事で今まで無理やりワークアラウンドとしていれていた「insertText はあるけど snippet だったら label 使う」というコードが邪魔をしてしまってるんですよね。","ts":"1579958034.048700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1H4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8932e061-320c-47fa-8c42-e6726735456f","type":"message","user":"U03C6TEAZ","text":"```diff --git a/autoload/lsp/omni.vim b/autoload/lsp/omni.vim\nindex f4db521..82b97d4 100644\n--- a/autoload/lsp/omni.vim\n+++ b/autoload/lsp/omni.vim\n@@ -238,10 +238,10 @@ function! lsp#omni#default_get_vim_completion_item(item, ...) abort\n     let l:server_name = get(a:, 1, '')\n\n     if g:lsp_insert_text_enabled &amp;&amp; has_key(a:item, 'insertText') &amp;&amp; !empty(a:item['insertText'])\n-        if has_key(a:item, 'insertTextFormat') &amp;&amp; a:item['insertTextFormat'] != 1\n-            let l:word = a:item['label']\n-        else\n+        if has_key(a:item, 'insertTextFormat')\n             let l:word = a:item['insertText']\n+        else\n+            let l:word = a:item['label']\n         endif\n         let l:abbr = a:item['label']\n     else```\n","ts":"1579958059.048900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dEMU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"413f72bc-2771-4769-bd59-0cb31ece6732","type":"message","user":"U03C6TEAZ","text":"こんな感じにしても現状動いているので「正しい動作」に直していいかなと思ってるのですが如何でしょうか？","ts":"1579958083.049500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S6Yth"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5aa7d635-f24c-431b-a1b2-77abbb070dbc","type":"message","user":"U03C6TEAZ","text":"eclipse <http://jdt.ls|jdt.ls> と kotlin-language-server はこの修正で「気持ち悪さ」が無くなるのは確認しました。今から確認しますがおそらく metals も改善します。","ts":"1579958143.049700","edited":{"user":"U03C6TEAZ","ts":"1579958189.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mVKLm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8be46eb0-771a-4469-a626-3e7168477f1f","type":"message","user":"U03C6TEAZ","text":"metals 駄目だな。なんだこれ。","ts":"1579958474.050300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EjMMF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"94f3728b-df2f-4d2e-ac61-828195a0d3ff","type":"message","user":"U03C6TEAZ","text":"あー。やるならもっと大胆にやらんとあかんみたい。","ts":"1579958816.050800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rEFfT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"39c9ba24-4aa1-4e70-9229-54cdc60be532","type":"message","user":"U03C6TEAZ","text":"```iff --git a/autoload/lsp/omni.vim b/autoload/lsp/omni.vim\nindex f4db521..133a4e9 100644\n--- a/autoload/lsp/omni.vim\n+++ b/autoload/lsp/omni.vim\n@@ -238,11 +238,7 @@ function! lsp#omni#default_get_vim_completion_item(item, ...) abort\n     let l:server_name = get(a:, 1, '')\n \n     if g:lsp_insert_text_enabled &amp;&amp; has_key(a:item, 'insertText') &amp;&amp; !empty(a:item['insertText'])\n-        if has_key(a:item, 'insertTextFormat') &amp;&amp; a:item['insertTextFormat'] != 1\n-            let l:word = a:item['label']\n-        else\n-            let l:word = a:item['insertText']\n-        endif\n+        let l:word = a:item['insertText']\n         let l:abbr = a:item['label']\n     else\n         let l:word = a:item['label']```","ts":"1579958819.051000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LVwL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3350ea9e-bf45-4996-a295-8cf6596a4c5f","type":"message","user":"U03C6TEAZ","text":"metals は insertText を送って来ないのか。","ts":"1579959175.051700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aDS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9c43c792-629b-4b7c-9c46-d715735ec61d","type":"message","user":"U03C6TEAZ","text":"それは metals が悪い。","ts":"1579959193.052400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ylunD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68ead1be-01f9-442e-995c-e086c1efc929","type":"message","user":"U8R597E9H","text":"少なくとも、lsp_insert_text_enabled は不要な気が自分もしていました。\n自分は「insertTextFormat が 2 であれば、label を使う」が正しい処理であると考えていますが、仕様に書いてないのでなんともわからないんですよね…。ちょっとVSCode のコード見てみます。","ts":"1579959290.055300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q6Z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"abcada45-dfbd-41a9-9803-4681e20c9358","type":"message","user":"U03C6TEAZ","text":"補完ポップアップをカーソルキー等で選んでいる最中に何も挿入されない vscode を見てもあまり意味がないかも。","ts":"1579959345.055900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hz2mj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c6eea2e-ad05-472e-bbc8-f015db476e0e","type":"message","user":"U03C6TEAZ","ts":"1579959496.056100","files":[{"id":"FSTPYTYDP","created":1579959492,"timestamp":1579959492,"name":"Screenshot from 2020-01-25 22-36-42.png","title":"Screenshot from 2020-01-25 22-36-42.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":41620,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FSTPYTYDP/screenshot_from_2020-01-25_22-36-42.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FSTPYTYDP/download/screenshot_from_2020-01-25_22-36-42.png","original_h":900,"original_w":1496,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FSTPYTYDP-cc1c6abb9a/screenshot_from_2020-01-25_22-36-42_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FSTPYTYDP-cc1c6abb9a/screenshot_from_2020-01-25_22-36-42_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FSTPYTYDP-cc1c6abb9a/screenshot_from_2020-01-25_22-36-42_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FSTPYTYDP-cc1c6abb9a/screenshot_from_2020-01-25_22-36-42_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":217,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FSTPYTYDP-cc1c6abb9a/screenshot_from_2020-01-25_22-36-42_480.png","thumb_480_w":480,"thumb_480_h":289,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FSTPYTYDP-cc1c6abb9a/screenshot_from_2020-01-25_22-36-42_720.png","thumb_720_w":720,"thumb_720_h":433,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-FSTPYTYDP-cc1c6abb9a/screenshot_from_2020-01-25_22-36-42_960.png","thumb_960_w":960,"thumb_960_h":578,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-FSTPYTYDP-cc1c6abb9a/screenshot_from_2020-01-25_22-36-42_1024.png","thumb_1024_w":1024,"thumb_1024_h":616,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FSTPYTYDP/screenshot_from_2020-01-25_22-36-42.png","permalink_public":"https://slack-files.com/T03C4RC8V-FSTPYTYDP-feb0e12aba","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FSTPYTYDP-cc1c6abb9a/screenshot_from_2020-01-25_22-36-42_800.png","thumb_800_h":481,"thumb_800_w":800,"thumb_tiny":"AwAcADCkCuBkHP1oyno35im0UAPDL/tfmKaTnucUlFABmjJoooAKKUt7D8qTPsKACijPsKM+woAKKM+wo34/hX8qAP/Z","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"975f359d-677c-42dc-a7cd-f7818bd2c377","type":"message","user":"U03C6TEAZ","text":"これが気持ちわるさですよね。","ts":"1579959506.056900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jmA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"daabd4f7-baa1-4235-9c9f-82dcaa4181ce","type":"message","user":"U8R597E9H","text":"insertTextFormat で検索しても何も出てこない VSCode さん…","ts":"1579959523.057600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aMmB9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b92d7727-c782-4f16-abfd-03dd69e503c7","type":"message","user":"U03C6TEAZ","text":"metals の補完結果の１個です。","ts":"1579959641.057900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gnItO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0ea27c14-b4df-42d4-9fae-edfefad59f4a","type":"message","user":"U03C6TEAZ","text":"```{\n  \"label\": \"args: Array[String]\",\n  \"data\": {\n    \"symbol\": \"_empty_/foo.main().(args)\",\n    \"target\": \"metals-default-2.12.10\"\n  },\n  \"insertTextFormat\": 2,\n  \"preselect\": true,\n  \"sortText\": \"00000\",\n  \"kind\": 12,\n  \"filterText\": \"args\",\n  \"textEdit\": {\n    \"range\": {\n      \"end\": {\n        \"character\": 23,\n        \"line\": 2\n      },\n      \"start\": {\n        \"character\": 23,\n        \"line\": 2\n      }\n    },\n    \"newText\": \"args\"\n  },\n  \"detail\": \": Array[String]\"\n},```","ts":"1579959644.058100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/sD="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f642ec24-c152-4b7e-a0bf-e9321517e663","type":"message","user":"U03C6TEAZ","text":"newText 使う案もなくはないけど、newText にはたまに `foo($0)` みたいなのも混じってくる。","ts":"1579959683.058900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fZYq6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac0a05ab-c46f-42bd-9648-552f19417fde","type":"message","user":"U8R597E9H","text":"候補テキストが label, inserText, newText とあるので、なんらか賢く選択する方法を用意すれば、サーバ毎の差異を吸収できる可能性が…？","ts":"1579959942.061900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YBlR="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f1327ca-9941-4b4d-aade-dd847cd52b57","type":"message","user":"U8R597E9H","text":"\\w だけで構成されているのが一番嬉しい…のかしら。トリッキーになりえますが、便利かも。","ts":"1579960021.063800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CopV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6e6d6c5f-c536-43b8-a139-6e5a80f90ed6","type":"message","user":"U03C6TEAZ","text":"ひとまず metals の関係者ぽい人に状況説明を試みてる。","ts":"1579960028.064000","team":"T03C4RC8V","reactions":[{"name":"sasumatsu","count":1,"users":["U8R597E9H"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nk+x"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2c003f46-5ddd-4454-98a0-29aba32fe839","type":"message","user":"U8R597E9H","text":"自分としては「insertTextFormat が 2 である時、label には snippet のトリガーが入り、insertText には snippet の本文が入る」と仕様を読み取りました。（そんなことはどこにも書いてはいないので想像ではあります）","ts":"1579960253.066600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oDv4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fa464a15-bcf3-467a-bdb7-42f8328d7493","type":"message","user":"U03C6TEAZ","text":"\\w はいいかもなー。","ts":"1579960255.066700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NHS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eb2a12cf-c3ef-4f87-8acc-c4a842271317","type":"message","user":"U03C6TEAZ","text":"`l:word` に何をいれるかが今回の問題なのですが、まず newText を使うのは駄目。\ninsertText があるならそれを使う。\ninsertText がないなら label を \\w して使う","ts":"1579960346.068900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OYLV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de0e81e0-fcd9-4d97-b1bf-704ba3e8bd0c","type":"message","user":"U03C6TEAZ","text":"こんな？","ts":"1579960348.069100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rsBjT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"189ab623-45c1-4078-b54d-6835c90d97b4","type":"message","user":"U8R597E9H","text":"個人的には label が \\w だけで構成されていれば、最優先で採用。\nそうでないなら、inserText を加工して使う。がいいも思います。（やっぱり、スニペットの時は label を `l:word` として採用するのが最も自然であると考えているためです）","ts":"1579960556.072100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RbqdE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8cbd7977-18df-4fe6-ab0b-a6158bd63d16","type":"message","user":"U03C6TEAZ","text":"Metals の人には insertText 入れてくれとお願いしています。","ts":"1579960601.073100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6HZfW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"19857d7f-8da8-4711-8a6e-a2cdd57a490b","type":"message","user":"U8R597E9H","text":"あー、そうか、textEdit が存在する場合は insertText 使う。と解釈するのも自然だと考え直しました。","ts":"1579960685.075100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qU5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ba7e605d-cc5e-4db9-b1e1-fea84f112205","type":"message","user":"U8R597E9H","text":"insertTextFormat = 2 の時、\n1. insertText 有 and textEdit 無\n2. insertText 有 and textEdit 有\n3. insertText 無 and textEdit 有\n\nそれぞれでどれを採用すべきかですね。","ts":"1579960837.079100","edited":{"user":"U8R597E9H","ts":"1579960863.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sgg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9503743-78c4-4cf2-be15-1b7af7c4a03d","type":"message","user":"U8R597E9H","text":"1 or 3 の時は label が妥当そうで、2 の時は insertText でも label でも妥当そうなんですよね。","ts":"1579960934.080900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ars"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1e1ea66a-df11-431b-bd92-7092d070be2f","type":"message","user":"U03C6TEAZ","text":"まずそれぞれの意味として label は見栄えです。insertText は実際に挿入されるテキストです。label にはエキストラな情報が含まれます。","ts":"1579961138.082000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yZo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ba9785f0-2e0a-4a0e-9234-ff6db062c1a7","type":"message","user":"U03C6TEAZ","text":"これが今回の問題なので、insertText がある場合には 100% insertText を使う。","ts":"1579961168.082600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5pd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2941699a-2081-4819-9be2-d5eb086039e6","type":"message","user":"U03C6TEAZ","text":"```if insertTextあり\n  insertText使う\nelse\n  if insertTextFormat==2\n    // どうする？\n  else\n    label使う\n  endif\nendif```","ts":"1579961224.083700","edited":{"user":"U03C6TEAZ","ts":"1579961526.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Gq4j"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d4826ca4-05de-4fa5-bef8-70e0a97abe6f","type":"message","user":"U03C6TEAZ","text":"こういう認識です。","ts":"1579961230.084100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AY47"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ceef2646-d459-4e70-b3c1-eec3235805b6","type":"message","user":"U03C6TEAZ","text":"なので <@U8R597E9H> さんの↑の条件には insertText ありなしは考えなくていいと思っています。ない時だけ考えればいい。","ts":"1579961347.085100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bba"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"29425d95-59a6-4fd9-bf29-5a64fd5c8f84","type":"message","user":"U03C6TEAZ","text":"そこが `label` の `\\w` になれば今回の治るんじゃないかなと思っています。","ts":"1579961379.085700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JER6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd8be564-f429-4ee3-b6c1-0c24f7e28160","type":"message","user":"U78A6ESHM","text":"textEdit がらみで今遭遇した現象なんですが、補完候補が出て選択したら、補完されずに終わるパターンがあったんですが、どれを疑ったらいいんですかね。vim-lsp-neosnippet なのかな…。","ts":"1579961708.086000","files":[{"id":"FT408LVCG","created":1579961704,"timestamp":1579961704,"name":"Kapture 2020-01-25 at 23.09.51.mp4","title":"Kapture 2020-01-25 at 23.09.51.mp4","mimetype":"video/mp4","image_exif_rotation":0,"filetype":"mp4","pretty_type":"MPEG 4 Video","user":"U78A6ESHM","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":854689,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FT408LVCG/kapture_2020-01-25_at_23.09.51.mp4","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FT408LVCG/download/kapture_2020-01-25_at_23.09.51.mp4","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U78A6ESHM/FT408LVCG/kapture_2020-01-25_at_23.09.51.mp4","permalink_public":"https://slack-files.com/T03C4RC8V-FT408LVCG-6294f123e2","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"thumb_video":"https://files.slack.com/files-tmb/T03C4RC8V-FT408LVCG-d17f307412/kapture_2020-01-25_at_23.09.51_thumb_video.jpeg","display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4GK"}]},{"client_msg_id":"129b4995-9b08-4146-bf44-6296b087a98d","type":"message","user":"U03C6TEAZ","text":"見た感じ vim-lsp-neosnippet だと思います。","ts":"1579961876.087500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U4=M"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"779c2ae8-d46f-40da-aa16-6ce6e0457cc1","type":"message","user":"U03C6TEAZ","text":"１回入ったテキストを消して入れ直してるとしたら snippet 処理なんですが、vim-lsp に１箇所ありますがそれほど疑わしいとは思えないと思っていて、であれば snippet 系プラグインかな、という推測です。","ts":"1579961961.089500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rjreu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6098abdb-2648-4ab8-a107-71226bccf9cd","type":"message","user":"U78A6ESHM","text":"```parse_annotation(${1:annotation: &amp;ast::Expression})${0}```\nというのを返して\n`call feedkeys(\"\\&lt;C-r&gt;=neosnippet#anonymous('\" . s:escape_snippet(a:params.snippet) . \"')\\&lt;CR&gt;\")`\n\nに突っ込んでるのに静かにお亡くなりになってますね…。","ts":"1579961984.089900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sRj51"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74b2b0d7-05c1-4ea0-8e3d-c4ecde9b7d84","type":"message","user":"U8R597E9H","text":"placeholder に : あるのがいけてないのかしら。","ts":"1579962039.090200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jd9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"671e8dc4-bba7-4dc5-be52-bcdc31b200eb","type":"message","user":"U8R597E9H","text":"label の件、解釈が難しいですね。\n自分としては insertTextFormat=2 の場合は、insertText にはスニペットテキスト（$0 や \\n などを含む）が入りうるので、あまり補完中に表示する対象としてふさわしくないと考えていました。","ts":"1579962143.092100","edited":{"user":"U8R597E9H","ts":"1579962158.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LJv7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"42598607-913b-4cb9-85d6-e15479a46745","type":"message","user":"U8R597E9H","text":"ただ、`insertText` も `textEdit` も両方ともある場合は、`textEdit` を優先して使うべきであろうから、その場合は insertText を補完中のテキストとして選ぶのも自然かもしれない。と解釈した感じです。","ts":"1579962223.093400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PpvO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bddd71c3-dfff-4927-836b-7c8b5dddbb5a","type":"message","user":"U8R597E9H","text":"ただ、label に複雑な文字列が入るケースがあって問題が起こる、というのは変わらないので、label に \\w かけてしまうのが安全そう。という部分は同意です。","ts":"1579962260.094100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kBLPu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bfaf7ab1-5f33-458f-b558-4338ea659b04","type":"message","user":"U03C6TEAZ","text":"```    if has_key(a:item, 'insertText') &amp;&amp; !empty(a:item['insertText'])\n        let l:word = a:item['insertText']\n    else\n        if has_key(a:item, 'insertTextFormat') &amp;&amp; a:item['insertTextFormat'] != 1\n            let l:word = matchstr(a:item['label'], '\\w\\+')\n        else\n            let l:word = a:item['label']\n        endif\n    endif\n    let l:abbr = a:item['label']```\nこう修正して eclipse jdt ls と metals で試してるとこ。","ts":"1579962367.094700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xm4p"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"08c88dea-028c-4c8f-81ba-c231cd930f93","type":"message","user":"U03C6TEAZ","text":"insertText に placeholder が入る LS ってどんなのがあるんでしょうか。","ts":"1579962438.095800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VHRp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e0ea8e6f-d1b1-4ffd-b3aa-e03d9e53528a","type":"message","user":"U03C6TEAZ","text":"<@U8R597E9H> さんの意見だと\n```    if has_key(a:item, 'insertText') &amp;&amp; !empty(a:item['insertText']) &amp;&amp; has_key(a:item, 'insertTextFormat') &amp;&amp; a:item['insertTextFormat'] == 1\n        let l:word = a:item['insertText']\n    else\n        let l:word = matchstr(a:item['label'], '\\w\\+')\n    endif\n    let l:abbr = a:item['label']```\nこんな感じですか？","ts":"1579962534.096200","edited":{"user":"U03C6TEAZ","ts":"1579962568.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pTQ3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"199c8335-22da-4af9-8677-b448ee11d611","type":"message","user":"U03C6TEAZ","text":"あ、最後の `||` 変だ","ts":"1579962554.096600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R+ENO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9a07e14f-0a38-4063-9183-07560bed6b18","type":"message","user":"U8R597E9H","text":"vim language server が insertText 使っているようです。（あんまりメジャーじゃなくてすいません。。。）","ts":"1579962570.097100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Yp=N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78e9d344-a155-4808-8ea3-64be4dd2cfff","type":"message","user":"U8R597E9H","text":"ちょっとコード考えてみます！が、前提としてはこんなイメージです。\n\n```if get(a:item, 'insertTextFormat', -1) == 2\n  \" snippet 向けの処理\nelse\n  let l:word = get(a:item, 'insertText, a:item['label'])\nendif```","ts":"1579962662.098900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"06Hfu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6b44061c-040a-4688-a5e8-330cbc1caae5","type":"message","user":"U78A6ESHM","text":"```params: &amp;[ast::Parameter]```\nこいつは行けるのに。わからなくなりました :innocent:","ts":"1579962810.099900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CYo7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"82515fc9-ac52-4b9e-a7ee-aece56d6ed84","type":"message","user":"U03C6TEAZ","text":"<@U8R597E9H>  \\w をどうするかの問題は残る感じですか？","ts":"1579962856.100900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B+Do"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fafa55f1-5552-4720-aaaa-89ba84f7f036","type":"message","user":"U03C6TEAZ","text":"そこ textEdit の有り無しで切り替えるのはどうでしょ？","ts":"1579962903.102100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C3e4C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2fda52bf-370a-4972-8ec1-684803e03d2e","type":"message","user":"U03C6TEAZ","text":"ないなら label のまま。","ts":"1579962920.102500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Kr0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ad9fb35d-0618-4e2c-9cf7-18d961032e60","type":"message","user":"U03C6TEAZ","text":"ありなら \\w","ts":"1579962932.102800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r5E"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ccd1d08-88aa-4f5d-9066-e318ae805c2c","type":"message","user":"U8R597E9H","text":"```    if get(a:item, 'insertTextFormat', -1) == 2\n        let l:word = matchstr(a:item['label'], '\\w\\+')\n    else\n        let l:word = get(a:item, 'insertText', 'label')\n    endif```\nこういうイメージです。","ts":"1579962988.103300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z+xf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99b80e2b-056b-4c38-909e-d67bdb8fca0c","type":"message","user":"U03C6TEAZ","text":"多分今の metals は else 側です。","ts":"1579963013.104000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DFQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f310782d-d27c-4ca6-bc40-1b1f923b8626","type":"message","user":"U8R597E9H","text":"textEdit も insertText も存在する場合に insertText を使うのは自分もアリな気がします。","ts":"1579963019.104200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QtsZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eac0660b-b928-46cd-ac73-872a54341cef","type":"message","user":"U8R597E9H","text":"え！","ts":"1579963022.104400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"92UJR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"54406e68-bd3f-4698-b3aa-0128000734b9","type":"message","user":"U03C6TEAZ","text":"あ、ちょっと待って下さい。見直します。","ts":"1579963044.105200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DewX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a1cf092e-4b33-4525-8e1f-b36a69ee0c5d","type":"message","user":"U8R597E9H","text":"もう一度じぶんも頂いたレスポンス例を見直してみます。","ts":"1579963057.105500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C5qE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf1cb905-4b3d-49f3-95fe-25b58ba83408","type":"message","user":"U03C6TEAZ","text":"上側でしたすいません","ts":"1579963072.105800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kLV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5581496a-eed1-4d44-938a-4a6ada3d2f00","type":"message","user":"U03C6TEAZ","text":"ただ textEdit ありなしで切り替えるのはアリですね。","ts":"1579963085.106200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gPbf="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a8c61f2e-14a3-4e96-a628-d2a8be582354","type":"message","user":"U8R597E9H","text":"はい。そのケースはなにか LS が意図を持っていそうなのでアリな気がします。（スニペットの場合、textEdit を入れたなら、insertText を入れる必要は本来ないはずなので）","ts":"1579963132.107800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fVyw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8b7dd24e-87c7-49a6-9f29-25798db2ba6c","type":"message","user":"U03C6TEAZ","text":"insertTextEdit==2 → insertText の \\w\ninsertTextあり → insertText\ntedtEditあり → label の \\w\nそれ以外 → label","ts":"1579963187.108800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rOp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"61f8c98d-7a20-47dd-b61f-8e09be6c8b2f","type":"message","user":"U03C6TEAZ","text":"こうかな。","ts":"1579963190.109000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ijc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"79e6b1e7-3411-4a9d-8265-011c8998cd73","type":"message","user":"U03C6TEAZ","text":"条件ありすぎw","ts":"1579963246.109300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YoU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd412371-5f56-4143-af2c-423ddd704bf5","type":"message","user":"U8R597E9H","text":"ややこしいし、仕様書にちゃんと書いてほしいですｗ","ts":"1579963505.110300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OIs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3508ea4-0c43-440d-a242-cd2fefb6f8a3","type":"message","user":"U8R597E9H","text":"```    if get(a:item, 'insertTextFormat', -1) == 2\n        \" snippet で textEdit が提供されているならば insertText は不要なはず、しかしそれでも提供されている場合、それを利用する\n        if has_key(a:item, 'insertText') &amp;&amp; has_key(a:item, 'textEdit')\n            let l:word = matchstr(a:item['insertText'], '\\w\\+') \" snippet の本文にはにいろんな情報を詰めてくる場合があるので \\w\\+ にしておく\n        else\n            let l:word = matchstr(a:item['label'], '\\w\\+') \" snippet の label にいろんな情報を詰めてくる場合があるので \\w\\+ にしておく\n        endif\n    else\n        let l:word = get(a:item, 'insertText', 'label')\n    endif```","ts":"1579963546.110600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uNHs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c8589253-6e60-43b3-ad6a-97778efe3907","type":"message","user":"U8R597E9H","text":"_個人的には metals のバグと認識してしまっています。が仕様がはっきりしないので強く出れない。。。_","ts":"1579963584.111400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1w/V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3ab62150-cd9f-4278-a914-beb34ac0a5cf","type":"message","user":"U03C6TEAZ","text":"下の else 側にも textEdit のチェックが要りそうな気がする。","ts":"1579963594.111600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OcLfr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a107104e-b898-41a9-b8ed-bb225ecdc9b1","type":"message","user":"U8R597E9H","text":"スニペットじゃない場合は、insertText/label を補完中に表示して、textEdit は補完完了時にあれば展開するのみだと捉えています。（全部、そう思っています。みたいになってすいません。。。）","ts":"1579963708.112400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"slb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a001912a-142a-4271-ba66-d0dd8d8e787c","type":"message","user":"U8R597E9H","text":"む。そうでもないのか。。。？たしかに解釈次第では下も textEdit 見てもいい気がしてきた。。。","ts":"1579963770.113100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R3Tb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9f3cddd6-f2e5-45b9-a980-7377eb91ad13","type":"message","user":"U03C6TEAZ","text":"僕の今の頭の中です。\n```    let l:word = ''\n    if get(a:item, 'insertTextFormat', -1) == 2\n        if !empty(get(a:item, 'insertText', ''))\n            \" if candidate is snippet, use insertText. But it may include\n            \" placeholder.\n            let l:word = matchstr(a:item['insertText'], '\\w\\+')\n        endif\n    elseif !empty(get(a:item, 'insertText', ''))\n        \" if plain-text insertText, use it.\n        let l:word = a:item['insertText'] \" オリジナルをそのまま\n    endif\n    if l:word == ''\n        if has_key(a:item, 'textEdit')\n            let l:word = matchstr(a:item['label'], '\\w\\+')\n        else\n            let l:word = matchstr(a:item['label'])  \" オリジナルをそのまま\n        endif\n    endif\n    let l:abbr = a:item['label']```","ts":"1579963784.113300","edited":{"user":"U03C6TEAZ","ts":"1579964185.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ejz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0b04ca98-9044-4ec3-aece-b83d9ace86dc","type":"message","user":"U8R597E9H","text":"たしかに、coc.nvim が `snippet であろうが insertText を補完一覧に表示する。そのまま表示すると見栄え悪いので加工する` 方式っぽいです。\n<https://github.com/neoclide/coc.nvim/blob/582aa072c55b334ea8596a1cb52f18663175a907/src/util/complete.ts#L53>","ts":"1579964043.114600","edited":{"user":"U8R597E9H","ts":"1579964050.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9Do"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9578477b-7373-4163-a7e2-85bb70afc94c","type":"message","user":"U03C6TEAZ","text":"なるほど。","ts":"1579964081.115500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u26j"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b37aaa0-e138-4cb2-8b39-675359c9ae95","type":"message","user":"U03C6TEAZ","text":"hrsh7th さんと僕の↑の意見は「見栄え悪いかもしれんけど LS が本当に入れようとしてる可能性がある場合は救うぞ」という案なので少し違いますね。","ts":"1579964134.117400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3Y71"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c4b2a0db-3f39-410d-9a98-025d6cf29d9e","type":"message","user":"U03C6TEAZ","text":"↑eclipse jdt ls と metals で試したけど、いい感じぽい。","ts":"1579964151.117700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8rxPB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"38f0e6f8-36f3-482c-94ee-95a54481bcf5","type":"message","user":"U8R597E9H","text":"\\w\\+ で加工する方針でうまくいきそうですね。実績も見つかりましたし。","ts":"1579964232.119100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xf3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f8594694-3865-472b-ae52-7bd4cc325e95","type":"message","user":"U03C6TEAZ","text":"Lisp とか、もし `(xxx)` みたいなのを入れようとしてる場合何も入らない可能性があるので救ってあげる必要はありそう。","ts":"1579964253.119400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rmbT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e6009754-fe48-474f-98da-9cf058fda1c8","type":"message","user":"U03C6TEAZ","text":"全部仕様書が悪い。","ts":"1579964297.119800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6vQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d1dfd1c0-abae-4a7f-a4b8-bf3dc5ed7843","type":"message","user":"U8R597E9H","text":"html lang server も `$0&lt;/div&gt;` があったりしますからね。","ts":"1579964322.120500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5pm6C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c24ab2d2-56ed-4598-bf7a-3f4ad3ae0cea","type":"message","user":"U03C6TEAZ","text":"ﾋｴｰ","ts":"1579964334.120700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=Ofi2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d691e077-c3a3-46c3-ba99-4dfdb6bcb498","type":"message","user":"UAZ33BKV2","text":"前出ですが、空文字列とかになったら、あきらめてそのままとかで出さないとですかね?","ts":"1579964385.121400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g4tJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"48a42295-8cb6-4100-bed7-88b0ae3107f5","type":"message","user":"U03C6TEAZ","text":"efm-langserver の性質上、vim-lsp-settings で any で起動する様な事になってしまうので伺いたい。","ts":"1579878208.016200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MzS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fe3bf18a-b559-45d3-b171-0084ea241f6f","type":"message","user":"U03C6TEAZ","text":"つまり vim 起動したら efm-langserver が起動する。(入ってる人は)","ts":"1579878230.016600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KNTO7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9e3c283d-8161-443c-ac21-61a6173a2484","type":"message","user":"U03C6TEAZ","text":"他の候補足せないやん","ts":"1579878336.016900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ig+xI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"<@U03C6TEAZ> has a poll for you!","ts":"1579878393.017200","edited":{"user":"BK1EN2J8G","ts":"1580019907.000000"},"subtype":"bot_message","bot_id":"BK1EN2J8G","username":"Polly","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2019-06-02/641615704003_48.png"},"replace_original":false,"delete_original":false,"blocks":[{"type":"section","text":{"type":"mrkdwn","text":"*皆さん vim-lsp-settings でデフォで efm-langserver 起動したら*","verbatim":true},"block_id":"p4SN"},{"type":"actions","block_id":"RBfV","elements":[{"type":"button","text":{"type":"plain_text","text":"いいんじゃない","emoji":true},"action_id":"PollMessage(Ehb9m3qcueoeWXnkB).VotingButton(0)","value":"one"},{"type":"button","text":{"type":"plain_text","text":"いやだ","emoji":true},"action_id":"PollMessage(Ehb9m3qcueoeWXnkB).VotingButton(1)","value":"two"},{"type":"button","text":{"type":"plain_text","text":"デフォルト無効ならいい","emoji":true},"action_id":"PollMessage(Ehb9m3qcueoeWXnkB).VotingButton(2)","value":"three"},{"type":"button","text":{"type":"plain_text","text":"+ Add Option","emoji":true},"action_id":"PollMessage(Ehb9m3qcueoeWXnkB).AddOptionButton"}]},{"type":"section","block_id":"y+fx","fields":[{"type":"mrkdwn","text":"いいんじゃない  \n\n`████ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢`  |  17% (1)\n\n\u003c@UNJ2DANJC\u003e","verbatim":true},{"type":"mrkdwn","text":"いやだ  \n\n`⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ ⁢ `  |  0% (0)","verbatim":true}]},{"type":"section","block_id":"+jCbD","fields":[{"type":"mrkdwn","text":"デフォルト無効ならいい  \n\n`████████████████████ ⁢ ⁢ ⁢ ⁢ ⁢`  |  83% (5)\n\n\u003c@UNM8AVCB0\u003e, \u003c@U0M7GCBPD\u003e, \u003c@UEX9VPSET\u003e + 2 more","verbatim":true}]},{"type":"context","block_id":"2r4r/","elements":[{"type":"mrkdwn","text":"*Total Votes*: 6","verbatim":true}]},{"type":"actions","block_id":"g7pG9","elements":[{"type":"button","text":{"type":"plain_text","text":"Add a Comment","emoji":true},"action_id":"PollMessage(Ehb9m3qcueoeWXnkB).AddCommentButton"},{"type":"button","text":{"type":"plain_text","text":"View All Responses","emoji":true},"action_id":"PollMessage(Ehb9m3qcueoeWXnkB).ViewAllResponsesButton"}]},{"type":"divider","block_id":"tbbDS"},{"type":"context","block_id":"5KEiD","elements":[{"type":"mrkdwn","text":"Owner: @mattn  |  *:clock930: Closes:* \u003c!date^1582470393^{date_short} at {time}|Feb 23, 2020 at 15:06 PM\u003e  |  :unlock: Responses are Non-Anonymous","verbatim":true}]}]},{"client_msg_id":"be816efb-3099-4d05-b82f-65d4c62ceb41","type":"message","user":"U03C6TEAZ","text":"<https://github.com/mattn/vim-lsp-settings/pull/101/>","ts":"1579878428.017400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e35"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1e91ea2e-d375-45ed-b56d-22b27b49c802","type":"message","user":"UAZ33BKV2","text":"自分はそれ用にプラグイン作ってしまったのでw\n<https://github.com/tsuyoshicho/vim-efm-langserver-settings>","ts":"1579878623.017900","attachments":[{"fallback":"GitHub: tsuyoshicho/vim-efm-langserver-settings","id":1,"title":"tsuyoshicho/vim-efm-langserver-settings","title_link":"https://github.com/tsuyoshicho/vim-efm-langserver-settings","text":"trial vim lsp client - efm-langserver link and configure settings - tsuyoshicho/vim-efm-langserver-settings","thumb_url":"https://avatars2.githubusercontent.com/u/96727?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/tsuyoshicho/vim-efm-langserver-settings","original_url":"https://github.com/tsuyoshicho/vim-efm-langserver-settings"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h0y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5aaffcf0-b894-4d9d-a082-1afa281ee75f","type":"message","user":"U03C6TEAZ","text":"vim-efm-langserver-settings、lsp_setup って事は vim-lsp-settings や、通常の lsp#register_server を使って何かしら登録しててそれが起動したときに一緒に起動する、という動きになると思うんですがあってますか？","ts":"1579878802.019300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Yak"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"52ca3055-0a7f-45a5-91e0-3197e5c9b0ae","type":"message","user":"U03C6TEAZ","text":"あ、うそ。","ts":"1579878858.019900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OUI4b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d781f001-df9c-4832-8bf6-66f94717b3a4","type":"message","user":"U03C6TEAZ","text":"起動時か。","ts":"1579878862.020200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VHl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a8f4a668-9200-4668-9245-ec2c0355161a","type":"message","user":"UAZ33BKV2","text":"通常のlsp#register_serverを使って、事前定義したコマンドがあるファイルタイプについて登録します","ts":"1579878880.020600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WTsx6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4ea44858-d3ab-4037-b685-e4e93dfc66e0","type":"message","user":"U03C6TEAZ","text":"efm-langserver に食わせる設定ファイルにある分だけ `lsp#register_server` するから無駄がないのか。","ts":"1579878919.021200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7BS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"151b1d42-69be-4f8e-a3f5-a0d134fa4024","type":"message","user":"UAZ33BKV2","text":"いちおう、定義&amp;コマンド有だけ稼働するので無駄はない、はず\nefmの特徴上、固定的な定義しかだめなんですが...","ts":"1579878958.021900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hYypO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d60f8038-07a7-4a96-9263-11daf3fc3282","type":"message","user":"UAZ33BKV2","text":"jqとfixjsonのどっちかあるからjsonで、という柔軟性はefmの設定ファイルの都合できない(現在の制限)です","ts":"1579879018.022700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UVsW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ded0fe3a-b409-4954-bb1b-8abc11a5d129","type":"message","user":"U03C6TEAZ","text":"vim-lsp-settings のスタンスが「極力ユーザに設定させない」なので「どの filetype なら起動するか」みたいなのを指定させたくないんですよね。","ts":"1579879133.023500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"X3JB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7b589df7-a90f-4c4d-84a2-02f97341567f","type":"message","user":"UAZ33BKV2","text":"それはわかります\nこっちのはコマンドがあれば機能させるよ(設定はしないよ)なのでちょっと違うけど似た感じに","ts":"1579879168.024200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oZcqR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"77dd7635-b12a-419f-a911-0ef272b05caa","type":"message","user":"U03C6TEAZ","text":"`efm-langserver -l` で起動できる filetype を返させるというのも1つの案だけど、vim の起動時に何かのコマンド実行するの好きじゃないしなぁ。","ts":"1579879494.025100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nnXl6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e5631de3-ec8e-4f0a-9775-c2be115a0500","type":"message","user":"UAZ33BKV2","text":"今は同時メンテのコマンド-filetypeのjson定義を読んで、コマンドがexecutableか確認してなので、かなり泥臭いのはあります","ts":"1579880048.028400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j9eY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a96c713e-43ee-42c8-9964-ff4c4c5969ee","type":"message","user":"UAZ33BKV2","text":"(コマンドによってはhome/current projectにlint/format定義を要求されるのも自分用感あり)","ts":"1579880209.030900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Tolt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0464ad39-0cc2-44ca-8c47-782f2cd48569","type":"message","user":"U03C6TEAZ","text":"ですよねー。","ts":"1579880739.031200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bgg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9fe69ce1-1ce0-419b-a9f9-c5ca0770c296","type":"message","user":"UNJ2DANJC","text":"気づいたらvim-lspのログが10GBになっていた","ts":"1579881730.031900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ifx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UQN4L5PC4","text":"<@UQN4L5PC4> has joined the channel","ts":"1579886054.032300","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"7EE7EE6F-1DD0-42C5-808B-8FB810396DC3","type":"message","user":"U80CX6XDZ","text":"<@U03C6TEAZ> sqlsは今はひとまずプロトコル実装だけして適当なキーワード出してるだけなので、実用性は無いですね。しばらくはSQLのnon validatingパーサ書いてると思います。\n\nとりあえずMySQLのテーブルとカラムの補完が動いたらアルファリリースするつもりです。","ts":"1579907774.037300","team":"T03C4RC8V","reactions":[{"name":"gorilla","count":1,"users":["UDDCM376D"]},{"name":"+1","count":3,"users":["U03C6TEAZ","UFYACJ537","UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A1h"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04923C2A-BAAC-4D28-8D3F-889A04D88E13","type":"message","user":"UDDCM376D","text":"期待","ts":"1579908126.037600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VfJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e30835dc-e985-4136-96ee-317d4742a9cf","type":"message","user":"U03C6TEAZ","text":"これをマージしてから LS が起動したりしなかったりする。 <https://github.com/mattn/vim-lsp-settings/pull/102>","ts":"1579915547.038300","attachments":[{"fallback":"GitHub: Use the initialization_options value of g:lsp_settings in vim-language-server by sgur · Pull Request #102 · mattn/vim-lsp-settings","id":1,"title":"Use the initialization_options value of g:lsp_settings in vim-language-server by sgur · Pull Request #102 · mattn/vim-lsp-settings","title_link":"https://github.com/mattn/vim-lsp-settings/pull/102","text":"Currently, there is no way to set initialization_options parameter to vim-language-server. This change use g:lsp_settings[&amp;#39;vim-language-server&amp;#39;].initialization_options to set initialization...","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/vim-lsp-settings/pull/102","original_url":"https://github.com/mattn/vim-lsp-settings/pull/102"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+Ad"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b189b126-a345-457d-b5d5-4becd4fc3e78","type":"message","user":"U03C6TEAZ","text":"なんやろ。","ts":"1579915556.038700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9amk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"39a1fdf8-de0c-4004-8ddd-d410083d593a","type":"message","user":"U03C6TEAZ","text":"いや、違う。僕が最後に入れた変更や。すいませんすいません。","ts":"1579915921.039100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lgUgL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e7cc24d-ac77-4278-8e5d-1014f4cf9416","type":"message","user":"U03C6TEAZ","text":"```function! AddSchema(url) abort\n  let l:ft = &amp;filetype\n  for l:server in lsp#get_whitelisted_servers()\n    let l:server_info = lsp#get_server_info(l:server)\n    if !has_key(l:server_info, 'workspace_config')\n      continue\n    endif\n    let l:workspace_config = l:server_info['workspace_config']\n    if !has_key(l:workspace_config, l:ft)\n      let l:workspace_config = {}\n      let l:config = {'schemas': []}\n      let l:workspace_config[l:ft] = l:config\n    else\n      let l:config = l:workspace_config[l:ft]\n      if !has_key(l:config, 'schemas')\n        let l:config['schemas'] = []\n      endif\n    endif\n    let l:schemas = l:config['schemas']\n    call add(l:schemas, {\n\t\\  'name': a:url,\n    \\  'description': a:url,\n    \\  'fileMatch': [bufname('%')],\n    \\  'url': a:url,\n    \\})\n    call lsp#update_workspace_config(l:server, l:workspace_config)\n  endfor\nendfunction```\nこんなの用意したら yaml や json 編集中に途中から schema を割り当てられた。","ts":"1579917615.039700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1eWr7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e788e831-a405-4257-957e-257a8e089d4d","type":"message","user":"U03C6TEAZ","text":"schema の URL だけ分かってる場合に割と便利。","ts":"1579917646.040200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DXwq0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e9498380-ac08-4713-8d1d-bd9f0c0d9e8b","type":"message","user":"U03C6TEAZ","text":"efm-langserver の schema 作りたい欲が沸いてきた。","ts":"1579917894.040700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iTGy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2f5ca66-9993-4ea2-ac6d-cc2c7cfe3bd5","type":"message","user":"U03C71D7H","text":"うおー複数ツール対応…うう…","ts":"1579918352.041100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MKt2M"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8c91191e-0cdf-4090-8fd4-af902dbe6022","type":"message","user":"U03C6TEAZ","text":"そうか。efm-langserver を設定空で渡して workspace/didChangedConfiguration で設定飛ばすという方法もあるな。そうすれば主導権が vim-lsp-settings 側になる。","ts":"1579922528.042200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"klIBt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c21dd74e-9a2e-47af-9703-b3b85442ee58","type":"message","user":"U03C6TEAZ","text":"お、sql-language-server の人が動いてなかった問題を直してくれるぽい。 <https://github.com/joe-re/sql-language-server/issues/9>","ts":"1579922649.042600","attachments":[{"fallback":"GitHub: Message sent without Content-Length header · Issue #9 · joe-re/sql-language-server","id":1,"title":"Message sent without Content-Length header · Issue #9 · joe-re/sql-language-server","title_link":"https://github.com/joe-re/sql-language-server/issues/9","text":"sql-language-server/packages/server/bin/cli.ts Line 24 in 3ba1d15 console.log(&amp;#39;start sql-language-server&amp;#39;) It seems the protocol expects that messages are sent with the Content-Length heade...","thumb_url":"https://avatars1.githubusercontent.com/u/4954534?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/joe-re/sql-language-server/issues/9","original_url":"https://github.com/joe-re/sql-language-server/issues/9"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uw2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9e3f220-eefd-4dcd-aa7e-ea2151755d3f","type":"message","user":"U03C6TEAZ","text":"アイコン、鳥だと思ったらレスポールだった。","ts":"1579922676.043000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CyE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"132505dc-0d28-4cbb-8981-04ef3c559d93","type":"message","user":"U03C6TEAZ","text":"sql-language-server が直ったら vim-lsp-settings に入れるかな。sqls も追って入れる予定。","ts":"1579923155.043700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mbElh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd02f370-2cfc-4b73-8285-b535bdef47a7","type":"message","user":"U78A6ESHM","text":"joe-re san~","ts":"1579923859.044300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Nthi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b4ba0c3-6852-4ae2-9055-5e50a313e44b","type":"message","user":"UAZ33BKV2","text":"あれ、sql-language-serverとsqlsは別、でもSQL?","ts":"1579924091.044700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ygDH/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fdcd42b5-a3c5-4f6e-bc7a-b2691f05b355","type":"message","user":"U03C6TEAZ","text":"どちらも SQL です。vim-lsp-settings は JSON に書いてある先に見つかった方を起動するので。","ts":"1579924149.045500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NAL5X"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6533376d-8009-4dfe-8415-9eda9906d8ca","type":"message","user":"UAZ33BKV2","text":"あー、なるほど、でしたね","ts":"1579924158.045700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gKYxt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"90596f1d-5dbf-4cc0-8a2a-353a947af616","type":"message","user":"U03C6TEAZ","text":"日本の方だった。","ts":"1579924290.045900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=3Up"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
