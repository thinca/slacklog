[{"client_msg_id":"a160b394-a3e7-4f27-9069-7bda257a8ce6","type":"message","user":"U03C6TEAZ","text":"debian の python って bdist_wheel 効かないんでしたっけ。 <https://github.com/mattn/vim-lsp-settings/issues/70>","ts":"1578297717.420100","attachments":[{"fallback":"GitHub: error: invalid command 'bdist_wheel' when install pyls · Issue #70 · mattn/vim-lsp-settings","id":1,"title":"error: invalid command 'bdist_wheel' when install pyls · Issue #70 · mattn/vim-lsp-settings","title_link":"https://github.com/mattn/vim-lsp-settings/issues/70","text":"but after install , pyls can work, Does this error have any effect ? Running setup.py bdist_wheel for future ... error Complete output from command /home/fcying/.vim/.cache/lsp_settings/pyls/venv/b...","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/vim-lsp-settings/issues/70","original_url":"https://github.com/mattn/vim-lsp-settings/issues/70"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i1Sf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3a30a5e0-ba3a-4a19-967c-ede9b0d72331","type":"message","user":"UAZ33BKV2","text":"<https://github.com/palantir/python-language-server/issues/524>","ts":"1578298025.422100","attachments":[{"fallback":"GitHub: error: invalid command 'bdist_wheel' · Issue #524 · palantir/python-language-server","id":1,"title":"error: invalid command 'bdist_wheel' · Issue #524 · palantir/python-language-server","title_link":"https://github.com/palantir/python-language-server/issues/524","text":"I am trying to install this in a fresh Linux installation, with Ubuntu 18.04 But it wont let me: inux@linux:~$ pip install setuptools &amp;&amp; &gt; pip3 install setuptools &amp;&amp; &gt; pip ins...","thumb_url":"https://avatars3.githubusercontent.com/u/303157?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/palantir/python-language-server/issues/524","original_url":"https://github.com/palantir/python-language-server/issues/524"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ky4K"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"959f7baa-172d-40aa-bfff-0a01b33b2d51","type":"message","user":"UAZ33BKV2","text":"deb系はそうなのかな?","ts":"1578298037.422600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D+hDM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aa7252f0-cf94-400e-b500-72122dfe965e","type":"message","user":"UNJ2DANJC","text":"OSパッケージマネージャーのpythonって結構細かくpython-**とかに分かれていたりするんですよね\nwheelがないのかなあ","ts":"1578298060.423300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r9hl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dba91f1e-3f1e-4c9b-bc90-a6ff967f1304","type":"message","user":"UNJ2DANJC","text":"たぶんdebianだとpython3-distutilsとかかかな\n<https://packages.debian.org/buster/all/python3-distutils/filelist|https://packages.debian.org/buster/all/python3-distutils/filelist>","ts":"1578298280.424400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gAM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1dabd334-7220-4744-9ac5-0394a29a8165","type":"message","user":"U03C6TEAZ","text":"いっそ local install だから wheel じゃなくてもよかったりしますかね？","ts":"1578298422.424800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e87r/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd2e7e53-1eb1-4f09-ac99-9c664daf06ed","type":"message","user":"UAZ33BKV2","text":"たぶん大丈夫な気はしますが、いろいろ確認しないとかも?","ts":"1578298566.425200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"my3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ab04fc42-3912-4bb6-b373-c4962701869f","type":"message","user":"UNJ2DANJC","text":"wheelじゃないというのはどういうことでしょう？egg？","ts":"1578298661.425900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cJvAy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"12c9ab83-f705-4748-aaab-6e2950c605b8","type":"message","user":"UAZ33BKV2","text":"<https://ymotongpoo.hatenablog.com/entry/2017/02/02/182647>\nむずかしい...","ts":"1578298673.426400","attachments":[{"fallback":"YAMAGUCHI::weblog: wheelのありがたさとAnacondaへの要望 - YAMAGUCHI::weblog","id":1,"title":"wheelのありがたさとAnacondaへの要望 - YAMAGUCHI::weblog","title_link":"https://ymotongpoo.hatenablog.com/entry/2017/02/02/182647","text":"はじめに こんにちは、Python界のラファエル・ナダルです。全豪オープンテニス、盛り上がりましたね。さて、先日次のようなエントリーを立て続けに書いたんですが、「なぜAnacondaに関しての記述がないのか」という突っ込みをもらったので、参照用にメモを残しておきます。 Pythonの仮想環境構築 2017.01版 - YAMAGUCHI::weblog Pythonの環境設定でむかついてる人はとりあえずこれをコピペで実行してください 2017.01 - YAMAGUCHI::weblog なおこの記事の作成にあたっては @aodag に数多くのアドバイスをいただきました。この場を借りて感謝。 …","image_url":"https://ogimage.blog.st-hatena.com/13208692334729888336/10328749687211212254/1486737527","blocks":null,"ts":1486027607,"service_name":"YAMAGUCHI::weblog","service_icon":"https://cdn.blog.st-hatena.com/images/touch-icon-iphone-retina.png","from_url":"https://ymotongpoo.hatenablog.com/entry/2017/02/02/182647","original_url":"https://ymotongpoo.hatenablog.com/entry/2017/02/02/182647"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tSKa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8aae77d7-cf85-4190-a17e-6b292e400e89","type":"message","user":"U03C6TEAZ","text":"あれ、vim-lsp-settings のどこかに wheel って書いてるのが問題だと思ったけど違うのか。","ts":"1578298705.427400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NR8a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2847c2e1-a4de-4b12-9bbe-4ff35e876cef","type":"message","user":"U7TMPGWJ0","text":"あれ？それって僕、踏んでおいた気がしますが。bionicでだったかな。エラーは出ちゃってびっくりするけどpylsのインストール自体はちゃんとできてたような気が...","ts":"1578298716.427700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dJD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9d72857-5e4f-44e9-a643-5e78c799a35f","type":"message","user":"UAZ33BKV2","text":"venv作ってからwheel入れて、それからインストールすれば問題ない気がしてきたけど、どうだろう...","ts":"1578298739.428300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HRx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2e81bff-a407-47cf-98d8-37cbbe7c2cf0","type":"message","user":"U7TMPGWJ0","text":"venvの中のpipが古くてpipのアップデートもしたらエラーなくインストールできた気がしなくもない。","ts":"1578298829.429200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"azo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ec50e06c-ddc0-494a-a3f5-46c9df3094b6","type":"message","user":"UNJ2DANJC","text":"debianのapt install python3だけだとbdist_wheelが入らないっぽいのでpylsのインストールの前にvenv/bin/pip install wheelを事前にしとくのが無難ですかね","ts":"1578299081.433000","edited":{"user":"UNJ2DANJC","ts":"1578299105.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JWid/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"142bdd6b-742d-4dc6-8639-7cbf1e43a578","type":"message","user":"U7TMPGWJ0","text":"python3-venv とか入れてないのですかね","ts":"1578299219.433400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"94J"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8c62ad80-dbab-4ece-b5a3-907ee443a61c","type":"message","user":"UAZ33BKV2","text":"いま、python3はvenvは標準だから、特にしてなくてもそこらへんの処理は動く(けどwheelがないと...が問題という認識)","ts":"1578299279.434200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sp29P"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e41a1637-923d-46c5-9667-6342fe848c6d","type":"message","user":"UNJ2DANJC","text":"debianのpython細かく分かれ過ぎという問題","ts":"1578299336.435000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A2M"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"128e10bc-8f42-40fd-bd6c-4b6522533741","type":"message","user":"UNJ2DANJC","text":"python3-venvはsugなのでvenvは自動でインストールされますね apt installに--no-install-suggestsフラグをつけない限り\n<https://packages.debian.org/buster/python3|https://packages.debian.org/buster/python3>","ts":"1578299469.437100","attachments":[{"fallback":"Debian -- Details of package python3 in buster","id":1,"title":"Debian -- Details of package python3 in buster","title_link":"https://packages.debian.org/buster/python3","text":"interactive high-level object-oriented language (default python3 version)","blocks":null,"service_name":"packages.debian.org","service_icon":"https://packages.debian.org/favicon.ico","from_url":"https://packages.debian.org/buster/python3","original_url":"https://packages.debian.org/buster/python3"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rfbF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f56c9d4-38a0-4e40-a062-881461e07446","type":"message","user":"UNJ2DANJC","text":"色々面倒くさいしこうなったらpython自体もvim-lsp-settingsインストーラに含めるか...\nいや、ないな","ts":"1578299603.439200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C2pt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"81633b28-c63a-48e1-9c8f-c70b535d78ea","type":"message","user":"U7TMPGWJ0","text":"dockerで10.2をちょちょっと試しましたがpython3だけだと駄目っぽいですね\n\n```root@2277e831b286:~/check# cat /etc/debian_version\n10.2\nroot@2277e831b286:~/check# python3 -m venv venv\nThe virtual environment was not created successfully because ensurepip is not\navailable.  On Debian/Ubuntu systems, you need to install the python3-venv\npackage using the following command.\n\n    apt-get install python3-venv\n\nYou may need to use sudo with that command.  After installing the python3-venv\npackage, recreate your virtual environment.\n\nFailing command: ['/root/check/venv/bin/python3', '-Im', 'ensurepip', '--upgrade', '--default-pip']```","ts":"1578299665.439400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Znt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6e7b9b95-0177-4c02-96b2-77273749399b","type":"message","user":"UNJ2DANJC","text":"お、まじか","ts":"1578299788.439900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D/2iN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"df6b6c90-cc33-442f-bd58-d7b59244eea3","type":"message","user":"U8R597E9H","text":"_coc は python どうしてんだろ？と思ったら大量の typescript が書かれていた_","ts":"1578299882.441400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s7aj6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"06ab9cec-761e-4cba-b277-e1633bf07241","type":"message","user":"UAZ33BKV2","text":"venvないことも考えないといないか...つらい\nというかpythonはbattery included&amp;&amp;python3はvenvありになったことに意味あるに、なんで分離してるんだ","ts":"1578299887.441600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IkXa8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ada80b9c-f75a-40a2-8400-764fe8599e18","type":"message","user":"U7TMPGWJ0","text":"それで10.2で普通にvenvの中でpylsをインストールしたら何の問題もなくインストールできているようなんですがね...。なんでしょ。\n\n```root@2277e831b286:~# mkdir pylscheck\nroot@2277e831b286:~# python3 -m venv pylscheck/venv\nroot@2277e831b286:~# pylscheck/venv/bin/pip install pyls\nCollecting pyls\n  Downloading <https://files.pythonhosted.org/packages/0f/1a/32b51611f8d03a4df76faf623cab030efc400450e783826495cb5f76bd83/pyls-0.1.6-py3-none-any.whl>\nInstalling collected packages: pyls\nSuccessfully installed pyls-0.1.6```","ts":"1578299951.442000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vu4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4df58cfc-ba07-40bc-bb38-304e7d9bad37","type":"message","user":"U7TMPGWJ0","text":"お、再現した。","ts":"1578300112.442200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sp09"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f0abc921-26ac-46e2-aa1c-57626bc8caee","type":"message","user":"U7TMPGWJ0","text":"vim-lsp-settings の `:LspInstallServer` だと発生しましたね。","ts":"1578300160.442800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kNHGi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a826f111-a2d6-4e50-a96d-4996c0ee0394","type":"message","user":"U7TMPGWJ0","text":"なぜ...","ts":"1578300193.443500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mQr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c526d565-20d0-4ff6-a90e-16b66eecf8d6","type":"message","user":"UNJ2DANJC","text":"パッケージ名がpylsじゃないですね","ts":"1578300197.443700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lza"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d3179c2f-af23-491d-94c8-b81b7f22aad8","type":"message","user":"U7TMPGWJ0","text":"おー。。失礼。","ts":"1578300209.444300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O2e3J"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ea8a84e-a1fd-4a7c-8e33-cf8a41970fd0","type":"message","user":"U03C6TEAZ","text":"そう、それいつもハマる。","ts":"1578300224.444800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ay8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c377c55e-7708-43cd-a3b4-6681179c1cb8","type":"message","user":"UNJ2DANJC","text":"こういうのでマルウェアだったら最悪ですね","ts":"1578300287.445800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QGbx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"661bc51b-6f98-4622-8f26-bd33306b85f4","type":"message","user":"U7TMPGWJ0","text":"バッチリ普通にvenvで再現しました。","ts":"1578300377.446700","team":"T03C4RC8V","reactions":[{"name":"subara","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"08O"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0cd1a672-6eb1-4800-a41e-2070e3524043","type":"message","user":"UNJ2DANJC","text":"インストーラにvenvとかbdist_wheelの存在チェック書きたくないなあ\nwikiにtroubleshootingとして書いとくぐらいでいいんじゃないでしょうか\ndebian系の人はpython3-venvとかpython3-distutils無かったら入れといてねって感じで","ts":"1578300545.450200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jzDuE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49c40ecf-9d86-452a-bee2-fbfb8bbfce45","type":"message","user":"U03C6TEAZ","text":"ぱっぱり settings.json の requires に `[\"python\", \":python3-venv\"]` みたいなのを書ける様にしてチェッカーを走らせるのがいいのかなぁ。","ts":"1578300619.451200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qmg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e805ec4e-696d-47ce-890b-0c6325538a1b","type":"message","user":"U7TMPGWJ0","text":"エラーは出ますがpyls自体は出来上がってて使えはしますね。bionicで試した状況と一緒か。","ts":"1578300711.451800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2tiNq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f9608c28-6f56-479d-a934-cf72183dd7ea","type":"message","user":"U7TMPGWJ0","text":"venvの中のpipをアップデートしてからならエラーは出ないですね。","ts":"1578301179.453700","edited":{"user":"U7TMPGWJ0","ts":"1578301250.000000"},"team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":2,"users":["U03C6TEAZ","UAZ33BKV2"]},{"name":"+1","count":1,"users":["UNJ2DANJC"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bXM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b26bd862-1388-4b82-a455-75b8aa183e03","type":"message","user":"UNJ2DANJC","text":"pylsのインストール周りの問い合わせが多いのはやはりpythonユーザーの多さからなのか","ts":"1578301380.455400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fdj9v"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6d33d7b-4305-4817-80bc-300ad3c18694","type":"message","user":"U7TMPGWJ0","text":"venvの中のpipのアップデートなら悪い影響はなさそうですし。\n```venv/bin/pip install -U pip\nvenv/bin/pip install python-language-server```","ts":"1578301462.455800","edited":{"user":"U7TMPGWJ0","ts":"1578301509.000000"},"team":"T03C4RC8V","reactions":[{"name":"angxing","count":2,"users":["UNJ2DANJC","UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d7kw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2cff3145-9dd6-40f5-8b8f-1fda14014c6c","type":"message","user":"UAZ33BKV2","text":"venv の中だし、アリに :one:","ts":"1578301526.456400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ryPg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2fe5af84-0067-4b5e-87b1-54b14dba1783","type":"message","user":"UNJ2DANJC","text":"pipのupgrade時についでにwheelとvenvも揃った説","ts":"1578301651.457800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HIk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"23480b2a-51f4-4f95-807c-f6554e6d3507","type":"message","user":"U7TMPGWJ0","text":"それですかね。勿論、当初の wheelをinstallしてからって手順でも問題なしです。","ts":"1578301706.458600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J04kP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"702730ca-8fd7-4b26-8b28-11e328ec599f","type":"message","user":"U7TMPGWJ0","text":"勿論当初の pyls の issue にある通りwheel入れてからでもエラーでないのでそっちによせちゃうでも問題ないと思います。\n```venv/bin/pip install wheel\nvenv/bin/pip install python-language-server```","ts":"1578302345.459000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KB4Cu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"210f5fef-eabb-40f1-bc25-10dbf4855698","type":"message","user":"U8996GYBF","text":"efm-langserverのvintの設定でerrorは出るけどwarningが出ない・・・","ts":"1578302930.459500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4Ma"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6ac41298-58b1-4ea7-b4b3-b8d18f411562","type":"message","user":"U8996GYBF","text":"```$ vint -e .vimrc\n\n$ vint -w .vimrc\n.vimrc:2550:20: Prefer single quoted strings (see Google VimScript Style Guide (Strings))```\nってなる状態なんですけど、cocでwarningが出ないんですよね、なんでだろ","ts":"1578302982.460100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DKIV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd835788-f858-4d24-acb2-8695cb46f340","type":"message","user":"U8996GYBF","text":"他のファイルタイプではwarnは出るけど、warnしか出さない設定がどこかで噛んでるんだろうか","ts":"1578303015.460600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pZ00"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"FF0E5BAE-9D1D-416F-A16F-4707DB0D55E8","type":"message","user":"U771W8C56","text":"DebianのPythonパッケージング、なんであんなに分割されちゃってるのかほんと謎ですよね……","ts":"1578303439.462000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PBkKs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c5c3e16d-3ee9-48ab-9ced-416fd817e60b","type":"message","user":"U771W8C56","text":"python3-venvを入れるとpython3-distutilsも入るんですね <https://packages.debian.org/buster/python3-venv>","ts":"1578303763.462700","attachments":[{"fallback":"Debian -- Details of package python3-venv in buster","id":1,"title":"Debian -- Details of package python3-venv in buster","title_link":"https://packages.debian.org/buster/python3-venv","text":"pyvenv-3 binary for python3 (default python3 version)","blocks":null,"service_name":"packages.debian.org","service_icon":"https://packages.debian.org/favicon.ico","from_url":"https://packages.debian.org/buster/python3-venv","original_url":"https://packages.debian.org/buster/python3-venv"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o9DRC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3d409f89-8b98-46e0-bd6c-3d6e7e379e22","type":"message","user":"U771W8C56","text":"requires に `[\"python3\", \":python3-venv\"]` として、 `venv/bin/pip install -U pip` するのが安全そうですね。","ts":"1578303870.463600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E0G"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"603d052c-21cd-46f0-9728-69e6bf8d65c4","type":"message","user":"U771W8C56","text":"(うかつにグローバルに入ってるpipをアップデートして、Debian壊すの怖いですし","ts":"1578303924.464500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IR+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8807e8d9-4124-4859-8330-523035d1d3c3","type":"message","user":"U7TMPGWJ0","text":"(有識者のかしゅーさんがきたので安心。ホッと...)","ts":"1578304033.464800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eO3OS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d2ebd42-de11-4e48-b344-a357f0f56d8d","type":"message","user":"U78A6ESHM","text":"グローバルなやつ sudo 必要そうだから厳しそうなので venv 内で -U に +1","ts":"1578304114.465400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GhP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0964d25d-7a79-4c2c-8925-612e363d8e09","type":"message","user":"U03C6TEAZ","text":"`venv/bin/pip install -U pip` が pip_install.sh に含めてしまえるなら `:python3-venv` は要らない？","ts":"1578304194.466100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s6asv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d97f7449-5ec9-40be-a814-d69a00f4fbf2","type":"message","user":"U771W8C56","text":"いると思います。Debian(やUbuntu)は最初Python3にvenvが入ってないので、最初の `python3 -m venv venv` ができない。","ts":"1578304394.467100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CX5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68c4e5c9-cb3d-400a-b716-b85a34c397bf","type":"message","user":"U03C6TEAZ","text":"なるほど。","ts":"1578304628.468200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v1s"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22ee022c-971a-4d12-8bb3-cc0d11b4db81","type":"message","user":"U03C6TEAZ","text":"issue の人への返信としては distutils 入れてね、でいいんでしょうか？","ts":"1578304672.469400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Homcd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c16c014-9e9d-4474-8711-de6dae62eff7","type":"message","user":"U771W8C56","text":"回答どうですかね....一応手元で再現したんですが、pipのバージョンが古いせいみたいなんですよね....","ts":"1578309604.470300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QqdG1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4aa1a1bc-da1d-400f-99e4-2eaa02c631ae","type":"message","user":"U771W8C56","text":"ひとまず動作はするはずですが (手元では実行できた)","ts":"1578309636.471000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wywhE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b3930d9e-35bd-417a-92b2-c5dc5e041817","type":"message","user":"U7TMPGWJ0","text":"一応僕も手を動かしたので、ちょっと現状を整理すると\n\n- apt で何かパッケージ入れてねでは残念ながら解決しない...\n- 現状はそのエラーは出ているがインストール自体は完了していてpylsを使う準備はできている (気にするなw)\n- エラーが出る件については vim-lsp-settings 側で venv の pip 自体をアップデートしてからpython-language-serverをインストールする手順に変える必要がある\n\nってところなのでしょうか。","ts":"1578309914.471300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4+bV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1f6ca09e-0244-4d91-87e7-15d0f0331126","type":"message","user":"U771W8C56","text":"はい。そんな感じです。","ts":"1578309949.471900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tBYu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b50ada8f-a9ac-48d0-ac0c-c271eca94c75","type":"message","user":"U771W8C56","text":"aptで入れるパッケージは揃えてくれてるようです。\nvenvも実行できてるし、python-language-serverのインストール自体は成功してるので。","ts":"1578309991.472800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vHs4n"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3baab0da-d8f0-4d9c-886c-97adbdd02d2c","type":"message","user":"U7TMPGWJ0","text":"とりあえずこれですかね。venvの中のpip自体のアップデートなら他のOSでも悪さはしないでしょうし。wheelをインストールしてもいいけどUbuntu/Debian対策によりすぎててちょっとアレかもとも\n```diff --git a/installer/pip_install.sh b/installer/pip_install.sh\nindex b5ee120..4e3014d 100755\n--- a/installer/pip_install.sh\n+++ b/installer/pip_install.sh\n@@ -6,5 +6,6 @@\n set -e\n\n python3 -m venv ./venv\n+./venv/bin/pip3 install -U pip\n ./venv/bin/pip3 install \"$2\"\n ln -s \"./venv/bin/$1\" .```","ts":"1578311705.473100","edited":{"user":"U7TMPGWJ0","ts":"1578312063.000000"},"team":"T03C4RC8V","reactions":[{"name":"hai-small","count":1,"users":["U771W8C56"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9jvf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b3fa62bd-a85c-4526-978b-a49fce8c4a81","type":"message","user":"UAZ33BKV2","text":"いろいろ試しと思って、Windowsでpython+pipenv+pyenvで切り替え環境作ってみようとするも不明なエラー(というかなんというか、globalインストールしてるpythonのvirutalenvをpyenv切り替えで使われるっぽい挙動のため?)で撃沈...","ts":"1578315711.474900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2MqiA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd5499e6-70f4-4c7b-91b0-e076a1ed94f5","type":"message","user":"U03C6TEAZ","text":"みなさんありがとうございます。助かります。","ts":"1578316239.475200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IYS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3fe7336c-5b9a-4ac8-adec-a2819c577f75","type":"message","user":"UKHUVMBJR","text":"perlのlsは流石にないだろうと調べたらあった…今度触ります","ts":"1578316473.476300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M5kXn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3cf5aa77-5292-4650-98ff-96564774120a","type":"message","user":"U03C6TEAZ","text":"補完ないですけどね。","ts":"1578316641.476500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TP5zU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c384596f-cc03-48f5-82cb-eb768b28ed3b","type":"message","user":"UKHUVMBJR","text":"補完どころかちゃんと動く機能がどこまであるか気になります…","ts":"1578317232.478300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9or3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"84d23f37-48a9-42ef-95f6-e533e5ae6705","type":"message","user":"U771W8C56","text":"pyenv、windowsで動いたっけ？と思ったら今はこんなのがあるんですね (LSPの話じゃないなこれ) <https://github.com/pyenv-win/pyenv-win>","ts":"1578317419.479100","attachments":[{"fallback":"GitHub: pyenv-win/pyenv-win","id":1,"title":"pyenv-win/pyenv-win","title_link":"https://github.com/pyenv-win/pyenv-win","text":"pyenv for Windows. pyenv is a simple python version management tool. It lets you easily switch between multiple versions of Python. It&amp;#39;s simple, unobtrusive, and follows the UNIX tradition of s...","thumb_url":"https://avatars1.githubusercontent.com/u/46895318?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":283,"thumb_height":283,"from_url":"https://github.com/pyenv-win/pyenv-win","original_url":"https://github.com/pyenv-win/pyenv-win"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9rY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9f58fdab-1133-49d1-b79a-9350a882d2cd","type":"message","user":"UAZ33BKV2","text":"とはいえ、なんか挙動が安定しない...","ts":"1578317984.479700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ALINr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ee57ed54-84b0-4969-94c2-2dae65cf0f1c","type":"message","user":"UNJ2DANJC","text":"コメントしました。\n<https://github.com/mattn/vim-lsp-settings/pull/48#issuecomment-570921054|https://github.com/mattn/vim-lsp-settings/pull/48#issuecomment-570921054>\nnpm installのGitHub直参照ではどうでしょうか。\nあまりvim-lsp-settings側のインストーラでゴリゴリやりたくないので一旦forkしてtscした結果をdist/とかにcommitしてpackage.jsonをいい感じにすればイケそう。\n自分が出先なので全然試せてないので申し訳ありませんが、、、","ts":"1578237791.396900","attachments":[{"fallback":"GitHub: update html-languageserver (except on windows) by micchy326 · Pull Request #48 · mattn/vim-lsp-settings","id":1,"title":"update html-languageserver (except on windows) by micchy326 · Pull Request #48 · mattn/vim-lsp-settings","title_link":"https://github.com/mattn/vim-lsp-settings/pull/48#issuecomment-570921054","text":"vscode-html-languageserver-bin is very old. It cannot use &amp;quot;textDocument/rangeFormatting&amp;quot;. This pull request makes it possible. NOTE: vscode-html-languageserver is not support &amp;quot;textDo...","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/vim-lsp-settings/pull/48#issuecomment-570921054","original_url":"https://github.com/mattn/vim-lsp-settings/pull/48#issuecomment-570921054"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"29oNN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"21bfe3ec-4bae-4dea-bf4a-c5d2180aeb83","type":"message","user":"UNJ2DANJC","text":"vim-lsp-settingsのインストーラはなるべくシンプルに保ちたいのが個人的な希望です。","ts":"1578237846.398200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/O3g"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb43ba2f-ad29-49f1-833c-1341cfe194d9","type":"message","user":"UEB0VGD7E","text":"コメントありがとうございます。\n確かにインストーラが複雑化しているのは懸念として有りますね。。。\nただ、私みたいな第三者のリポジトリに依存してしまうのもまた微妙な気がしています。\n一時的にそのような感じにしておいて、-binが更新されるのを待つという手もあるかもしれませんが。。。","ts":"1578238983.400400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rI+pY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a7679c6d-6f05-4f2d-9a95-f681e3bb008e","type":"message","user":"U03C6TEAZ","text":"settings.json に html-language-server-head みたいなのを足すのもいいかもですね。まったく別ものとして。","ts":"1578239300.401000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ayaDz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9ca108ec-a417-4b0c-a547-02ae373436cd","type":"message","user":"UEB0VGD7E","text":"なるほど確かに。。。","ts":"1578241783.401400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i6mCr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0487ba1c-8bcd-42c7-90e9-0fbde20f41a1","type":"message","user":"UEB17JJJE","text":"もうしばらく待って自分がだしてるPRがおとさとなかったらnpm（かgithub repositories）に別名でpublishしてもいいかなとも思っています。","ts":"1578242656.402500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XSn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"81c4363a-aaa7-4836-9bcb-2fb8d279f2b8","type":"message","user":"U03C71D7H","text":"とりあえず installer は cd しちゃダメ","ts":"1578251726.402900","thread_ts":"1578251726.402900","reply_count":1,"replies":[{"user":"U03C71D7H","ts":"1578252077.403000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IYNv6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0bedb38a-f8ca-44a7-8b50-55d141a369e4","type":"message","user":"U03C71D7H","text":"て言ってもこれは例の変更が入る前に来た PR か。取り込む場合はその前に直してもらう必要がありそうですね\n(取り込むのが妥当かどうか辺りの話はよくわかっていない)","ts":"1578252077.403000","thread_ts":"1578251726.402900","parent_user_id":"U03C71D7H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aLS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4E4AF8F7-DA27-4675-99E4-B7BD02E949C3","type":"message","user":"U7TMPGWJ0","text":"HEADのも対応するようになると次は自然とnpmでバージョン指定で入れたいって要望も出そう。npmで最新で入るやつはVim等から使うとなんらかの不具合、不都合（VSCodeではおそらく問題はないのだろうけど）で一個前のバージョンの使いたいとか。","ts":"1578263684.408100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v/lqp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2b935c0-61e2-4d26-be62-9bf697f21e94","type":"message","user":"U03C6TEAZ","text":"なるほど。bin への pr がマージされるかどうかをしばらく様子見にすますかね。","ts":"1578264531.409200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kTpnt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ca06ddec-0416-42f1-80af-df9d4f021921","type":"message","user":"UEB17JJJE","text":"只今環境構築中","ts":"1578267789.409300","thread_ts":"1578095277.368300","parent_user_id":"UEB17JJJE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6p+n"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"USA464B29","text":"<@USA464B29> has joined the channel","ts":"1578279858.409600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"af6a293e-12e2-483b-a26d-2c16871abc0e","type":"message","user":"U8R597E9H","text":"vim-lsp に追加された無名バッファの issue ですが、ファイルシステムに存在しないパスを渡すとエラー吐く LS がいた気がします。なので、自作クライアントでは vim のカレントディレクトリ渡すとかしてお茶を濁したりしてます。（英語で書けなくてここでご報告です…）","ts":"1578282924.413100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8fpe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a09daab6-dfda-4b16-a94a-f9fd07ec2c7a","type":"message","user":"U8R597E9H","text":"そのアプローチか正しいかも怪しいので正式導入するか悩ましいんですよね。 _自作のやつは最悪壊れてもいいし破壊的変更しまくってますが_","ts":"1578282985.414600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gb2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2b04f90a-5847-4bd9-baad-e125786d2a16","type":"message","user":"U03C6TEAZ","text":"```diff --git a/autoload/lsp.vim b/autoload/lsp.vim\nindex 89ec5e5..c2a8d06 100644\n--- a/autoload/lsp.vim\n+++ b/autoload/lsp.vim\n@@ -181,6 +181,7 @@ function! s:register_events() abort\n         autocmd!\n         autocmd BufNewFile * call s:on_text_document_did_open()\n         autocmd BufReadPost * call s:on_text_document_did_open()\n+        autocmd FileType * call s:on_text_document_did_open()\n         autocmd BufWritePost * call s:on_text_document_did_save()\n         autocmd BufWinLeave * call s:on_text_document_did_close()\n         autocmd BufWipeout * call s:on_buf_wipeout(bufnr('&lt;afile&gt;'))\ndiff --git a/autoload/lsp/utils.vim b/autoload/lsp/utils.vim\nindex 34e42e5..34ab9b9 100644\n--- a/autoload/lsp/utils.vim\n+++ b/autoload/lsp/utils.vim\n@@ -85,7 +85,11 @@ function! lsp#utils#get_buffer_path(...) abort\n endfunction\n \n function! lsp#utils#get_buffer_uri(...) abort\n-    return lsp#utils#path_to_uri(expand((a:0 &gt; 0 ? '#' . a:1 : '%') . ':p'))\n+    let l:name = expand((a:0 &gt; 0 ? '#' . a:1 : '%') . ':p')\n+    if empty(l:name)\n+        let l:name = getcwd() . '/__NO_NAME__'\n+    endif\n+    return lsp#utils#path_to_uri(l:name)\n endfunction\n \n \" Find a nearest to a `path` parent directory `directoryname` by traversing the filesystem upwards```\n適当な hack だとこんなのだけど、他にもいろいろ問題はありそう。","ts":"1578283555.415100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tefS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7efbc131-755b-44ce-8902-4278bade8473","type":"message","user":"U03C6TEAZ","text":"bufnr で一致を確認してる所は NG かな。","ts":"1578283576.415600","edited":{"user":"U03C6TEAZ","ts":"1578283586.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Lo6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c5e9410-8561-461f-af1b-affb5b2f0955","type":"message","user":"U8R597E9H","text":"カレントディレクトリに実際に __NO_NAME__ というファイルが存在すればそのアプローチで動きそうな気がします。","ts":"1578283626.416200","edited":{"user":"U8R597E9H","ts":"1578283638.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nkWAp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"19775499-023f-4138-a975-7ce7faf1a163","type":"message","user":"U03C6TEAZ","text":"てか、vim-lsp 使う時は BufNew で仮の名前を `:file` する様にしても良さそうですけどね。","ts":"1578283844.416900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"509BS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c12be94b-2bc8-42d4-81bb-ff31a4118f48","type":"message","user":"U03C6TEAZ","text":"嫌いな人いそうだけど。","ts":"1578283852.417200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eEg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0a5e1f16-80a3-4955-8152-3b47163b783e","type":"message","user":"U03C6TEAZ","text":"拡張子がちゃんとしてないと無視される LS いるのねー。gopls もそれ。","ts":"1578284831.417700","edited":{"user":"U03C6TEAZ","ts":"1578284843.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AjNL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"000bfd36-5bdd-4e9f-98cb-3f8f7751c501","type":"message","user":"U8R597E9H","text":"うっ。gopls 拡張子まで見ているのか。。。では自分の言ってる方法もだめですね。完全に倒すの厳しい気がしてきました。","ts":"1578285447.418400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qfA/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e193b45-e9bf-4d8e-a2b0-1334734c57f2","type":"message","user":"U03C6TEAZ","text":"filetype と言語名が一致してない奴がいるのが面倒ですねぇ。","ts":"1578285974.418700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"12r"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"339769ce-87ab-4207-8f3f-239e80ad7889","type":"message","user":"U03C6TEAZ","text":"例えば `set ft=javascript` の時は `/path/to/__NO_NAME_9__.js` であってほしいけど。","ts":"1578286006.419400","edited":{"user":"U03C6TEAZ","ts":"1578286019.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"myPTc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UNDJ43J6A","text":"<@UNDJ43J6A> has joined the channel","ts":"1578290003.419700","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null}]
