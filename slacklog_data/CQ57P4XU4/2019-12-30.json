[{"client_msg_id":"c81ab7ea-4e94-4b0f-8d5f-9872845b2788","type":"message","user":"UNJ2DANJC","text":"html-language-serverの更新PR出てるんでちょっと確認したんですけど、vscode-html-language-server-binってむっちゃ古いんですね。submodule更新したらビルドスクリプト壊れたしなんかもうーんってかんじ。\n<https://github.com/mattn/vim-lsp-settings/pull/48>","ts":"1577702710.074700","attachments":[{"fallback":"GitHub: update html-languageserver (except on windows) by micchy326 · Pull Request #48 · mattn/vim-lsp-settings","id":1,"title":"update html-languageserver (except on windows) by micchy326 · Pull Request #48 · mattn/vim-lsp-settings","title_link":"https://github.com/mattn/vim-lsp-settings/pull/48","text":"vscode-html-languageserver-bin is very old. It cannot use &amp;quot;textDocument/rangeFormatting&amp;quot;. This pull request makes it possible. NOTE: vscode-html-languageserver is not support &amp;quot;textDo...","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/vim-lsp-settings/pull/48","original_url":"https://github.com/mattn/vim-lsp-settings/pull/48"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BmSUF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"67772547-04e5-45b1-9bb6-1e183e681580","type":"message","user":"U8R597E9H","text":"そうだったのか。知らずに利用例とか出してしまってすいません。","ts":"1577702798.075800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WNw7T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"572511ff-1dfe-4c81-bec2-22b8062d8268","type":"message","user":"UNJ2DANJC","text":"現状動いているので使う分には問題ないんですけどメンテナンスされてないみたいで、こうやって新しいfeatureを使いたいってなったときにアクロバティックなことをせざるをえない。。。","ts":"1577703826.077100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iaRu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ee82a22d-351b-4d15-a103-7b9452a81297","type":"message","user":"U7TMPGWJ0","text":"vim-lsp-settings 的な取り組みの大先輩な？ emacs-lsp の html のは vscode-html-languageserver のリンク先が vscode-html-languageserver-bin になっているようでした。cssも同じ感じで bin のにリンクされてました。(そもそもemacsわからないですが...それっぽい)\n<https://github.com/emacs-lsp/lsp-mode/blob/master/doc/src/lsp-html/index.adoc>","ts":"1577711842.077600","attachments":[{"fallback":"GitHub: emacs-lsp/lsp-mode","id":1,"title":"emacs-lsp/lsp-mode","title_link":"https://github.com/emacs-lsp/lsp-mode/blob/master/doc/src/lsp-html/index.adoc","text":"Emacs client/library for the Language Server Protocol - emacs-lsp/lsp-mode","thumb_url":"https://repository-images.githubusercontent.com/75415169/61c25480-93b5-11e9-9b4b-3161cebdb7fb","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":773,"thumb_height":250,"from_url":"https://github.com/emacs-lsp/lsp-mode/blob/master/doc/src/lsp-html/index.adoc","original_url":"https://github.com/emacs-lsp/lsp-mode/blob/master/doc/src/lsp-html/index.adoc"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v9a/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4fb2c1f5-b09f-413d-a5cc-32516179b1be","type":"message","user":"U7TMPGWJ0","text":"ちょっとだけ先輩？の nvim-lsp は html はリストにありましせんでしたが css は vscode-css-languageserver-bin をインストールするって手順が記載されてました。\n<https://github.com/neovim/nvim-lsp#cssls>","ts":"1577711860.077900","attachments":[{"fallback":"GitHub: neovim/nvim-lsp","id":1,"title":"neovim/nvim-lsp","title_link":"https://github.com/neovim/nvim-lsp#cssls","text":"Nvim LSP client configurations. Contribute to neovim/nvim-lsp development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/6471485?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/neovim/nvim-lsp#cssls","original_url":"https://github.com/neovim/nvim-lsp#cssls"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CkC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9a1805e1-ae94-459e-b1e3-92a75df32e4f","type":"message","user":"U7TMPGWJ0","text":"npm で入る -bin のが古くて最新を使いたい場合は vim-lsp-settings の html は無効にして、直接、自分でvim-lspの設定書いたり、最新をゴニョゴニョやって入れてねってのもありなのかもとも。","ts":"1577712794.078500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BRga6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"457e5553-20d2-413c-8393-3e4aa836a13e","type":"message","user":"UEB17JJJE","text":"今vscode-html-language-server-binへのPR作ってます","ts":"1577712900.079000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Bbx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7CV2F36X","text":"<@U7CV2F36X> has joined the channel","ts":"1577636380.031900","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"de65bb5a-8229-4e8a-b765-db98b64185fb","type":"message","user":"U7CV2F36X","text":"vim-lsp-settings でやっと自分もLSPの恩恵にあずかれると、なりました。\nありがとうございます。\nいくつかのサーバーをインストールして動いているのですが、\nC#(.cs)だけどうしても無反応で期待するような動作になりません。\nなにか確認するポイントなどありますでしょうか？\n\n.vim\n.js\n.yaml\nは手元で動いてるのが確認できています。\n\nプラグインはdeinであつかっていて、こんな感じです。\n```[[plugins]]\nrepo        = 'mattn/vim-lsp-settings'\nmerged      = 0\nlazy        = 0\n\n[[plugins]]\nrepo        = 'prabirshrestha/async.vim'\nmerged      = 0\nlazy        = 0\n\n[[plugins]]\nrepo        = 'prabirshrestha/vim-lsp'\nmerged      = 0\nlazy        = 0\nhook_add    = '''\nlet g:lsp_async_completion = 1\nlet g:lsp_signs_enabled = 1         \" enable signs\nlet g:lsp_diagnostics_echo_cursor = 1 \" enable echo under cursor when in normal mode\n'''\n\n[[plugins]]\nrepo        = 'prabirshrestha/asyncomplete.vim'\nmerged      = 0\nlazy        = 0\n\n[[plugins]]\nrepo        = 'prabirshrestha/asyncomplete-lsp.vim'\nmerged      = 0\nlazy        = 0```\n","ts":"1577636665.036000","thread_ts":"1577636665.036000","reply_count":10,"replies":[{"user":"UEB17JJJE","ts":"1577665148.038000"},{"user":"UEB17JJJE","ts":"1577665224.038200"},{"user":"UEB17JJJE","ts":"1577665465.038400"},{"user":"U7CV2F36X","ts":"1577666767.038800"},{"user":"U7CV2F36X","ts":"1577666919.039000"},{"user":"UEB17JJJE","ts":"1577670105.040800"},{"user":"UEB17JJJE","ts":"1577670145.041300"},{"user":"U7CV2F36X","ts":"1577670831.042300"},{"user":"U7CV2F36X","ts":"1577670884.042500"},{"user":"U7CV2F36X","ts":"1577670913.042700"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ixzsP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e9ea4a1f-c4cd-4a72-a5d1-53686f89b325","type":"message","user":"U7CV2F36X","text":"# 投稿チャンネル間違えたかも...","ts":"1577636721.036500","thread_ts":"1577636721.036500","reply_count":2,"replies":[{"user":"U06BRP8VD","ts":"1577671304.043500"},{"user":"U7CV2F36X","ts":"1577671417.044200"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v=Cx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5688d2f4-1744-47c8-aaf1-002ef10e4058","type":"message","user":"U7TMPGWJ0","text":"vim-lsp の textEdit の修正の試させて頂いたのですが、GoとPHPで壊れないことを確認しました。僕はvim-plugを使ってまして、下記のブランチで確認しました。\n\n```Plug 'hrsh7th/vim-lsp', { 'branch': 'fix-completion-edits' }```","ts":"1577646924.036700","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tct"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6820f532-762a-406b-a527-80c53900bdba","type":"message","user":"U7TMPGWJ0","text":"ただ、`vim-lsp-snippets` を使用すると言語によっては補完が効かなくなる症状がありました。vim-lsp-snippets を使うと Go の gopls は補完が一切動かない、PHP の intelephense は var_dump等の標準関数が補完できなくなっていたり、クラスのメソッドで引数ありのものがあると補完ができなくなっていたり、 HTML は `&lt;div |` のところで補完が効いていたのが効かなくなって挙動が変わった等です。","ts":"1577646968.036900","thread_ts":"1577555274.030000","edited":{"user":"U7TMPGWJ0","ts":"1577648550.000000"},"parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V98Zo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1a935f77-cad4-42bf-9560-6c3dee716b04","type":"message","user":"U7TMPGWJ0","text":"pyls や typescript-language-server は元々 textEdit で壊れないものでしたがそれらの場合は `vim-lsp-snippets` 使ってても問題ないようでした。","ts":"1577648274.037100","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+XeF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd717207-0255-47f1-84b8-38808256d59d","type":"message","user":"U7TMPGWJ0","text":"vls (vue-language-server) は `&lt;template&gt;...&lt;/template&gt;` の中で HTML や Vue独自のディレクティブ(v-text等)が補完できるのですが、html-languagserver と同様に `&lt;div |` の部分で補完できていたのができなくなっていました","ts":"1577648539.037700","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e2m"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99e846fa-2925-4f80-80ba-1e591d3042b4","type":"message","user":"UEB17JJJE","text":"どのlanguage serverが動くことを期待されてますか？","ts":"1577665148.038000","thread_ts":"1577636665.036000","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+uTbR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3dfd7ded-dba1-46dd-84a8-2ea99d28deee","type":"message","user":"UEB17JJJE","text":"omnisharpですかね？","ts":"1577665224.038200","thread_ts":"1577636665.036000","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YLl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ec21ea9-8b80-4c21-b08c-daff19f5a01d","type":"message","user":"UEB17JJJE","text":"c#のbuffer開いた時に :`LspStatus`  の表示がどうなるか見せてもらえますか？","ts":"1577665465.038400","thread_ts":"1577636665.036000","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8Cah5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c40730d-5635-411e-a424-1d5d9914433f","type":"message","user":"U8R597E9H","text":"ありがとう御座います！正直、そのあたりをいじったつもりがないのでさらに深追いしてみます。（補完完了時の処理はいじったのですが…うーむ）","ts":"1577666490.038600","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fuiw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"158e2fe7-1322-4c78-9f6d-0168aed0b36a","type":"message","user":"U7CV2F36X","text":"`starting` となっています。","ts":"1577666767.038800","thread_ts":"1577636665.036000","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WA2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49e8e7c2-9de0-4e88-9204-868dc5981c9c","type":"message","user":"U7CV2F36X","text":"動作しているもので見てみると`running` となっていますね。サーバー起動中ということですかね。\nとおもって、１分ぐらい待ってみたのですが、`starting` のままでした...","ts":"1577666919.039000","thread_ts":"1577636665.036000","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Se9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0701038a-adba-4789-97f6-d033c997bf7d","type":"message","user":"U7TMPGWJ0","text":"かなり濃厚な作業(ロングな戦い？)、ありがとうございます。尊敬します。\n試した環境は勿論Vimも最新です。僕の環境のみで発生するならそれならそれで良いのですが。。他にも誰か試した方いないのかな。。","ts":"1577667977.039200","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+kfWs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0ba81527-596f-4f9a-bd90-2b71860473da","type":"message","user":"U7TMPGWJ0","text":"とりあえず、まずは gopls ですが `not yet implemented` なログが出てました。 gopls が対応してない何かに変更された...とかそういうのは関係ないですかね。\n\n```月 12/30 10:20:36 2019:[\"&lt;---(stderr)\",1,\"gopls\",[\"2019/12/30 10:20:36 : method \\\"DidChangeConfiguration\\\" not yet implemented\",\"2019/12/30 10:20:36 : method \\\"DidChangeConfiguration\\\" not yet implemented\",\"\"]]```","ts":"1577668967.039400","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EPL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"94170394-cf1b-4f5c-a49c-10152e006c5d","type":"message","user":"U7TMPGWJ0","text":"↑失礼。これは vim-lsp の今回の textEdit の関係なく出てました。。workspace_configの設定っぽい。忘れてください。","ts":"1577669154.039600","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j1d=H"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"144e7165-ad40-4062-8388-a5369de7b848","type":"message","user":"U8R597E9H","text":"DidChangeConfiguration は素の vim-lsp でも対応してまして、gopls 側が非対応なのでそう言われている感じです。（そう考えると capabilities のチェックがおかしい可能性ははらんでいるが、本修正の範囲外かな。）","ts":"1577669202.039800","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tit"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7d4677bd-4523-44e7-861e-5a89e40d01d6","type":"message","user":"U8R597E9H","text":"あ、追記があったすいません。\nうーん。補完できていたのができなくなったというのが相当心配だ。。。","ts":"1577669229.040000","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u+W"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a0c2954e-d86e-49a5-872d-0c3650553b40","type":"message","user":"U7TMPGWJ0","text":"あとは気になるログだとこれですかね。\n\n```月 12/30 10:34:43 2019:[\"s:on_stdout client request on_notification() error\",\"Vim(let):E716: Key not present in Dictionary: vim-lsp/textEdit\",\"function &lt;S\nNR&gt;99_out_cb[2]..&lt;SNR&gt;98_on_stdout[79]..&lt;lambda&gt;30[1]..&lt;SNR&gt;101_handle_omnicompletion[11]..&lt;SNR&gt;101_get_completion_result[14]..&lt;lambda&gt;48[1]..lsp#omni#get\n_vim_completion_item[1]..lsp_snippets#get_vim_completion_item, line 18\"]```","ts":"1577669801.040200","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8HSr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"feb8404c-9ecf-4151-9326-dcf0d23ac17f","type":"message","user":"U8R597E9H","text":"おわ。それやばいやつですね。深追いします！","ts":"1577670021.040400","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"isGr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a4971c0e-a376-4e55-8599-c6d6c75bf485","type":"message","user":"U8R597E9H","text":"それ、別のプラグインの影響っぽいですね。もしや vim-lsp-snippets ユーザでしょうか？なにか、vim-lsp 周りでプラグイン利用してるか気になります。","ts":"1577670083.040600","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"foLs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"17c6feca-749c-4f68-b24a-db88fbcc7b64","type":"message","user":"UEB17JJJE","text":"<https://github.com/prabirshrestha/vim-lsp/blob/master/doc/vim-lsp.txt#L563>","ts":"1577670105.040800","thread_ts":"1577636665.036000","attachments":[{"fallback":"GitHub: prabirshrestha/vim-lsp","id":1,"title":"prabirshrestha/vim-lsp","title_link":"https://github.com/prabirshrestha/vim-lsp/blob/master/doc/vim-lsp.txt#L563","text":"async language server protocol plugin for vim and neovim - prabirshrestha/vim-lsp","thumb_url":"https://avatars1.githubusercontent.com/u/287744?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/prabirshrestha/vim-lsp/blob/master/doc/vim-lsp.txt#L563","original_url":"https://github.com/prabirshrestha/vim-lsp/blob/master/doc/vim-lsp.txt#L563"}],"parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"drG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f8360259-5bc7-4453-8205-efef26e9a554","type":"message","user":"U7TMPGWJ0","text":"↑勿論これは vim-lsp-snippets を使う場合のみで。はずしたらエラーは出ず正常動作です。","ts":"1577670117.041100","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P7A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e5cbff7c-1f9d-4da5-8ee2-62509b52fd19","type":"message","user":"UEB17JJJE","text":"これを指定してlog出力してみた結果はどんな感じでしょうか？","ts":"1577670145.041300","thread_ts":"1577636665.036000","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y6v3y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2b07ff9d-9655-4f4d-9228-a20860390f2d","type":"message","user":"U8R597E9H","text":"ぎゃー。確認します。。。","ts":"1577670147.041500","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NH+hZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ae1cb26-7a7f-4718-9cb9-945661ab90d9","type":"message","user":"U8R597E9H","text":"<https://github.com/thomasfaingnaert/vim-lsp-snippets/blob/master/autoload/lsp_snippets.vim#L36>\nこれか。。。気づかなかったです。直そう。","ts":"1577670185.041700","thread_ts":"1577555274.030000","attachments":[{"fallback":"GitHub: thomasfaingnaert/vim-lsp-snippets","id":1,"title":"thomasfaingnaert/vim-lsp-snippets","title_link":"https://github.com/thomasfaingnaert/vim-lsp-snippets/blob/master/autoload/lsp_snippets.vim#L36","text":"Language Server Protocol snippets in vim using vim-lsp - thomasfaingnaert/vim-lsp-snippets","thumb_url":"https://avatars3.githubusercontent.com/u/10748726?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":420,"thumb_height":420,"from_url":"https://github.com/thomasfaingnaert/vim-lsp-snippets/blob/master/autoload/lsp_snippets.vim#L36","original_url":"https://github.com/thomasfaingnaert/vim-lsp-snippets/blob/master/autoload/lsp_snippets.vim#L36"}],"parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xoSqt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0dd32e04-45b7-489b-b789-dfb3b392240a","type":"message","user":"U7TMPGWJ0","text":"intelephense(php)やhtml-langserverでも同じの出ました。僕が試した中でvim-lsp-snippetsを入れて補完がおかしくなる言語(LS)のは同じエラー出ちゃってますね","ts":"1577670344.042000","thread_ts":"1577555274.030000","edited":{"user":"U7TMPGWJ0","ts":"1577670396.000000"},"parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7a0G1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cd6720d3-89d4-4e92-9eab-cbad69ddf10a","type":"message","user":"U7CV2F36X","text":"出力してみました。\nこんな感じです。\n```2019/12/30 10:51:54:[\"lsp#register_server\",\"server registered\",\"omnisharp-lsp\"]\n2019/12/30 10:51:54:[\"vim-lsp signs enabled\"]\n2019/12/30 10:51:54:[\"vim-lsp highlighting enabled (textprop)\"]\n2019/12/30 10:51:54:[\"s:on_text_document_did_open()\",1,\"cs\",\"C:\\\\Users\\\\yoi\\\\LspTest\",\"file:///C:/Users/yoi/LspTest/Program.cs\"]\n2019/12/30 10:51:54:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"lsp_id\":1,\"server_name\":\"omnisharp-lsp\"},\"message\":\"started lsp server successfully\"}}]\n2019/12/30 10:51:54:[\"---&gt;\",1,\"omnisharp-lsp\",{\"method\":\"initialize\",\"params\":{\"rootUri\":\"file:///C:/Users/yoi/LspTest\",\"initializationOptions\":null,\"capabilities\":{\"workspace\":{\"configuration\":true,\"applyEdit\":true},\"textDocument\":{\"foldingRange\":{\"lineFoldingOnly\":true},\"documentSymbol\":{\"symbolKind\":{\"valueSet\":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,1,2,3,4,5,6,7,8,9]},\"hierarchicalDocumentSymbolSupport\":false},\"semanticHighlightingCapabilities\":{\"semanticHighlighting\":true},\"definition\":{\"linkSupport\":true},\"completion\":{\"completionItem\":{\"snippetSupport\":false,\"documentationFormat\":[\"plaintext\"]},\"completionItemKind\":{\"valueSet\":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,1,2,3,4,5,6,7,8,9]}},\"implementation\":{\"linkSupport\":true},\"declaration\":{\"linkSupport\":true},\"typeDefinition\":{\"linkSupport\":true}}},\"rootPath\":\"C:\\\\Users\\\\yoi\\\\LspTest\",\"processId\":4520,\"trace\":\"off\"}}]```\n","ts":"1577670831.042300","thread_ts":"1577636665.036000","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fpa32"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b0cb84e7-5203-4918-8cf4-11ebd6786d7a","type":"message","user":"U7CV2F36X","text":"LspTest.csproj\n```&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n  &lt;PropertyGroup&gt;\n    &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n    &lt;TargetFramework&gt;netcoreapp3.1&lt;/TargetFramework&gt;\n  &lt;/PropertyGroup&gt;\n&lt;/Project&gt;```\nProgram.cs\n```using System;\n\nnamespace LspTest\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Console.WriteLine(\"Hello World!\");\n        }\n    }\n}```","ts":"1577670884.042500","thread_ts":"1577636665.036000","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"f14U"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"becfa363-cb9e-46b3-8bcf-235796568a53","type":"message","user":"U7CV2F36X","text":"このProgram.csを開いた時のログ出力です。","ts":"1577670913.042700","thread_ts":"1577636665.036000","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"53I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c306e08-db5b-4c39-963a-bbd78de9c8b4","type":"message","user":"U8R597E9H","text":"動作確認めっちゃ助かります。いや本当に。","ts":"1577671037.042900","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kjg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"890697f3-db0e-4fde-81fc-d0706781b13f","type":"message","user":"U8R597E9H","text":"修正 ed。 intelephense や vls でも with vim-lsp-snippets でそれっぽく動くようになりました。","ts":"1577671119.043100","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oEEc1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"470d7768-8b3e-45d0-ae56-153ae74bedf6","type":"message","user":"U7TMPGWJ0","text":"いえいえ。hrsh7thのがんばりに比べれば問題ナッシングです。正直、 textEdit のが vim-lsp なんかおかしいって感じで離脱ポイントかなと僕的には思ってるので。これがちゃんと直るなら大きな進歩だと思います。その上でやっとLSPのスニペットの機能とかが正常に動くと思うし。","ts":"1577671224.043300","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HbQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9475c9b9-5e35-4ded-8f3a-2b8eb8c6e202","type":"message","user":"U06BRP8VD","text":"気にしなくてよいですよ。もっとふさわしい場所があるのなら、そちらへ誘導してくれる人が出てくるのでその時には従ってくだされば。","ts":"1577671304.043500","thread_ts":"1577636721.036500","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mJ2/V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2724b13b-c59c-4f96-941e-e38ccffc5c4e","type":"message","user":"U8R597E9H","text":"わかります。自分も coc.nvim やめたり、vim-lsp やめたりした大きな要因だったため、ここは自作プラグインでも最重要ポイントにしてました。それで割としっかり動く方法がわかったので PR している感じです。","ts":"1577671323.043700","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pGG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74983410-a025-4411-acfe-2c582ec27ab9","type":"message","user":"U7CV2F36X","text":":+1::blush:","ts":"1577671417.044200","thread_ts":"1577636721.036500","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rAicK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"24937a54-8ab4-45e7-bc85-2fdc09a4238d","type":"message","user":"U03C6TEAZ","text":"特に問題無さそうに見えますね。むー。","ts":"1577671421.044600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ly8I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6384a8b7-37c0-4f8a-8a81-206c6e10c9c9","type":"message","user":"U7TMPGWJ0","text":"そんな僕は今はメインはcoc使ってますってのは内緒w","ts":"1577671458.044700","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fGT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fdd16b3c-d357-4ee6-b29e-d917b7db22f4","type":"message","user":"U8R597E9H","text":"coc.nvim は正直最高でしたねｗ\n- lexima.vim との組み合わせで補完後に括弧が残る\n- なんか diagnostics が更新されない\nこのへんだけ気になりました。（なぜか coc 側に PR しようとはならなかったのは自分でも理由がわかりません。）","ts":"1577671690.044900","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"H7J"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e105dc1d-b5e6-4574-832d-9a5848830542","type":"message","user":"UAZ33BKV2","text":"lightlineのstatuslineへvim-lspに状態表示でも出せれば、と思うが、IFがない(わからない)...","ts":"1577671738.045800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HY6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b3ea5524-335c-44e2-b287-cdd7689de488","type":"message","user":"U7TMPGWJ0","text":"hrsh7th さんの lexima.vim (閉じカッコあっても) でも signature help を使えるようにってPRも期待。これもcocではできてますしね","ts":"1577671892.045900","thread_ts":"1577555274.030000","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lGF2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ae5da4e-904b-4157-a224-b4cda9924dda","type":"message","user":"U03C6TEAZ","text":"lsp には一応 logMessage という暗黙のインタフェースがあるんですが、それで送って来るものも方言ありまくりなんですよね。","ts":"1577672000.048000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qaM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3137756c-59af-4a9f-95aa-02c45bf074ff","type":"message","user":"U03C6TEAZ","text":"initialze の応答が帰ってないですね。","ts":"1577672080.048800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oW7zU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dd26072b-3efa-497d-b9d4-0bd86ef54af1","type":"message","user":"UAZ33BKV2","text":"でも有効無効くらいの意味しか出せないけど...\n現在のファイルタイプ(サーバ名ではなく)で、start/running/exited/not が見えるIFがあると意味があるかな...","ts":"1577672207.050000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VPQK4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fbea2ac9-0c01-4131-9fa0-033c139040c0","type":"message","user":"U03C6TEAZ","text":"あります。","ts":"1577672478.050300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Tt1he"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d979f96-d9dc-4eb7-8dec-28a04b950582","type":"message","user":"U03C6TEAZ","text":"既に。","ts":"1577672487.050600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"isx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b9fab674-3d02-4fce-a23a-be70e2deeb35","type":"message","user":"U03C6TEAZ","text":"ソース見れないですが。","ts":"1577672544.051700","edited":{"user":"U03C6TEAZ","ts":"1577672553.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xP4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1264b018-4aea-4d53-a8d0-1145854ba1ec","type":"message","user":"UAZ33BKV2","text":"helpに明示されてるIFですっけ(見て、みつからなかった)","ts":"1577672602.052400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y0Gwa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e4ec2512-5bd4-49ff-934a-8c5326636335","type":"message","user":"UAZ33BKV2","text":"であるなら、それ使わせてもらおう...","ts":"1577672612.052700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CicB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"273a26a3-7c38-4e3e-96e6-bbd17d0124b8","type":"message","user":"UAZ33BKV2","text":"なお、コマンドのLspStatusだと、ちょっと使えないし\nlsp#get_server_statusはサーバ名が必要...","ts":"1577672696.053900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wHGO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"793d196a-d67d-4798-a5cd-fe5bd24e8ae3","type":"message","user":"U03C6TEAZ","text":"whitelisted って付いた関数があったと思います。","ts":"1577672836.054800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d2nu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"34c326d6-fea0-41ee-86d3-4a19266b253c","type":"message","user":"U03C6TEAZ","text":"それがバッファを受けとる関数です。","ts":"1577672865.055400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+QqQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"989dd5d0-849a-4ebb-9551-9c136ea0b38c","type":"message","user":"U03C6TEAZ","text":"<@U7CV2F36X> おそい間もプロセスは生きてますか？","ts":"1577672900.056100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ngcw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ba70c8ab-1e33-47a3-b7eb-f153a914881d","type":"message","user":"UAZ33BKV2","text":"ありがとうございます(でもhelpにはないっぽい...)","ts":"1577672921.056700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a0YO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a1fba775-c608-47e3-9e72-28c03751f8a8","type":"message","user":"UAZ33BKV2","text":"ale断を強行してみた","ts":"1577673284.057100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J+s4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0732004f-0c29-4476-adce-3029e2747cf2","type":"message","user":"U7CV2F36X","text":"<@U03C6TEAZ> OmniSharpという名前のプロセスがいます。","ts":"1577673392.057500","files":[{"id":"FS6GZ4TFH","created":1577673390,"timestamp":1577673390,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U7CV2F36X","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":48657,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FS6GZ4TFH/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FS6GZ4TFH/download/image.png","original_h":352,"original_w":703,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FS6GZ4TFH-2654cb68f2/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FS6GZ4TFH-2654cb68f2/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FS6GZ4TFH-2654cb68f2/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FS6GZ4TFH-2654cb68f2/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":180,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FS6GZ4TFH-2654cb68f2/image_480.png","thumb_480_w":480,"thumb_480_h":240,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U7CV2F36X/FS6GZ4TFH/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FS6GZ4TFH-ba64f3c9d1","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAYADDSDckZ6UoOaaetLk+lAFfUCRakj1FZYlIPIBrT1D/j0b6j+dZOCDg0AP8AO/2F/Wjzv9hf1pnFIRQBsn7xGKUdelH8bfhThQBXvsfZmz6isvC+v6VqX/8Ax6t9RWVQAvFJxRRQB//Z","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"taM"}]},{"client_msg_id":"9beb66b6-75db-44d0-882d-a870d743d40f","type":"message","user":"UEB17JJJE","text":"さっき貼っていただいたlogに続きはなかったですか？initizalizeのresponseがない場合はls側の問題にも思えます。","ts":"1577673630.058800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ctqt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"31966af0-3cf2-4b58-9d2f-a44fc33c71bd","type":"message","user":"UAZ33BKV2","text":"なんとかなりそう、だけど複数サーバのときどうしようかな...","ts":"1577673632.059000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yUp="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"84857983-7729-47ea-be9e-3ed3fbc0f149","type":"message","user":"U8R597E9H","text":"自分が「なんか動かないな」ってときはたいてい root_uri のマーカーが見つからない（vim-lsp-settings の omnisharp だと .git らしい） or initialization_options が足りないが理由なことが多いですね。","ts":"1577673702.059900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BQZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"112a383b-638d-49c9-a16c-41d9c70c03a7","type":"message","user":"UEB17JJJE","text":"logみる感じrootUriは大丈夫そう","ts":"1577673826.061000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d6a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b31ae901-ae96-41da-a93a-26072e47eb2c","type":"message","user":"U7CV2F36X","text":"<https://vim-jp.slack.com/archives/CQ57P4XU4/p1577673630058800>\n\n.csファイルを開いて、編集するとログ出力が追加されます。\nこの状態で`LspStatus`しても、`starting` のままです。\n","ts":"1577674258.062600","attachments":[{"fallback":"[December 29th, 2019 6:40 PM] h.hata.ai.t: さっき貼っていただいたlogに続きはなかったですか？initizalizeのresponseがない場合はls側の問題にも思えます。","id":1,"author_id":"UEB17JJJE","author_name":"Hirokazu Hata","author_subname":"Hirokazu Hata","author_link":"https://vim-jp.slack.com/team/UEB17JJJE","author_icon":"https://secure.gravatar.com/avatar/c83c988365a0fabc4c83cdb600268d59.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-48.png","text":"さっき貼っていただいたlogに続きはなかったですか？initizalizeのresponseがない場合はls側の問題にも思えます。","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #lsp","ts":1577673630.058800,"from_url":"https://vim-jp.slack.com/archives/CQ57P4XU4/p1577673630058800","original_url":"https://vim-jp.slack.com/archives/CQ57P4XU4/p1577673630058800"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NDGg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b31ae901-ae96-41da-a93a-26072e47eb2c","type":"message","user":"U7CV2F36X","text":"```2019/12/30 11:47:18:[\"vim-lsp signs enabled\"]\n2019/12/30 11:47:18:[\"vim-lsp highlighting enabled (textprop)\"]\n2019/12/30 11:47:18:[\"s:on_text_document_did_open()\",1,\"\",\"C:\\\\Users\\\\yoi\",\"\"]\n2019/12/30 11:47:26:[\"s:on_text_document_did_close()\",1]\n2019/12/30 11:47:26:[\"lsp#register_server\",\"server registered\",\"omnisharp-lsp\"]\n2019/12/30 11:47:26:[\"s:on_text_document_did_open()\",3,\"cs\",\"C:\\\\Users\\\\yoi\",\"file:///C:/Users/yoi/LspTest/Program.cs\"]\n2019/12/30 11:47:26:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"lsp_id\":1,\"server_name\":\"omnisharp-lsp\"},\"message\":\"started lsp server successfully\"}}]\n2019/12/30 11:47:26:[\"---&gt;\",1,\"omnisharp-lsp\",{\"method\":\"initialize\",\"params\":{\"rootUri\":\"file:///C:/Users/yoi\",\"initializationOptions\":null,\"capabilities\":{\"workspace\":{\"configuration\":true,\"applyEdit\":true},\"textDocument\":{\"foldingRange\":{\"lineFoldingOnly\":true},\"documentSymbol\":{\"symbolKind\":{\"valueSet\":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,1,2,3,4,5,6,7,8,9]},\"hierarchicalDocumentSymbolSupport\":false},\"semanticHighlightingCapabilities\":{\"semanticHighlighting\":true},\"definition\":{\"linkSupport\":true},\"completion\":{\"completionItem\":{\"snippetSupport\":false,\"documentationFormat\":[\"plaintext\"]},\"completionItemKind\":{\"valueSet\":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,1,2,3,4,5,6,7,8,9]}},\"implementation\":{\"linkSupport\":true},\"declaration\":{\"linkSupport\":true},\"typeDefinition\":{\"linkSupport\":true}}},\"rootPath\":\"C:\\\\Users\\\\yoi\",\"processId\":31648,\"trace\":\"off\"}}]\n2019/12/30 11:47:40:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:47:40:[\"s:send_didchange_queue() will be triggered\"]\n2019/12/30 11:47:40:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:47:40:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:47:40:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:47:41:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:47:41:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:47:41:[\"s:send_event_queue()\"]\n2019/12/30 11:47:41:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"server_name\":\"omnisharp-lsp\"},\"message\":\"server already started\"}}]\n2019/12/30 11:47:41:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"server_name\":\"omnisharp-lsp\"},\"message\":\"waiting for lsp server to initialize\"}}]\n2019/12/30 11:47:51:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:47:51:[\"s:send_didchange_queue() will be triggered\"]\n2019/12/30 11:47:52:[\"s:send_event_queue()\"]\n2019/12/30 11:47:52:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"server_name\":\"omnisharp-lsp\"},\"message\":\"server already started\"}}]\n2019/12/30 11:47:52:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"server_name\":\"omnisharp-lsp\"},\"message\":\"waiting for lsp server to initialize\"}}]\n2019/12/30 11:48:05:[\"vim-lsp signs enabled\"]\n2019/12/30 11:48:05:[\"vim-lsp highlighting enabled (textprop)\"]\n2019/12/30 11:48:05:[\"s:on_text_document_did_open()\",1,\"\",\"C:\\\\Users\\\\yoi\",\"file:///C:/Users/yoi/vim-lsp.log\"]\n2019/12/30 11:48:27:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:48:27:[\"s:send_didchange_queue() will be triggered\"]\n2019/12/30 11:48:28:[\"s:send_event_queue()\"]\n2019/12/30 11:48:28:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"server_name\":\"omnisharp-lsp\"},\"message\":\"server already started\"}}]\n2019/12/30 11:48:28:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"server_name\":\"omnisharp-lsp\"},\"message\":\"waiting for lsp server to initialize\"}}]\n2019/12/30 11:48:29:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:48:29:[\"s:send_didchange_queue() will be triggered\"]\n2019/12/30 11:48:29:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:48:29:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:48:29:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:48:29:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:48:29:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:48:30:[\"s:send_event_queue()\"]\n2019/12/30 11:48:30:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"server_name\":\"omnisharp-lsp\"},\"message\":\"server already started\"}}]\n2019/12/30 11:48:30:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"server_name\":\"omnisharp-lsp\"},\"message\":\"waiting for lsp server to initialize\"}}]\n2019/12/30 11:48:30:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:48:30:[\"s:send_didchange_queue() will be triggered\"]\n2019/12/30 11:48:31:[\"s:on_text_document_did_change()\",3]\n2019/12/30 11:48:31:[\"s:send_event_queue()\"]\n2019/12/30 11:48:31:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"server_name\":\"omnisharp-lsp\"},\"message\":\"server already started\"}}]\n2019/12/30 11:48:31:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"server_name\":\"omnisharp-lsp\"},\"message\":\"waiting for lsp server to initialize\"}}]\n2019/12/30 11:48:32:[\"s:on_text_document_did_open()\",1,\"\",\"C:\\\\Users\\\\yoi\",\"file:///C:/Users/yoi/vim-lsp.log\"]\n2019/12/30 11:48:32:[\"s:on_text_document_did_change()\",1]\n2019/12/30 11:48:32:[\"s:send_didchange_queue() will be triggered\"]\n2019/12/30 11:48:33:[\"s:send_event_queue()\"]```","ts":"1577674258.062700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NDGg-Ols"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de487df5-29ba-46cf-a371-07fdd87beebe","type":"message","user":"UEB17JJJE","text":"omnisharp-lspの実装にはよりますが、initializeのoptionなどがvalidでない場合はお行儀のいいlsならエラーを返してくるのと、\n見た感じそんなおかしいinitialize paramsでもなさそうなのでls側の問題でinitializeに失敗しているように見えます。","ts":"1577674463.064700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IBc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0afd5b0f-b92e-464e-ba30-bc16497e1e4c","type":"message","user":"UEB17JJJE","text":"起動後何もせず3分くらいほっておいた状態のlogが見てみたいです。単に初期化に異常に時間がかかるという可能性もなきにしもなので。","ts":"1577674615.066200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wTu5F"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"75a4366d-8db3-419c-88df-bc1aac3ad72d","type":"message","user":"U7CV2F36X","text":".cs読み込んで、３分ほど放置してみますー","ts":"1577674754.067200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ax+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c31c11b-262f-4bf4-b586-333aa3743589","type":"message","user":"UEB17JJJE","text":"ん、","ts":"1577675003.067400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qxkH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d691d66b-bff0-4489-8fc8-1d6b6bc706d4","type":"message","user":"U7CV2F36X","text":"出力です\n```2019/12/30 11:58:09:[\"s:on_text_document_did_close()\",1]\n2019/12/30 11:58:11:[\"vim-lsp signs enabled\"]\n2019/12/30 11:58:11:[\"vim-lsp highlighting enabled (textprop)\"]\n2019/12/30 11:58:11:[\"s:on_text_document_did_open()\",1,\"\",\"C:\\\\Users\\\\yoi\",\"\"]\n2019/12/30 11:58:20:[\"s:on_text_document_did_close()\",1]\n2019/12/30 11:58:20:[\"lsp#register_server\",\"server registered\",\"omnisharp-lsp\"]\n2019/12/30 11:58:20:[\"s:on_text_document_did_open()\",3,\"cs\",\"C:\\\\Users\\\\yoi\",\"file:///C:/Users/yoi/LspTest/Program.cs\"]\n2019/12/30 11:58:20:[{\"response\":{\"data\":{\"__data__\":\"vim-lsp\",\"lsp_id\":1,\"server_name\":\"omnisharp-lsp\"},\"message\":\"started lsp server successfully\"}}]\n2019/12/30 11:58:20:[\"---&gt;\",1,\"omnisharp-lsp\",{\"method\":\"initialize\",\"params\":{\"rootUri\":\"file:///C:/Users/yoi\",\"initializationOptions\":null,\"capabilities\":{\"workspace\":{\"configuration\":true,\"applyEdit\":true},\"textDocument\":{\"foldingRange\":{\"lineFoldingOnly\":true},\"documentSymbol\":{\"symbolKind\":{\"valueSet\":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,1,2,3,4,5,6,7,8,9]},\"hierarchicalDocumentSymbolSupport\":false},\"semanticHighlightingCapabilities\":{\"semanticHighlighting\":true},\"definition\":{\"linkSupport\":true},\"completion\":{\"completionItem\":{\"snippetSupport\":false,\"documentationFormat\":[\"plaintext\"]},\"completionItemKind\":{\"valueSet\":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,1,2,3,4,5,6,7,8,9]}},\"implementation\":{\"linkSupport\":true},\"declaration\":{\"linkSupport\":true},\"typeDefinition\":{\"linkSupport\":true}}},\"rootPath\":\"C:\\\\Users\\\\yoi\",\"processId\":30016,\"trace\":\"off\"}}]```\n","ts":"1577675164.068500","thread_ts":"1577675164.068500","reply_count":3,"replies":[{"user":"UEB17JJJE","ts":"1577675521.070800"},{"user":"UEB17JJJE","ts":"1577675569.071000"},{"user":"U7CV2F36X","ts":"1577676779.071500"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S1tWa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"946d3b4c-133c-42d9-a094-829dd72793b7","type":"message","user":"U7CV2F36X","text":"`LspStatus`、`starting` のままです","ts":"1577675213.069000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ql2n4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d821fdf3-8f96-42ad-b642-e6f2331bd513","type":"message","user":"UAZ33BKV2","text":"案外起動完了が遅い","ts":"1577675242.069500","files":[{"id":"FS4MFSG80","created":1577675240,"timestamp":1577675240,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"UAZ33BKV2","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":77858,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FS4MFSG80/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FS4MFSG80/download/image.png","original_h":525,"original_w":1842,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MFSG80-e5b329870a/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MFSG80-e5b329870a/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MFSG80-e5b329870a/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MFSG80-e5b329870a/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":103,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MFSG80-e5b329870a/image_480.png","thumb_480_w":480,"thumb_480_h":137,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MFSG80-e5b329870a/image_720.png","thumb_720_w":720,"thumb_720_h":205,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MFSG80-e5b329870a/image_960.png","thumb_960_w":960,"thumb_960_h":274,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MFSG80-e5b329870a/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":292,"permalink":"https://vim-jp.slack.com/files/UAZ33BKV2/FS4MFSG80/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FS4MFSG80-2a6c8449f2","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MFSG80-e5b329870a/image_800.png","thumb_800_h":228,"thumb_800_w":800,"thumb_tiny":"AwANADC19lh/55rR9kg/55LUm447Ubic9Km7GR/ZIP8AnktH2SD/AJ5LUgLZ5I/KlJPtRdgR/ZIP+eS0htYAP9UtSkn2/KkyTwcflTuxH//Z","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"glfjl"}]},{"client_msg_id":"83332fef-a6d4-42c5-bb11-07317b0194e9","type":"message","user":"UAZ33BKV2","text":"できた","ts":"1577675277.070200","files":[{"id":"FS4MG2Y8Y","created":1577675274,"timestamp":1577675274,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"UAZ33BKV2","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":67673,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FS4MG2Y8Y/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FS4MG2Y8Y/download/image.png","original_h":525,"original_w":1842,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MG2Y8Y-a044f991cb/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MG2Y8Y-a044f991cb/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MG2Y8Y-a044f991cb/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MG2Y8Y-a044f991cb/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":103,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MG2Y8Y-a044f991cb/image_480.png","thumb_480_w":480,"thumb_480_h":137,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MG2Y8Y-a044f991cb/image_720.png","thumb_720_w":720,"thumb_720_h":205,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MG2Y8Y-a044f991cb/image_960.png","thumb_960_w":960,"thumb_960_h":274,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MG2Y8Y-a044f991cb/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":292,"permalink":"https://vim-jp.slack.com/files/UAZ33BKV2/FS4MG2Y8Y/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FS4MG2Y8Y-dccb39e48a","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FS4MG2Y8Y-a044f991cb/image_800.png","thumb_800_h":228,"thumb_800_w":800,"thumb_tiny":"AwANADC39lh/55rSfZIP+eS1KCfagk44xU3YyL7JB/zyWj7JB/zyWpAWzyR+VKSfajmYWI/skH/PJaQ2sAH+qWpST7flSZJ4OPyp3Yj/2Q==","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0Advh"}]},{"client_msg_id":"777e9ffd-ca5e-4c59-9539-af1a59ff60ec","type":"message","user":"UAZ33BKV2","text":"複数あるときは、最初のサーバで表示","ts":"1577675327.070700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uVf2i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d559b1c1-e031-4804-a438-6e392446514f","type":"message","user":"UEB17JJJE","text":"ん〜〜initializeのresponseが帰ってこないのがやっぱり変ですね。","ts":"1577675521.070800","thread_ts":"1577675164.068500","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LXif"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e49182e1-474f-4c89-a6c6-0422058e3aab","type":"message","user":"UEB17JJJE","text":"ちょっと自分も時間作って試してみます。\nC#ってlanguage server試すだけなら他に何か環境整える必要って特に無いですか？","ts":"1577675569.071000","thread_ts":"1577675164.068500","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6YZkB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"ULMBE00CF","text":"<@ULMBE00CF> has joined the channel","ts":"1577675871.071300","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"bb236863-cd65-46fd-b100-be0a600531c7","type":"message","user":"U7CV2F36X","text":"お手数おかけしますー。","ts":"1577676779.071500","thread_ts":"1577675164.068500","parent_user_id":"U7CV2F36X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7/BYk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65421f2e-cfde-4189-9180-46cef038dd0b","type":"message","user":"U03C6TEAZ","text":"omnisharp は結構遅いですね。","ts":"1577679832.072200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NKr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b417e17c-c3e7-4e44-846e-17e878c6307e","type":"message","user":"U03C6TEAZ","text":"３分は無いか。","ts":"1577679857.072600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Kb8WG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
