[{"type":"message","user":"UPFA61GGY","text":"<@UPFA61GGY> has joined the channel","ts":"1575497662.246900","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"a6dd4452-2a62-4d2e-bc5e-930d9e0f8f66","type":"message","user":"U8996GYBF","text":"TSはnvim-typescriptがとても楽で他に移れなくなってしまった","ts":"1575509358.247900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z+TX2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bfa05d6c-2df4-4b96-ae9a-86560b136dab","type":"message","user":"U8996GYBF","text":"vim対応しないのかなぁ","ts":"1575509373.248100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"H5hg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fc791566-5f87-4d16-8d23-5d404e6c6c2a","type":"message","user":"U03C71D7H","text":"nvim 専用?\n あー、そもそも LSP ではないのか…","ts":"1575509433.248700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3WyQO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"59007e96-e678-4a17-adc7-fba320364aaa","type":"message","user":"U03C71D7H","text":"私も以前ちょろっと書いた時は tsuquyomi 使ってて不満はなかったのだけど、LSP に乗り換えたい的な機運でやってみている感じですね。しかし動いたり動かなかったりよくわからない…","ts":"1575509474.249500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"an2lS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b1366611-7380-4a69-9743-c0ecdd413f54","type":"message","user":"U8996GYBF","text":"LSPっていうかtscと直に話してる感じ、lspとして使うより大分強力っぽいです","ts":"1575509513.250100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"381n"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"db193782-2ab6-4069-b223-da2dd567972d","type":"message","user":"U03C71D7H","text":"LSP にすると当然 LSP が規定している機能しか使えないので、仕方ない部分はありそう…","ts":"1575509614.250600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jB7/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6c6c78c-38b6-4876-a2d3-86814e3b8326","type":"message","user":"U78A6ESHM","text":"おそらく MS が TS の LS を出してそれが安定して動くようになったら tsuquyomi は多分メンテしなくなると思います(以前作者が言われた)","ts":"1575509760.251800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EOn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5fd409b8-cb49-4350-acd6-cf5d79ee7065","type":"message","user":"U03C71D7H","text":"その方が幸せな世界が訪れそう","ts":"1575510081.252100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BFmz="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2043673-dafa-4b7a-bfbe-f8f518e82822","type":"message","user":"U03C6TEAZ","text":"gocode と同じ流れだ。","ts":"1575510174.252300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3MV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7A37H0S3","text":"<@U7A37H0S3> has joined the channel","ts":"1575510299.252500","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"e1bf08c3-062c-409a-be84-3f1f63e98c9f","type":"message","user":"U78A6ESHM","text":"現状私が困ったら手を入れるようになってますw","ts":"1575510373.253000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"77Bw+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a255a0db-b3df-4a6f-b156-baf3e267403b","type":"message","user":"U78A6ESHM","text":"プロトコルが微妙に違うからあれ &gt; tsserver","ts":"1575510402.253300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hpI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UACD9MGA1","text":"<@UACD9MGA1> has joined the channel","ts":"1575521785.253500","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"2d72c1c1-621d-4a59-ac12-f960a23b06c0","type":"message","user":"U7TMPGWJ0","text":"そもそも、やはりMSさんがVSCodeから切り出して他からも叩けるLSを用意してくれるしか...。あとはやっぱりtsserverだけじゃなくて追加で linter(eslint) や formatter(prettierとか) も一緒に設定できるようなのがいいなーと。","ts":"1575524306.253900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ibvk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b1339f01-7571-4cec-9e19-4108a48829df","type":"message","user":"U7TMPGWJ0","text":"VSCode自体が vscode-eslint とか prettier-vscode とかってそもそもわけてるので仕方ないのかなってのもあるんですが。","ts":"1575524327.254100","edited":{"user":"U7TMPGWJ0","ts":"1575524550.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EkK9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4578ba20-0c48-4a49-9d48-41ca724bf7bc","type":"message","user":"U78A6ESHM","text":"超わかる…。","ts":"1575525345.254400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mS/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6290af11-3f5d-4abf-8a2f-d55667ee32b8","type":"message","user":"U8R597E9H","text":"VSCode と TSServer で実験して、よさそうな機能を LSP Spec にフィードバックするみたいな流れになってるんじゃないかなーと妄想してます。","ts":"1575526143.255000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cjs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"457a5745-6102-483e-878c-362ebf2acecd","type":"message","user":"U03C6TEAZ","text":"はい。そうです。","ts":"1575526334.255200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NQc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"52535959-a178-4ab5-b44f-4400bba5a975","type":"message","user":"U03C6TEAZ","text":"typescript-language-server が spec を作るための poc です。","ts":"1575526352.255600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YAL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f778f123-921f-4223-8023-4ac0a68c6573","type":"message","user":"U8R597E9H","text":"！実際にそうだったんですね。ありがとうございます。なるほど〜。","ts":"1575526667.256000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EcA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e4c3f5ed-29ec-4fba-8032-becc86dc1e18","type":"message","user":"U03C6TEAZ","text":"おかげでひどい仕様も入ってますが。","ts":"1575526694.256300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z68J="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2b034050-9df5-4627-aa25-b3a9bf64e662","type":"message","user":"U03C6TEAZ","text":"その1つがカーソル位置を示す col/line が JavaScript と同じ UTF-16 コードポイント単位","ts":"1575526735.257000","team":"T03C4RC8V","reactions":[{"name":"tiken","count":1,"users":["UBNPMJJGM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S3RD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"88fe25b0-6f5f-4c1a-b450-1076977d691c","type":"message","user":"U03C6TEAZ","text":"おかげで utf-8 ベースな言語で実装するにはこんな理不尽なコードを要求される。 <https://github.com/golang/tools/commit/a24c58a2098b47045f204f5b90f13c155897ffd2#diff-930c3a10a1a65f80cbe93f77a7543003R193>","ts":"1575527035.257600","attachments":[{"fallback":"GitHub: internal/lsp: implement incremental updates to document · golang/tools@a24c58a","id":1,"title":"internal/lsp: implement incremental updates to document · golang/tools@a24c58a","title_link":"https://github.com/golang/tools/commit/a24c58a2098b47045f204f5b90f13c155897ffd2#diff-930c3a10a1a65f80cbe93f77a7543003R193","text":"gopls return Incremental for TextDocumentSyncKind. Change-Id: I7b302a540a4d2ef9eaa079cea5155859febb9a95 Reviewed-on: <https://go-review.googlesource.com/c/162921> Run-TryBot: Rebecca Stambler &lt;rs...","thumb_url":"https://avatars3.githubusercontent.com/u/10111?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/golang/tools/commit/a24c58a2098b47045f204f5b90f13c155897ffd2#diff-930c3a10a1a65f80cbe93f77a7543003R193","original_url":"https://github.com/golang/tools/commit/a24c58a2098b47045f204f5b90f13c155897ffd2#diff-930c3a10a1a65f80cbe93f77a7543003R193"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L=eR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4c9003c-5f36-473d-873e-05e5d82f38a6","type":"message","user":"U03C71D7H","text":"LSP v2(適当) みたいなので見直してほしい","ts":"1575527141.259200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=h6R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e37f2e4-3fbe-44da-a5c1-e936a6c023ef","type":"message","user":"U8R597E9H","text":"以前、vim-lsp に UTF-16 サポートの PR 出されてて、その後僕が vim-lsc の方式をポートしてきたとき、全然文字コードのコードポイント？？？って感じだったのでわかってなかったのですが\nvim-lsc の方式も完全なサポートではなくって、やっぱり mattn さんのやろうとしていた方式がただしかったんだなと今は思っています。。。","ts":"1575527156.259600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7l2Ff"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6927bcc1-34cf-499d-adf8-56e654c28a28","type":"message","user":"U8R597E9H","text":"ちなみに、現状の LSP は 3.14 で次は 3.15 です。。。（→ 3.15 <https://microsoft.github.io/language-server-protocol/specifications/specification-3-15/>）","ts":"1575527207.260700","edited":{"user":"U8R597E9H","ts":"1575527214.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fahdz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"10d7d0e8-c58b-41b4-b99c-ba935d4a0da6","type":"message","user":"U03C6TEAZ","text":"サーバ側も utf-16 対応してるのがあまりなくて(というか実装者が知らない)、client も知らない、server も知らない、で平和になってる。","ts":"1575527227.261300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wl6V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"05cd8818-fd8f-4d58-96b5-04ab5bb247ab","type":"message","user":"U03C6TEAZ","text":"つまり座標がずれた物同士で喋って動いてる。","ts":"1575527253.262000","edited":{"user":"U03C6TEAZ","ts":"1575527264.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GKxd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9e784233-f849-4704-9358-0e8dabbca2dd","type":"message","user":"U8R597E9H","text":"vim-lsc は「コードポイント単位」ではなく「文字数単位」のコードにしているので、以前よりマシにはなったが、UTF-8 と UTF-16 でコードポイントが変わる文字が入るとズレるって認識です。","ts":"1575527299.262800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZOsq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9fc843f0-ef09-42d1-ae0f-83e10dc89797","type":"message","user":"U8R597E9H","text":"_byte 単位だったものが、今は文字数単位に変わっているのでマシになっている。（本当はコードポイントで見なきゃいけない）という理解です。_","ts":"1575527353.263400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FfV9h"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"12348d8c-756e-42a9-854a-0b0728d1161f","type":"message","user":"U03C6TEAZ","text":"vim-lsc はバイト単位なのでちゃんと動かないんじゃないかなー。","ts":"1575527396.263900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mtOZl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"98ac7e86-05b7-4b28-b5d1-174dd09bd81f","type":"message","user":"U03C6TEAZ","text":"<https://github.com/natebosch/vim-lsc/blob/c6d088d86cf485567cdafcf451c8b265b1620efe/autoload/lsc/params.vim#L7>","ts":"1575527399.264100","attachments":[{"fallback":"GitHub: natebosch/vim-lsc","id":1,"title":"natebosch/vim-lsc","title_link":"https://github.com/natebosch/vim-lsc/blob/c6d088d86cf485567cdafcf451c8b265b1620efe/autoload/lsc/params.vim#L7","text":"A vim plugin for communicating with a language server - natebosch/vim-lsc","thumb_url":"https://avatars1.githubusercontent.com/u/7528195?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/natebosch/vim-lsc/blob/c6d088d86cf485567cdafcf451c8b265b1620efe/autoload/lsc/params.vim#L7","original_url":"https://github.com/natebosch/vim-lsc/blob/c6d088d86cf485567cdafcf451c8b265b1620efe/autoload/lsc/params.vim#L7"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/z3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d0f51d5a-c8ca-4ec7-8a02-4f4e32874000","type":"message","user":"U03C71D7H","text":"文字単位は文字単位で基準が実装者によって変わってしまいそう","ts":"1575527415.264700","edited":{"user":"U03C71D7H","ts":"1575527423.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4S7cN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6cbfce22-544b-4dbd-b968-107fac1f7b49","type":"message","user":"U8R597E9H","text":"あ、diff の部分だけですね。ほぼすべての LSP の position を文字単位に変換しているのは多分 vim-lsp だけなのではないかな。。。","ts":"1575527445.265500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VnT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b80b3744-b966-4fec-94cb-83f637c11bd0","type":"message","user":"U03C6TEAZ","text":"なので、vim-lsc がバイト単位、サーバ側も全然分かってなくてバイト単位だと動く。","ts":"1575527450.265700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HTq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9d474b9d-f701-4a0d-98ae-895012e225dd","type":"message","user":"U8R597E9H","text":"とりあえず diff については文字数単位なので、インクリメンタルな差分送信でもぶっ壊れにくくなっている（が、ハイライト位置はズレる）という状況です。","ts":"1575527501.267000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aAgSR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"385cb673-ff13-476a-90d4-16fb6f2bd842","type":"message","user":"U03C6TEAZ","text":"ですね。なので typescript で日本語含んだ状態のファイルを編集できるの vim-lsp だけだと思います。","ts":"1575527504.267100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D+Z3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"15a0262d-1902-47a9-8c01-7416b8ea459e","type":"message","user":"U03C71D7H","text":"文字の扱いが難しすぎて並の開発者には手に負えない","ts":"1575527547.267900","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["UACD9MGA1"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ILKrm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"df7c5cbe-ba60-4a23-999d-24f89c429e85","type":"message","user":"U8R597E9H","text":"ハイライトや日本語文字を含む行における補完がちゃんと動くのは vim-lsp 以外知らないです。（coc.nvim はそこまで中身を見ていないｗ）","ts":"1575527554.268100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4KVr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"259fd33f-c80d-41cc-9431-587f6aaec09a","type":"message","user":"U03C6TEAZ","text":"補完の開始位置とか1こずれたら全然違うものでてくるので gopls で辛かった。","ts":"1575527719.269700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P/Z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bfa91113-5b5a-492e-b3b3-710a5435b450","type":"message","user":"U03C6TEAZ","text":"いまからでも utf8 にしてほしい。","ts":"1575527753.270100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ks=tG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a822ab68-59f6-40c6-8760-e8e6871906db","type":"message","user":"U03C6TEAZ","text":"絵文字入れると死んでしまう。","ts":"1575527794.270700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=cQ3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c733f893-41d8-4b10-b8ae-a877aaacfc18","type":"message","user":"U03C6TEAZ","text":"それかバイト単位","ts":"1575527944.271000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MfI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
