[{"client_msg_id":"ba5732be-a8b7-4ae3-9e88-598310b2e8fe","type":"message","user":"U03C6TEAZ","text":"sb- あたりは全体に影響するのでなかなか難しいですね。例えばファイル名が utf-8 になってしまって日本語のパスにアクセスできなくなる可能性もあるので。","ts":"1604020794.327100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E92"}]},{"client_msg_id":"00f0baaa-7588-4827-af54-4d78af2f0f17","type":"message","user":"U782D5DF1","text":"この設定削っても再現しないからmacOS catalinaじゃもう再現しそうにないな・・・","ts":"1604020196.326300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JGfh"}]},{"client_msg_id":"7a3695ee-8ec6-4225-898b-61544b5b8686","type":"message","user":"UAZ33BKV2","text":"まずバイト列として受けてから、UTF-8デコードする...のがいいのでしょうねえ...安定でUTF-8で読めるなら、すっとばしてもいいけど、どっちにしろcontent-lengthとすりあわせる必要があるのはかわらないというか","ts":"1604019999.325200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EShV/"}]},{"client_msg_id":"b47032fb-b2d7-4e74-be10-88755af3941e","type":"message","user":"U782D5DF1","text":"一応 `.roswell/init.lisp` にこれ書いてるんでそれで問題回避できてたりしてなorz","ts":"1604019975.324700","edited":{"user":"U782D5DF1","ts":"1604020009.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d193"}]},{"client_msg_id":"33b0595f-f48c-4de4-970c-33445f7d30b4","type":"message","user":"U782D5DF1","text":"を `.sbclrc`に書いてるな・・・","ts":"1604019896.322700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JyEI"}]},{"client_msg_id":"f6a71814-d17a-4237-ba43-1948a29ae264","type":"message","user":"U782D5DF1","text":"```(setf sb-impl::*default-external-format* :utf-8)\n(setf sb-alien::*default-c-string-external-format* :utf-8)```","ts":"1604019846.321700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zopB"}]},{"client_msg_id":"0b8654cd-2064-41f4-b655-5d236f247a09","type":"message","user":"U782D5DF1","text":"sbclだと","ts":"1604019719.320000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GRM/V"}]},{"client_msg_id":"341d5984-dbfd-40de-a480-296e2e1038ff","type":"message","user":"U03C6TEAZ","text":"もともと `content-length` もバイト長なので。","ts":"1604019703.319700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IQdWn"}]},{"client_msg_id":"a62e6fb0-18fd-4620-9a9f-14bec999511c","type":"message","user":"U03C6TEAZ","text":"`read-byte` もあるのでなんとかなるかなーとは思いますが。","ts":"1604019686.319400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DTWEq"}]},{"client_msg_id":"670c867f-c3ae-476f-8b4d-de31db5b6d58","type":"message","user":"UAZ33BKV2","text":":totemoturai:","ts":"1604019655.319100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wer"}]},{"client_msg_id":"d0a66057-7e80-459e-9edf-3d33058be4c2","type":"message","user":"U782D5DF1","text":"あー","ts":"1604019641.318600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+1D"}]},{"client_msg_id":"9a1002ad-577f-4a63-b342-9e03376600ed","type":"message","user":"U03C6TEAZ","text":"なので2バイト。","ts":"1604019637.318200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"n0yL8"}]},{"client_msg_id":"2070f28c-8d26-415c-881a-ac8b2394d926","type":"message","user":"U03C6TEAZ","text":"sbcl が。","ts":"1604019625.318000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GDwi9"}]},{"client_msg_id":"ad92dfa7-298b-4931-8440-2f2fb5a8833b","type":"message","user":"U03C6TEAZ","text":"多分ですが `read-char` が cp932 返す仕様なんでしょう。","ts":"1604019618.317800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e+V5H"}]},{"client_msg_id":"38a984d6-552d-444c-a479-5064dfe845a0","type":"message","user":"UAZ33BKV2","text":"(a b c)と(a b) (c) ...","ts":"1604019607.317600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yNo73"}]},{"client_msg_id":"0c5731b2-7de4-4ff0-b995-6b1df29ce862","type":"message","user":"UAZ33BKV2","text":"UTF-8で、たまにちがうバイトセット返すって、また謎だな...","ts":"1604019590.316900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Dern"}]},{"client_msg_id":"b199ec57-1f4d-482e-a897-de96c3f4c93f","type":"message","user":"U782D5DF1","text":"大変そう・・・","ts":"1604019545.316400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"chRIp"}]},{"client_msg_id":"eff056fe-d31d-4d06-8d75-a85413806a27","type":"message","user":"U03C6TEAZ","text":"cl-lsp の件、原因までは掴めた模様。 \u003chttps://github.com/cxxxr/cl-lsp/issues/11\u003e","ts":"1604019173.315600","attachments":[{"fallback":"GitHub: windowsでリクエストメッセージにマルチバイト文字列が入っているとパースエラーになる場合がある · Issue #11 · cxxxr/cl-lsp","id":1,"title":"windowsでリクエストメッセージにマルチバイト文字列が入っているとパースエラーになる場合がある · Issue #11 · cxxxr/cl-lsp","title_link":"https://github.com/cxxxr/cl-lsp/issues/11","text":"環境 windows 10 vim 8.2 vim-lsp/vim-lsp-settings roswell 20.06.14.107(NO-GIT-REVISION) sbcl 2.0.0 例として以下のファイルを用意する (defun f () あ) これをvimで開きvim-lspがcl-lsp stdion を起動したとき以下のリクエストが行われる(vim-lspのログ出力から抜粋)...","thumb_url":"https://avatars2.githubusercontent.com/u/13656378?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/cxxxr/cl-lsp/issues/11","original_url":"https://github.com/cxxxr/cl-lsp/issues/11"}],"team":"T03C4RC8V","reactions":[{"name":"+1::skin-tone-5","count":1,"users":["UAZ33BKV2"]},{"name":"otz","count":2,"users":["UAZ33BKV2","U782D5DF1"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7dtPO"}]}]
