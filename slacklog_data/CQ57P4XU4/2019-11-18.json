[{"type":"message","user":"ULYNZQPT7","text":"<@ULYNZQPT7> has joined the channel","ts":"1574044976.013400","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"3815f371-8fed-473b-b659-04bd849c2e44","type":"message","user":"ULYNZQPT7","text":"thomasfaingnaert/vim-lsp-snippets\nthomasfaingnaert/vim-lsp-ultisnips\n\n<#CGZTGR6E6|javascript> の過去ログを見直していて、この二ついれたら、vim-lspがすごい快適になったのですが、\nsinippetは何も設定していないのに！なにこれ！w","ts":"1574045055.014500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22561286-06D9-40D6-81BA-D77DBE24E864","type":"message","user":"U78A6ESHM","text":"ほほー。","ts":"1574045624.014800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ebf2ddc6-75d2-49df-b362-88e90d8af349","type":"message","user":"UGP5AJKU4","text":"お、気になってて忘れてました。\nthomasfaingnaert/vim-lsp-neosnippet を入れてみます。","ts":"1574045839.015400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"441EFB34-0A4C-4928-B058-A59DE60DE106","type":"message","user":"U78A6ESHM","text":"お。neosnippet もあるんですね。後で見てみよう","ts":"1574045909.016200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7f27ebc1-3c95-4133-b30b-523c9c53d00a","type":"message","user":"U72TB62UF","text":"coc.nvimの弱点はneosnippetとの連携なので、気になりますねえ","ts":"1574045969.016600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd3f6a18-e6f8-4658-bc97-25925408436f","type":"message","user":"UAVDYVA82","text":"UltiSnips 気に入ってます。snippet にインラインでpython書けたりするのでsnake_caseをcamelCaseにできたり便利ですよね。","ts":"1574046049.017600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"01f6d428-e2af-4f79-b027-384c76377fb9","type":"message","user":"U8R597E9H","text":"どういう仕組だろと思ってちゃんと読んでみたら、lsp のスニペット形式を neosnippet の形式に変換してキックしてるのか。","ts":"1574047048.018400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UAZ33BKV2","text":"<@UAZ33BKV2> has joined the channel","ts":"1574047203.018600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UFQV5CCJC","text":"<@UFQV5CCJC> has joined the channel","ts":"1574047206.018800","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UPWFF5YQ7","text":"<@UPWFF5YQ7> has joined the channel","ts":"1574047278.019000","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"7b50c91e-641e-4ffd-812b-58bf47732095","type":"message","user":"UBNPMJJGM","text":"他人が書いたスニペットは結局覚えきれなくて持て余すので自作しか使わなくなってしまった……","ts":"1574047288.019100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8e617aa3-83b9-48e4-b82c-42504f4c4147","type":"message","user":"UBNPMJJGM","text":"ちゃんと覚えて使いこなしてる人尊敬します","ts":"1574047290.019200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8CC7MDCL","text":"<@U8CC7MDCL> has joined the channel","ts":"1574047386.020000","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"87842502-5052-4469-b2ae-edc0804cb2ac","type":"message","user":"UGP5AJKU4","text":"thomasfaingnaert/vim-lsp-neosnippet 普通に動きました。\n手元にsnip無いのに不思議な感じ…\nスニペット一覧を表示できれば良さそうですが(すでにそういうのはありそう)","ts":"1574047418.020500","thread_ts":"1574047418.020500","reply_count":1,"replies":[{"user":"UGP5AJKU4","ts":"1574047871.024200"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8FE4872E-0698-4C82-A88F-9B8296F011F5","type":"message","user":"U78A6ESHM","text":"スニペット覚えられないので、補完候補に出ないと全く使えないマン。console.log とかは毎回打つから覚えてますけどw","ts":"1574047608.022000","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":3,"users":["UBNPMJJGM","UGP5AJKU4","U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e8bb6fba-133e-4028-b8ff-6a8bbd6367d6","type":"message","user":"U8R597E9H","text":"自分も func と fn(バッファのファイル名から拡張子を消したもの)と log しか手元にはないです。","ts":"1574047721.023500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a7160e60-ebb0-4377-8d14-8182201568ca","type":"message","user":"U03C6TEAZ","text":"sonictemplate なんて完全に僕仕様なので使ってもらってるの申し訳ない気持ちがあります。","ts":"1574047855.024100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c63993ce-1689-417a-acad-67b47629c2e7","type":"message","user":"UGP5AJKU4","text":"と思ったら、普通に手元のsnipが効いていた疑惑が…\nどのキーワードでlsp側のスニペット出るか当てにいかねば…","ts":"1574047871.024200","thread_ts":"1574047418.020500","parent_user_id":"UGP5AJKU4","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fa5bd6f7-b51a-4fda-af63-47932364497e","type":"message","user":"UBNPMJJGM","text":"有名どころからスニペット群の雛型つくって、キーワードとエイリアスを変えて（普通に入力してたら補完候補に出てくるように）、あとは「あ、これスニペットにしとこ」で追加していくスタイルです","ts":"1574047922.024500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UEB17JJJE","text":"<@UEB17JJJE> has joined the channel","ts":"1574048011.024700","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UECFXK5HU","text":"<@UECFXK5HU> has joined the channel","ts":"1574048087.024900","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"960a0209-08c0-4996-b36b-cbed3851692e","type":"message","user":"U8R597E9H","text":"lsp のスペックでは、補完候補として `{ insertTextFormat, inserText, textEdit }` が返ることになっているが、textEdit の中身まで insertTextFormat（snippet なら 2 が入る）に影響うけるとは仕様書を読んでもまったくわからなかった。いろんなサーバテストしてはじめて理解できた概念。","ts":"1574048348.026700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UBDMG6N2J","text":"<@UBDMG6N2J> has joined the channel","ts":"1574049126.027000","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UDP2NNSHW","text":"<@UDP2NNSHW> has joined the channel","ts":"1574049861.027200","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UFJ6H3W4S","text":"<@UFJ6H3W4S> has joined the channel","ts":"1574049973.027400","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U7TMPGWJ0","text":"<@U7TMPGWJ0> has joined the channel","ts":"1574050499.027600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"0c317158-2c84-4723-9eec-1dcd68b0699a","type":"message","user":"U7TMPGWJ0","text":"スニペットは覚えられないけど自動補完に入れると邪魔になっちゃうみたいなそんなジレンマがあるので `&lt;C-X&gt;&lt;C-B&gt;` で手動補完するようなの書いてます。ultisnipets用。\n\n```\ninoremap &lt;c-x&gt;&lt;c-b&gt; &lt;c-r&gt;=&lt;sid&gt;ulticomplete()&lt;cr&gt;\n\nfunction! s:ulticomplete() abort\n  if empty(UltiSnips#SnippetsInCurrentScope(1))\n    return ''\n  endif\n  let word_to_complete = matchstr(strpart(getline('.'), 0, col('.') - 1), '\\S\\+$')\n  let contain_word = 'stridx(v:val, word_to_complete) &gt;= 0'\n  let candidates = map(filter(keys(g:current_ulti_dict_info), contain_word),\n        \\  \"{\n        \\      'word': v:val,\n        \\      'menu': '[snip] '. g:current_ulti_dict_info[v:val]['description'],\n        \\      'dup' : 1,\n        \\   }\")\n  let from_where = col('.') - len(word_to_complete)\n  if !empty(candidates)\n    call complete(from_where, candidates)\n  endif\n  return ''\nendfunction\n```","ts":"1574050514.027800","edited":{"user":"U7TMPGWJ0","ts":"1574050531.000000"},"team":"T03C4RC8V","reactions":[{"name":"subara","count":2,"users":["UGP5AJKU4","UAVDYVA82"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UPVHGLU5P","text":"<@UPVHGLU5P> has joined the channel","ts":"1574050568.028100","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"03987081-5505-4776-97e0-8e208c1f66e7","type":"message","user":"U7TMPGWJ0","text":"あとは `fzf.vim` の `:Snippets` コマンドでファジーにやるとか。","ts":"1574050769.028400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c28c019-f108-4336-bc85-b6d1e5193840","type":"message","user":"U7TMPGWJ0","text":"`thomasfaingnaert/vim-lsp-snippets` とかっていわゆる他のスニペットエンジンの自動補完するためにというよりはLanguage Server の補完のソースとして利用するためのもの？みたいなそんな認識でいるのですが違うのかな","ts":"1574051001.028800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UD73ZNZAP","text":"<@UD73ZNZAP> has joined the channel","ts":"1574051062.029000","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"7903c90f-4f16-42f9-848e-0a0fdebae6e0","type":"message","user":"U8R597E9H","text":"言語サーバは例えば `&lt;div&gt;#` で補完リクエストを送ると `$0&lt;/div&gt;` を補完レスポンスをとして返してくるのですが、\nこの $0 などを適切にハンドリングするために、スニペットエンジンを利用したい感じですね。\nなので、neosnippet や ultisnips が対応できない形式は、 `thomasfaingnaert/vim-lsp-neosnippet` などが、そのスニペットエンジン向けに変換して処理を橋渡ししているようです。","ts":"1574052216.030600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb238307-4d35-4b10-b9f4-00b878dc1408","type":"message","user":"UD73ZNZAP","text":"あんまりないとは思うんですけど `thomasfaingnaert/vim-lsp-neosnippet` はそのままだと改行を含むスニペットを展開できないみたいなんですよね。\nたまたま vuejs に入門したときに vls の設定してたら空のファイルで scaffold が展開できなかったので気づきました。","ts":"1574055221.034700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1eff5284-1a6a-44d0-bbf6-3d0c4ab1e8a7","type":"message","user":"UD73ZNZAP","text":"```\ndiff --git a/autoload/lsp_neosnippet.vim b/autoload/lsp_neosnippet.vim\nindex 8a8ea14..fd6a494 100644\n--- a/autoload/lsp_neosnippet.vim\n+++ b/autoload/lsp_neosnippet.vim\n@@ -12,6 +12,6 @@ function! lsp_neosnippet#get_snippet(text) abort\n endfunction\n \n function! lsp_neosnippet#expand_snippet(trigger, snippet) abort\n-    call feedkeys(repeat(\"\\&lt;BS&gt;\", len(a:trigger)))\n-    call feedkeys(\"\\&lt;C-r&gt;=neosnippet#anonymous(\\\"\" . a:snippet . \"\\\")\\&lt;CR&gt;\")\n+    let [cur_text, col, expr] = neosnippet#mappings#_pre_trigger()\n+    call neosnippet#view#_insert(a:snippet, {}, cur_text[:-(len(a:trigger) + 1)], col)\n endfunction\n```\nこんな感じに変更してみたところ、うまく行きました。","ts":"1574055310.036000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fe03cce4-116e-45a1-becb-7c5c165e8ddc","type":"message","user":"UD73ZNZAP","text":"その後 vls の設定をいろいろしていったら Emmet も展開できるようになってLSP便利と思いました。","ts":"1574055594.037600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5bd389a3-dacd-4783-85d4-a13eeb71f767","type":"message","user":"U7TMPGWJ0","text":"Vue.js の `vls` は `initializationOptions` にゴニョゴニョと色々(空のプロパティとかも)書かないと `vim-lsp` からだと正常に立ち上げられないのでちょっと難易度高い(普通諦めそう)","ts":"1574056201.037900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"606b11d3-76db-4a01-a82c-7662a3155950","type":"message","user":"UD73ZNZAP","text":"まさしくそうでした！\nLSPすごいと同時に、Serverごとの設定わからん…ってなりました。","ts":"1574056402.039200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e4a8643f-0b79-40b4-88ee-f4610e08f222","type":"message","user":"U7TMPGWJ0","text":"最終的に sublime text の LSP の vue のやつを参考にしました。\n\n<https://github.com/sublimelsp/LSP-vue/blob/master/LSP-vue.sublime-settings>","ts":"1574056476.039400","attachments":[{"fallback":"GitHub: sublimelsp/LSP-vue","id":1,"title":"sublimelsp/LSP-vue","title_link":"https://github.com/sublimelsp/LSP-vue/blob/master/LSP-vue.sublime-settings","text":"Vue support for Sublime's LSP plugin. Contribute to sublimelsp/LSP-vue development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/48095564?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/sublimelsp/LSP-vue/blob/master/LSP-vue.sublime-settings","original_url":"https://github.com/sublimelsp/LSP-vue/blob/master/LSP-vue.sublime-settings"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"61605f6d-b613-4f6d-837f-e28b028e3d3d","type":"message","user":"U7TMPGWJ0","text":"sublime text の LSP のドキュメントあって、不安になったときにチラっと参考にします。VSCode依存的？な Language server も多いし、別エディタで使えるのかなんて不安に思ったときに参考にしてます。\n\n<https://lsp.readthedocs.io/en/latest/>","ts":"1574056633.039900","attachments":[{"fallback":"Home - Sublime Text Language Server Protocol Documentation","id":1,"title":"Home - Sublime Text Language Server Protocol Documentation","title_link":"https://lsp.readthedocs.io/en/latest/","text":"None","blocks":null,"service_name":"lsp.readthedocs.io","service_icon":"https://lsp.readthedocs.io/favicon.ico","from_url":"https://lsp.readthedocs.io/en/latest/","original_url":"https://lsp.readthedocs.io/en/latest/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb02568f-c2a2-4c8e-8a58-2b1d5189d8e4","type":"message","user":"UD73ZNZAP","text":"おお、参考になります。こちらは vetur のコードみて、適当なキーワードを拾ってきたりしてました。","ts":"1574056689.040700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fcd470c0-4d77-42a6-aea2-932d800e4cc5","type":"message","user":"U7TMPGWJ0","text":"vim-lsp でだと config の html と vetur.validation と vetur.completion がないと起動しないし、 config の emmet がないと style の中で css の補完が効かない(えっ？なんでemmet？)みたいな。そして、そもそもエラーメッセージがなんだこれみたいな、そんな感じで苦い思い出ありですw","ts":"1574056748.040900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f99c35e8-0b1d-4d93-9469-cd66af9e0a0c","type":"message","user":"UD73ZNZAP","text":"そうでねー、こちらも VSCode でできてるのに vim-lsp でなぜできのんじゃー！となってました。","ts":"1574057951.041900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d2fb36e6-3f09-472e-8f01-135c57277f1e","type":"message","user":"U03C6TEAZ","text":"ちゃんと読んでないですが emmet は僕のじゃなく、lsp の何か、であってますか？","ts":"1574058140.042500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68c1538a-492f-450d-accc-5b090f36420d","type":"message","user":"UD73ZNZAP","text":"そうです。vue の Language Server の vls のSnippet 補完でできるやつです。","ts":"1574058530.044500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UD69ADC3X","text":"<@UD69ADC3X> has joined the channel","ts":"1574061180.044700","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UFP0GQZ4K","text":"<@UFP0GQZ4K> has joined the channel","ts":"1574071479.044900","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UNJ2DANJC","text":"<@UNJ2DANJC> has joined the channel","ts":"1574074804.045100","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"ULV7CMKTK","text":"<@ULV7CMKTK> has joined the channel","ts":"1574085006.045300","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null}]
