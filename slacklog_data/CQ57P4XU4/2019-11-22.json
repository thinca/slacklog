[{"client_msg_id":"7c9b3310-91f0-48e0-8bf1-66a7b27e27ef","type":"message","user":"U7TMPGWJ0","text":"LSPムツカシイ...","ts":"1574423329.104600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fvv1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0325f14b-653f-4568-95fc-7bd26825e141","type":"message","user":"U7TMPGWJ0","text":"というか、PHP の Language Server 自体よくわからない。 0文字の状態だと vim-lsp でも coc.nvim でも補完できない。 intelephense の場合は [CompletionProvider] Could not find node at position って返ってきてて、なんか1文字でも入力してからオムニ補完とかそれ相当のしないと補完の結果返さない。 php-language-server も同じように結果返さない。 `$` がっていう以前にこれは...","ts":"1574423500.105700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o7kX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"838d98ef-e5a1-4164-8444-431be433444e","type":"message","user":"U7TMPGWJ0","text":"なんか1文字入れてからオムニ補完って変なTIPSを知ってるか、もしくは自動補完のプラグイン入れてないとツライ","ts":"1574423664.106600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YiRqh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ebae4fa9-4f74-4e2e-b436-f039c5d7fd5f","type":"message","user":"U78A6ESHM","text":"何も入力せずに C-o で全ての候補が返ってくるのはめっちゃするので、無いときついっすね…。","ts":"1574423878.107600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+4T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"39df5fce-ba2c-4d01-ae5d-c52980ddfe29","type":"message","user":"U7TMPGWJ0","text":"うーん。。なんか気持ち悪かったので蓋を空けてみたところそんなんでした。自動補完を使わずオムニ補完するスタイリッシュな人にはPHPのLanguage Server 、むむむっ？ってなってキツイですね。","ts":"1574424378.109200","edited":{"user":"U7TMPGWJ0","ts":"1574634655.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2012d7bc-a0bb-4a91-b8d3-5a54d8179a5a","type":"message","user":"U7TMPGWJ0","text":"pyls, typescript-language-server, gopls, rls, vls, dart と手元ですぐに確認できそうなのは確認したんですが、やはり PHP (intelephenseやphp-language-server) はなんか1文字渡さないとダメでした。キモチワルイ。","ts":"1574424395.109500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Miz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ef666ea6-da0b-47a4-94e0-d68d7e6ee935","type":"message","user":"U78A6ESHM","text":"コントリビュートチャンス！","ts":"1574424548.109700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UiJc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7971C58C-87D1-4669-A3F7-0DB182431063","type":"message","user":"U7TMPGWJ0","text":"いやいやw悲しい事にナニモワカラナイです。phpの場合は逆に制限してるんですかね。謎。","ts":"1574424637.111500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"A2659222-34CB-4095-87F6-14574E2B11EA","type":"message","user":"U7TMPGWJ0","text":"VSCodeのは0文字でも候補出るんですけどね...","ts":"1574424743.112600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"A43BC063-DE5B-45E0-83E9-A1C48B71E36C","type":"message","user":"U78A6ESHM","text":"てことはサーバーじゃなくてクライアントの問題ですか？","ts":"1574424959.113200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d3315fe7-59ef-490b-9058-7f409dc1920d","type":"message","user":"U7TMPGWJ0","text":"VSCode自体が同じLanguage Server かどうかちょっとわからないです。","ts":"1574425014.113700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Nm+I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0C0CD3D7-B9CD-409B-AADB-846CEC26D20B","type":"message","user":"U78A6ESHM","text":"なるほど。","ts":"1574425049.113900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6f075e3-dd9a-435d-836e-41eb4b4949c0","type":"message","user":"U7TMPGWJ0","text":"Vim標準の `phpcomplete#CompletePHP` でオムニ補完は勿論、0文字でも普通に候補出るので、根底のVimが悪いわけではないですし。むーん。","ts":"1574425136.114700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"doK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"632c6b44-f020-4426-917a-98b8495b4dba","type":"message","user":"UEB17JJJE","text":"<@U7TMPGWJ0> ちょっとvs codeのソース追ってみた感じ0文字めで補完されるのはlanguage serverではなくてvs code組み込みのphp用の補完っぽいですね。\nこの辺りに定義しているものをロードしているだけだと思います。\n<https://github.com/microsoft/vscode/blob/master/extensions/php-language-features/src/features/phpGlobals.ts>\n<https://github.com/microsoft/vscode/blob/master/extensions/php-language-features/src/features/phpGlobalFunctions.ts>","ts":"1574428739.116000","attachments":[{"fallback":"GitHub: microsoft/vscode","id":1,"title":"microsoft/vscode","title_link":"https://github.com/microsoft/vscode/blob/master/extensions/php-language-features/src/features/phpGlobals.ts","text":"Visual Studio Code. Contribute to microsoft/vscode development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/6154722?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/microsoft/vscode/blob/master/extensions/php-language-features/src/features/phpGlobals.ts","original_url":"https://github.com/microsoft/vscode/blob/master/extensions/php-language-features/src/features/phpGlobals.ts"},{"fallback":"GitHub: microsoft/vscode","id":2,"title":"microsoft/vscode","title_link":"https://github.com/microsoft/vscode/blob/master/extensions/php-language-features/src/features/phpGlobalFunctions.ts","text":"Visual Studio Code. Contribute to microsoft/vscode development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/6154722?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/microsoft/vscode/blob/master/extensions/php-language-features/src/features/phpGlobalFunctions.ts","original_url":"https://github.com/microsoft/vscode/blob/master/extensions/php-language-features/src/features/phpGlobalFunctions.ts"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Qoyp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b7a95efe-2577-4893-a966-d5b3acbc30d3","type":"message","user":"U7TMPGWJ0","text":"<@UEB17JJJE> なるほど。試してみたところ PHP Intelephense や PHP IntelliSense の拡張をdisableしてもたしかに0文字目で表示されてました。","ts":"1574429993.117100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VjBT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"179756a0-65b5-4fe6-81dd-01acbfff3d03","type":"message","user":"U7TMPGWJ0","text":"スッキリしました...(いやスッキリはしてないか)。やはりそういうLanguage Server なのですね...。","ts":"1574430032.118000","edited":{"user":"U7TMPGWJ0","ts":"1574430195.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sQDDW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"094cddac-cc3f-44ff-972b-6f9b9abdf23c","type":"message","user":"UEB17JJJE","text":"設定的には PHP &gt; Suggest: Basic ですね","ts":"1574430050.118300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AtKu5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8311d947-296c-4e06-9688-72c13331af9a","type":"message","user":"UEB17JJJE","text":"Language Serverというよりはvs codeのbuilt-inの補完機能があってそれようのI/Fを満たすproviderを実装すれば作れる補完っぽいですね。\nvimのcompletefuncとかに近いように思えます。","ts":"1574430458.119900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A7Qge"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3F4023FE-1D27-470A-91A6-F630BFB01E9C","type":"message","user":"U7TMPGWJ0","text":"bultin のは勿論理解しました。LSのほうが0文字で返さないのが気になってたので。","ts":"1574430700.121800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"A1182687-7F2D-404C-BAAC-9549E79EAB4B","type":"message","user":"U7TMPGWJ0","text":"逆にVSCode前提なLSだからbultinあるし返さなくっていいかってことなんでしょうかね。。謎","ts":"1574430800.123900","edited":{"user":"U7TMPGWJ0","ts":"1574432422.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EBzV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ab2d1242-6940-4883-8d1f-1c40e4aa22ed","type":"message","user":"UEB17JJJE","text":"この辺から読めば意図的なのかどうかわかりそうですが今日はタイムアップ\n<https://github.com/felixfbecker/php-language-server/blob/master/src/CompletionProvider.php#L188>","ts":"1574432563.124500","attachments":[{"fallback":"GitHub: felixfbecker/php-language-server","id":1,"title":"felixfbecker/php-language-server","title_link":"https://github.com/felixfbecker/php-language-server/blob/master/src/CompletionProvider.php#L188","text":"PHP Implementation of the VS Code Language Server Protocol :vs::left_right_arrow::desktop_computer: - felixfbecker/php-language-server","thumb_url":"https://avatars3.githubusercontent.com/u/10532611?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/felixfbecker/php-language-server/blob/master/src/CompletionProvider.php#L188","original_url":"https://github.com/felixfbecker/php-language-server/blob/master/src/CompletionProvider.php#L188"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HAUuJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e49cfed-00ce-44ae-a132-c4f2d81878a3","type":"message","user":"U7TMPGWJ0","text":"うーん、 vim-lsp の text edit のなんですが。そもそも mattn さんみたいに $0 が出ないんですよねー。なんだろう。僕の設定やプラグインの関係かな。","ts":"1574381604.103600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2NU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7f9fc828-9cc2-408c-8e84-ff6d93d51e66","type":"message","user":"U7TMPGWJ0","text":"`(` で `() (` にならないのは `jiangmiao/auto-pairs` 入れてたからっぽい(leximaみたいなやつ)。","ts":"1574381905.103800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"w3R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"18d05ce4-10e4-48c2-a5d7-eac97b0f9637","type":"message","user":"U7TMPGWJ0","text":"`$0` がでないのは `thomasfaingnaert/vim-lsp-snippets` と `thomasfaingnaert/vim-lsp-ultisnips` と `SirVer/ultisnips` と `honza/vim-snippets` 入れてて、 snippets のそれがよしなになんとかしてくれてったっぽい。というか、 auto-pairs 入ってなくても `(` で `() (` のはvim-lsp-snippets関連が入ってるだけでよしなにしてくれたっぽい","ts":"1574381981.104300","edited":{"user":"U7TMPGWJ0","ts":"1574382171.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ASh+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
