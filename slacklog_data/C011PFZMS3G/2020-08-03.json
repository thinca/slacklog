[{"client_msg_id":"b02bf2b0-e533-4ae2-8564-23d57d240709","type":"message","user":"U03C71D7H","text":"mintty でも送られるキーシーケンスは同じに見える…tmux セッションも完全に同じもの…なんで iTerm からだとダメなんだろう","ts":"1596459413.141500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Uz0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"91177f46-827f-4310-9e04-f325cc106fe9","type":"message","user":"U03C71D7H","text":"ターミナルわからん…","ts":"1596459417.141700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kyAVR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b0ac6028-c02f-45f5-9b71-872d40697aa9","type":"message","user":"U8996GYBF","text":"iTermって送ってるキーコード細かく設定はできるけど、何が送られてるか見てやってるんですよねぇ","ts":"1596459697.142200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YEsW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8860e268-fbd3-4a18-ab27-8a80e85e08ad","type":"message","user":"U7986PPFH","text":"`:echo &amp;term` はどうなってますか","ts":"1596461029.144000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e0uy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"56f1cdac-b6be-4ece-bd7e-dc15b7591b03","type":"message","user":"U03C71D7H","text":"`screen-256color` です。Tmux 内なので…","ts":"1596461244.144400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/cxiP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"631d0070-2b37-4e04-904c-b79be2cea514","type":"message","user":"U03C71D7H","text":"iTerm と mintty で挙動が違うかと思ったけども、よくよく調べてみるとそんなことはないようでした。端末の外側でそれぞれ動いていたキー入力カスタマイズソフトの設定の差異が影響していて、mintty でも `&lt;S-Left&gt;` とかはデフォルトだとうまく入力できませんでした","ts":"1596461359.146300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EJTo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b81ebaca-b617-4cbd-91ed-f2d14a59e669","type":"message","user":"U7986PPFH","text":"シーケンスとキーの対応はterminfo(termcap)データベースに記述されていて、vimはこれを見て `&lt;xLeft&gt;` 等に値をセットしている(と思う)\n`$ infocmp screen` と `$ infocmp xterm` を比較すると screen に `kLFT` (左キー割当て) 等がないのが確認できる","ts":"1596461780.150300","edited":{"user":"U7986PPFH","ts":"1596461836.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aAdey"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb925ef8-df39-47a5-8063-b5ec75924488","type":"message","user":"U03C71D7H","text":"そういえば最近の端末はフルカラーに対応しているけど、$TERM は 256color なんですねぇ","ts":"1596462439.151000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5urZ0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"46eb1bb7-b716-41af-98a9-f8d0678c3892","type":"message","user":"U03C71D7H","text":"`TERM=xterm-256color` で起動すると確かに `:set &lt;xLeft&gt;?` が設定されるようになりましたね。↑のスニペットを vimrc に貼っておくのが良さそうですねー","ts":"1596462573.152000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"81p"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"60b3282e-261a-4c0f-97e0-f7df1fcac71c","type":"message","user":"U03C71D7H","text":"iTerm 使ってるんですけど、 `&lt;S-Left&gt;` とかって効きますかね?","ts":"1596432561.137400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zp6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f30b523b-9a4b-42df-9d5a-5fd2cabcfeca","type":"message","user":"U03C71D7H","text":"違うなこれ。tmux っぽいな。tmux 噛ませなければ動く","ts":"1596433006.137700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ElvpE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bec9dde3-4a63-48c4-ae0e-52d62b5eef69","type":"message","user":"U03C71D7H","text":"しかし、確か mintty だと問題なく動くんだよな","ts":"1596433032.138200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AGU="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a58397b1-527e-469f-ba41-58503fb57a5e","type":"message","user":"U03C71D7H","text":"tmux ある時とない時で、送られてきてるキーシーケンスはたぶん同じっぽいんだけどな… (挿入モードで `&lt;C-v&gt;` + `&lt;S-Left&gt;` とか打ってみてる)","ts":"1596433555.139200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OtFk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"00de01e6-12d3-42d8-aebf-07d7b7bbaddc","type":"message","user":"U03C71D7H","text":"<https://superuser.com/questions/401926/how-to-get-shiftarrows-and-ctrlarrows-working-in-vim-in-tmux>\n\n```if &amp;term =~ '^screen'\n    \" tmux will send xterm-style keys when its xterm-keys option is on\n    execute \"set &lt;xUp&gt;=\\e[1;*A\"\n    execute \"set &lt;xDown&gt;=\\e[1;*B\"\n    execute \"set &lt;xRight&gt;=\\e[1;*C\"\n    execute \"set &lt;xLeft&gt;=\\e[1;*D\"\nendif```\nこれを書いたら一応期待通りっぽい挙動にはなった","ts":"1596433851.139900","attachments":[{"fallback":"Super User: How to get shift+arrows and ctrl+arrows working in Vim in tmux?","id":1,"title":"How to get shift+arrows and ctrl+arrows working in Vim in tmux?","title_link":"https://superuser.com/questions/401926/how-to-get-shiftarrows-and-ctrlarrows-working-in-vim-in-tmux","text":"This is all in iTerm2 on OS X. I used to have export TERM='xterm-256color' in my .bashrc. This meant Vim in tmux did use 256 colors. And once I added set -g xterm-keys on then keyboard shortc...","thumb_url":"https://cdn.sstatic.net/Sites/superuser/Img/apple-touch-icon@2.png?v=e869e4459439","blocks":null,"service_name":"Super User","service_icon":"https://cdn.sstatic.net/Sites/superuser/Img/apple-touch-icon.png?v=0ad5b7a83e49","thumb_width":316,"thumb_height":316,"from_url":"https://superuser.com/questions/401926/how-to-get-shiftarrows-and-ctrlarrows-working-in-vim-in-tmux","original_url":"https://superuser.com/questions/401926/how-to-get-shiftarrows-and-ctrlarrows-working-in-vim-in-tmux"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ut/lj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d21e4fa6-8247-4517-8078-186e602c0210","type":"message","user":"U03C71D7H","text":"tmux が原因だとすると mintty 経由だと大丈夫っぽいのがよくわからないな…今夜改めて mintty で動作を確認してみよう","ts":"1596434027.140600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wy/Ls"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
