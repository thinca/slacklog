[{"client_msg_id":"840d5312-2ab7-4591-9614-1973d8956aea","type":"message","user":"U7CGPB4NR","text":"Issueにしました <https://github.com/pocke/iro/issues/36>","ts":"1529895083.000002","attachments":[{"fallback":"GitHub: Highlight `%w[` in `%w[foo]` · Issue #36 · pocke/iro","id":1,"title":"Highlight `%w[` in `%w[foo]` · Issue #36 · pocke/iro","title_link":"https://github.com/pocke/iro/issues/36","thumb_url":"https://avatars3.githubusercontent.com/u/4361134?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://cfr.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/pocke/iro/issues/36","original_url":"https://github.com/pocke/iro/issues/36"}],"team":"T03C4RC8V","reactions":[{"name":"benri","count":1,"users":["U03C71D7H"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b03edce5-2440-4f14-91da-7538d8721bdc","type":"message","user":"U7CGPB4NR","text":"3分で直せそうだから直そう","ts":"1529895143.000103","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e88eb66-a756-42f2-86cc-ce6eef68b9d0","type":"message","user":"U03C71D7H","text":":be: :nri:","ts":"1529895165.000050","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"985d3e8c-34a9-449f-9bed-22a75f184bc2","type":"message","user":"U7CGPB4NR","text":"うーん、なんかRuby 2.5からイベント名が変わってる感がある…","ts":"1529895559.000039","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0c9d83fb-003d-4298-8359-637a09b9805b","type":"message","user":"U03C71D7H","text":"不便…","ts":"1529895580.000072","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1cc1c68c-d637-42c4-800d-cbcb16d1c648","type":"message","user":"U7CGPB4NR","text":"そういえばIro.vimを使っているとsyntax情報がコードに乗らないからインデントが不便になって不便なの思い出した","ts":"1529896784.000167","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4cddc841-d44d-4c3a-be39-0f9ea28f7490","type":"message","user":"UA45QC3NE","text":"あれ、イベント名どう変化してます？","ts":"1529904059.000058","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6eb8bce9-b8b0-4dfd-b0d3-8e4f3e81adbe","type":"message","user":"U7CGPB4NR","text":"```\n$ ruby -v -rpp -rripper -e pp Ripper.lex(\"%w[a]\")\nruby 2.5.1p57 (2018-03-29 revision 63029) [x86_64-darwin17]\n[[[1, 0], :on_qwords_beg, \"%w[\", EXPR_BEG],\n [[1, 3], :on_tstring_content, \"a\", EXPR_BEG],\n [[1, 4], :on_tstring_end, \"]\", EXPR_END|EXPR_ENDARG]]\n\n$ ruby -v -rpp -rripper -e pp Ripper.lex(\"%w[a]\")\nruby 2.4.4p296 (2018-03-28 revision 63013) [x86_64-darwin17]\n[[[1, 0], :on_qwords_beg, \"%w[\"],\n [[1, 3], :on_tstring_content, \"a\"],\n [[1, 4], :on_words_sep, \"]\"]]\n```","ts":"1529904182.000126","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6b63ed7e-b0ca-4e01-a98f-3d13961e9d36","type":"message","user":"U7CGPB4NR","text":"閉じる方のdelimiterが words_sep から tstring_end に変わっていました","ts":"1529904210.000111","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"795606f5-68e2-4e05-8a55-97e8dba4d7e3","type":"message","user":"U03C71D7H","text":"バージョンによって実装変えないといけないのか…","ts":"1529904256.000008","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e7866d0b-3589-4448-8467-a3c569452d0c","type":"message","user":"UA45QC3NE","text":"それれやばい気がする。","ts":"1529904277.000158","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"be359d3e-e74b-4049-a502-5e87966576ed","type":"message","user":"UA45QC3NE","text":"それれ","ts":"1529904279.000216","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b1120ffd-1c88-4b30-bcc2-087c4fa6fcd9","type":"message","user":"UA45QC3NE","text":"それ","ts":"1529904280.000189","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c107bd64-a07a-4c54-9d12-864b3231156b","type":"message","user":"U03C71D7H","text":"まあだからこの辺りを外部に公開する予定がないわけなんだろうけど","ts":"1529904281.000159","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4ba22559-899c-4904-a9e8-8b45c7fabda1","type":"message","user":"U03C71D7H","text":"あくまで内部 API 無理矢理見れるだけなので使うなら自己責任みたいなスタンス","ts":"1529904302.000109","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7feb3087-23a9-4313-872d-4bd6a53c1464","type":"message","user":"UA45QC3NE","text":"一応公開していることにはなっており、普通に色々使われてるのでメンテはしてますね。","ts":"1529904313.000095","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9005ae6c-a8cf-4393-a771-9bf931fe88fc","type":"message","user":"UA45QC3NE","text":"RDoc もサードパーティー的存在ということになってるし、Ripper 使ってるサードパーティーなものとしては他に YARD、Haml など。","ts":"1529904340.000037","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1cf386b9-0d60-4bb6-8f21-f78d424ae6ef","type":"message","user":"UA45QC3NE","text":"バージョンはアルファかなんかになってるけど、それは作者の青木さんが途中でいじらなくなっただけで、他の人が実質いじっている。","ts":"1529904366.000092","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fdd255e6-6b67-4702-8b35-35dd388fffb8","type":"message","user":"UA45QC3NE","text":"なので、使う側の自己責任とかいうスタンスが……無いわけではない気がするけど、まあ「壊れてるなら直します」という感じで対応はしている。","ts":"1529904433.000162","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0761bed6-b140-40d8-aa66-870315e4b64c","type":"message","user":"U03C71D7H","text":"公開してないやつは VM に対するバイナリのやつか。ちょっと混同してました","ts":"1529904479.000224","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"afc1a9b9-9571-46de-bc22-1b0e274a2018","type":"message","user":"UA45QC3NE","text":"Ripper は、極端な例で言うと String とかに比べれば直してないし「まあ頑張って対応してね、仕様ちょっと変わったから」とかいう感じもあるけど、壊れたら直すし仕様変更のやばいのは慎重にやる。","ts":"1529904508.000091","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c09a5070-5e4d-4cf3-824b-1f50ae7db9d6","type":"message","user":"UA45QC3NE","text":"主に nobu さんが勢いで変えてたりする。","ts":"1529904518.000064","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"351fb32b-f36f-499a-95f2-014281c9c24f","type":"message","user":"U7CGPB4NR","text":"パーセントリテラルのデリミタの対応とか見てるコードがあったら壊れそう","ts":"1529904546.000221","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16f9e79b-dfd8-4baa-b6d4-3e2186304c0d","type":"message","user":"UA45QC3NE","text":"バイナリってのは RubyVM::InstructionSequence とかですかね。最近入ったパーサ周り系のやつは RubyVM::AST というやつ。2.6 から。","ts":"1529904604.000024","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a728beb3-3eda-467c-a9c8-55cd85edde50","type":"message","user":"UA45QC3NE","text":"RubyVM より下のやつは互換性保証しないし使ってどうなっても知らんよというスタンスであることをささださんがかなりはっきり明言してますね。","ts":"1529904769.000084","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6d693f9f-a84d-492b-b1f3-694cab762d93","type":"message","user":"UA45QC3NE","text":"Ruby core に標準で入ってるツールは普通に使ってたりするけど、同じリポジトリで開発してるんだから問題は無いよね……という。","ts":"1529904826.000110","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28f2a0d5-2ab7-4a3e-bb20-55b86cbabb3f","type":"message","user":"UA45QC3NE","text":"怖くなって RDoc で 2.5 と 2.4 の確認をしている……。","ts":"1529905066.000164","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3901dc9d-fa04-4f1c-b9c4-43366e75555f","type":"message","user":"UA45QC3NE","text":"あーー 2.5 でやばい壊れ方をしていた……。","ts":"1529912896.000366","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7460edb0-2583-44e2-8d22-23f9b736810b","type":"message","user":"UA45QC3NE","text":"なんか他にも色々変わりまくってるっぽくて原因不明な差があるけど考えるのは後にします。","ts":"1529921471.000321","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"70d88edb-7dfd-445e-83c3-81e2f9861188","type":"message","user":"UA45QC3NE","text":"iro.vim だとそんなに困ること無さそうだけど、2.4 と 2.5 で色々と動作結果が違いそう。まあ RDoc は 2.4 と 2.5 でだいぶ極端な実装の差がある（2.4 までは lex_state を取得できないので lex_state エミュレーションレイヤーがある）ので、とにかく 2.5 以降を使うようにするのがいいですね。","ts":"1529921550.000331","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bec57b76-1e7e-4b44-b470-a57f53599cfa","type":"message","user":"UA45QC3NE","text":"Ruby のランゲ〜ジサ〜バ〜プロトコル〜みたいなやつを使うと 2.4 と 2.5 の差でハチャメチャが押し寄せてきそう。","ts":"1529921590.000256","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9d7a5300-0c0a-4ec1-a100-475b04499b0e","type":"message","user":"U7CGPB4NR","text":"2.4切りたくなりそう…","ts":"1529921620.000284","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e61b9d98-8713-4281-8792-0223b7697ad2","type":"message","user":"U7CGPB4NR","text":"lex_stateエミュレーション、相当大変そうですね… iroではlex_state使ってないので、そこまできびしくなさそう","ts":"1529921665.000512","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e22c3f3a-43d9-4e8a-849d-eb38de640096","type":"message","user":"U03C71D7H","text":"泣いてる場合じゃない","ts":"1529924536.000235","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"E2C8B274-0F8E-4C00-86D5-942CE3400989","type":"message","user":"U03C4RC8X","text":"サポート、2.6.0以降のみにしよう","ts":"1529926149.000173","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a0fbdc8f-d3b9-413c-a559-338a7db1e543","type":"message","user":"UA45QC3NE","text":"去年の RubyKaigi の時点で「2.4 早く切りたい」と発表で明言していた。","ts":"1529936820.000878","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
