[{"client_msg_id":"0d1bffaf-8fb2-45a8-8d5a-63a1c4d103d6","type":"message","user":"U03C71D7H","text":"Performance/RedundantMatch: Use `=~` in places where the `MatchData` returned by `#match` will not be used.\nこれを言われた通りに直したら\nPerformance/RegexpMatch: Use `match?` instead of `=~` when `MatchData` is not used.\nこう怒られた…イケてない…","ts":"1549424874.053000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6033e7e1-8943-4956-bed5-0aa7d4bdf68e","type":"message","user":"U03C71D7H","text":"直せそうかソース見てみるか","ts":"1549424905.053500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1fb11121-d22b-42c4-871f-d307045aa53d","type":"message","user":"U03C71D7H","text":"そもそも最新版でも同じかも確認しないとか","ts":"1549424936.053900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d09f4ffe-fedb-4b02-ab84-fb3746afebc2","type":"message","user":"U03C71D7H","text":"うーん、いきなり PR じゃなくてこう直してほしいって言うのが先っぽそう (だるい)","ts":"1549425211.054500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"82b73d07-8372-4c6b-9d41-dbd74044d472","type":"message","user":"U03C4RC8X","text":"rubocop","ts":"1549427676.054700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"be0c7821-d7d3-460c-9e5c-2984f76243cd","type":"message","user":"U03C71D7H","text":"色々アレなので一旦 rubocop-jp で相談するか","ts":"1549434792.055100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"87d72cc9-0244-4b99-aafb-0856d2c84843","type":"message","user":"U03C71D7H","text":"問題報告しようと最小構成作ってたら `RegexpMatch` の方のエラーが出ない。なんでだ","ts":"1549444296.055600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f0d659af-08fc-4780-80ab-9803980192ff","type":"message","user":"UCFEJF487","text":"私もこの問題興味あります。\n<@U03C71D7H> 最小構成をGistなどで共有していただいてもよろしいですか？","ts":"1549444386.056600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0b6d0714-d1a3-47a8-b17d-8f9709319d24","type":"message","user":"U03C71D7H","text":"最小構成を作ろうとしたら再現ができなくて困ってるところです…","ts":"1549444422.057000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"752fa065-4a6c-43c3-a40b-dbb7bff34d3c","type":"message","user":"U03C71D7H","text":"$ rubocop -V\n0.63.1 (using Parser 2.5.3.0, running on ruby 2.5.3 x86_64-darwin18)\n\n今この環境ですが、\n\n```\nputs 'foo' if 'foo' =~ /foo/\n```\n\nこのコードで `Performance/RegexpMatch` が出てくれないんですよね","ts":"1549444717.058000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0daf1847-cfb5-473c-97cb-c9e94e151a9d","type":"message","user":"U03C71D7H","text":"`0.63.1 (using Parser 2.6.0.0, running on ruby 2.6.0 x86_64-linux)` の環境で試しても変わらず…","ts":"1549444899.058300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c42c865e-67ea-4347-8c77-ea1f6c537df6","type":"message","user":"UCFEJF487","text":"あー、if修飾子のときは出ないみたいですね。if文だと出ました。","ts":"1549444953.058900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a8aae48a-baa4-4574-b589-fdf5f759012d","type":"message","user":"U03C71D7H","text":"あれー、if 文でも出ないんですよね…","ts":"1549445013.059200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d3ee5afe-81fb-4b0d-8f07-5fda46263c61","type":"message","user":"U03C71D7H","text":"ともあれ、その状態であれば、その if 文の中身が `'foo'.match(/foo/)` だと `Performance/RedundantMatch` さんが `=~` 使えやって言ってきて、いざ `=~` にすると今度は `Performance/RegexpMatch` さんが `match?` 使えやって言ってくると言う二段構えになるはず","ts":"1549445105.061100","edited":{"user":"U03C71D7H","ts":"1549445125.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1ddad4d5-b7a2-40c2-9a8d-fe46db849f56","type":"message","user":"U03C71D7H","text":"問題の本質は同じなので `Performance/RedundantMatch` さんはもう不要で `Performance/RegexpMatch` さんが両方指摘してくれれば良い予感がしてます","ts":"1549445188.062400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f15a6cd1-66ec-490e-9d0e-aa0a919247ac","type":"message","user":"UCFEJF487","text":"```\n# frozen_string_literal: true\n\nif 'foo'.match(/foo/)\n  puts 'foo'\n  puts 'foo'\nend\n```\n\nこの状態で保存したとき、\n\n```\n# frozen_string_literal: true\n\nif 'foo'.match?(/foo/)\n  puts 'foo'\n  puts 'foo'\nend\n```\n\nに修正されますね、二段構えにはならなかったです。\n`0.63.1 (using Parser 2.6.0.0, running on ruby 2.6.0 x86_64-darwin15)`\nです。","ts":"1549445195.062600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e9fcb37-2cea-4954-a969-2a505043014a","type":"message","user":"U03C71D7H","text":"なんと。自動修正しない場合はどの Cop が反応してますか?","ts":"1549445245.063100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d768d6cf-57d8-4a71-8631-9ea17cc2a301","type":"message","user":"UCFEJF487","text":"`Performance/RegexpMatch`だけが反応しているようでした。\nちなみに、設定で`Performance/RegexpMatch`をDisabledにした場合はきちんと`Performance/RedundantMatch`が反応していますね。","ts":"1549445293.064200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16360882-d59d-4ac3-890b-95666493706b","type":"message","user":"U03C71D7H","text":"むむ。そもそもなんで私のところだと反応しないのだろう…","ts":"1549445324.064600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"985a5c62-cc0a-4bb7-a11e-3cda2bd03098","type":"message","user":"U03C71D7H","text":"設定ファイルは何も置いてないですよね…","ts":"1549445407.064800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"81a21cb4-ee1d-42ae-8cfd-b657bc8c6e49","type":"message","user":"UCFEJF487","text":"設定ファイルを削除しても同じ結果でした。","ts":"1549445493.065100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"40f01c86-927b-41f3-83de-63cc9a34f73d","type":"message","user":"UCFEJF487","text":"```\nOffenses:\n\nsample.rb:3:4: C: [Corrected] Performance/RedundantMatch: Use =~ in places where the MatchData returned by #match will not be used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\nsample.rb:3:4: C: [Corrected] Performance/RegexpMatch: Use match? instead of =~ when MatchData is not used.\nif 'foo' =~ /foo/\n   ^^^^^^^^^^^^^^\nsample.rb:3:4: C: [Corrected] Performance/RegexpMatch: Use match? instead of match when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\n\n1 file inspected, 3 offenses detected, 3 offenses corrected\n```\n\n`bundle exec rubocop -a`の結果なのですが、なぜか3回修正が走っているところが興味深いです。","ts":"1549445530.065900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a3deacb4-ccfc-47ee-bcc9-8bd9620ac93e","type":"message","user":"U03C71D7H","text":"なかなか謎のメッセージですね…","ts":"1549445631.066600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1d906621-8201-4418-a83c-99d6600a5944","type":"message","user":"U03C71D7H","text":"関係ないと思うけど Ruby 2.6 をインストールしてみています","ts":"1549445647.066900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ff1ea398-78c4-41f1-99a3-f83afdeb8169","type":"message","user":"U03C71D7H","text":"rubocop は私はグローバルで `gem i rubocop` したやつ使ってるんですが、…関係ないですよね","ts":"1549445690.067500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7ba599e1-fe82-4da1-b9a0-31afee82f775","type":"message","user":"U03C71D7H","text":"(`bundle exec` はしてないと言う意味)","ts":"1549445708.067800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c872614-29e7-4c84-88f3-dc31b8891a25","type":"message","user":"UCFEJF487","text":"念の為`bundle exec`を外してみましたが、変わらず…","ts":"1549445758.068300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"347bb77e-283a-4d23-a00c-67511b6a2ca2","type":"message","user":"U03C71D7H","text":"```\nif 'foo' =~ /foo/\n  puts 'foo'\n  puts 'foo'\nend\n```\n\nこのコードに対して `rubocop foo.rb` しても何もエラーが出ず","ts":"1549445785.068700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3aaf28c4-f87b-4de6-b4c9-14e723fbf01c","type":"message","user":"U03C71D7H","text":"たぶん私の環境がおかしい気がするのだけど Mac でも Linux でも起きないので何がおかしいのか全然わからない","ts":"1549445868.069300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"44517e32-82d0-4062-b7fd-5731e93eec40","type":"message","user":"UCFEJF487","text":"ホームディレクトリに `.rubocop.yml` がある、とかですかねえ…","ts":"1549445910.069800","edited":{"user":"UCFEJF487","ts":"1549445930.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"841ccd2b-abae-4792-a205-2786f43cd943","type":"message","user":"U03C71D7H","text":"ないんですよねぇ","ts":"1549445978.070200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"906b2ddb-57ab-4b5b-9d59-3bf646e7100b","type":"message","user":"U03C71D7H","text":"`rubocop -d` で実行したところ、 `~/.anyenv/envs/rbenv/versions/2.6.0/lib/ruby/gems/2.6.0/gems/rubocop-0.63.1/config/default.yml` の設定ファイルが使われているということはわかったんですが、これ同じでしょうか?","ts":"1549446047.071100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"僕の環境(Windows)での実行結果です。","ts":"1549446080.071500","files":[{"id":"FG0SLLLCW","created":1549446078,"timestamp":1549446078,"name":"image.png","title":"画像がペーストされた日時: 2019-02-06, 6:41 午後","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":6757,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FG0SLLLCW/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FG0SLLLCW/download/image.png","original_h":189,"original_w":554,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FG0SLLLCW-9baef3f9e0/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FG0SLLLCW-9baef3f9e0/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FG0SLLLCW-9baef3f9e0/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FG0SLLLCW-9baef3f9e0/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":123,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FG0SLLLCW-9baef3f9e0/image_480.png","thumb_480_w":480,"thumb_480_h":164,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FG0SLLLCW/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FG0SLLLCW-7a3c0ca161","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"32e732d2-6097-4b6f-863a-9c63cfddfa79","type":"message","user":"U03C6TEAZ","text":"ん？ \\r\\n で保存しろって言ってるの？w","ts":"1549446127.072000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"17a5366b-990d-46eb-9863-113cdb1ea1ff","type":"message","user":"U03C71D7H","text":"!?","ts":"1549446136.072200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7f3ff9d1-12c7-4b9e-afcc-d2c7db383219","type":"message","user":"U03C6TEAZ","text":"ウソやろwww ff=dos にしたらエラー消えたわw","ts":"1549446149.072500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b57ce017-36e4-463a-8ba0-4de669852cef","type":"message","user":"U03C71D7H","text":"Linux で再度試したら `Performance/RedundantMatch` の方が出ました","ts":"1549446183.072800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47db344f-db8a-41df-803c-1ab24d814b2e","type":"message","user":"U03C71D7H","text":"さっき試した時は修飾子だったかも…ただ Mac では変わらずでない…","ts":"1549446213.073700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"43f21b3e-e090-4d8e-997e-43aa8281299e","type":"message","user":"UCFEJF487","text":"うわあ、怪しい挙動を見つけました…\n親ディレクトリに\n\n```\nStyle/TrailingCommaInArguments:\n  EnforcedStyleForMultiline: consistent_comma\n```\n\nという内容の `.rubocop.yml` ファイルがあったので、一旦リネームして再実行したら結果が変わりました…","ts":"1549446257.074400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"38803eed-c323-4f2d-9352-e679176ada00","type":"message","user":"U03C71D7H","text":"おお…","ts":"1549446305.075200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97850948-c1d6-4f8f-9410-cad908d53a90","type":"message","user":"UCFEJF487","text":"Before:\n\n```\nFor /Users/okuramasafumi/sandbox/ruby/2.6/rubocop_match: configuration from /Users/okuramasafumi/sandbox/ruby/2.6/.rubocop.yml\nDefault configuration from /Users/okuramasafumi/.gem/ruby/2.6.0/gems/rubocop-0.63.1/config/default.yml\nInspecting 1 file\nScanning /Users/okuramasafumi/sandbox/ruby/2.6/rubocop_match/sample.rb\nC\n\nOffenses:\n\nsample.rb:3:4: C: Performance/RedundantMatch: Use =~ in places where the MatchData returned by #match will not be used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\nsample.rb:3:4: C: Performance/RegexpMatch: Use match? instead of =~ when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^\nsample.rb:3:4: C: Performance/RegexpMatch: Use match? instead of match when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\n\n1 file inspected, 3 offenses detected\n```\n\nAfter:\n\n```\nFor /Users/okuramasafumi/sandbox/ruby/2.6/rubocop_match: configuration from /Users/okuramasafumi/.gem/ruby/2.6.0/gems/rubocop-0.63.1/config/default.yml\nInspecting 1 file\nScanning /Users/okuramasafumi/sandbox/ruby/2.6/rubocop_match/sample.rb\nC\n\nOffenses:\n\nsample.rb:3:4: C: Performance/RedundantMatch: Use =~ in places where the MatchData returned by #match will not be used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\nsample.rb:3:4: C: Performance/RegexpMatch: Use match? instead of match when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\n\n1 file inspected, 2 offenses detected\n```","ts":"1549446309.075400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d55e7f1a-5481-4dac-95d5-4ea937030322","type":"message","user":"U03C4RC8X","text":"全く本題と関係ないけどこのケースの場合普通は if /foo/ =~ 'foo'\\nと書きそう","ts":"1549446406.076400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3f754346-0036-4113-a59a-75bbbbc331bb","type":"message","user":"U03C71D7H","text":"&gt; Linux で再度試したら `Performance/RedundantMatch` の方が出ました\n\nこれを `=~` に直したら、エラー出なくなった… `Performance/RegexpMatch` が出て欲しいやつ","ts":"1549446493.077300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1efabc2f-418b-486d-beee-1a9248d698af","type":"message","user":"U03C71D7H","text":"そもそも両方一緒に出るのが正しいのか","ts":"1549446504.077500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"639c4653-f0e6-46f4-a6b0-5eb253c5a5ce","type":"message","user":"U03C71D7H","text":"よし…先生を呼ぼう","ts":"1549446850.078100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9d5028f-d013-4402-ad11-aa779a06a06b","type":"message","user":"U03C71D7H","text":"<@U7CGPB4NR> Rubocop の挙動について色々検証してたのですがよくわからなくなってしまったので、まとまってなくて大変申し訳ないんですが時間あったら見ていただく…\n<https://vim-jp.slack.com/archives/CB2NMV0GN/p1549424874053000>\nこの辺りからのログを見てもらえると","ts":"1549446945.079200","attachments":[{"fallback":"[February 5th, 2019 7:47 PM] thinca: Performance/RedundantMatch: Use `=~` in places where the `MatchData` returned by `#match` will not be used.\nこれを言われた通りに直したら\nPerformance/RegexpMatch: Use `match?` instead of `=~` when `MatchData` is not used.\nこう怒られた…イケてない…","id":1,"author_id":"U03C71D7H","author_name":"thinca","author_subname":"thinca","author_link":"https://vim-jp.slack.com/team/U03C71D7H","author_icon":"https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg","text":"Performance/RedundantMatch: Use `=~` in places where the `MatchData` returned by `#match` will not be used.\nこれを言われた通りに直したら\nPerformance/RegexpMatch: Use `match?` instead of `=~` when `MatchData` is not used.\nこう怒られた…イケてない…","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #ruby-vim","ts":1549424874.053000,"from_url":"https://vim-jp.slack.com/archives/CB2NMV0GN/p1549424874053000","original_url":"https://vim-jp.slack.com/archives/CB2NMV0GN/p1549424874053000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e6d6a1d0-95ea-4287-8dd8-4a1bc09f7538","type":"message","user":"U03C4RC8X","text":"詳しそうな人だ","ts":"1549447022.079900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dee72d5e-fc9b-4708-a087-134aa3642358","type":"message","user":"U7CGPB4NR","text":"詳しそう","ts":"1549447044.080100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d585278-f957-473f-a936-eecd0b099ed2","type":"message","user":"U03C71D7H","text":"そして反応がめっちゃ早い","ts":"1549447052.080500","team":"T03C4RC8V","reactions":[{"name":"sokudo","count":1,"users":["U03C4RC8X"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d54362f-3488-44cc-a40a-1660647b743d","type":"message","user":"U7CGPB4NR","text":"RegexpMatchはTargetRubyVersionが2.4ぐらいから動くので、なにか差分があるとしたらそのへんですかね","ts":"1549447096.082000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b66eb9ce-ebbf-4ae7-ae72-2ebfc4f25e6c","type":"message","user":"U7CGPB4NR","text":".ruby-versionの有無とかも見てそう","ts":"1549447138.082900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"42271ac2-da24-4f2c-b105-f42071e6e34c","type":"message","user":"U03C71D7H","text":"なるほど。特に設定ファイルがない場合に TargetRubyVersion が何によって決まるのかですかね","ts":"1549447150.083100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d4ddac0a-1bb3-4087-b0ec-deb1aa71fdc2","type":"message","user":"U03C71D7H","text":".ruby-version は参照されるので私が試した環境ではファイルがないことを確認してました。大倉さんの方にはファイルが置いてあったとかかな","ts":"1549447201.084100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b354331e-df44-42d2-acce-b20db179e821","type":"message","user":"U7CGPB4NR","text":"`rubocop --show-applied-config` みたいなのがあると便利そう","ts":"1549447256.085200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f8798c54-554b-40dc-b691-b9fba889f9bd","type":"message","user":"U03C71D7H","text":"便利そう","ts":"1549447280.085400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ccd7187-afd5-47fe-9e45-29de23c1a054","type":"message","user":"U03C71D7H","text":"一応 `--debug` で読み込まれた設定ファイルはわかるっぽいですが、 `TargetRubyVersion` に何が適用されたのかはわからなそう","ts":"1549447319.086300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a1ec53ca-8e3d-4bbd-8005-8f98f5835519","type":"message","user":"UCFEJF487","text":"私の検証環境では、親ディレクトリに `.ruby-version`が `2.6.0`で置いてあります。","ts":"1549447358.087600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"31f93949-8913-491b-ad06-8ea79f9cf140","type":"message","user":"U03C71D7H","text":"私もファイル置いて試してみます","ts":"1549447386.088400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a7c09314-5ab2-4b84-80e4-c585dcb098ae","type":"message","user":"UCFEJF487","text":"<https://github.com/rubocop-hq/rubocop/issues/6739>\nさっき見つけた変な挙動をファイルしました。","ts":"1549447397.088900","attachments":[{"fallback":"GitHub: Performance/RegexpMatch cop behaves differently with unrelated config file · Issue #6739 · rubocop-hq/rubocop","id":1,"title":"Performance/RegexpMatch cop behaves differently with unrelated config file · Issue #6739 · rubocop-hq/rubocop","title_link":"https://github.com/rubocop-hq/rubocop/issues/6739","text":"When .rubocop.yml is just like Style/TrailingCommaInArguments: EnforcedStyleForMultiline: consistent_comma the result of Performance/RegexpMatch cop changed, which never should change. Expected beh...","thumb_url":"https://avatars2.githubusercontent.com/u/1012014?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/rubocop-hq/rubocop/issues/6739","original_url":"https://github.com/rubocop-hq/rubocop/issues/6739"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"51d3a1d7-ee13-491a-a0bd-044396fdae69","type":"message","user":"U7CGPB4NR","text":"modifier ifかどうかで挙動が変わるようになってたかな、matchdataを見られるかどうかがちょっと違うので結果が変わるかも","ts":"1549447414.089600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b4d1a648-e968-48be-8732-93d4a20098bd","type":"message","user":"U7CGPB4NR","text":"今スマホなのであとでちゃんと見ます！","ts":"1549447433.090200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"18289c31-d3da-4bcf-b2bf-f72838c1686e","type":"message","user":"U03C71D7H","text":"ありがとうございます！スマホでここまでやってたのすごい","ts":"1549447449.090500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"90faeac6-a1ff-418b-aa12-bae26c06cc23","type":"message","user":"U03C71D7H","text":"とりあえず `.ruby-version` を置いたら `Performance/RegexpMatch` が出るようになりました。てことはデフォルトは Ruby のインタプリタのバージョンを見たりはしてないってことか","ts":"1549447937.091700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e31889d9-cca8-4ffe-b35f-0ae3798f4b4f","type":"message","user":"U03C71D7H","text":"```\nfoo.rb:3:4: C: Performance/RedundantMatch: Use =~ in places where the MatchData returned by #match will not be used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\nfoo.rb:3:4: C: Performance/RegexpMatch: Use match? instead of match when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\n```\n2 つ出ますね。 `=~` にすると `RedundantMatch` は消えますが `RegexpMatch` は残ります。","ts":"1549448118.092800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5f349586-090f-47f9-8fd0-b9b4c9ef0601","type":"message","user":"U7CGPB4NR","text":"<https://vim-jp.slack.com/archives/CB2NMV0GN/p1549445530065900> 3回auto correctが走っているのは、auto correct(1巡目)でRedundantMatchとRegexpMatchの両方のauto correctが同時に走って、恐らくRegexpMatchのauto correctが負けて上書きされたので、2巡目でもう一度RegexpMatchのauto correctが走っているように見えますね","ts":"1549457687.094300","attachments":[{"fallback":"[February 6th, 2019 1:32 AM] masafumi.o1988: ```\nOffenses:\n\nsample.rb:3:4: C: [Corrected] Performance/RedundantMatch: Use =~ in places where the MatchData returned by #match will not be used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\nsample.rb:3:4: C: [Corrected] Performance/RegexpMatch: Use match? instead of =~ when MatchData is not used.\nif 'foo' =~ /foo/\n   ^^^^^^^^^^^^^^\nsample.rb:3:4: C: [Corrected] Performance/RegexpMatch: Use match? instead of match when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\n\n1 file inspected, 3 offenses detected, 3 offenses corrected\n```\n\n`bundle exec rubocop -a`の結果なのですが、なぜか3回修正が走っているところが興味深いです。","id":1,"author_id":"UCFEJF487","author_name":"大倉雅史","author_subname":"大倉雅史","author_link":"https://vim-jp.slack.com/team/UCFEJF487","author_icon":"https://secure.gravatar.com/avatar/110cd4dcaed019b3bd9809e541afdeb6.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F00b63%2Fimg%2Favatars%2Fava_0010-48.png","text":"```\nOffenses:\n\nsample.rb:3:4: C: [Corrected] Performance/RedundantMatch: Use =~ in places where the MatchData returned by #match will not be used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\nsample.rb:3:4: C: [Corrected] Performance/RegexpMatch: Use match? instead of =~ when MatchData is not used.\nif 'foo' =~ /foo/\n   ^^^^^^^^^^^^^^\nsample.rb:3:4: C: [Corrected] Performance/RegexpMatch: Use match? instead of match when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\n\n1 file inspected, 3 offenses detected, 3 offenses corrected\n```\n\n`bundle exec rubocop -a`の結果なのですが、なぜか3回修正が走っているところが興味深いです。","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #ruby-vim","ts":1549445530.065900,"from_url":"https://vim-jp.slack.com/archives/CB2NMV0GN/p1549445530065900","original_url":"https://vim-jp.slack.com/archives/CB2NMV0GN/p1549445530065900"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c3dc9fed-23a5-42a4-a814-b818a81c4240","type":"message","user":"U7CGPB4NR","text":"<https://vim-jp.slack.com/archives/CB2NMV0GN/p1549446309075400> この差分は全くわからんけど、beforeのほうが挙動がおかしく見える","ts":"1549458702.094900","attachments":[{"fallback":"[February 6th, 2019 1:45 AM] masafumi.o1988: Before:\n\n```\nFor /Users/okuramasafumi/sandbox/ruby/2.6/rubocop_match: configuration from /Users/okuramasafumi/sandbox/ruby/2.6/.rubocop.yml\nDefault configuration from /Users/okuramasafumi/.gem/ruby/2.6.0/gems/rubocop-0.63.1/config/default.yml\nInspecting 1 file\nScanning /Users/okuramasafumi/sandbox/ruby/2.6/rubocop_match/sample.rb\nC\n\nOffenses:\n\nsample.rb:3:4: C: Performance/RedundantMatch: Use =~ in places where the MatchData returned by #match will not be used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\nsample.rb:3:4: C: Performance/RegexpMatch: Use match? instead of =~ when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^\nsample.rb:3:4: C: Performance/RegexpMatch: Use match? instead of match when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\n\n1 file inspected, 3 offenses detected\n```\n\nAfter:\n\n```\nFor /Users/okuramasafumi/sandbox/ruby/2.6/rubocop_match: configuration from /Users/okuramasafumi/.gem/ruby/2.6.0/gems/rubocop-0.63.1/config/default.yml\nInspecting 1 file\nScanning /Users/okuramasafumi/sandbox/ruby/2.6/rubocop_match/sample.rb\nC\n\nOffenses:\n\nsample.rb:3:4: C: Performance/RedundantMatch: Use =~ in places where the MatchData returned by #match will not be used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\nsample.rb:3:4: C: Performance/RegexpMatch: Use match? instead of match when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\n\n1 file inspected, 2 offenses detected\n```","id":1,"author_id":"UCFEJF487","author_name":"大倉雅史","author_subname":"大倉雅史","author_link":"https://vim-jp.slack.com/team/UCFEJF487","author_icon":"https://secure.gravatar.com/avatar/110cd4dcaed019b3bd9809e541afdeb6.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F00b63%2Fimg%2Favatars%2Fava_0010-48.png","text":"Before:\n\n```\nFor /Users/okuramasafumi/sandbox/ruby/2.6/rubocop_match: configuration from /Users/okuramasafumi/sandbox/ruby/2.6/.rubocop.yml\nDefault configuration from /Users/okuramasafumi/.gem/ruby/2.6.0/gems/rubocop-0.63.1/config/default.yml\nInspecting 1 file\nScanning /Users/okuramasafumi/sandbox/ruby/2.6/rubocop_match/sample.rb\nC\n\nOffenses:\n\nsample.rb:3:4: C: Performance/RedundantMatch: Use =~ in places where the MatchData returned by #match will not be used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\nsample.rb:3:4: C: Performance/RegexpMatch: Use match? instead of =~ when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^\nsample.rb:3:4: C: Performance/RegexpMatch: Use match? instead of match when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\n\n1 file inspected, 3 offenses detected\n```\n\nAfter:\n\n```\nFor /Users/okuramasafumi/sandbox/ruby/2.6/rubocop_match: configuration from /Users/okuramasafumi/.gem/ruby/2.6.0/gems/rubocop-0.63.1/config/default.yml\nInspecting 1 file\nScanning /Users/okuramasafumi/sandbox/ruby/2.6/rubocop_match/sample.rb\nC\n\nOffenses:\n\nsample.rb:3:4: C: Performance/RedundantMatch: Use =~ in places where the MatchData returned by #match will not be used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\nsample.rb:3:4: C: Performance/RegexpMatch: Use match? instead of match when MatchData is not used.\nif 'foo'.match(/foo/)\n   ^^^^^^^^^^^^^^^^^^\n\n1 file inspected, 2 offenses detected\n```","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #ruby-vim","ts":1549446309.075400,"from_url":"https://vim-jp.slack.com/archives/CB2NMV0GN/p1549446309075400","original_url":"https://vim-jp.slack.com/archives/CB2NMV0GN/p1549446309075400"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
