[{"client_msg_id":"2d152581-51ec-4000-87c4-5384bb2b1027","type":"message","user":"U9S4G0LJW","text":"実際あまり知られてないものサポートするより`getcwd()`使えば済む話ですしね","ts":"1601119509.016400","team":"T03C4RC8V","reactions":[{"name":"desune","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CMQ4C"}]},{"client_msg_id":"ef796a66-4db8-49f0-8436-4c5804f4b926","type":"message","user":"UAZ33BKV2","text":"定義的にはできそうですが、`~-` との兼ね合い的には不要そう?","ts":"1601119418.015400","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yge"}]},{"client_msg_id":"8ee308b3-6303-4eee-a8ed-a4a2c565ffbb","type":"message","user":"U9S4G0LJW","text":"さすがにこれはサポートしてないか","ts":"1601119224.015000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B2Fwt"}]},{"type":"message","user":"UPZHKAM7W","text":"```\n~+\n```","ts":"1601119210.014600","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"a826a398-bc0d-4998-8afd-943946e58e48","type":"message","user":"U9S4G0LJW","text":":echo expand(\"~+\")","ts":"1601119208.014500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q2SrD"}]},{"type":"message","user":"UPZHKAM7W","text":"```\n/root/.vimrc\n```","ts":"1601118834.014200","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"5dfbbb09-21f0-447a-b876-1374cb0a4f43","type":"message","user":"U9S4G0LJW","text":":echo expand(\"~root/.vimrc\")","ts":"1601118832.014100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"io=O"}]},{"client_msg_id":"7A9BAC61-FBBD-460D-898B-75379E3EBFC9","type":"message","user":"UDDCM376D","text":"感謝","ts":"1601071279.013200","team":"T03C4RC8V","reactions":[{"name":"kan","count":1,"users":["UAZ33BKV2"]},{"name":"sha","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8o0"}]},{"client_msg_id":"6eb95c9e-7fd5-4206-902d-0d610bf8c64d","type":"message","user":"U03C71D7H","text":"こっちも動いてる","ts":"1601069021.013000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5UhBm"}]},{"type":"message","user":"UPZHKAM7W","text":"```\nVIM - Vi IMproved 8.2 (2019 Dec 12, compiled Sep 25 2020 20:42:22)\nIncluded patches: 1-1740\nCompiled by Docker \u003chttps://github.com/thinca/dockerfile-vim\u003e\nHuge version without GUI.  Features included (+) or not (-):\n+acl               -farsi             +mouse_sgr         +tag_binary\n+arabic            +file_in_path      -mouse_sysmouse    -tag_old_static\n+autocmd           +find_in_path      +mouse_urxvt       -tag_any_white\n+autochdir         +float             +mouse_xterm       -tcl\n-autoservername    +folding           +multi_byte        +termguicolors\n-balloon_eval      -footer            +multi_lang        +terminal\n+balloon_eval_term +fork()            -mzscheme          +terminfo\n-browse            +gettext           +netbeans_intg     +termresponse\n++builtin_terms    -hangul_input      +num64             +textobjects\n+byte_offset       +iconv             +packages          +textprop\n+channel           +insert_expand     +path_extra        +timers\n+cindent           +ipv6              -perl              +title\n-clientserver      +job               +persistent_undo   -toolbar\n-clipboard         +jumplist          +popupwin          +user_commands\n+cmdline_compl     +keymap            +postscript        +vartabs\n+cmdline_hist      +lambda            +printer           +vertsplit\n+cmdline_info      +langmap           +profile           +virtualedit\n+comments          +libcall           -python            +visual\n+conceal           +linebreak         -python3           +visualextra\n+cryptv            +lispindent        +quickfix          +viminfo\n+cscope            +listcmds          +reltime           +vreplace\n+cursorbind        +localmap          +rightleft         +wildignore\n+cursorshape       -lua               -ruby              +wildmenu\n+dialog_con        +menu              +scrollbind        +windows\n+diff              +mksession         +signs             +writebackup\n+digraphs          +modify_fname      +smartindent       -X11\n-dnd               +mouse             -sound             -xfontset\n-ebcdic            -mouseshape        +spell             -xim\n+emacs_tags        +mouse_dec         +startuptime       -xpm\n+eval              -mouse_gpm         +statusline        -xsmp\n+ex_extra          -mouse_jsbterm     -sun_workshop      -xterm_clipboard\n+extra_search      +mouse_netterm     +syntax            -xterm_save\n   system vimrc file: \"$VIM/vimrc\"\n     user vimrc file: \"$HOME/.vimrc\"\n 2nd user vimrc file: \"~/.vim/vimrc\"\n      user exrc file: \"$HOME/.exrc\"\n       defaults file: \"$VIMRUNTIME/defaults.vim\"\n  fall-back for $VIM: \"/usr/local/share/vim\"\nCompilation: gcc -c -I. -Iproto -DHAVE_CONFIG_H     -g -O2 -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1       \nLinking: gcc   -L/usr/local/lib -Wl,--as-needed -o vim        -lm -lncurses  -lacl -lintl           \n```","ts":"1601069013.012800","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"d15f692d-81a0-459b-83a0-e1c47fb2e509","type":"message","user":"U03C71D7H","text":":version","ts":"1601069012.012700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JpbB"}]},{"type":"message","user":"UPZHKAM7W","text":"```\nj               or                                      *j*\n\u0026lt;Down\u0026gt;          or                                      *\u0026lt;Down\u0026gt;*\nCTRL-J          or                                      *CTRL-J*\n\u0026lt;NL\u0026gt;            or                                      *\u0026lt;NL\u0026gt;* *CTRL-N*\nCTRL-N                  [count] lines downward |linewise|.\n```","ts":"1601068993.012500","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"773bd805-cbda-4b8e-96a3-d67fcb8ae110","type":"message","user":"U03C71D7H","text":":h j ついでに、 `:help` の引数は空白なしの1つしか受け取れないので、空白入れたら後ろにテキスト入れても大丈夫なようにしてみた","ts":"1601068992.012400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"X2BE"}]},{"client_msg_id":"920260e2-ea06-40b0-bec1-863365d3eab9","type":"message","user":"U03C71D7H","text":"bot を新しいマシンで動かすようにした","ts":"1601068938.011400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gkB"}]},{"type":"message","user":"UPZHKAM7W","text":"```\n\u0026lt;S-Right\u0026gt;       or                                      *\u0026lt;S-Right\u0026gt;* *w*\nw                       [count] words forward.  |exclusive| motion.\n```","ts":"1601068921.011100","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"30c71ea1-ef37-47c3-804e-29f2552bf850","type":"message","user":"U03C71D7H","text":":h w","ts":"1601068920.011000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HzI1"}]},{"client_msg_id":"382718e1-380c-4ce6-bbe8-5fee2c7ede9c","type":"message","user":"U9S4G0LJW","text":"SlackのUIはよさそうでよくない","ts":"1601051158.010800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xDaa"}]},{"client_msg_id":"94fdc4fc-458d-4c34-ab6c-d7e90157a897","type":"message","user":"U9S4G0LJW","text":":fuben:","ts":"1601051130.010500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4TFm"}]},{"client_msg_id":"055b6fb1-7672-45ce-8ca8-5bd6e89c8053","type":"message","user":"U03C6TEAZ","text":"古い発言にレスしてしまった。","ts":"1601051117.010200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y7XXS"}]},{"client_msg_id":"bcad5de2-66c9-48f6-9016-b663e3a07c4a","type":"message","user":"U03C6TEAZ","text":"はい。たんなる文字列です。","ts":"1601051099.009800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vSG"}]},{"client_msg_id":"606eb682-2150-4893-ba3b-1080eb394240","type":"message","user":"UDDCM376D","text":"ありがとうございます","ts":"1601049778.009600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R4VLp"}]},{"client_msg_id":"2bc66c87-a772-4937-b6ca-be7ed74e0de2","type":"message","user":"UDDCM376D","text":"geetftype() 知らない子だった","ts":"1601049763.009100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=zD"}]},{"client_msg_id":"2458321c-3cfe-4d91-9a94-e933b79183ff","type":"message","user":"U9S4G0LJW","text":"今の今まで知らなかった、Linuxだと多重に開いたりできるからfilereadable失敗しないと思っていた","ts":"1601049181.008800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AiRNu"}]},{"type":"message","user":"UPZHKAM7W","text":"```\ngetftype({fname})                                       *getftype()*\n                {fname}で指定されたファイルの種別を示す文字列を返す。\n                {fname}が存在しないときは空文字列を返す。\n                ファイルの種別とそれらの結果の表を以下に示す:\n                        通常ファイル            \"file\"\n                        ディレクトリ            \"dir\"\n                        シンボリックリンク      \"link\"\n                        ブロックデバイス        \"bdev\"\n                        キャラクタデバイス      \"cdev\"\n                        ソケット                \"socket\"\n                        FIFO                    \"fifo\"\n                        それ以外                \"other\"\n                例:  \n                        getftype(\"/home\")\n                Note \"link\" などの種別はそれをサポートしているシステムでのみ返\n                される。\"dir\" と \"file\" しか返らないシステムもある。\n                MS-Windowsでは、ディレクトリへのシンボリックリンクは \"link\" の\n                代わりに \"dir\" を返す。\n \n                |method| としても使用できる:  \n                        GetFilename()-\u0026gt;getftype()\n```","ts":"1601049057.007200","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"61da33b6-35c0-4389-816b-d0832ebc3880","type":"message","user":"U9S4G0LJW","text":":h getftype()","ts":"1601049057.007100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bc709"}]},{"client_msg_id":"26012e2d-a3a0-430b-8d77-e6d7f1244044","type":"message","user":"U9S4G0LJW","text":"ファイルの存在確認したいならこれかな","ts":"1601049054.006800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QFF"}]},{"client_msg_id":"e8822a4a-526e-4f18-97eb-565a69e9ae62","type":"message","user":"UDDCM376D","text":"ありがとうございます\n原因がやっとわかった…","ts":"1601048929.006400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mpf"}]},{"client_msg_id":"484bf666-6ff9-4d47-baa7-0f4aa8a10f7d","type":"message","user":"U9S4G0LJW","text":"ソース見たら`O_NONBLOCK`付いてました","ts":"1601048907.006100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YH4"}]},{"client_msg_id":"14978ca6-fe1d-4f82-9b13-496122db989c","type":"message","user":"U9S4G0LJW","text":"```両方のタイプのロックも強制ロックにすることもできる。 強制ロックは全てのプロセスに対して効果がある。 あるプロセスが互換性のない強制ロックが適用されたファイル領域に対して (read(2) や write(2) により) 互換性のないアクセスを実行しようとした場合、 アクセスの結果は そのファイルのオープンファイル記述で O_NONBLOCK フラグが有効になっているかにより決まる。 O_NONBLOCK フラグが有効になっていないときは、ロックが削除されるか、 ロックがアクセスと互換性のあるモードに変換されるまで、 システムコールは停止 (block) される。 O_NONBLOCK フラグが有効になっているときは、システムコールはエラー EAGAIN で失敗する。 ```","ts":"1601048870.005600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LVS"}]},{"client_msg_id":"bd12e20c-b829-415d-ad0c-2ff597ef1b3d","type":"message","user":"U9S4G0LJW","text":"\u003chttps://linuxjm.osdn.jp/html/LDP_man-pages/man2/fcntl.2.html\u003e","ts":"1601048855.005300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XCm"}]},{"client_msg_id":"43846d0d-fe8a-4ece-986d-cd9d1e8746cc","type":"message","user":"U9S4G0LJW","text":"らしいですね(少なくともLinuxの場合は)","ts":"1601048852.005100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=nqa"}]},{"client_msg_id":"e7df15fa-3e4e-488a-ae77-3b0f5c128f31","type":"message","user":"UDDCM376D","text":"filereadable って、ファイルが存在しているのに、 たまにfalse になるっぽいんですが\nロックが掛かるとfalseになるんですかね…","ts":"1601048286.004700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FneU"}]},{"client_msg_id":"9ae4496b-db58-43c0-99e4-4df76fc9027f","type":"message","user":"UDDCM376D","text":"ありがとうございます","ts":"1601047877.003700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mzQi="}]},{"client_msg_id":"60ef0cee-170e-4ca5-9c9b-cfa178d9372c","type":"message","user":"UDDCM376D","text":":rikai:","ts":"1601047875.003500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UcXL"}]},{"client_msg_id":"ce96b07f-b00d-4fb5-94f0-cab6088b1d5d","type":"message","user":"UDDCM376D","text":"なるほど","ts":"1601047870.003300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i7K"}]},{"client_msg_id":"70a18e65-c8fb-4a2d-8aaf-5bde829671be","type":"message","user":"UDDCM376D","text":"む","ts":"1601047869.003100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d72"}]},{"client_msg_id":"62edeee9-efc6-4b92-9407-ca672d90ab6e","type":"message","user":"U9S4G0LJW","text":"なんで、冒頭のEなんちゃらで識別するか、自分で確保したなら何かでラップするしかないです","ts":"1601047244.002900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8TW"}]},{"type":"message","user":"UPZHKAM7W","text":"```\n1\n```","ts":"1601047193.002300","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"521ebd32-0def-47c8-810c-69ee34df0352","type":"message","user":"U9S4G0LJW","text":":try\n  hoge\ncatch\n  echo type(v:exception) == v:t_string\nendtry","ts":"1601047193.002200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UBPvY"}]},{"client_msg_id":"f8442281-be92-4afc-8fd6-84bef0a73baf","type":"message","user":"U9S4G0LJW","text":"あれ、文字列なんですよね","ts":"1601047175.002000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7BD"}]},{"client_msg_id":"ef9b23ed-4b7a-4ecf-804c-7e6cf2df552e","type":"message","user":"U9S4G0LJW","text":"そもそもVimにはエラー型ないです","ts":"1601047169.001800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0+8"}]},{"client_msg_id":"3ecafcd8-db6c-4666-aaf8-f56b09a766d2","type":"message","user":"UDDCM376D","text":"Vim scriptで 変数が v:exception 型なのってどうやって確認すればよいでしょうか？","ts":"1601046989.001500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YCHEs"}]}]
