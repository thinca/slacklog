[{"client_msg_id":"fb44bb4d-7663-41af-aea9-d60de90a34ca","type":"message","user":"U06BRP8VD","text":"Vim scriptというかマクロとの相互運用を考えると、か。","ts":"1608779833.069900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zSa"}]},{"client_msg_id":"39f2e1cf-d01c-4188-ba83-a220209eec4e","type":"message","user":"U06BRP8VD","text":"Vim scriptは文字列内の改行の表現が若干特殊ですからねぇ…","ts":"1608779810.069500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"67XKx"}]},{"client_msg_id":"856147f6-39e3-4794-818f-93608b473d79","type":"message","user":"U6XP9LZ6V","text":"オプションは `let foo =\u0026lt;\u0026lt; string trim END` みたいな感じかな。","ts":"1608778354.068600","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D22"}]},{"client_msg_id":"8de3e228-c140-4def-bf1a-6525e144ec3e","type":"message","user":"U6XP9LZ6V","text":"heredocが文字列のリストになる言語って他にあるのかな？","ts":"1608778120.067000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HCe"}]},{"client_msg_id":"6cc23cdb-4222-4d5a-b081-b114ff602111","type":"message","user":"UDDCM376D","text":"\u0026gt; 「リストだけでなく文字列でも取りたい」\nぼくの脳内は↑でした","ts":"1608777606.065900","edited":{"user":"UDDCM376D","ts":"1608777614.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dV6u"}]},{"client_msg_id":"22c73321-ab82-4b24-9a2e-6c5035a0099e","type":"message","user":"U03C71D7H","text":"改行文字に何を使うのか、を決める方法が面倒そう (決めの問題ではあるけど)","ts":"1608772740.065500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mNe"}]},{"client_msg_id":"f0ee8646-0e63-497b-bd67-3815f4ea1d8c","type":"message","user":"UP6PA1UBE","text":"たしかに、heredoc で定義できるのは結局文字列なのでそのオプションはあってもいい気がしました","ts":"1608772584.064900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yi+O"}]},{"client_msg_id":"6689e7ae-b664-49bc-85c8-d886e4765d8e","type":"message","user":"U06BRP8VD","text":"実は「heredocをどこでも使えるようにしたいではなく」「リストだけでなく文字列でも取りたい」ということなのかなと拡大解釈した結果、文字列のオプションという案を出した。","ts":"1608772462.063900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e+dT"}]},{"client_msg_id":"363060de-522b-4070-afc1-b2eb0fb77f84","type":"message","user":"UAZ33BKV2","text":"あー、endの後にmethod callできるようにすることで機能性を担保するのは、それはそれでアリな感じしますねえ","ts":"1608772316.062300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sCSHX"}]},{"client_msg_id":"0dbb588d-4c88-421f-a0dc-933ded6803d7","type":"message","user":"UP6PA1UBE","text":"巨大な heredoc を引数に囲むのもつらいので\n```let foo =\u0026lt;\u0026lt; trim END\n  bar\n  baz\nEND-\u0026gt;join()```\nしたい","ts":"1608772274.061700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3=qwK"}]},{"client_msg_id":"2b1ccc06-e58f-441f-a1e5-15e762fbbe84","type":"message","user":"U03C71D7H","text":"いけるというのは実装が可能な土台がありそうと言う意味","ts":"1608772263.061400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iaJV"}]},{"client_msg_id":"fe80c1f6-83c5-4ad8-9941-6b8dd558281f","type":"message","user":"U03C71D7H","text":"Vim9 script ならいけるのでは…?","ts":"1608772248.060900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rMlIU"}]},{"client_msg_id":"42f7144c-3bde-44a2-a33e-ba475578c846","type":"message","user":"UAZ33BKV2","text":"そしてそれをやるのが難しいのがVim scriptって感じですねえ","ts":"1608772170.059700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"InJUo"}]},{"client_msg_id":"60aaaff2-b7cf-41bb-b344-f1126602a923","type":"message","user":"U03C6TEAZ","text":"```    let foo = split(`\n    foo,bar,baz\n    `, \",\")```\nこんな感じに書けないとつらい。","ts":"1608772032.058500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6tl"}]},{"client_msg_id":"8b611d98-b7fe-4698-b876-6ddf11cab604","type":"message","user":"U03C6TEAZ","text":"式で書けないので同じかな。","ts":"1608771978.057600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RPx"}]},{"client_msg_id":"7a325bce-a753-45b4-b21b-dddee0119b2e","type":"message","user":"U06BRP8VD","text":"戻り値を連結した文字列にするおぷしょんていあんしたら?","ts":"1608770805.056000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iuaFa"}]},{"client_msg_id":"28c65cdb-9df8-4f85-9e31-6ab2baf618e6","type":"message","user":"U03C6TEAZ","text":"たぶん trim のほかに string みたいなオプション付けて納得しても、その後に「いやぁ、split を同時に書きたい」というニーズが生まれるので `=\u0026lt;\u0026lt;` 自体をなとかしないと解決しない。","ts":"1608769438.055100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/po"}]},{"client_msg_id":"c2a516ec-3891-4729-9b32-23ed7be94ae1","type":"message","user":"UAZ33BKV2","text":"改行込みの巨大文字列がくると、Vim上で活用するにちょっと面倒になることのほうが多いからですかね...","ts":"1608769244.054200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JLhOn"}]},{"client_msg_id":"28da168c-bb22-4385-bfa2-a7276c5ec755","type":"message","user":"UDDCM376D","text":"戻り値がlistなのが地味にんーって気持ち","ts":"1608769124.053100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2+Mxf"}]},{"client_msg_id":"9aad0883-b661-44e8-8d70-73b38476de97","type":"message","user":"U03C6TEAZ","text":"perl とか bash だとできるんだけど。","ts":"1608768897.052400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+1r"}]},{"client_msg_id":"fc27dfdd-f3ca-4488-9016-83914bd87655","type":"message","user":"U03C6TEAZ","text":"heredoc 構文が `=` のサブセットなのでできないんですよね。","ts":"1608768881.052100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LBr"}]},{"client_msg_id":"99A6550A-8F38-4C3D-9EB0-5DDB8296BD5C","type":"message","user":"UDDCM376D","text":"オプションみたいすね","ts":"1608764775.051700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MLMnO"}]},{"client_msg_id":"54d16ca1-91b3-404b-896c-cf1554a076eb","type":"message","user":"U06BRP8VD","text":"ああtrim()じゃなくて heredocのオプション扱いなんね","ts":"1608751789.051400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NYYgi"}]},{"client_msg_id":"11921982-2af9-453c-9d51-df0ea74a1236","type":"message","user":"U06BRP8VD","text":"あれ? そのケースでtrimは効くんだ…","ts":"1608751764.051000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HS=37"}]},{"client_msg_id":"d3bab52b-fd67-4fb1-8c0d-362e40a3fd5b","type":"message","user":"U06BRP8VD","text":"heredoc自体がletの派生みたいな感じだから、できないかもねぇ","ts":"1608751615.050600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dl9"}]},{"client_msg_id":"66ca93b5-c4ee-4ac7-b0e5-ef04394f4179","type":"message","user":"UDDCM376D","text":"```let s:gist_query =\u0026lt;\u0026lt; trim END\n{\n  viewer {\n    gist(name: \"%s\") {\n      files {\n        name\n        text\n      }\n      url\n      pushedAt\n      createdAt\n      description\n    }\n  }\n}\nEND\nlet s:gist_query = join(s:gist_query)```\n２回も代入したくない…","ts":"1608743053.049800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u1w"}]},{"client_msg_id":"7a9831ae-d895-4516-96f4-c3255f48ab89","type":"message","user":"UDDCM376D","text":"heredocとjoinをまとめてやる方法ないんかなぁ…","ts":"1608742877.049400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5Ddc"}]}]
