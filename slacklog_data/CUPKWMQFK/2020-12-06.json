[{"client_msg_id":"186e11a5-1962-4a94-a1fb-cfb07b8e41f1","type":"message","user":"U03C71D7H","text":"たぶん `ruby` 内で新しくスコープが作られてしまっている予感がする","ts":"1607249225.447200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K7XF"}]},{"client_msg_id":"e45ec200-93fa-4ff2-92b1-889b8aac9c1a","type":"message","user":"U03C71D7H","text":"変数を `s:ruby_ver` にすると動いた","ts":"1607249184.446700","team":"T03C4RC8V","reactions":[{"name":"naruho","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KHFy7"}]},{"client_msg_id":"c2bfb428-255b-422b-ac22-86f214dbc0ff","type":"message","user":"U03C71D7H","text":"`rbeval()` があればこんなことには…","ts":"1607249081.446400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GhlHb"}]},{"client_msg_id":"61bd0fdc-a17f-4c86-a364-d3745b19f350","type":"message","user":"U9S4G0LJW","text":"今は違うのか、難しい","ts":"1607249071.446200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9ybT"}]},{"client_msg_id":"92a93c1b-7b38-4610-8726-1c0083cc061c","type":"message","user":"U03C71D7H","text":"そう思ったのだけど、 `let` ありだと、Vim9 script の中では let 使えんよ、ってエラーになった","ts":"1607249048.445900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aXDP"}]},{"client_msg_id":"e01f99b4-1f67-4d8c-b037-698827b8d431","type":"message","user":"U9S4G0LJW","text":"executeした時も似たことになった記憶がある（相当前だけど）","ts":"1607248944.445400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2TWGS"}]},{"client_msg_id":"c7968487-6e2d-457f-9bd2-cb78f9651e51","type":"message","user":"U9S4G0LJW","text":"rubyの中のコマンドだけ旧Vim scriptのコマンドになっててこけてそう","ts":"1607248933.445100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=c8tI"}]},{"client_msg_id":"9e408374-bc1a-4972-9da2-771f98ec312d","type":"message","user":"U03C71D7H","text":"if_ruby の Ruby のバージョンをチェックするコードがあって\n\n```  try\n    ruby Vim::command(\"let ruby_ver = 'v#{RUBY_VERSION}'\")\n  catch\n    let ruby_ver = 'no'\n  endtry\n  echo 'Ruby ... ' .. ruby_ver```\nこれを Vim9 script にしようとしたのだけど、\n\n```  var ruby_ver: string\n  try\n    ruby Vim::command(\"ruby_ver = 'v#{RUBY_VERSION}'\")\n  catch\n    ruby_ver = 'no'\n  endtry\n  echo 'Ruby ... ' .. ruby_ver```\nスコープのせいなのか、 `ruby_ver` は空のままになってしまった…","ts":"1607248824.444600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AmHBg"}]}]
