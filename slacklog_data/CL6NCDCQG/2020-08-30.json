[{"client_msg_id":"a84142b6-ca8d-4d88-b011-06b68824d8c4","type":"message","user":"U03C71D7H","text":"`/etc` は暗号化されていない?","ts":"1598798827.031900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MMUR"}]},{"client_msg_id":"ecee36a8-f532-461f-8425-9e95060cc802","type":"message","user":"UBRTB4N5C","text":"今の使ってるのはその表の中だと Debian/Ubuntu インストーラ (システム暗号化) で設定した dm-crypt +/- LUKS になりそう。\nインストーラではパスフレーズを設定して、あとから `openssl rand -out keyfile 4096` で生成した鍵ファイルを `cryptsetup luksAddKey` して `/etc/crypttab` で鍵ファイルを使うように設定して initramfs を再生成してる。","ts":"1598798068.031600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3GY"}]},{"client_msg_id":"c1ae909d-3053-460b-ae5e-09ced1de63de","type":"message","user":"U03C71D7H","text":"言うほどカスタムはしないとは思いますがw\nソフトでやろうと思います！","ts":"1598791593.029300","team":"T03C4RC8V","reactions":[{"name":"ayashii","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sZj"}]},{"client_msg_id":"776e0a5e-00ea-403e-b4a1-2821d5908b4b","type":"message","user":"U7B4ZD49X","text":"ですね。でもまあthincaさんなら普通にソフト側で暗号化のほうがいろいろカスタムできるから合ってる気はしてます。。。","ts":"1598791545.028500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BsPO"}]},{"client_msg_id":"29032a00-bd56-42aa-b446-8aa7c1ae6c4e","type":"message","user":"U03C71D7H","text":"OPAL というのは、買ったストレージが OPAL に対応していれば使えるって感じですかね。\n特に気にせず買ったし、対応していなさそうな気がする…","ts":"1598788200.025600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yOcyb"}]},{"client_msg_id":"fe1e66d5-7f5d-442d-8c46-2b550007a099","type":"message","user":"U03C71D7H","text":"なるほど。それは知らなかったので調べてみます！","ts":"1598783102.024700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SeS2"}]},{"client_msg_id":"97e95e94-e9e6-4430-9ebe-de4e3df5083a","type":"message","user":"U7B4ZD49X","text":"たいぽ","ts":"1598783087.024300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wcS"}]},{"client_msg_id":"15d7989e-8a5b-4d37-b127-36d0478a8f99","type":"message","user":"U03C71D7H","text":"SSD?","ts":"1598783078.024100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3VJj"}]},{"client_msg_id":"072dc5e2-60e8-4784-b6cc-6cb49ecee187","type":"message","user":"U7B4ZD49X","text":"OPALドライブ対応してるか調べればわかります","ts":"1598783074.024000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lN/"}]},{"client_msg_id":"0b4c6c0f-7234-430b-93a4-bcae4c05987f","type":"message","user":"U7B4ZD49X","text":"意外と忘れ去られがちなのはSSD側の暗号化機能。BIOSで有効にできて手軽でいい感じだと思います。（私は普通にLuks暗号してますが）","ts":"1598783015.023500","edited":{"user":"U7B4ZD49X","ts":"1598783094.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/+XIz"}]},{"client_msg_id":"925e9052-2772-4e52-97c9-bfbecb967117","type":"message","user":"U03C71D7H","text":"ディスク暗号化、選択肢がたくさんあって困惑している (まだ読んでる途中)\n\u003chttps://wiki.archlinux.jp/index.php/%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AF%E6%9A%97%E5%8F%B7%E5%8C%96\u003e","ts":"1598782895.022300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iZu"}]},{"client_msg_id":"795a024d-8a1f-465e-bc1b-6695e78fdfba","type":"message","user":"U7JL1UKKL","text":"なるほど","ts":"1598779676.021900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0dR"}]},{"client_msg_id":"2c96b3e8-a840-45c1-81cd-4b0855dec3b7","type":"message","user":"U03C71D7H","text":"私では Gentoo の良さは活かしきれなかった。ebuild も結局書かなかったしなー","ts":"1598765368.021400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WV=F"}]},{"client_msg_id":"87aa22eb-34ff-4559-953f-04fda0382f97","type":"message","user":"U9S4G0LJW","text":"人為的に飛ばす以外でシステムが物故割れること自体が滅多にないのが問題","ts":"1598765095.020300","team":"T03C4RC8V","reactions":[{"name":"tashikani","count":1,"users":["U013QL1RAPN"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L0k"}]},{"client_msg_id":"87e22784-b67c-4921-b7fb-238ab51af277","type":"message","user":"U7B4ZD49X","text":"いつになるかはわからない・・・システム全体がクラッシュしてくれればワンチャン","ts":"1598764937.019800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VXsrB"}]},{"client_msg_id":"01d28d0e-6dad-4322-91bb-6f195d4c1403","type":"message","user":"U7B4ZD49X","text":"次は全部btrfsにしたいな・・・","ts":"1598764913.019300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CF=Xa"}]},{"client_msg_id":"4625736A-0A92-469A-93D1-B55B83144F26","type":"message","user":"U03C4RC8X","text":"あれ、Gentoo やめてしまう、、、？","ts":"1598764905.019000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eF3Nm"}]},{"client_msg_id":"c0700ea2-5fd1-4275-b0cb-4bc3b3b0686e","type":"message","user":"U06BRP8VD","text":"ZFSは、ストレージとしての信頼性・高機能性とハードウェアメンテナンスの容易さをいかに両立させるか、という感じのプロダクトなのでNUCで動かす際のシングルストレージだといまいち旨味が生かしきれないかもしれません。","ts":"1598764837.018500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Pbrk"}]},{"client_msg_id":"11ea19a3-ac85-4cab-b4e7-b7e43dc0fb16","type":"message","user":"U06BRP8VD","text":"ぶっちゃけミラー構成にするとかパリティ構成(RAIDZ2以上)にするとかでもないと、ZFSのうまみは少ないかもしれない。","ts":"1598764460.016800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nW5n"}]},{"client_msg_id":"47bc5f75-4c64-4bbe-9964-4cdca76a8b36","type":"message","user":"U06BRP8VD","text":"僕がZFS使ってるのはFreeBSDだけだなぁ。","ts":"1598764410.016000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8jEb6"}]},{"client_msg_id":"0179cffb-0019-48f3-bf42-90f94d27aeea","type":"message","user":"U03C71D7H","text":"暗号化しておいた方が廃棄しやすいので、デスクトップもできればやりたいところ… Linux だと鍵を /boot に置いておけばいいと言うのはいいことを聞いた。あとでやり方を調べよう","ts":"1598762687.015600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oHNX3"}]},{"client_msg_id":"84c1e9e2-75e5-4199-a8de-3445638925b4","type":"message","user":"U03C71D7H","text":"私も今のところ Windows のノート PC で BitLocker かけてるくらい。デスクトップの Windows は TPM ついてなくてできなかった","ts":"1598762623.014600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yA9FW"}]},{"client_msg_id":"265efa82-a0db-4ce3-93cb-9dec08519202","type":"message","user":"U03C71D7H","text":"なるほど。みんなの方針が知れてよい","ts":"1598762586.013800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h8k"}]},{"client_msg_id":"16dce161-0323-4c4d-b460-fac3cc69ed13","type":"message","user":"U7B4ZD49X","text":"ノートはしますね。デスクトップはしてないです。","ts":"1598762274.013500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sFro"}]},{"client_msg_id":"6a52a56d-d937-4232-86fa-fe3d785b0d34","type":"message","user":"UBRTB4N5C","text":"VPS でもできるだけ暗号化するぐらい基本的には暗号化してるなあ。自動起動のために鍵は /boot にも置いてるから、完全消去しやすいっていうぐらいしか利点が残ってないかもしれないけど。","ts":"1598761807.012900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5D0Sr"}]},{"client_msg_id":"57447979-be82-4367-bf4c-435798f66f31","type":"message","user":"U9S4G0LJW","text":"しようと思いながら数年経った","ts":"1598761594.011200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Gsj"}]},{"client_msg_id":"ad6c9331-06c6-4b8d-8721-f6c0056d9aad","type":"message","user":"U9S4G0LJW","text":"そもそも暗号化自体してない…","ts":"1598761573.010700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"b2Wik"}]},{"client_msg_id":"548a5bfe-c2c1-4f4b-a210-883b6a68dd6d","type":"message","user":"U03C71D7H","text":"あー。そう言えば、皆さんってボリューム全体の暗号化とかってしてます? NUC は今確認したら TPM は載ってなかったな…","ts":"1598761435.010500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lJZ"}]},{"client_msg_id":"e1c8dee9-8761-48ff-9ad0-05c369530045","type":"message","user":"U03C71D7H","text":"\u003chttps://wiki.archlinux.jp/index.php/%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%82%AC%E3%82%A4%E3%83%89\u003e 休日が潰れていく","ts":"1598760992.009700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kfP0a"}]},{"client_msg_id":"a5d238a6-4909-4922-9cda-92aedbab094c","type":"message","user":"U03C71D7H","text":"ただそもそも全部バイナリならそういうパターンはないか。ディストリ側で調整してくれてるはずだろう","ts":"1598760929.009400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SLS"}]},{"client_msg_id":"f5c7c0e0-ab68-49bd-87b9-79b5cef883ee","type":"message","user":"U9S4G0LJW","text":"間違ったこっちだ \u003chttps://wiki.archlinux.jp/index.php/%E3%82%AB%E3%83%BC%E3%83%8D%E3%83%AB/%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB/Arch_Build_System\u003e","ts":"1598760906.008700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9YwF7"}]},{"client_msg_id":"d61a8c26-de06-4150-944d-58f8fb26222a","type":"message","user":"U03C71D7H","text":"パッケージによっては、このカーネルオプションを on/off にしてねって言われるんですよね。Gentoo は","ts":"1598760904.008600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1S8"}]},{"client_msg_id":"7ec047c7-addc-4067-b770-afd0f12aae01","type":"message","user":"U9S4G0LJW","text":"こういう手もある","ts":"1598760888.008100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Qzm"}]},{"client_msg_id":"abff58eb-0537-4f7a-b033-77c5932ad693","type":"message","user":"U9S4G0LJW","text":"中にはそういう人もいるだろうけど、別にそこまでいじりたいって思ったことないなあ \u003chttps://wiki.archlinux.jp/index.php/%E3%82%AB%E3%83%BC%E3%83%8D%E3%83%AB/%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB/%E4%BC%9D%E7%B5%B1%E7%9A%84%E3%81%AA%E6%96%B9%E6%B3%95\u003e","ts":"1598760878.007800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wmbM"}]},{"client_msg_id":"15ff6112-a520-48e6-ae9d-78388322ca62","type":"message","user":"U03C71D7H","text":"まあ私も別に詳しくなくて、Gentoo 使ってる時は何か言われるがままにこのオプションをオンにすればええんやな、みたいなことをしていた","ts":"1598760853.007300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fAG"}]},{"client_msg_id":"a8b4db4f-b0a9-4e9c-aab9-279c2c2a5d98","type":"message","user":"U03C71D7H","text":"カーネルオプションいじりたいってことは、基本的にはないのかな","ts":"1598760821.006600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BMfr"}]},{"client_msg_id":"ed298374-4b29-4896-b90d-a8b85caf7457","type":"message","user":"U9S4G0LJW","text":"AUR以外は基本バイナリです","ts":"1598760793.006200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"42y"}]},{"client_msg_id":"394f9fbc-ddd2-4fd7-8e6d-0be49556ad78","type":"message","user":"U9S4G0LJW","text":"です","ts":"1598760785.006000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pWg"}]},{"client_msg_id":"7da5cde4-5b2a-4e41-ae52-5000ea01ad7e","type":"message","user":"U03C71D7H","text":"Arch の導入手順今のうちに軽く調べといた方がいいなぁ","ts":"1598760780.005800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"74OX"}]},{"client_msg_id":"ffebbe8d-7827-4aaa-bc55-7b530e459b30","type":"message","user":"U03C71D7H","text":"そういえば、Arch ではカーネルもビルド済みのが降ってくる?","ts":"1598760765.005400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2zBpB"}]},{"client_msg_id":"6ac56a53-8ef8-4a3f-8fc1-e49f98ddc8ea","type":"message","user":"U03C71D7H","text":"新しいマシンには Arch 入れる予定","ts":"1598760432.004700","team":"T03C4RC8V","reactions":[{"name":"arch","count":2,"users":["U9S4G0LJW","U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vg0"}]},{"client_msg_id":"4f39b8ff-b1dc-419f-93cd-1407faecd569","type":"message","user":"U03C71D7H","text":"\u0026gt; Note: The btrfs storage driver is only supported on Docker Engine - Community on Ubuntu or Debian.\n\u0026gt; 商用サポート版 Docker Engine（CS-Engine） は、現時点では btrfs ストレージ・ドライバをサポートしていません。\nへー。","ts":"1598760272.004300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FSpJ"}]},{"client_msg_id":"e6151793-fd70-4641-8b77-1e7b580d3985","type":"message","user":"U03C71D7H","text":"X 入れない予定だし","ts":"1598760009.003700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fx3V"}]},{"client_msg_id":"19fa30e9-68a5-4650-8ac8-35a0741b3196","type":"message","user":"U9S4G0LJW","text":"まあ置き場固定だろうしそこに対して設定したらいいだけの話ではある","ts":"1598760007.003600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CpaNX"}]},{"client_msg_id":"b77df528-aa5f-4257-a7a4-77ea0563be72","type":"message","user":"U03C71D7H","text":"Docker は使うけど VM を使う予定は今のところないなぁ","ts":"1598760002.003300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l7crZ"}]},{"client_msg_id":"0caa0b30-803c-4953-9330-4c2aeae8cd21","type":"message","user":"U9S4G0LJW","text":"全部btrfsにしなかったのはVMとか動かすのにbtrfsだと都合が悪かったというのもありますね(基本がコピーオンライトなので巨大で一部が書き換わるファイルを扱うのに設定がいる)","ts":"1598759961.002800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Nh3w"}]},{"client_msg_id":"6033b46a-2fcd-456c-b7f2-58b3a2669ecc","type":"message","user":"U03C71D7H","text":"`/boot` は ext4 にしつつ残りは btrfs とかにしてみようかな","ts":"1598759951.002600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"APmal"}]},{"client_msg_id":"327a3cbf-1065-4ea7-b2c0-7a40bd818b21","type":"message","user":"U03C71D7H","text":"arch wiki を見た感じだと btrfs がバランス良さそうかなぁ","ts":"1598759926.002100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"G8p"}]},{"client_msg_id":"cc801d60-0719-4588-bc1f-873d137d2b08","type":"message","user":"U9S4G0LJW","text":"それは本当、後削除が割と遅い","ts":"1598759869.001200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TF0/J"}]},{"client_msg_id":"5f8358d8-0f95-4093-85b1-631fee708a45","type":"message","user":"U03C71D7H","text":"XFS ... 比較ベンチマークテストによると多数の小さいファイルを速く扱うのは苦手です。 ...\n\nそうなのか","ts":"1598759847.000900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KTI"}]},{"client_msg_id":"feac3105-d323-48dc-ab50-4253f0cfc231","type":"message","user":"U03C71D7H","text":"うーん、どうしようかな。悩ましい","ts":"1598759743.000200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qVM"}]},{"client_msg_id":"1b888d4f-cb81-4a4b-a111-a89a49a67623","type":"message","user":"U9S4G0LJW","text":"btrfsとかなかった","ts":"1598759723.143100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"77ms"}]},{"client_msg_id":"ed6c0aa8-5acb-4967-bb0f-61163cb9383a","type":"message","user":"UAZ33BKV2","text":"むずかしいですよね","ts":"1598759720.143000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yHZ"}]},{"client_msg_id":"dd8563f8-9330-40f5-bc95-1cd7b600fb18","type":"message","user":"U9S4G0LJW","text":"当時(産業総合研究所がKNOPPIX出してた頃)色々試したんですが、xfsが一番領域の使い方が上手だったんですよね","ts":"1598759719.142700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kVswi"}]},{"client_msg_id":"45ccc1bc-8ebf-4ad5-b5bb-7c4ba55f6fba","type":"message","user":"UAZ33BKV2","text":"本当は/etcは別にしたほうがいいんだろうけど、\n/usrは変化がわりとあるので別かな、とか...","ts":"1598759715.142400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"08r8"}]},{"client_msg_id":"9fd590c4-dc06-49a3-9324-9637a68ff220","type":"message","user":"U03C71D7H","text":"`/mnt` はデータ領域か","ts":"1598759698.142000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q/u82"}]},{"client_msg_id":"310a3bf4-0599-4a8f-baaa-46167cf2e85b","type":"message","user":"UAZ33BKV2","text":"not /home not /usr  あたりがシステム、くらいの考えがいいかな...","ts":"1598759680.141300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"m7uA"}]},{"client_msg_id":"9f3e0314-b45c-4505-87d4-e71e5232dc20","type":"message","user":"U03C71D7H","text":"私の感覚だと、 `/home` と `/root` 以外は全部システム領域","ts":"1598759675.141100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NTr5W"}]},{"client_msg_id":"5c92c318-7ec3-4800-aa46-2e2b084cf475","type":"message","user":"U9S4G0LJW","text":"システム領域はOSが面倒見てくれる場所です、ユーザーデータを全部分離してる","ts":"1598759627.139800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"awYo"}]},{"client_msg_id":"3dc3122f-7ff2-4276-a190-299ff3aa27a3","type":"message","user":"U03C71D7H","text":"ほほう","ts":"1598759616.139500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J=otZ"}]},{"client_msg_id":"6f68b730-8f5f-419c-b4aa-fa2e02259d85","type":"message","user":"U9S4G0LJW","text":"ずっと使ってて壊れた試しがないので続投ですね","ts":"1598759604.139100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kR2wc"}]},{"client_msg_id":"a4ef7666-5262-4a1f-b867-7bbb85ffbf4e","type":"message","user":"U03C71D7H","text":"システム領域はどこからどこまでを指してます?","ts":"1598759554.138500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cCh"}]},{"client_msg_id":"acfb3b33-fa05-496a-9855-f3a4326685bc","type":"message","user":"U03C71D7H","text":"xfs を選んだ理由が知りたいです","ts":"1598759538.138100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"25R"}]},{"client_msg_id":"22af74dc-0200-423a-a158-fb31f0964302","type":"message","user":"U9S4G0LJW","text":"システム領域はext4にした、安定指向","ts":"1598759533.137900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FQp"}]},{"client_msg_id":"51158ede-b1de-48dc-bf3c-74f7685b3b85","type":"message","user":"U03C71D7H","text":"xfs…","ts":"1598759517.137400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7Dmg"}]},{"client_msg_id":"f4db9c64-edff-425e-b709-7ea9e878f28f","type":"message","user":"U9S4G0LJW","text":"データ置き場だけですね、後はxfs","ts":"1598759508.137200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/n/dR"}]},{"client_msg_id":"446b01c4-922e-4ec3-9ca5-75e4aabcac49","type":"message","user":"U03C71D7H","text":"\u003chttps://wiki.archlinux.jp/index.php/%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0\u003e 困った時の arch wiki","ts":"1598759505.137000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ji7H"}]},{"client_msg_id":"50ef4159-1f7e-4d6e-931e-6d4713368693","type":"message","user":"U03C71D7H","text":"kuu さんはシステム全体を btrfs にしたんでしたっけ","ts":"1598759459.136400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4ztyT"}]},{"client_msg_id":"5b8c3327-6432-4052-af3a-2cb8a34fe712","type":"message","user":"U03C71D7H","text":"ファイルシステム比較表がほしい","ts":"1598759442.135900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XqHV"}]},{"client_msg_id":"38a61b26-f845-4841-a836-a5724de8d7b6","type":"message","user":"U03C71D7H","text":"あ、あれはマシンに侵入されたわけじゃないから！公開スペース触られただけだしっ","ts":"1598759313.135200","team":"T03C4RC8V","reactions":[{"name":"tashikani","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s=g+"}]},{"client_msg_id":"89f475e3-0bbc-476e-8e63-79126ef35719","type":"message","user":"U9S4G0LJW","text":"スナップショットエリアさえ保護しておけばランサムウェア食らっても復旧しやすいはず(いずれにせよroot取られたらアウトですが)","ts":"1598759270.134600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nySe"}]},{"client_msg_id":"fcdec374-7d0b-42d5-947b-b22c8c6ca7e3","type":"message","user":"U03C71D7H","text":"再インストールとかもほぼしなかったので単に自由度下がっただけであんまり意味がなかった","ts":"1598759215.133700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y2F"}]},{"client_msg_id":"ad9d95d6-879a-4922-a28a-9b55ed57f2cd","type":"message","user":"U03C71D7H","text":"今まではある程度なんとなーく切りつつも、全部 ext4 でした","ts":"1598759187.133200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dtYt"}]},{"client_msg_id":"fb7271e5-e6ba-4e8b-88a2-07644b32bbd4","type":"message","user":"U9S4G0LJW","text":"使い方が独特ですが、それに慣れれば楽","ts":"1598759180.133000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+lQ/"}]},{"client_msg_id":"2ed92f4c-fc8f-48d4-8918-da31a23e7c5d","type":"message","user":"U03C71D7H","text":"いやー、新しいマシンのパーティション構成どうしようか悩み中… (マシンは明日届く予定)","ts":"1598759166.132600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EDDvr"}]},{"client_msg_id":"85fafe08-2fa5-498f-8a9a-555132bd7eec","type":"message","user":"U03C71D7H","text":"あ、スナップショットについては Docker 関係なく、で確認でした","ts":"1598759143.132000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jILW"}]},{"client_msg_id":"d467e16b-b0c7-458c-8201-6dad33fbd040","type":"message","user":"U9S4G0LJW","text":"ですね、ただDockerはサブボリューム切りまくるのでスナップショットは期待できなさそう","ts":"1598759106.131500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4/uU"}]},{"client_msg_id":"241f2bad-af88-4254-9413-a27cc049dae2","type":"message","user":"U03C71D7H","text":"以前、スナップショットを取るのが簡単って言ってたのは btrfs でしたっけ","ts":"1598759071.131000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UZtn"}]},{"client_msg_id":"1f5a6f9f-9177-41fa-a5b1-bc1080ee5870","type":"message","user":"U03C71D7H","text":"overlay2 以外だと、btrfs や zfs がドライバとして存在する、でいいのかな","ts":"1598759000.130700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wno+"}]},{"client_msg_id":"a107a637-a1cd-4fbe-b635-8769274f07a9","type":"message","user":"U03C71D7H","text":"overlay2 で size オプションを使いたい場合は、その下のファイルシステムは xfsで、かつ pquota オプション付きでマウントされている必要がある","ts":"1598758967.130100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EN="}]},{"client_msg_id":"5cbf8218-1905-4c98-82da-41328060d7cb","type":"message","user":"U03C71D7H","text":"とりあえず今の Docker のデフォルトは overlay2 らしい。今の私のマシン(ext4)で動いている Docker も overlay2 だった","ts":"1598758922.129200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FR7U"}]},{"client_msg_id":"91f6b643-10b7-4d7c-a32b-c5edc533b041","type":"message","user":"U03C71D7H","text":"ちょっと要素の整理をしないとわからなくなってきた","ts":"1598758884.128500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B0u"}]},{"client_msg_id":"509fa0f0-016c-4e8c-a9f1-3d76c1b274bc","type":"message","user":"U03C71D7H","text":"\u0026gt; For the overlay2 storage driver, the size option is only available if the backing fs is xfs and mounted with the pquota mount option.\nうーん、あれ、そもそもこれは…","ts":"1598758861.128100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tzcbB"}]},{"client_msg_id":"5b3ca45c-c760-46c8-bfdc-ffe8532a24e3","type":"message","user":"U03C71D7H","text":"\u0026gt; devicemapper ストレージ・ドライバを使うには、 RHEL か CentOS Linux 上で商用サポート版 Docker Engine (CS-Engine) を実行 する必要があります。\nとりあえず devicemapper はナシということがわかった","ts":"1598758730.127800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VjLh1"}]},{"client_msg_id":"b5e6b5a4-e3e0-421a-b86e-a280f7f2c78c","type":"message","user":"U03C71D7H","text":"残りのもよくわかってないので一応確認しておこう","ts":"1598758614.127400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mk1H1"}]},{"client_msg_id":"7e75a47c-710b-4386-89f9-52ab29d4fa44","type":"message","user":"U03C71D7H","text":"とりあえず Docker で `--storage-opt size=120G` みたいなオプションを使うにはドライバが `devicemapper` `btrfs` `overlay2` `windowsfilter` `zfs` のどれかである必要があるらしい","ts":"1598758596.127100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xp+D"}]},{"client_msg_id":"2fca2135-96e9-4b20-9b97-b21a6258bf50","type":"message","user":"U9S4G0LJW","text":"subvolumeを活用してくれるっぽい","ts":"1598758493.126000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Yo0"}]},{"client_msg_id":"60fa16ad-5536-40bd-8b4e-f96c96837eb0","type":"message","user":"U9S4G0LJW","text":"zfs知らんので何も言えないですが、btrfsはdocker側で特別な対応がありますね","ts":"1598758483.125800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Plbo"}]},{"client_msg_id":"da15fd13-6137-4005-9299-1726619d4edf","type":"message","user":"U03C71D7H","text":"次に作るマシンでは Docker でイメージサイズ制限をかけたいので、btrfs か zfs にしたい。どっちがおすすめとかあるでしょうか\n\n\u003chttps://docs.docker.com/engine/reference/commandline/run/#set-storage-driver-options-per-container\u003e\n\nあと、システム全体をこれにするか、あるいは `/var` 以下だけ違う fs にするか、なんなら `/var/lib/docker` だけ別 fs にする手もあるが…そこまでやる場合はストレージの割当量が読めないので LVM とか使うメリット出てくるのかな… LVM 面倒だからあんまり使いたくないw","ts":"1598758428.125000","attachments":[{"fallback":"Docker Documentation: docker run","id":1,"title":"docker run","title_link":"https://docs.docker.com/engine/reference/commandline/run/#set-storage-driver-options-per-container","text":"Description Run a command in a new container Usage docker run [OPTIONS] IMAGE [COMMAND] [ARG...] Extended description The docker run command first creates a writeable container layer over the specified...","thumb_url":"https://docs.docker.com/favicons/docs@2x.ico","blocks":null,"ts":1598445428,"service_name":"Docker Documentation","service_icon":"https://docs.docker.com/favicons/docs@2x.ico","thumb_width":129,"thumb_height":128,"from_url":"https://docs.docker.com/engine/reference/commandline/run/#set-storage-driver-options-per-container","original_url":"https://docs.docker.com/engine/reference/commandline/run/#set-storage-driver-options-per-container"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o2Wk"}]}]
