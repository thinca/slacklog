[{"client_msg_id":"dfe67059-ba58-4da5-a9c1-b42875c9c19b","type":"message","user":"U03C71D7H","text":"\u003chttps://wiki.archlinux.jp/index.php/Certbot\u003e 順番にやっていこう","ts":"1599748662.456200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tg4CN"}]},{"client_msg_id":"1249dddf-44f0-4952-9a94-b86cf5dba07d","type":"message","user":"U03C71D7H","text":"let's encrypt は今までも使ってて、まあ今回も使うんですけどすべてを忘れているので思い出すのがだるい","ts":"1599748562.456000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3qH"}]},{"client_msg_id":"abaa847e-4d0e-4524-98e4-b9a20dc62ab4","type":"message","user":"U06ECBRTJ","text":"(docker で) let's encrypt","ts":"1599748521.455500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Jbcuc"}]},{"client_msg_id":"f003afd8-8230-419f-b257-258b8d59377f","type":"message","user":"U03C71D7H","text":"あーそうか。https の証明書…","ts":"1599748445.455000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BRr"}]},{"client_msg_id":"8ea9f04b-e5ce-4c38-a650-1fdd9ad90573","type":"message","user":"U03C71D7H","text":"まあそんな頻繁にいじらんでしょと言われたらそうなんだけど","ts":"1599747207.454500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MJh"}]},{"client_msg_id":"5b157749-82c6-41c0-a422-dff0082b6a9b","type":"message","user":"U03C71D7H","text":"めっちゃ綺麗に出て感動しました","ts":"1599747163.454100","team":"T03C4RC8V","reactions":[{"name":"hee","count":2,"users":["U7B4ZD49X","UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mbTX6"}]},{"client_msg_id":"bd98a7a8-dfce-4649-abf2-65bd742003d2","type":"message","user":"U7B4ZD49X","text":"nftablesのシンタックスとかあるんだw","ts":"1599747149.453800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VEQiZ"}]},{"client_msg_id":"974f36a0-e9fd-4f3c-abdc-9b94b3f3c158","type":"message","user":"U03C71D7H","text":"昨日私が入れた nftables は polyglot には入ってなさそう","ts":"1599747128.453400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vG2l"}]},{"client_msg_id":"10ae33ec-7771-480b-84b5-ad10a4d81eba","type":"message","user":"U9S4G0LJW","text":"可能であれば本体のも削りたいくらい","ts":"1599747121.453200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xINDf"}]},{"client_msg_id":"691e5dd0-e78b-4ead-87bd-14ce29ef0d66","type":"message","user":"U9S4G0LJW","text":"特にFileType認識のautocmdの羅列は読むの遅いし","ts":"1599747111.452700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Xqm"}]},{"client_msg_id":"3d0f291c-c2a8-4151-bafb-ccdd0ff659bd","type":"message","user":"U9S4G0LJW","text":"基本的に余計な物入れたくないという心理が強いのでpolyglotは思想的に無理","ts":"1599747077.451300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sKN"}]},{"client_msg_id":"b2390a12-cd45-41c1-af71-4e2d12859912","type":"message","user":"U03C71D7H","text":"まあ冷静に考えると Vim 本体に組み込まれてるやつも全部ちゃんとメンテされてるかと言うとかなり怪しいってのはあるよなぁ","ts":"1599747071.451000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fczhY"}]},{"client_msg_id":"a3ea7644-24d7-45cb-9230-d85a9dd3be72","type":"message","user":"U7B4ZD49X","text":"そのパターンはあんまりないですね。polyglotで気に入らなかったら探す感じです","ts":"1599747068.450800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xoYO"}]},{"client_msg_id":"c75ed879-7ee9-477a-b074-2b22ebd11283","type":"message","user":"U03C71D7H","text":"polyglot に入ってなかったら初めて探す感じですかね","ts":"1599747008.449000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZhuM"}]},{"client_msg_id":"c55dc3c4-1993-4510-94b9-855a119a6ebf","type":"message","user":"U7B4ZD49X","text":"私も昔はしてましたね。けどさすがにめんどくなって３年くらい前からpolyglot民です","ts":"1599746975.448700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+zC19"}]},{"client_msg_id":"e16797b8-b62b-4c1e-9c79-8b41c01d8cd8","type":"message","user":"U03C71D7H","text":"colorscheme パックはたまにバグってる colorscheme 入ってるよね。ちゃんと復元されないようなの","ts":"1599746968.448200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zpO"}]},{"client_msg_id":"7d59780c-ede6-427e-b386-8d2a6bae8fa9","type":"message","user":"U9S4G0LJW","text":"潔癖？","ts":"1599746956.447400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l7G"}]},{"client_msg_id":"4b4e495b-7af7-49b2-96ba-3d6a590ea70a","type":"message","user":"U03C71D7H","text":"毎回探している私はたぶん病気なんだと思う","ts":"1599746937.446600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NKe"}]},{"client_msg_id":"fb10e6cd-3a81-42ea-9df7-7f8a8ceb4452","type":"message","user":"U7B4ZD49X","text":"けどサジェッションくらいしてくれないと毎回探すのめんどいんですよね。特にそんなに書くつもりないパターンのときに","ts":"1599746920.446300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OnH="}]},{"client_msg_id":"9475fde6-5094-4dbb-a520-50abf9dd148b","type":"message","user":"U9S4G0LJW","text":"colorschemeパックとかも参考にしかならん、厳選しないと選択の邪魔になるしな","ts":"1599746861.444900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PSeuu"}]},{"client_msg_id":"835056a6-1f48-4df2-9f8f-bfdbd720bacb","type":"message","user":"U03C71D7H","text":"VSCode かな","ts":"1599746858.444700","team":"T03C4RC8V","reactions":[{"name":"fearful","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZCZBL"}]},{"client_msg_id":"27b0e1a1-6d3f-4829-bdf3-73dff759a57b","type":"message","user":"U7B4ZD49X","text":"coc.nvim, polyglotあとなんだろう・・・ :thinking_face:","ts":"1599746841.444100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wseDz"}]},{"client_msg_id":"4e9e8925-b276-431d-a9de-48ad0e6a30b6","type":"message","user":"U06ECBRTJ","text":"`ngnix-full`","ts":"1599746825.443300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jgfm"}]},{"client_msg_id":"8557b30f-50a3-4878-9741-2a3d30e14cb6","type":"message","user":"U7B4ZD49X","text":"私バカでも使えるツール好きw","ts":"1599746820.442900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kbXjX"}]},{"client_msg_id":"426c685c-09a2-4d0a-a6f1-71a34ee81401","type":"message","user":"U03C71D7H","text":"colorscheme までなら理解できる","ts":"1599746811.442600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wSn"}]},{"client_msg_id":"bf38b310-9795-42cb-9b00-685a12f2d2ce","type":"message","user":"U03C71D7H","text":"「全部入りパッケージ」みたいなやつ基本的に信用してないんだよな…","ts":"1599746801.442000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zdr"}]},{"client_msg_id":"3b279bdd-1108-4099-8dae-8adb4d7cae23","type":"message","user":"U03C71D7H","text":"基本的に最新が推奨なら、最新の方を `nginx` にして安定版を `nginx-stable` とかにしといてほしかった","ts":"1599746718.441600","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7R0x"}]},{"client_msg_id":"72cfcb2f-5786-4493-80cb-0b15e3c9892b","type":"message","user":"U9S4G0LJW","text":"名前がよろしくない","ts":"1599746630.440900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1wXJl"}]},{"client_msg_id":"c0b4cb11-3324-41d8-8d68-eface7705e96","type":"message","user":"U7B4ZD49X","text":"polyglot的にはそれですね","ts":"1599746604.440700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qU/Lm"}]},{"client_msg_id":"f550e5cf-181e-4c94-806d-1e0049878561","type":"message","user":"U9S4G0LJW","text":"mainline、unstableみたいなもんか","ts":"1599746599.440600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TJe"}]},{"client_msg_id":"d545113c-b7e3-4f1b-ac18-8a3ccd901865","type":"message","user":"U06ECBRTJ","text":"使ってなかった…","ts":"1599746589.440100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Axai"}]},{"client_msg_id":"0bf633b0-c651-42d1-84cd-2ead20cf1018","type":"message","user":"U03C71D7H","text":"syntax はこれでいいのかな? \u003chttps://github.com/chr4/nginx.vim\u003e","ts":"1599746563.439700","attachments":[{"fallback":"GitHub: chr4/nginx.vim","id":1,"title":"chr4/nginx.vim","title_link":"https://github.com/chr4/nginx.vim","text":"Improved nginx vim plugin (incl. syntax highlighting) - chr4/nginx.vim","thumb_url":"https://avatars1.githubusercontent.com/u/4600363?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/chr4/nginx.vim","original_url":"https://github.com/chr4/nginx.vim"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vm7Zr"}]},{"client_msg_id":"bfa45438-01af-4e41-b832-9862ab9f456b","type":"message","user":"UAZ33BKV2","text":"\u003chttps://www.digitalocean.com/community/tools/nginx#\u003e?\nここも参考になるかも","ts":"1599746518.439300","attachments":[{"fallback":"DigitalOcean: NGINX Config | DigitalOcean","id":1,"title":"NGINX Config | DigitalOcean","title_link":"https://www.digitalocean.com/community/tools/nginx","text":"NGINX Config - The easiest way to configure a performant, secure, and stable nginx server.","image_url":"https://digitalocean.github.io/nginxconfig.io/nginx.png","blocks":null,"service_name":"DigitalOcean","service_icon":"https://www.digitalocean.com/assets/community/apple-icon-180x180-4b5ac7f80f7cb483dde5afeb99c279301c50ec3670129c73ce568f1b465354be.png","from_url":"https://www.digitalocean.com/community/tools/nginx","original_url":"https://www.digitalocean.com/community/tools/nginx#"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AoN"}]},{"client_msg_id":"15f7015a-14bd-4847-83bd-6147b5718d12","type":"message","user":"U03C71D7H","text":"なんも考えずに `nginx` パッケージを入れたあとに ArchWiki 見に行ったら、普通は `nginx-mainline` を入れるんだぞって言われて入れ直してた","ts":"1599746492.439000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T3r3"}]},{"client_msg_id":"ebe1a5ef-df38-40ed-a420-97c9f2c0d24f","type":"message","user":"U06ECBRTJ","text":"```server {\n    listen 80;\n    listen [::]:80;\n\n    server_name \u003chttp://your-domain.com|your-domain.com\u003e;\n    access_log /var/log/nginx/your-domain.com-access.log combined;\n    error_log /var/log/nginx/your-domain.com-error.log warn;\n\n    location /.well-known {\n        root /var/lib/letsencrypt;\n    }\n\n    location / {\n        return 301 https://$host$request_uri;\n    }\n}\n\nserver {\n    listen 8443 ssl http2;\n    listen [::]:8443 ssl http2;\n\n    server_name \u003chttp://your-domain.com|your-domain.com\u003e;\n    access_log /var/log/nginx/your-domain.com-access.log combined;\n    error_log /var/log/nginx/your-domain.com-error.log warn;\n\n    ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;\n    ssl_session_timeout 1d;\n    ssl_session_cache shared:SSL:50m;\n    ssl_session_tickets off;\n\n    ssl_dhparam /etc/nginx/dhparam.pem;\n\n    ssl_protocols TLSv1.2;\n    ssl_ciphers 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256';\n    ssl_prefer_server_ciphers on;\n\n    # HSTS (ngx_http_headers_module is required) (15768000 seconds = 6 months)\n    add_header Strict-Transport-Security max-age=15768000;\n\n    proxy_set_header Host $host;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Host $host;\n    proxy_set_header X-Forwarded-Server $host;\n    proxy_set_header X-Real-IP $remote_addr;\n\n    client_max_body_size 0;\n\n    location / {\n        root /var/www/html;\n    }\n}```\n雛形です","ts":"1599746472.438600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vtc"}]},{"client_msg_id":"84102921-8ecd-45e7-8328-a6cb879690bd","type":"message","user":"U03C71D7H","text":"個人的な都合により凝ったものになる予定 (完成するのか知らんが)","ts":"1599746413.437900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZcHZA"}]},{"client_msg_id":"03ee3d77-805b-413e-9d21-98eebe4ca486","type":"message","user":"UAZ33BKV2","text":"きっと github action の vimのも参考にさせていただくことになるかも\n現在ビルドレシピはbrewのに合せようかなと考え中","ts":"1599746389.437500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Me+l"}]},{"client_msg_id":"1a1d48ca-1da4-49f5-837f-651d1a0f4e7a","type":"message","user":"U03C71D7H","text":"あーそれ私も途中までやって作業止まってます…","ts":"1599746355.436700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7kJSn"}]},{"client_msg_id":"41b04aee-30a0-423e-9390-1400ca56b37e","type":"message","user":"UAZ33BKV2","text":"なんか見てたらasdfにvimがない(neovimはある)ので...作れるかなーと裏作業開始","ts":"1599746340.436400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T8SO"}]},{"client_msg_id":"dbc7e6e2-bd48-4ed8-a168-8fd3c4b438d7","type":"message","user":"U9S4G0LJW","text":"nginxはDockerでhelloを拝んだだけ","ts":"1599746312.436000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zi2"}]},{"client_msg_id":"a1d1a765-7181-46d5-bc72-7edf825753f1","type":"message","user":"U9S4G0LJW","text":"実はまともなウェッブサーバーを立ち上げたことがない","ts":"1599746291.435300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"blt/"}]},{"client_msg_id":"4e25fc99-71d3-4dd7-aa29-aa1441652405","type":"message","user":"U03C71D7H","text":"Web サーバは今まで惰性で Apache を使っていましたが、いい機会なので nginx に乗り換えます。まあもともと大した用途には使ってなかったけど。","ts":"1599746170.434700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MnDL7"}]},{"client_msg_id":"894014c7-797f-4d59-b579-099211c80a51","type":"message","user":"U8CC7MDCL","text":"ある時点でのフルバックアップからの書き戻し+GoldenGateでの同期はやりましたねー(Oracle)","ts":"1599710551.433900","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KrL"}]},{"client_msg_id":"bbe1f7ad-cb49-494f-b843-5432d5aa88b6","type":"message","user":"UAZ33BKV2","text":"そのほうが漏れなくてよさそうですね","ts":"1599708412.433100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"m5zm"}]},{"client_msg_id":"53863e95-da87-4a59-8494-76d7912070df","type":"message","user":"U03C6TEAZ","text":"事前にコピーしといて本番で rsync の差分だけってのがいいかもね。","ts":"1599708395.432800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9ie6m"}]},{"client_msg_id":"2897a0ea-ea2a-4039-a24e-e2dcd4ce5da2","type":"message","user":"UNJ2DANJC","text":"前に仕事でデータベース移行したことあったな。\n移動だけで1日くらいかかったからそこからさらにレプリケーションも\npigzとかも活用した気がする","ts":"1599707618.431200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"055"}]},{"client_msg_id":"44bf1ea6-52c9-45fc-9270-47fab07a4b16","type":"message","user":"U03C71D7H","text":"あかん","ts":"1599706930.427300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WxqYT"}]},{"client_msg_id":"eda0f581-64da-4132-bf83-83fcd05d2f97","type":"message","user":"U03C6TEAZ","text":"検証は 1GB でやったけどリアルな容量で計算すると1日以上掛かる事が判明w","ts":"1599706698.427100","team":"T03C4RC8V","reactions":[{"name":"laughing","count":3,"users":["U06BRP8VD","U9S4G0LJW","UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gaL"}]},{"client_msg_id":"4fa6b9e2-1948-4e8c-b141-e11697260ecf","type":"message","user":"U03C6TEAZ","text":"検証に使ったのはほぼ 1GB くらい、ファイル数 30000 個。","ts":"1599705821.426500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vbz"}]},{"client_msg_id":"d5f418af-7cde-4bb7-892b-d1b55280ec8c","type":"message","user":"U03C6TEAZ","text":"tar の z 付き nc が一番速かったです。","ts":"1599705721.425800","team":"T03C4RC8V","reactions":[{"name":"+1","count":2,"users":["U06BRP8VD","U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/gRW"}]},{"client_msg_id":"134e2556-91ef-4f62-b819-ca1d542f456d","type":"message","user":"U03C71D7H","text":"てことですよねー","ts":"1599704397.425300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oLy"}]},{"client_msg_id":"eb070783-4bcb-488c-8806-0cde610ed6a5","type":"message","user":"U03C6TEAZ","text":"増えるので止めていい時間を作る事にしたんですが、さすがに長いと困る。","ts":"1599704213.425000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hGl"}]},{"client_msg_id":"cefdfdc1-a352-4468-94bd-787f2a6d462f","type":"message","user":"U03C71D7H","text":"ダウンタイムを気にするってことは指定の領域はリアルタイムでファイルが増えてるってことかな","ts":"1599704150.424200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jNf"}]},{"client_msg_id":"367e108d-239d-4d3a-9660-b3b3b8a275f9","type":"message","user":"U03C6TEAZ","text":"その前に z なしやったけど、z ありの方が速かった。","ts":"1599704018.423000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2MKE"}]},{"client_msg_id":"6e021b4c-6f6a-4601-b208-0c9e248e886b","type":"message","user":"U03C6TEAZ","text":"計測開始。まずは tar \u0026amp; ssh の z あり。","ts":"1599703846.422200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KRjT"}]},{"client_msg_id":"552a51d4-6e16-4e43-b22d-20ef11e16371","type":"message","user":"U03C6TEAZ","text":"ひとまず計測の為に VM 立てた。","ts":"1599703143.421600","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U06BRP8VD"]},{"name":"vim","count":1,"users":["U03C4RC8X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0en"}]},{"client_msg_id":"4982f73f-edb2-4d25-988a-cef2dc1a77f3","type":"message","user":"U06BRP8VD","text":"そういえばFreeBSDのZFSはいまのデフォではLZ4圧縮かかるのよね。","ts":"1599702330.421200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x0qcM"}]},{"client_msg_id":"7f387f0f-ddcc-43b5-beda-c241edadd3cc","type":"message","user":"U06BRP8VD","text":"# まぁ現代のCPUならだいたい圧縮が上回る。","ts":"1599702241.420500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9M=/"}]},{"client_msg_id":"0dd89cca-8678-424a-94cf-e009563ec700","type":"message","user":"U06BRP8VD","text":"圧縮のスループットがネットワークのスループットを上回れば、圧縮する価値アリとみなせるので、事前計測すると良さげ。","ts":"1599702227.420000","edited":{"user":"U06BRP8VD","ts":"1599702274.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nmpom"}]},{"client_msg_id":"3db1bb91-dc32-40e7-a04d-d25ebc441769","type":"message","user":"UAZ33BKV2","text":"まあ低優先にして、じんわりやれば","ts":"1599702194.419500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HvE1p"}]},{"client_msg_id":"77d835c2-1949-49a7-b240-42245a286ff3","type":"message","user":"U06BRP8VD","text":"CPU(圧縮)とネットワークのスループット次第かな。","ts":"1599702176.418900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E1px0"}]},{"client_msg_id":"1ffafc3a-aca8-4e1f-a702-1907b4ebd98e","type":"message","user":"UAZ33BKV2","text":"LVMスナップショットでも不可能じゃない? ローカルでのスナップショットを別にマウントして、そっちで作業すればダウンタイムを作らなくてすむかな?","ts":"1599702164.418700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wtKN"}]},{"client_msg_id":"5ac830f7-1ebd-4d1f-aca0-d05ef444ef34","type":"message","user":"U06BRP8VD","text":"ZFSならできるけど、今回の場合はパーティション単位じゃないから、無理かもね。","ts":"1599702138.418100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QvAi"}]},{"client_msg_id":"a420be6e-0453-465c-9c57-4a2d28ebb271","type":"message","user":"UAZ33BKV2","text":"ファイルシステムによっては、0ダウンタイムでスナップショットとれて、リモートに転送後展開(別の\n同ファイルシステム領域にrestore)できるのもあるけど..zfsだっけ?","ts":"1599702103.416900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"F3Y2n"}]},{"client_msg_id":"4d031686-2e08-49f3-b498-b472d4afba07","type":"message","user":"U03C6TEAZ","text":"ダウンタイムを極力短くしたくて、圧縮を効かせるかが判断難しいところ。","ts":"1599702032.415800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rdoR"}]},{"client_msg_id":"aae48d0b-b342-401c-8f5e-bab2d4b8f383","type":"message","user":"U06BRP8VD","text":"ローカルネットワークの読み書きに比べるとストレージはかなり遅いから…","ts":"1599701775.415300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T1Ma"}]},{"client_msg_id":"650692ab-4145-46ed-89cf-181f1f1f9abe","type":"message","user":"U06BRP8VD","text":"シンボリックリンクとかsticky bitとかの使用状況他、気にするところもあるけど。","ts":"1599701639.414800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iIk"}]},{"client_msg_id":"011e3d38-507d-4586-b78f-beee90868a5d","type":"message","user":"U06BRP8VD","text":"僕ならtar+gzした結果をファイルに書かずに転送して向こうで解くかな。一時ファイルを作ることが問題なければまた違う選択肢になるかもだけど。","ts":"1599701556.414000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I1h"}]},{"client_msg_id":"96ff3cd7-995c-42bd-b1cc-9dcd4cef46e7","type":"message","user":"U06BRP8VD","text":"細かいファイルをバラバラに送るのはどうしても下回りで不利になりがちなんだよね。","ts":"1599701391.412500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JvTH"}]},{"client_msg_id":"647c2401-d86e-40f2-a70e-4daf60b5687d","type":"message","user":"U06BRP8VD","text":"別の領域=別のサーバの領域、という意味?","ts":"1599701318.410800","thread_ts":"1599701257.410300","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eEr"}],"root":{"client_msg_id":"2306c206-7c2d-4c53-a618-af12ce8ceb85","type":"message","user":"U03C6TEAZ","text":"稼働してるサーバの領域(パーティション分けてない)を別の領域に転送したい。","ts":"1599701257.410300","thread_ts":"1599701257.410300","reply_count":3,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1bp"}]}},{"client_msg_id":"c39ccbd7-ada7-4283-a56f-77b762281a20","type":"message","user":"UAZ33BKV2","text":"NFSは...べつに早くはないか...","ts":"1599701291.410700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7xH"}]},{"client_msg_id":"2306c206-7c2d-4c53-a618-af12ce8ceb85","type":"message","user":"U03C6TEAZ","text":"稼働してるサーバの領域(パーティション分けてない)を別の領域に転送したい。","ts":"1599701257.410300","thread_ts":"1599701257.410300","reply_count":3,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1bp"}]},{"client_msg_id":"e308b590-f606-4d0b-87bf-a2788813ff83","type":"message","user":"U06BRP8VD","text":"持ち運び可能な物理ストレージの読み\u0026amp;書き速度が、ネットワーク速度より速いって前提が必要なんですよね。","ts":"1599701233.410000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a/u"}]},{"client_msg_id":"3283549a-9f3f-448a-9999-8353ffe64767","type":"message","user":"U03C6TEAZ","text":"cloud なんすよねー。","ts":"1599701199.409100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WVL"}]},{"client_msg_id":"95e2f68b-e779-4bef-bb8a-419605ce95be","type":"message","user":"UAZ33BKV2","text":"SATAケーブルかUSBケーブル差し替えでやるのもあり(隣りのとき)","ts":"1599701191.408700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zyyhm"}]},{"client_msg_id":"a13cee73-733a-4e75-af31-a8fcf3ae1c6d","type":"message","user":"U03C71D7H","text":"TB オーダーの場合は物理ストレージの方が速い場合も","ts":"1599701162.407900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XDphc"}]},{"client_msg_id":"30af3877-ec95-4f73-9264-6c6cbabf2035","type":"message","user":"U06BRP8VD","text":"LAN内で十分高速なネットワーク、という前提なのね?","ts":"1599701055.407500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"X1vwW"}]},{"client_msg_id":"445eaa2f-bde6-4214-ad04-38dd95126b97","type":"message","user":"UAZ33BKV2","text":"LANならまあ、たしかにncはありか","ts":"1599701003.407100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ElF"}]},{"client_msg_id":"916c48f9-9413-4b0b-9647-2c5723636b99","type":"message","user":"UAZ33BKV2","text":"まあ、sshは安全よりで速度よりではないですね","ts":"1599700990.406700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D66"}]},{"client_msg_id":"7c4eea03-9422-471b-8577-c8a8a675156b","type":"message","user":"U03C6TEAZ","text":"LAN なので nc でもいいかなーと。","ts":"1599700985.406600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zRO"}]},{"client_msg_id":"cda413ac-60f5-4f5d-9a2b-bcb7c2bb1661","type":"message","user":"U03C6TEAZ","text":"tar \u0026amp; ssh は ssh の暗号化が遅いんすよねー。","ts":"1599700962.405700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eaFM1"}]},{"client_msg_id":"6f3d5f96-e5ea-4470-8261-5a77303f71a0","type":"message","user":"UAZ33BKV2","text":"\u003chttps://qiita.com/takaakikasai/items/4e9b2a67fd2a932f4756\u003e\nに例がありました。","ts":"1599700938.405100","attachments":[{"fallback":"Qiita: sshだけでファイル・ディレクトリ転送(scp, sftpなし) - Qiita","id":1,"title":"sshだけでファイル・ディレクトリ転送(scp, sftpなし) - Qiita","title_link":"https://qiita.com/takaakikasai/items/4e9b2a67fd2a932f4756","text":"リモートホストとの間でファイルやディレクトリを転送（送信・受信）したいんだけど、何らかの事情でscpやsftpが使えない（or 使いたくない）からsshだけでなんとかしたい、という時の方法。 まずは結論から 送信 ローカルホ...","image_url":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-1.2.2\u0026w=1200\u0026mark=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D380%26txt%3Dssh%25E3%2581%25A0%25E3%2581%2591%25E3%2581%25A7%25E3%2583%2595%25E3%2582%25A1%25E3%2582%25A4%25E3%2583%25AB%25E3%2583%25BB%25E3%2583%2587%25E3%2582%25A3%25E3%2583%25AC%25E3%2582%25AF%25E3%2583%2588%25E3%2583%25AA%25E8%25BB%25A2%25E9%2580%2581%2528scp%252C%2520sftp%25E3%2581%25AA%25E3%2581%2597%2529%26txt-color%3D%2523333%26txt-font%3DHiragino%2520Sans%2520W6%26txt-size%3D54%26txt-clip%3Dellipsis%26txt-align%3Dcenter%252Cmiddle%26s%3D653cdfd8a6a8060e74a8c9e43dbc3578\u0026mark-align=center%2Cmiddle\u0026blend=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D500%26txt%3D%2540takaakikasai%26txt-color%3D%2523333%26txt-font%3DHiragino%2520Sans%2520W6%26txt-size%3D45%26txt-align%3Dright%252Cbottom%26s%3D71ef58076b9006d7e9c4a5f5e82a67ac\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=bbe74bc5b8c7f4c19ef185a2f6767f86","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png","from_url":"https://qiita.com/takaakikasai/items/4e9b2a67fd2a932f4756","original_url":"https://qiita.com/takaakikasai/items/4e9b2a67fd2a932f4756"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"udhf"}]},{"client_msg_id":"d408a771-dbfe-4f60-afb8-82f5ae93e506","type":"message","user":"U06BRP8VD","text":"`tar cf - ... | ( ssh -c tar xf - )` みたいな?","ts":"1599700929.404500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qwp8N"}]},{"client_msg_id":"87ea9b39-8399-47be-aed4-f0ab8104500b","type":"message","user":"UAZ33BKV2","text":"ssh + tarとか、どっかで例をみたけど、つかったことないな...","ts":"1599700825.403500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1ehMW"}]},{"client_msg_id":"8a503212-5ca1-49f7-86fa-4d8e6c2fb299","type":"message","user":"U03C6TEAZ","text":"まぁ nc より tar の方が速いか。","ts":"1599700696.403100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2Kz4"}]},{"client_msg_id":"5f12a5db-f136-4b76-9a84-73b03dc9f8c8","type":"message","user":"U9S4G0LJW","text":"large fileなら何も考えずにrsyncするなあ","ts":"1599700651.402400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YXf"}]},{"client_msg_id":"c15ca194-b54d-42f3-9842-1d322b0c3609","type":"message","user":"U03C6TEAZ","text":"large file じゃないんよなぁ。","ts":"1599700618.402100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RrpQ"}]},{"client_msg_id":"37083163-2f22-4bcb-8784-c5b0dc30524d","type":"message","user":"U03C6TEAZ","text":"\u003chttps://unix.stackexchange.com/a/48444/30044\u003e","ts":"1599700608.401800","attachments":[{"fallback":"Unix \u0026amp; Linux Stack Exchange: Fast way to copy a large file on a LAN","id":1,"title":"Fast way to copy a large file on a LAN","title_link":"https://unix.stackexchange.com/a/48444/30044","text":"I am having some trouble with NFS, and I'd like to try using just plain old TCP. I have no idea where to begin, though. Hardware-wise, I am using an ethernet crossover cable to network two netboo...","thumb_url":"https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png?v=32fb07f7ce26","blocks":null,"service_name":"Unix \u0026amp; Linux Stack Exchange","service_icon":"https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png?v=5cf7fe716a89","thumb_width":316,"thumb_height":316,"from_url":"https://unix.stackexchange.com/a/48444/30044","original_url":"https://unix.stackexchange.com/a/48444/30044"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1SBSl"}]},{"client_msg_id":"43e84dba-99fc-4bfa-b36d-74cbfac8e056","type":"message","user":"U03C6TEAZ","text":"rsync はファイル操作こそ並列だけど結局ネットワークがボトルネックになってファイル数が多いと並列がそんなに意味をなさない気がしてる。","ts":"1599700416.401600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"02vl"}]},{"client_msg_id":"0fc26894-0286-47cc-8239-67fe346327f7","type":"message","user":"U9S4G0LJW","text":"gorilla power","ts":"1599700395.401100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KPC"}]},{"client_msg_id":"8C0594BC-D0D3-4709-A76F-9879B9D34503","type":"message","user":"UDDCM376D","text":"人力","ts":"1599700352.400400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DQJH"}]},{"client_msg_id":"D5E89C71-98AB-4C67-9A2C-C504440EE9BC","type":"message","user":"UDDCM376D","text":"外部SSD","ts":"1599700345.400200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Rarg"}]},{"client_msg_id":"5631a272-e02c-46f7-a472-40beeb8ace76","type":"message","user":"U03C71D7H","text":"計測しよう","ts":"1599700334.399800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FPHj"}]},{"client_msg_id":"8bdce468-2daf-41ed-948f-60f82612a91c","type":"message","user":"U03C6TEAZ","text":"はい。","ts":"1599700301.399300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r7e0"}]},{"client_msg_id":"9269aa9f-bef6-48fd-82c1-cbe95ff431cf","type":"message","user":"U9S4G0LJW","text":"rsyncって小さいファイルの塊は苦手な気がしてる","ts":"1599700295.399100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Cav"}]},{"client_msg_id":"11e34c28-8c13-4853-8038-fa7d2e80052f","type":"message","user":"U03C6TEAZ","text":"それぽいすよねぇ。","ts":"1599700289.398900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vNYOw"}]},{"client_msg_id":"34e5fcda-0cc8-4ece-8599-4e8d7583910e","type":"message","user":"U9S4G0LJW","text":"ソケット越しにtar投げるとか？","ts":"1599700276.398500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Osard"}]},{"client_msg_id":"b6fff6de-c7a9-4aed-a2e1-4043e9b06aba","type":"message","user":"U03C71D7H","text":"rsync?","ts":"1599700267.398300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Auy"}]},{"client_msg_id":"5bfbad1a-fbcd-41ac-b301-bc4508c6edeb","type":"message","user":"U03C6TEAZ","text":"2端末間で大量(フィアルサイズは大きくない)を転送する方法として一番速いのってどの方法ですかねぇ。","ts":"1599700149.398000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/xCP"}]},{"client_msg_id":"6f433f66-6bbe-4aec-b134-4cc738ef6157","type":"message","user":"U03C71D7H","text":"条件なしでいきなり `{アクション}` も書けるし、 `{条件} {条件} {アクション} {条件} {アクション}` とかも書ける (前から順に処理して条件を満たしてるうちはアクションを実行する)","ts":"1599668387.397500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+3f/k"}]},{"client_msg_id":"aaf0f053-4c89-4472-971c-33c09b99ca99","type":"message","user":"U06BRP8VD","text":"じゃないと端末内転送にみえちゃう。","ts":"1599701329.411100","thread_ts":"1599701257.410300","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OKtp"}]},{"client_msg_id":"6f671da1-48bb-4404-9bdf-dd7ebf7c69ea","type":"message","user":"U03C6TEAZ","text":"ですです","ts":"1599701339.411300","thread_ts":"1599701257.410300","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sYUM"}]},{"client_msg_id":"6c702ec1-2205-40d0-8f87-a93dff05850a","type":"message","user":"U03C71D7H","text":"nftables の文法なんとなくわかってきた…。ルールの行には、 `{条件} {条件} {アクション}` みたいに複数の条件とそれを満たした時のアクションが書けるのだけど、ぱっと見だと条件の切れ目とかアクションの切れ目がわからなくてずらずらっと書かれるのよね。だから複雑に見える…","ts":"1599668311.396300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9Kz"}]}]
