[{"client_msg_id":"a4307da3-2dd4-4312-8026-674d7577b38b","type":"message","user":"U03C71D7H","text":"セットアップが終わらなくて全然新しいマシンで作業ができない…","ts":"1599400433.336400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nDUiv"}]},{"client_msg_id":"25679058-2bc1-4dd3-80da-462076bb2d0a","type":"message","user":"UG6DF6W87","text":"\u0026gt; *ルールの追加と除去はアトミック操作ではありません。*\nおお、nftable だとアトミックに操作できるのか","ts":"1599380951.336000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W3k"}]},{"client_msg_id":"4ea01578-4de3-49f1-a5cd-55357cc7cf47","type":"message","user":"U013QL1RAPN","text":"distro independent っぽいし。","ts":"1599377758.335000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zcfop"}]},{"client_msg_id":"8b057161-dcce-4b35-88dc-722fdb109e17","type":"message","user":"U013QL1RAPN","text":"このへんの文書が役に立った記憶\n\u003chttps://rheb.hatenablog.com/entry/nftables\u003e","ts":"1599377707.334300","attachments":[{"fallback":"赤帽エンジニアブログ: iptablesの後に来るものは何か？： nftables - 赤帽エンジニアブログ","id":1,"title":"iptablesの後に来るものは何か？： nftables - 赤帽エンジニアブログ","title_link":"https://rheb.hatenablog.com/entry/nftables","text":"nftablesは、既存のiptables、ip6tables、arptables、ebtablesを置き換えることを目指した、新たなパケット分類フレームワークです。","image_url":"https://cdn-ak.f.st-hatena.com/images/fotolife/m/mrwk/20190618/20190618185628.png","blocks":null,"ts":1564463573,"service_name":"赤帽エンジニアブログ","service_icon":"https://cdn.image.st-hatena.com/image/apple_touch_icon/aef29d3c8471a49287c1351160bfb25726743aa6/version=1/https%3A%2F%2Fcdn.user.blog.st-hatena.com%2Fblog_custom_icon%2F153199271%2F1538615908823070","from_url":"https://rheb.hatenablog.com/entry/nftables","original_url":"https://rheb.hatenablog.com/entry/nftables"}],"team":"T03C4RC8V","reactions":[{"name":"eyes","count":3,"users":["U03C71D7H","UG6DF6W87","UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tOc"}]},{"client_msg_id":"1b2b8d77-30ca-43cf-b799-5808a990d765","type":"message","user":"U03C71D7H","text":"なるほど。\nそういうのって iptables で弾いてるんですね。マネージドな何かでやってる勝手なイメージがありました","ts":"1599376614.333900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OvW"}]},{"client_msg_id":"2f2b41f8-0b50-4f6a-9c34-09b8a49a7db2","type":"message","user":"U03C6TEAZ","text":"中国とオーストラリアの IP は GCP で有料なのでレンジを登録してるけど大量すぎて遅くなる。","ts":"1599376508.333200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qDvvP"}]},{"client_msg_id":"5e388e1d-a22f-497f-a0f9-4f22a5f47c3f","type":"message","user":"U03C6TEAZ","text":"それは知らない。","ts":"1599376455.331800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e5KH"}]},{"client_msg_id":"00bcfaa8-7c36-44ee-b1a2-5ec71b92f18d","type":"message","user":"U03C71D7H","text":"nftables はそうではない?","ts":"1599376243.331700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6LG5"}]},{"client_msg_id":"dd20116c-a5ab-4cdb-9d89-44c134aac2f3","type":"message","user":"U03C6TEAZ","text":"iptables は O(N) なので遅いんですよね。","ts":"1599376040.331500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8hTDP"}]},{"client_msg_id":"5e5a4da3-2c0e-491c-b999-24d8c6d5c018","type":"message","user":"U03C71D7H","text":"nftables は構造化された文法でルールを記述できるみたいだな","ts":"1599374974.330600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ouT"}]},{"client_msg_id":"1526c6c2-b492-436c-bff5-784f9fabcbb6","type":"message","user":"U03C71D7H","text":"(理解があいまいなので全体的に自信がない)","ts":"1599374852.330200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WoN"}]},{"client_msg_id":"e41c8f39-9e56-4296-8809-a986f4200e0f","type":"message","user":"U03C71D7H","text":"`iptables` 自体がプロセスとして常駐しているわけではない、ですよね…?","ts":"1599374841.329900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4rvhH"}]},{"client_msg_id":"ef1eb0d2-1805-4d6a-89ec-65b3e75242fd","type":"message","user":"U03C71D7H","text":"そういうかんじ","ts":"1599374812.329400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PsUl"}]},{"client_msg_id":"de28fa3c-57ff-4ea2-87d1-5eba1e11fd65","type":"message","user":"U03C71D7H","text":"Linux カーネルに組み込まれているものという認識だった","ts":"1599374795.329200","team":"T03C4RC8V","reactions":[{"name":"tashikani","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7gX"}]},{"client_msg_id":"fee18511-8d6d-42c0-a652-e24f1e770168","type":"message","user":"UG6DF6W87","text":"あ、kernel がやってくれてるやつのインターフェイスってだけだからってことです?","ts":"1599374786.328900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YKjq="}]},{"client_msg_id":"1a7ba82f-e9cc-4e5d-a44e-76b972ff5e57","type":"message","user":"UG6DF6W87","text":"\u0026gt;  こいつって Windows の firewall とかと違ってなんかプロセスが動いてるものじゃないよね…?\nほう、そうなんです? しらんかった","ts":"1599374751.328200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4=Sve"}]},{"client_msg_id":"2e3aa25c-ed7d-4561-8421-fc962e91a31f","type":"message","user":"U03C71D7H","text":"こいつって Windows の firewall とかと違ってなんかプロセスが動いてるものじゃないよね…?","ts":"1599374090.327500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0kzGq"}]},{"client_msg_id":"c4834895-11f6-4888-b5eb-25d0db8eeac1","type":"message","user":"U03C71D7H","text":"iptables が systemd のデーモンとして動いているのもなんとなくわかるようでわかってないんだよな","ts":"1599374063.327000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JY1f"}]},{"client_msg_id":"08bab9fc-45ca-4272-8315-d4620951c818","type":"message","user":"U03C71D7H","text":"うーん、一旦 iptables のほうがまだ堅いんかなぁ","ts":"1599373921.326500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+ulE"}]},{"client_msg_id":"03b6cfdd-2653-4388-b5f9-c1990db7e176","type":"message","user":"U03C71D7H","text":"とりあえずなんでも触ってみる、みたいなフットワークの軽い人憧れる (例: mattn さん)","ts":"1599373873.326000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IHg"}]},{"client_msg_id":"fdc46b39-b503-40f2-8dfc-a8e954094929","type":"message","user":"U9S4G0LJW","text":"k8s、おうちで触るようなもんじゃないという認識があって尻込みしている","ts":"1599373863.325900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gyFy"}]},{"client_msg_id":"583ec6d1-1289-485a-ac8a-0759c495de26","type":"message","user":"U03C71D7H","text":"k8s もなんだかんだと触ったことがない","ts":"1599373834.325100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"F/w"}]},{"client_msg_id":"959c40e5-bfc4-420d-a78e-8f37e90966e9","type":"message","user":"U03C71D7H","text":"ほほう…","ts":"1599373819.324800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"URQ1"}]},{"client_msg_id":"0ae8b263-5a7d-49b1-ad86-bb54dd729b86","type":"message","user":"UG6DF6W87","text":"k8s クラスタ(kubelet) は iptables-legacy しか対応してない、とかいろいろあってつらい...","ts":"1599373799.324600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"b1cv"}]},{"client_msg_id":"5082c9a6-7ee9-49cf-a445-b9028fe40761","type":"message","user":"U03C71D7H","text":"nftables 覚えた方がいいんだろうか。なにもわからない","ts":"1599373600.323100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Yl2Rd"}]},{"client_msg_id":"16b8a2b6-8d9a-47de-ba9d-788c4f9945fc","type":"message","user":"UG6DF6W87","text":"nftables に置きかわってるらしいですねぇ\n// 私も iptables(nftables のラッパー) しか触ったことない","ts":"1599373562.322800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"77PF"}]},{"client_msg_id":"bff9e24e-2d61-4a33-a37f-2c93e4ab27c7","type":"message","user":"U03C71D7H","text":"今のマシンでバージョンを確認してみたら\n\n```% iptables --version\niptables v1.8.5 (legacy)```\nlegacy とは…時代は nftables ってこと?","ts":"1599372772.321200","team":"T03C4RC8V","reactions":[{"name":"sonomasakada","count":1,"users":["U013QL1RAPN"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q4q"}]},{"client_msg_id":"a45c9e73-3e7d-4006-9fb5-b87b0733ea65","type":"message","user":"U03C71D7H","text":"firewalld そもそも知らなかったんだけど、これが iptables/nftables を wrap していて、iptables/nftables は netfilter を操作するインターフェース的な感じなのね。すべての実体は netfilter なのか","ts":"1599372651.320400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xSF"}]},{"client_msg_id":"7d28103d-3ce5-4cce-bc88-190048582c43","type":"message","user":"U03C71D7H","text":"\u003chttps://qiita.com/bashaway/items/e405d59d92670fbc5341\u003e","ts":"1599372478.319100","attachments":[{"fallback":"Qiita: netfilterとfirewalldとiptablesとnftablesの関係 - Qiita","id":1,"title":"netfilterとfirewalldとiptablesとnftablesの関係 - Qiita","title_link":"https://qiita.com/bashaway/items/e405d59d92670fbc5341","text":"はじめに netfilterについて少し調べてみました。 いろいろと認識の相違があったことがわかったので、記録します。 認識の相違 CentOS8（に限らずだけど）では、以下のことがわかった。 iptablesはiptab...","image_url":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-1.2.2\u0026w=1200\u0026mark=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D380%26txt%3Dnetfilter%25E3%2581%25A8firewalld%25E3%2581%25A8iptables%25E3%2581%25A8nftables%25E3%2581%25AE%25E9%2596%25A2%25E4%25BF%2582%26txt-color%3D%2523333%26txt-font%3DHiragino%2520Sans%2520W6%26txt-size%3D54%26txt-clip%3Dellipsis%26txt-align%3Dcenter%252Cmiddle%26s%3D928c5a724567e488b3517bfece0cf5c6\u0026mark-align=center%2Cmiddle\u0026blend=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D500%26txt%3D%2540bashaway%26txt-color%3D%2523333%26txt-font%3DHiragino%2520Sans%2520W6%26txt-size%3D45%26txt-align%3Dright%252Cbottom%26s%3D6c3b1e42431fbf31e1b605d550b2c04c\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=cf8fe1b7aa29ca5660ad9bfb2edd1734","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png","from_url":"https://qiita.com/bashaway/items/e405d59d92670fbc5341","original_url":"https://qiita.com/bashaway/items/e405d59d92670fbc5341"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/xsC"}]},{"client_msg_id":"e37572cd-6308-43a8-800a-7ce06af196b8","type":"message","user":"U03C71D7H","text":"無限に時間が溶けていく","ts":"1599372471.318900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hVI"}]},{"client_msg_id":"233857a7-28fb-44b8-b252-8d19c6280600","type":"message","user":"U03C71D7H","text":"今その辺りの関係について勉強し直してる","ts":"1599372465.318600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q7nD"}]},{"client_msg_id":"1137c4bf-4bac-4647-86c4-e0428f74ce2d","type":"message","user":"UG6DF6W87","text":"そしてあらわれるラッパーの数々...","ts":"1599372390.318300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SCgf"}]},{"client_msg_id":"763a062b-13a9-481e-964a-865cc63a733a","type":"message","user":"UG6DF6W87","text":"iptables(nftables) vs iptables(iptables)","ts":"1599372354.317800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"me1wM"}]},{"client_msg_id":"f17221c9-f0fd-4d9e-9e66-96ecf5df7ffe","type":"message","user":"U03C71D7H","text":"(iptables わかるとは言っていない)","ts":"1599371739.317400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pGsyM"}]},{"client_msg_id":"df843137-0789-4bff-bb73-97ffee3a3c3e","type":"message","user":"U03C71D7H","text":"iptables はわかると楽しい","ts":"1599371691.317100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j/Up/"}]},{"client_msg_id":"facfac4a-2671-4d43-a807-0b2ccd2c4633","type":"message","user":"U03C71D7H","text":"今日は iptables の設定をしよう。と言っても秘伝のタレを適用するだけなのだけど","ts":"1599371674.316900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oqln"}]},{"client_msg_id":"8090261b-b905-4fc9-9885-ac3891d6b8e0","type":"message","user":"U9S4G0LJW","text":"vivaldiへの乗り換えを検討していた所だったのでありがたい","ts":"1599322561.315800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zPfVD"}]},{"client_msg_id":"f3bf6582-fa84-4755-aee8-327283109d4e","type":"message","user":"U8CC7MDCL","text":"vivaldi-ffmpeg-codecsがAURのだと死ぬ程ビルドに時間かかるので入れました。\nビルド済みのが置いてあって便利","ts":"1599322524.315500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hqXq"}]},{"client_msg_id":"3af2979a-bb48-4a1a-a575-a2b27d131db4","type":"message","user":"U9S4G0LJW","text":"herecura自体知らなかったので便利できそう","ts":"1599322214.314400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MFMH"}]},{"client_msg_id":"a0e9eb93-65b8-44de-b83e-5a477cf97301","type":"message","user":"U8CC7MDCL","text":"違う間違えた…\n`aur/virtualbox-host-modules-lts`\n名前ややこしすぎる","ts":"1599322087.313900","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7nZ"}]},{"client_msg_id":"4b85439e-84ac-4972-b2a3-13e67d10d33d","type":"message","user":"U9S4G0LJW","text":"あざます","ts":"1599322081.313700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bGm"}]},{"client_msg_id":"cb993e63-5165-4bdf-9215-48fdf062dca0","type":"message","user":"U8CC7MDCL","text":"~herecura/virtualbox-modules-bede-lts-host~ 使うとか？\n(自分は使ってないけどherecuraレポジトリにあった)\n(linux-bede-ltsとかいう謎カーネル用だった…)","ts":"1599322048.312900","edited":{"user":"U8CC7MDCL","ts":"1599322157.000000"},"team":"T03C4RC8V","reactions":[{"name":"otxu","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fDAmm"}]},{"client_msg_id":"34e5ce99-767d-435b-9eca-1230558a7136","type":"message","user":"U9S4G0LJW","text":"linux-ltsを使いたいがdkmsを使いたくない(完)","ts":"1599321878.311900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YrXB"}]},{"client_msg_id":"fc7b42af-1d0f-4188-974a-983b89694518","type":"message","user":"U03C71D7H","text":"だいぶ雑なコピペをしてしまっていた…","ts":"1599321848.311500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+AW05"}]},{"client_msg_id":"651a4974-c644-48ba-872d-451416a74846","type":"message","user":"U03C71D7H","text":"たぶん直した","ts":"1599321839.311000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bx4lA"}]},{"client_msg_id":"2badbf27-7d03-4c79-b1b8-7a774853b400","type":"message","user":"U9S4G0LJW","text":"Windowsでしか動かないソフト動かすのとかにちょいちょい使ってるので不便","ts":"1599321819.310200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jorD"}]},{"client_msg_id":"12246aaf-2b26-4a67-9bed-0636fe10f57a","type":"message","user":"U9S4G0LJW","text":"こっちはカーネルがクラッシュした(どうもVirtualBoxが原因っぽい)","ts":"1599321779.309800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9F1"}]},{"client_msg_id":"55800f00-8134-4390-a6da-2450616c9e72","type":"message","user":"U9S4G0LJW","text":"毎度思うけどs記法で通じるの便利","ts":"1599321749.308800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MNY"}]},{"client_msg_id":"6822e7aa-2852-4f9c-9e3a-6da25f1055d2","type":"message","user":"U03C71D7H","text":"またミスが…","ts":"1599321720.308000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+QT"}]},{"client_msg_id":"64dbdcdc-8657-4041-9608-86b4ab396af2","type":"message","user":"U8CC7MDCL","text":"`s/\\/dev\\/arch/\\/mnt\\/arch/g`","ts":"1599321647.307800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nS0"}]},{"client_msg_id":"08bc5ddc-28f0-4a41-9605-dc15cb48371c","type":"message","user":"U03C71D7H","text":"うは… Vim クラッシュした (たぶん外部インターフェース絡み)","ts":"1599321490.306300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7oO3M"}]},{"client_msg_id":"c154fc0c-5e9d-4a88-9079-4357a15443bc","type":"message","user":"U03C71D7H","text":"やっと Vim が自前ビルドできた (自作ビルドスクリプトが環境変わって動かなくなってた)","ts":"1599321300.306000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k2y"}]}]
