[{"client_msg_id":"d06d4490-7800-47f2-a73d-301b725362d0","type":"message","user":"UKHUVMBJR","text":"ふむふむ\nそうですねえ、SQLと話違うじゃんってのはそう…","ts":"1614237713.103700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gOp3"}]},{"client_msg_id":"1f643540-fc8d-4715-ae08-ba891e41d4bc","type":"message","user":"U06BRP8VD","text":"SQLにたとえたのが悪手なんですよ。\n\n\u0026gt; 別々に動く想定\nこれは vx, vy が入ってる時点で偽なんですよ。次フレームの座標を計算するのは `UPDATE physical SET x = x +vx, y = y + vy` で全 physical に対していっぺんにできることになるので、後者のまとめ方には一定の理解ができます。\n\nconsistencyの話は、SQL的に考えるなら自動で維持できるって話なので。まぁゲームのECSでやるなら固定配列になるでしょうから、そのスロットを使ってるかどうかのフラグになるんじゃないかな。","ts":"1614235004.103300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SHx"}]},{"client_msg_id":"b7b5dd4a-00e3-413f-826a-aba829a13b56","type":"message","user":"UKHUVMBJR","text":"consistencyでいうとむしろ、下にした場合、\nあるエンティティを削除するときに複数テーブルからちゃんと消しておかないといけないという手間が","ts":"1614228241.098800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JhI3I"}]},{"client_msg_id":"c1ab9d89-904d-4aa6-a88f-ca1de08e1ad7","type":"message","user":"UKHUVMBJR","text":"なので多分本当にどっちでもよくて、\n敢えて言うなら上にするとエンティティの種類ごとにテーブルを都度増やす必要があるけど、\n下にすると使うテーブルを増やさずに組み合わせで解決できるかもしれない……ってくらい","ts":"1614228183.098000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"orxx"}]},{"client_msg_id":"0393e7b6-dc8b-4201-b9c2-d2e554bf44ac","type":"message","user":"UKHUVMBJR","text":"いや、正規化の話ではないはずです、\nplayer同士やbullet同士、playerとbulletは同じ座標を持つんじゃなくて別々に動く想定なので","ts":"1614228081.096800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UO3"}]},{"client_msg_id":"3fdcd015-4eb3-4f37-aa76-a4a40251c33a","type":"message","user":"U06BRP8VD","text":"SQLにおいてあえて非正規化(上)を選ぶケースってパフォーマンスなんですけど、その意味でもECSとは逆の効果ありそう。","ts":"1614225974.095600","thread_ts":"1614225974.095600","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3EOJY"}]},{"client_msg_id":"329ba3e8-a91b-42b0-9f22-99796269144d","type":"message","user":"UERCTTT8B","text":"正規化すると下か","ts":"1614225915.094800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IBxN3"}]},{"client_msg_id":"0a24ab12-b3ae-49ac-be21-64b0e40dd809","type":"message","user":"U06BRP8VD","text":"いわんとしていることはわかるけどSQLのそれで例えると下一択になっちゃうw","ts":"1614225884.094300","edited":{"user":"U06BRP8VD","ts":"1614225897.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AnO"}]},{"client_msg_id":"f4ef68c5-3832-4bec-950d-b247b84c3b36","type":"message","user":"UKHUVMBJR","text":"なんかSQLでのテーブルの切り方どうする問題に近いかなって気がしてきた\nたとえば素直に切ると、\n```table player ( id, x, y, vx, vy, hp, mp )\ntable bullet ( id, x, y, vx, vy, damage )```\nみたいになるけど、これを\n```table physical ( id, x, y, vx, vy )\ntable player ( id, hp, mp )\ntable bullet ( id, damage )```\nみたいに切ってjoinしてもいいので、どっちを選ぶのもアリ\n的な","ts":"1614225665.092100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UKeS"}]},{"client_msg_id":"0d072637-3c87-4e82-b679-a17ae6e244cb","type":"message","user":"U06BRP8VD","text":"大規模で再利用性を重視、みたいな適用条件が付きそう。","ts":"1614223555.090000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xo=E"}]},{"client_msg_id":"73b2b6ab-edd3-40f2-b97e-49c154a86f98","type":"message","user":"UAZ33BKV2","text":"PortalとかAntichamber みたいな物理法則超越だと事故おこしそうだ","ts":"1614222443.089500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AQLd"}]},{"client_msg_id":"5be2f361-7815-441e-89a8-96da94449966","type":"message","user":"UKHUVMBJR","text":"うーんわからないし自分の開発では無縁そう","ts":"1614222159.088800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eWMa"}]},{"client_msg_id":"b7d19fdc-ccc8-4755-b13b-43f6d3e7f562","type":"message","user":"UKHUVMBJR","text":"なんかこう…3D空間にオブジェクト置いていくときに、物理的にはこうだけどシステム的にはこうみたいなのをコンポーネントの組み合わせで表現したいのかなって…","ts":"1614222105.088200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"n45"}]},{"client_msg_id":"b5cc8d56-e025-44b1-8fa6-35ba364890db","type":"message","user":"UERCTTT8B","text":"それは初耳","ts":"1614221922.087500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BS+1D"}]},{"client_msg_id":"3902a470-30fb-4f4f-8dae-75ff364b97dd","type":"message","user":"UKHUVMBJR","text":"コンポーネントの組み合わせっていう設定値でなくてプログラマがぜんぶなんとかする、なら不要ってことかも","ts":"1614221747.087000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EgsuU"}]},{"client_msg_id":"bd8d7168-e422-4bfc-ae8c-8a94346097d3","type":"message","user":"UKHUVMBJR","text":"ありそう…（ありそうだけど実例を知らないからふわっとしてる）","ts":"1614221699.086500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sXX"}]},{"client_msg_id":"b05066c8-4332-4eda-8fd3-25f2ba5ccf6b","type":"message","user":"U06BRP8VD","text":"新しいキャラとか設置物作る(=企画する)ときに、このコンポーネントとこのコンポーネント組み合わせれば矛盾なく入れられるよね、みたいなこと考えるためにあるんでしょ。実装とは別で。","ts":"1614221555.086100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kbnv1"}]},{"client_msg_id":"bc08d1e5-d644-4c15-9006-8882e10ae1dd","type":"message","user":"UKHUVMBJR","text":"これは設計の観点ですね","ts":"1614221552.086000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eRAJ9"}]},{"client_msg_id":"e1944ce2-b9ba-45db-ab4c-8d29fb768ba8","type":"message","user":"UKHUVMBJR","text":"そうなんですよ、それっぽいもの作ってみて自分もその結論になりましたね\nECSっていう縛りをもうける必要がないっていうか…","ts":"1614221517.085300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Aqxl"}]},{"client_msg_id":"aa4c80be-d667-4527-b925-dcb2010e3845","type":"message","user":"UERCTTT8B","text":"アマチュア開発者並の感想","ts":"1614221491.084300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EiisM"}]},{"client_msg_id":"05774421-f699-4cd3-88c8-be1e8fd5e7ca","type":"message","user":"UERCTTT8B","text":":thinking_face: ECS じゃなくてべつに Update / Draw をもたせてツリー状に依存がある、ってだけで十分じゃないのかなあ","ts":"1614221468.084000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1TQ"}]},{"client_msg_id":"b4dc07a9-bba1-43f9-b61e-829a0f3d28ed","type":"message","user":"UKHUVMBJR","text":"ですね\n特に最適化の話は計測の前に脳死で導入しても意味ないし…","ts":"1614221452.083600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ajsA5"}]},{"client_msg_id":"c26e4385-d95c-4745-9ca6-3fc5b33ee3b3","type":"message","user":"UERCTTT8B","text":"話すときにまずその宗派か確認する必要がある…","ts":"1614221427.082700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5JBfL"}]},{"client_msg_id":"6131c56f-6a5e-452e-af93-2f522ba397ce","type":"message","user":"UERCTTT8B","text":"ECS はそこらへん人によってスタンスが違うので","ts":"1614221402.081900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PfY"}]},{"client_msg_id":"ae6db342-a450-452a-9bbe-eb62762f5b2a","type":"message","user":"UKHUVMBJR","text":"ですね\nちょっとすっきりしました（設計の話と最適化の話で分ける）","ts":"1614221388.081400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"t6Ucj"}]},{"client_msg_id":"9bf17527-66f1-430f-be01-a5c3b9c1485f","type":"message","user":"U06BRP8VD","text":"纏めて扱うデータを配列にパックできる形に、ってのはECSに限らずHoshiさんのいうようにメモリ参照局所性のためにあちこちで見られる手法なんですよね。\n\nECSすればそれがやりやすくなるっていう話ならわかる。","ts":"1614221330.081000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Djc"}]},{"client_msg_id":"c4a10c4c-757b-4108-bd9f-c110cc57390b","type":"message","user":"UKHUVMBJR","text":"Unityエンジンその他一部で使われてる最適化の一つって考えるのがよさげかな、ECSとメモリレイアウトの話は","ts":"1614221084.080000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vXEMS"}]},{"client_msg_id":"a695c002-8e5c-496d-acf4-89bb6aeea12e","type":"message","user":"UKHUVMBJR","text":"\u003chttps://blogs.unity3d.com/jp/2019/03/08/on-dots-entity-component-system/\u003e","ts":"1614220989.079100","attachments":[{"fallback":"Unity Technologies Blog: On DOTS: Entity Component SystemDOTS 기술 소개: 엔티티 컴포넌트 시스템DOTS について：Entity Component System - Unity Technologies Blog","id":1,"title":"On DOTS: Entity Component SystemDOTS 기술 소개: 엔티티 컴포넌트 시스템DOTS について：Entity Component System - Unity Technologies Blog","title_link":"https://blogs.unity3d.com/jp/2019/03/08/on-dots-entity-component-system/","text":"この記事は、私たちの新しい Data-Oriented Tech Stack（DOTS）に関するいくつかのブログ記事のうちの 1 つです。私たちの現状と今後の方向性について説明します。 前回の記事では、今後の Unity […]","image_url":"https://blogs.unity3d.com/wp-content/uploads/2019/02/header.png","fields":[{"title":"Written by","value":"Lucas Meijer","short":true},{"title":"Est. reading time","value":"8分","short":true}],"blocks":null,"ts":1552032247,"service_name":"Unity Technologies Blog","service_icon":"https://blogs.unity3d.com/wp-content/themes/unity/images/ui/favicons/apple-touch-icon-152x152.png","from_url":"https://blogs.unity3d.com/jp/2019/03/08/on-dots-entity-component-system/","original_url":"https://blogs.unity3d.com/jp/2019/03/08/on-dots-entity-component-system/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gYEMH"}]},{"client_msg_id":"19b8e6d3-6dd0-4042-b68f-80fda4a81bdd","type":"message","user":"UKHUVMBJR","text":"ECSの派閥がいろいろありすぎて（6割Unityのせいだけど）メモリレイアウトの話も頻出するんですよね…","ts":"1614220955.078900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UI2"}]},{"client_msg_id":"0828f98f-cda3-4f12-8ec8-b14440cbc4ce","type":"message","user":"UERCTTT8B","text":"なるほど","ts":"1614220681.078400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BPE"}]},{"client_msg_id":"7ee8d118-687c-4769-b957-e27e4772c619","type":"message","user":"U06BRP8VD","text":"どっちかっていうと設計・管理の話で、メモリ上のレイアウトは副産物的な印象を抱いたよ。","ts":"1614220237.078200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h=Z"}]},{"client_msg_id":"e56b3bda-3358-4791-9f67-1474c91defbf","type":"message","user":"U06BRP8VD","text":"んー僕も知らないけど、この(wikiの)説明書きからはメモリの効率云々は読み取れないわ。","ts":"1614220103.077000","edited":{"user":"U06BRP8VD","ts":"1614220119.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nTIA"}]},{"client_msg_id":"74a3544c-f442-4030-ac3b-7c1baebda567","type":"message","user":"UERCTTT8B","text":"よくしらない","ts":"1614220074.076400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QyW"}]},{"client_msg_id":"b2dd6200-119c-4c84-833d-36bc98acb16f","type":"message","user":"UERCTTT8B","text":"ECS はメモリ参照局所性を改善するのも暗黙の目的としてあるんですっけ?","ts":"1614220072.076200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ioni"}]},{"client_msg_id":"ce9cd273-274d-4ec0-b5d3-ec31f7f69e81","type":"message","user":"UKHUVMBJR","text":"Goの場合は動的確保を抑えたいならsync.Poolが使えるしやっぱり要らなさそう","ts":"1614201867.075400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AzpE6"}]},{"client_msg_id":"d406c0bb-52ea-45fe-993e-07c76f0dceaa","type":"message","user":"UKHUVMBJR","text":"と思ったけどやっぱりわからなくなってきた…必要かも…\n設計の話は場合によりすぎるからなー…","ts":"1614197504.072900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eWT0d"}]},{"client_msg_id":"e085b8be-62f0-4cb6-9998-a89c28aaf967","type":"message","user":"UKHUVMBJR","text":"元々不要だと思ってたけど、やたら話題になるのでではやってみるかと思って作ったらやっぱ不要だった感じ","ts":"1614196211.072500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pKM"}]},{"client_msg_id":"a55c9646-ecf5-4511-9750-5b9ff4177cf3","type":"message","user":"UKHUVMBJR","text":"gamedevでよくentity component systemの話になるのでGoで実装してみたけど、なんか不要っぽさを感じる\nあるエンティティ（プレイヤー、弾、敵…）を複数のコンポーネント（座標、体力、…）に分割してそれぞれあるデータ構造に格納することで\nメモリを効率的にして云々……ってことだけど、そうやってメモリを気にする必要があんま出てこないっていうか…\n\u003chttps://ja.wikipedia.org/wiki/%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%83%BB%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%83%BB%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0\u003e","ts":"1614196172.071900","attachments":[{"fallback":"wikipedia: エンティティ・コンポーネント・システム","id":1,"author_name":"Wikipedia","author_link":"https://ja.wikipedia.org/","title":"エンティティ・コンポーネント・システム","title_link":"https://ja.wikipedia.org/wiki/%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%83%BB%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%83%BB%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0","text":"エンティティ・コンポーネント・システム（英語: Entity_component_system、ECS）とは、主にゲーム開発で使用されているソフトウェアアーキテクチャパターンである。ECSは継承よりコンポジションの原則に従うことで、より柔軟にエンティティを定義することを可能にする。エンティティとは、ゲームのシーンの中のすべての実体であるオブジェクトのことである（例えば、敵、銃弾、乗り物など）。すべてのエンティティは、付加的な振る舞いや機能を追加するものである１つ以上のコンポーネントから構成される。したがって、エンティティの振る舞いは、実行時にコンポーネントを追加あるいは削除することで変更可能である。これは、深く幅広い継承階層を除去し、その理解・保守・拡張が難しくなりあいまいになるという問題を取り除く。ECSの一般的なアプローチはデータ指向設計の手法と高い互換性を持ち、よく組み合わせられる。","blocks":null,"service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/wikipedia.png","from_url":"https://ja.wikipedia.org/wiki/%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%83%BB%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%83%BB%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0","original_url":"https://ja.wikipedia.org/wiki/%E3%82%A8%E3%83%B3%E3%83%86%E3%82%A3%E3%83%86%E3%82%A3%E3%83%BB%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%83%BB%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ohm"}]},{"client_msg_id":"fd440f28-97bf-4372-bdf0-ef60b6c86136","type":"message","user":"U06BRP8VD","text":"ブクマを見る限りそうっぽい","ts":"1614183003.070000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zwl"}]},{"client_msg_id":"078404d7-3ef7-40a7-804d-6f28902eb925","type":"message","user":"UERCTTT8B","text":"Vivliostyle では","ts":"1614182405.069700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"giN"}]},{"client_msg_id":"158a1329-a2f6-44fc-abb7-052cdd0dae5d","type":"message","user":"U06BRP8VD","text":"CSS組版のフレームワークかツールか、なんかあったきがする","ts":"1614181817.069500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"76sBn"}]},{"client_msg_id":"d7e12f57-d7f0-4433-aeef-e9cd76fe822d","type":"message","user":"U06BRP8VD","text":"エンティティ間のインタラクトが少ないケースで採用できる。が、だいたいはconsistencyの維持に苦労するやつ。","ts":"1614226036.095800","thread_ts":"1614225974.095600","parent_user_id":"U06BRP8VD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k3Cyk"}]}]
