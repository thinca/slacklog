[{"client_msg_id":"d8387808-f67b-4ec6-95e8-0f15e45c473e","type":"message","user":"UG6DF6W87","text":"\u003chttps://dba.stackexchange.com/a/54615\u003e\nこういうコメントも見つけてしまった...が公式ドキュメントからそれ読み取れないんだよなぁ...\nC/C++ 力がないので、ソース読んでもさっぱり分からん...","ts":"1600078448.011100","attachments":[{"fallback":"Database Administrators Stack Exchange: What are the drawbacks of using Galera Cluster instead of Master/Slave Replication?","id":1,"title":"What are the drawbacks of using Galera Cluster instead of Master/Slave Replication?","title_link":"https://dba.stackexchange.com/a/54615","text":"What are the drawbacks of using Galera Cluster instead of regular Master/Slave Replication? Galera's 0 slave lag time, Synchronous replication and no Single point of failure seem very appealing the...","thumb_url":"https://cdn.sstatic.net/Sites/dba/Img/apple-touch-icon@2.png?v=246e2cb2439c","blocks":null,"service_name":"Database Administrators Stack Exchange","service_icon":"https://cdn.sstatic.net/Sites/dba/Img/apple-touch-icon.png?v=cdcd5ff7b29e","thumb_width":316,"thumb_height":316,"from_url":"https://dba.stackexchange.com/a/54615","original_url":"https://dba.stackexchange.com/a/54615"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xUL"}]},{"client_msg_id":"7E1FA400-DF33-49A6-B2A5-7B01796F8A0A","type":"message","user":"U77U7B85A","text":"前に働いてたところで使ってたのにもう完全に忘れてしまった…","ts":"1600072605.009600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DAH"}]},{"client_msg_id":"565be94a-6de0-4bd5-a78c-52830f4cbaaa","type":"message","user":"U06ECBRTJ","text":"同期同期","ts":"1600066755.007500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2VfI"}]},{"client_msg_id":"ef5d4c82-530b-44a3-b10a-7a8404c8e09c","type":"message","user":"UG6DF6W87","text":"実際 `SET SESSION wsrep_sync_wait = 1` としてから SELECT すればちゃんと保証されてるような動きにはなるんで、挙動としてはいいんですが...\nじゃあ同期レプリケーションとはなんだったのか... みたいな気分に...","ts":"1600066619.007300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P//tS"}]},{"client_msg_id":"1d3b79b4-f38a-4cab-af2e-3208c9d87786","type":"message","user":"UG6DF6W87","text":"galera-cluster は同期的にレプリケーションするぜ! というのを推しててですね、たとえば\n\u003chttps://mariadb.com/kb/en/about-galera-replication/#synchronous-vs-asynchronous-replication\u003e\n\u0026gt; This means that if a `SELECT` is executed on one cluster node after a transaction is executed on a cluster node, it should see the effects of that transaction.\nこんなことがかかれていたりして...","ts":"1600066496.005800","attachments":[{"fallback":"MariaDB KnowledgeBase: About Galera Replication","id":1,"title":"About Galera Replication","title_link":"https://mariadb.com/kb/en/about-galera-replication/#synchronous-vs-asynchronous-replication","text":"About Galera replication.","blocks":null,"service_name":"MariaDB KnowledgeBase","service_icon":"https://mariadb.com/kb/static/images/favicons/apple-touch-icon.159e713979be.png","from_url":"https://mariadb.com/kb/en/about-galera-replication/#synchronous-vs-asynchronous-replication","original_url":"https://mariadb.com/kb/en/about-galera-replication/#synchronous-vs-asynchronous-replication"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qFl"}]},{"client_msg_id":"cf7f9c9f-7106-41c6-bc36-12dab7dae273","type":"message","user":"U06ECBRTJ","text":"(mysql しか触ったこと無いけど","ts":"1600066288.004200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J3bd"}]},{"client_msg_id":"84c00bca-d17c-4806-949a-3b6832c93f27","type":"message","user":"U06ECBRTJ","text":"一応、レプリケーションはネットワーク起因や、データの増加量とかで遅延したりしますが","ts":"1600066262.003700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cFNv"}]},{"client_msg_id":"e5648154-eca9-4644-ad13-9b3b085252e1","type":"message","user":"UG6DF6W87","text":"しかも実際 Read/Write 分けてシーケンシャルに SELECT/INSERT ぶん回すとたまに INSERT したやつが見えないし...","ts":"1600066158.003000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UfJys"}]},{"client_msg_id":"9c38568e-3558-49aa-b38f-2f28682fad05","type":"message","user":"UG6DF6W87","text":"\u003chttps://galeracluster.com/library/documentation/mysql-wsrep-options.html#wsrep-sync-wait\u003e\nではこの設定値は...なに...","ts":"1600066117.002100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hRa"}]},{"client_msg_id":"3f05a522-58a7-4d11-a6cc-5009a6d187c5","type":"message","user":"UG6DF6W87","text":"\u003chttps://galeracluster.com/library/documentation/tech-desc-introduction.html\u003e\n同期レプリケーションだとトランザクションがコミットされた瞬間には他のノードでも見える、つまり Node A に INSERT したやつはそれが完了したら Node B で SELECT したら見えるはずじゃないのか...","ts":"1600066052.001700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s1=wX"}]},{"client_msg_id":"18785f9c-c53d-43de-96ec-d0dc94f0ceda","type":"message","user":"UG6DF6W87","text":"galera-cluster なんもわからん...","ts":"1600065924.000300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MhPVE"}]}]
