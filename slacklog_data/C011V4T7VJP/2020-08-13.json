[{"client_msg_id":"ff7d7143-01c3-4893-9a69-8871f4319c4a","type":"message","user":"U03C71D7H","text":"たしかに","ts":"1597293899.313200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gHrL"}]},{"client_msg_id":"002dd7f6-035b-487f-9a7b-5ffec71530ff","type":"message","user":"UBRTB4N5C","text":"`wc` だと全部読むのが無駄っぽいので、2行目がみつかった段階で終了したくなる…。\n`awk 'NR==2{exit 1}'` とか。","ts":"1597293770.313000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YEHzU"}]},{"client_msg_id":"00fd7d8d-4cad-4631-b4b5-9faef6e20fb9","type":"message","user":"U03C71D7H","text":"```textconv = \"f() { [[ $(wc -l \u0026lt; $1) == '1' ]] \u0026amp;\u0026amp; jq . $1 || cat $1; }; f\"```\nつまりこう","ts":"1597293580.312100","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z8I"}]},{"client_msg_id":"5a64ebe3-5860-430b-aeee-aa709f53d1c0","type":"message","user":"U03C71D7H","text":"`wc` はファイル名が一緒に出ちゃってアレだなと思ったけど標準入力から流し込めばファイル名出ないのか","ts":"1597293528.311800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"APZHH"}]},{"client_msg_id":"082f0af3-0349-45fb-b651-80c856c532a8","type":"message","user":"U03C71D7H","text":"1行の判定もっとラクにできんもんか","ts":"1597293461.311200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Erqi"}]},{"client_msg_id":"adecfc39-3de0-4176-810a-52971645ee66","type":"message","user":"U03C71D7H","text":"```textconv = \"f() { [[ $(wc -l $1 | cut -d ' ' -f 1) == '1' ]] \u0026amp;\u0026amp; jq . $1 || cat $1; }; f\"```\nこうなった","ts":"1597293425.310900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J3P"}]},{"client_msg_id":"972fa804-a188-470f-ace2-68a1cac17a43","type":"message","user":"U03C71D7H","text":"`git diff` で `.json` ファイルの差分を出す時に、ファイルが minify されていると差分が死ぬので jq を噛ますようにしてみたら案外捗る\nしかし minify されていない場合に噛ませてしまうと本当の差分がわかりづらくなりそうで、どうしたものか。内容が1行だったら jq を噛ますラッパコマンドでも作るか…?","ts":"1597292469.310600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xw4T"}]}]
