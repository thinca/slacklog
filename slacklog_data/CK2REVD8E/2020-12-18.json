[{"client_msg_id":"86AB5090-55C6-438E-A328-46C7FEC6366F","type":"message","user":"U782D5DF1","text":"今の案件でdockerをwindowsにインストールできたので昔の私に知見を教えてあげたい","ts":"1608286455.398200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GdU2F"}]},{"client_msg_id":"7635CE0B-FFDE-4FE4-A69B-261584397C18","type":"message","user":"U782D5DF1","text":"dockerが動かなくて諦めたな…","ts":"1608286381.396600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M453J"}]},{"client_msg_id":"4860718A-B493-412C-BD7C-4B822A1D1C7A","type":"message","user":"U782D5DF1","text":"aws案件でsamをローカルで使おうとしたら","ts":"1608286351.395900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"apl3x"}]},{"client_msg_id":"052d656d-2953-49d6-9d59-f74e015dfb3a","type":"message","user":"UAZ33BKV2","text":"GitHub Actionでエラーがなんかうまく報告されないなーと思ってみたら\n```mypy\n 戻り値をNGの型にした -\u0026gt; return の箇所の型でNG発生\nreviewdog filter-mode:added\n 追加/変更行の箇所じゃない -\u0026gt; フィルタされる```\nで出てなかったようだ\n後から型を付けるのなら、この挙動だと file もしくは nofilter しなきゃいけないど、なかなか沢山出そうで辛いなw","ts":"1608282264.394900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Uw9i"}]},{"client_msg_id":"e917223e-026f-4d8b-b513-86373d384d8f","type":"message","user":"UDPT2BZ6E","text":"こういう記事がありました。ちょっと変えて行番号とソースコードを得られることが確かめられました! \u003chttps://qiita.com/PND/items/8b6f64c9b185724edc74\u003e\n```import sys\n\ndef func(x):\n    a = x + 1\n    b = a * 4\n    return a + 2\n\ndef trace(frame, event, arg):\n    if event == 'line':\n        module = frame.f_globals.get('__name__')\n        loader = frame.f_globals.get('__loader__')\n        source = loader.get_source(module)\n        lineno = frame.f_lineno\n        line = source.splitlines()[lineno - 1]\n        print(lineno, line)\n\n    if event == 'return':\n        print(frame.f_locals.items())\n\n    return trace\n\nsys.settrace(trace)\nfunc(1)```\n```$ python pysnooper-simple.py \n4     a = x + 1\n5     b = a * 4\n6     return a + 2\ndict_items([('x', 1), ('a', 2), ('b', 8)])```","ts":"1608274705.392100","attachments":[{"fallback":"Qiita: PySnooper の実装の仕組みを調べる - Qiita","id":1,"title":"PySnooper の実装の仕組みを調べる - Qiita","title_link":"https://qiita.com/PND/items/8b6f64c9b185724edc74","text":"概要 cool-RR/PySnooper: Never use print for debugging again PySnooper というデバッグ用の Python ライブラリについて、どのように実装されているかソースコー...","image_url":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-1.2.2\u0026w=1200\u0026mark=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D380%26txt%3DPySnooper%2520%25E3%2581%25AE%25E5%25AE%259F%25E8%25A3%2585%25E3%2581%25AE%25E4%25BB%2595%25E7%25B5%2584%25E3%2581%25BF%25E3%2582%2592%25E8%25AA%25BF%25E3%2581%25B9%25E3%2582%258B%26txt-color%3D%2523333%26txt-font%3DHiragino%2520Sans%2520W6%26txt-size%3D54%26txt-clip%3Dellipsis%26txt-align%3Dcenter%252Cmiddle%26s%3D0ccf705986938711c9086b0117864433\u0026mark-align=center%2Cmiddle\u0026blend=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D500%26txt%3D%2540PND%26txt-color%3D%2523333%26txt-font%3DHiragino%2520Sans%2520W6%26txt-size%3D45%26txt-align%3Dright%252Cbottom%26s%3Dfab418822e840e4929ca9d20f2215e64\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=681f21c386faa8d66189ebb221c34bed","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png","from_url":"https://qiita.com/PND/items/8b6f64c9b185724edc74","original_url":"https://qiita.com/PND/items/8b6f64c9b185724edc74"}],"team":"T03C4RC8V","reactions":[{"name":"+1","count":3,"users":["U78A6ESHM","UAZ33BKV2","UD1FQV38V"]},{"name":"goodpoem","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u5+p"}]},{"client_msg_id":"c12673b3-fce0-4bfb-a1aa-0784ce2ee2c5","type":"message","user":"UDPT2BZ6E","text":"なるほど。sys.settraceを使えば行単位でどこを実行したのか分かる？のですね。\n調べてみます。ありがとうございます!","ts":"1608274397.391600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uE4"}]},{"client_msg_id":"1f6ad837-56a3-4e1f-b6eb-feec2f45a060","type":"message","user":"UAZ33BKV2","text":"sys.settrace、か","ts":"1608274037.391400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6dIj"}]},{"client_msg_id":"a87802f1-c56b-4286-a701-1e3d74a58359","type":"message","user":"U78A6ESHM","text":"\u003chttps://coverage.readthedocs.io/en/coverage-5.3/howitworks.html\u003e\n仕組み的にはここら辺でしょうか。","ts":"1608273946.391100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7W18"}]},{"client_msg_id":"04fb008d-fd91-4730-9e8f-23747a460a12","type":"message","user":"UDPT2BZ6E","text":"samを使う方法がよさそうです。\nふと気になったのですが、coverage.pyなどのカバレッジツールはどうやってカバレッジを計算しているのでしょう。。？","ts":"1608272858.390800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A8B"}]},{"client_msg_id":"368bb41d-80eb-4c9a-8b52-121013896643","type":"message","user":"UDPT2BZ6E","text":"既に関数を呼びだすだけにしているのですが、その関数がLambdaLayerに依存していてsamの力を借りないと動かないんですよね。。;;","ts":"1608270400.390500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sl5s"}]},{"client_msg_id":"ff5b5d3a-7dba-45f5-9920-3a5dadcd0122","type":"message","user":"UDPT2BZ6E","text":"ありがとうございます! やはりsamでLambdaを立ち上げてinとoutを見る感じですかね。\nカバレッジを取ってみたいのですが、samで立ち上げたLambdaにリクエストを投げる方式だと取れなさそう。。？","ts":"1608270366.390300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fy/O"}]},{"client_msg_id":"502034c9-0063-409c-a8dc-5e42ff7fba11","type":"message","user":"U78A6ESHM","text":"ハンドラーは関数呼び出すだけにして関数だけをテストする系ですかねー。","ts":"1608270270.390000","team":"T03C4RC8V","reactions":[{"name":"me-too","count":2,"users":["U7B4ZD49X","U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iHWMT"}]},{"client_msg_id":"171402c8-74dc-4854-b272-b8fbe9a1d5e3","type":"message","user":"UNJ2DANJC","text":"lambdaの処理を切り出してmockするとか","ts":"1608270130.389400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I6XJB"}]},{"client_msg_id":"4e460259-f4f9-452a-bd7d-0006998a23c4","type":"message","user":"U78A6ESHM","text":"\u003chttps://docs.aws.amazon.com/ja_jp/serverless-application-model/latest/developerguide/serverless-sam-cli-using-automated-tests.html\u003e\nlambda のテストはやったことはないですが、ここら辺でしょうか。\nDynamoDB のローカルは\n\u003chttps://docs.aws.amazon.com/ja_jp/amazondynamodb/latest/developerguide/DynamoDBLocal.html\u003e\nを使った経験はあります。","ts":"1608270046.387700","attachments":[{"fallback":"自動テストとの統合 - AWS Serverless Application Model","id":1,"title":"自動テストとの統合 - AWS Serverless Application Model","title_link":"https://docs.aws.amazon.com/ja_jp/serverless-application-model/latest/developerguide/serverless-sam-cli-using-automated-tests.html","text":"sam local invoke コマンドを使用して、Lambda 関数をローカルで実行することで、コードを手動でテストできます。AWS SAM CLI を使用すると、AWS クラウドにデプロイする前に、まずローカル Lambda 関数に対してテストを実行することで、自動統合テストを簡単に作成できます。","blocks":null,"service_name":"docs.aws.amazon.com","service_icon":"https://docs.aws.amazon.com/assets/images/favicon.ico","from_url":"https://docs.aws.amazon.com/ja_jp/serverless-application-model/latest/developerguide/serverless-sam-cli-using-automated-tests.html","original_url":"https://docs.aws.amazon.com/ja_jp/serverless-application-model/latest/developerguide/serverless-sam-cli-using-automated-tests.html"},{"fallback":"DynamoDB ローカル (ダウンロード可能バージョン) のセットアップ - Amazon DynamoDB","id":2,"title":"DynamoDB ローカル (ダウンロード可能バージョン) のセットアップ - Amazon DynamoDB","title_link":"https://docs.aws.amazon.com/ja_jp/amazondynamodb/latest/developerguide/DynamoDBLocal.html","text":"時間と資金を節約するには、コンピュータ上でローカルで実行されている DynamoDB に対して開発およびテストしてから、AWS の DynamoDB ウェブサービスに対して変更されていないアプリケーションをデプロイします。","blocks":null,"service_name":"docs.aws.amazon.com","service_icon":"https://docs.aws.amazon.com/assets/images/favicon.ico","from_url":"https://docs.aws.amazon.com/ja_jp/amazondynamodb/latest/developerguide/DynamoDBLocal.html","original_url":"https://docs.aws.amazon.com/ja_jp/amazondynamodb/latest/developerguide/DynamoDBLocal.html"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ABzk"}]},{"client_msg_id":"98436519-c6c9-4beb-9059-88b912fb9280","type":"message","user":"UAZ33BKV2","text":"見た目でわからないですが、githu-pr-reviewだと修正変更のサジェストが出るようになりました。","ts":"1608266956.386300","thread_ts":"1608211199.384800","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6i0j0"}],"root":{"client_msg_id":"f6a087ea-dc33-46a1-9e44-2a02c3728268","type":"message","user":"UAZ33BKV2","text":"reviewdog projectにjoinしたので、blackなどの他アクションの改善にPRをちょっとした/貢献ができた\n\u003chttps://github.com/reviewdog/action-black\u003e","ts":"1608211199.384800","thread_ts":"1608211199.384800","attachments":[{"fallback":"GitHub: reviewdog/action-black","id":1,"title":"reviewdog/action-black","title_link":"https://github.com/reviewdog/action-black","text":"Contribute to reviewdog/action-black development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/48765237?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":357,"thumb_height":357,"from_url":"https://github.com/reviewdog/action-black","original_url":"https://github.com/reviewdog/action-black"}],"reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a68"}]}},{"client_msg_id":"70ca551b-791b-4cec-acdb-5fed03ed265e","type":"message","user":"UDPT2BZ6E","text":"現在AWS LambdaをPythonで書いているのですが、テストをどうやってやるのかについて悩んでいます。\nLambda Layerを使っているのでLambdaのコードが単体で動かないのが面倒な点なのですが、どなたかポインタ等ありますでしょうか。。？","ts":"1608266789.386200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pAgD"}]}]
