[{"client_msg_id":"19089661-b2d0-4e1e-9099-6f6e8e23d450","type":"message","user":"UAZ33BKV2","text":"逆にワークアラウンドしてたpecoがまずいのかー","ts":"1589871736.167900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jzhy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"48f2e0bd-ebf3-4d69-b9c2-fc92d8c1b68b","type":"message","user":"U6XP9LZ6V","text":"MSYS2 の runtime に 3.1.4 が来ました。ConPTY 対応により、mintty 上で普通のコンソールアプリがそのまま動くようになりました。","ts":"1589866221.156900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+L3I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e4fe6f37-9df9-4109-a61c-9871a6019aee","type":"message","user":"U03C6TEAZ","text":"native の vim.exe が動いた。ただ msys2 の libiconv が char を認識しないので termencoding=char だけコメントアウトした。","ts":"1589866281.158000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FRYCn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5afd397f-be2c-4926-a074-1eaac7e8ca72","type":"message","user":"U03C6TEAZ","text":"や、ちがうな。なんだ。","ts":"1589866319.158600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VwxOk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a5fe6606-524b-49dd-b1b3-46b33e9da780","type":"message","user":"U03C6TEAZ","text":"shell 上から参照する libiconv と cmd.exe から参照してる libiconv のパスが違うのかな。","ts":"1589866339.159000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zrn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99d03e24-468a-4a75-b09c-c6ed489cdea6","type":"message","user":"U6XP9LZ6V","text":"なお、MSYS2 のプロセスが残った状態で更新してしまうとおかしなことになるので注意。\n<https://twitter.com/k_takata/status/1262610584912056320>","ts":"1589866561.159400","attachments":[{"fallback":"<https://twitter.com/k_takata|@k_takata>: <https://twitter.com/mattn_jp|@mattn_jp> ConPTY対応が入ったのに合わせて、dllの内部データに互換性がなくなったせいですね。\n2台で試したところ、1台で同じ現象が発生しましたが、Windowsをログオフ・ログインしたところ、直りました。\nおそらく、古いバージョンのdllで動いていたプロセスが残っていたのではないかと思いますが。","id":1,"author_name":"K.Takata","author_subname":"@k_takata","author_link":"https://twitter.com/k_takata/status/1262610584912056320","author_icon":"https://pbs.twimg.com/profile_images/2947219305/a200439a06e4fc9fe9cf65c065247650_normal.png","text":"<https://twitter.com/mattn_jp|@mattn_jp> ConPTY対応が入ったのに合わせて、dllの内部データに互換性がなくなったせいですね。\n2台で試したところ、1台で同じ現象が発生しましたが、Windowsをログオフ・ログインしたところ、直りました。\nおそらく、古いバージョンのdllで動いていたプロセスが残っていたのではないかと思いますが。","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1589864796,"service_name":"twitter","from_url":"https://twitter.com/k_takata/status/1262610584912056320","original_url":"https://twitter.com/k_takata/status/1262610584912056320"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qOD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"70ae9844-8c2c-4913-97b9-0554f07a8d11","type":"message","user":"U03C6TEAZ","text":"つまり何が凄いかというと、msys2 上から go の cli が動くという事です。","ts":"1589866608.159900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"recUB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"423e4ece-7da7-43a2-8305-3f8a04087a26","type":"message","user":"UAZ33BKV2","text":":thumbsup::skin-tone-5:","ts":"1589866672.160200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Iwiz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f406fc19-a7bf-4e52-8753-d68444a526bb","type":"message","user":"U03C6TEAZ","text":"<https://twitter.com/mattn_jp/status/1262618581247770625>","ts":"1589866717.160400","attachments":[{"fallback":"<https://twitter.com/mattn_jp|@mattn_jp>: msys2 のシェル上から longcat 動いた。すごい。 <https://pbs.twimg.com/media/EYW45sLU8AAfmnw.png>","id":1,"author_name":"mattn","author_subname":"@mattn_jp","author_link":"https://twitter.com/mattn_jp/status/1262618581247770625","author_icon":"https://pbs.twimg.com/profile_images/1022150732634419200/yZg4xLsO_normal.jpg","text":"msys2 のシェル上から longcat 動いた。すごい。 <https://pbs.twimg.com/media/EYW45sLU8AAfmnw.png>","image_url":"https://pbs.twimg.com/media/EYW45sLU8AAfmnw.png","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1589866702,"service_name":"twitter","from_url":"https://twitter.com/mattn_jp/status/1262618581247770625","original_url":"https://twitter.com/mattn_jp/status/1262618581247770625"}],"team":"T03C4RC8V","reactions":[{"name":"subara","count":1,"users":["UAZ33BKV2"]},{"name":"longcat1","count":2,"users":["UAZ33BKV2","U9S4G0LJW"]},{"name":"longcat2","count":2,"users":["UAZ33BKV2","U9S4G0LJW"]},{"name":"longcat3","count":2,"users":["UAZ33BKV2","U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZQHNF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6a5a5d95-9d11-4405-94cf-82c23b1fc1e5","type":"message","user":"U03C6TEAZ","text":"逆に言うと、変なパスの通し方をすると native の vim.exe が動いてるのか、msys2 の vim.exe が動いてるのか一見分からんという話だ。","ts":"1589866816.161700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BolP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22db0889-6337-4783-a938-f34bcb0cf610","type":"message","user":"UAZ33BKV2","text":"かなり:sangyou_kakumei_2:","ts":"1589866821.161900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"94Hpw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"289764c0-f30c-4920-8d57-27eea0544988","type":"message","user":"U03C6TEAZ","text":"native vim.exe の terminal から msys2 の vim.exe を起動して、その terminal から native の vim.exe を起動した。","ts":"1589867418.163000","files":[{"id":"F013W1EJ78S","created":1589867416,"timestamp":1589867416,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":0,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":20487,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F013W1EJ78S/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F013W1EJ78S/download/image.png","original_h":706,"original_w":477,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F013W1EJ78S-6632a0e659/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F013W1EJ78S-6632a0e659/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F013W1EJ78S-6632a0e659/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F013W1EJ78S-6632a0e659/image_360.png","thumb_360_gif":"","thumb_360_w":243,"thumb_360_h":360,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-F013W1EJ78S-6632a0e659/image_480.png","thumb_480_w":324,"thumb_480_h":480,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/F013W1EJ78S/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-F013W1EJ78S-5b124079a8","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAwACCob25z/rMfQCj7dc/89T+QqPzE/wCeS/maPMT/AJ5L+ZpXFd9iT7dc/wDPU/kKPt91/wA9T+QqPzE/55L+Zo8xP+eS/maL+QXfYlKADm3H/ff/ANekwv8Az7j/AL7NV6KYyYtGDjyBn/fNOwv/AD7j/vs1XooFqFFS7Ie8rf8AfP8A9ejZD/z1b/vj/wCvQMioqXZD/wA9W/74/wDr0bIf+erf98f/AF6AP//Z","username":""}],"upload":true,"reactions":[{"name":"matryoshka-anime","count":2,"users":["U9S4G0LJW","U6XP9LZ6V"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ntxt"}]},{"client_msg_id":"86ab0f67-baae-452c-87d1-7d4e8c974727","type":"message","user":"U03C6TEAZ","text":"これでようやく winpty の役目が終わった感ありますね。","ts":"1589867772.163700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QwTLR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"da1a7c0c-4bfc-4911-9815-67cdde8029c0","type":"message","user":"U03C6TEAZ","text":"cmd 起動するとなんか変。","ts":"1589868062.163900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bbb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c116cde-4a10-446d-95b8-2de6b1c28418","type":"message","user":"U6XP9LZ6V","text":"Cygwin には去年の12月に 3.1.0 が来てたので、5カ月待たされました。","ts":"1589868360.164900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sslge"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"724625e4-fcda-47c0-94cc-a3a30c79e755","type":"message","user":"U03C6TEAZ","text":"$ /c/windows/system32/cmd.exe /c pause\nでなんか変。","ts":"1589868580.165400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pOAm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04c5c1f6-cd7f-4ebd-bd2c-9acf32ab10a7","type":"message","user":"U03C6TEAZ","text":"k-takata さんから貰った go-isatty の IsCygwinTerminal も役目が終わった感。","ts":"1589868677.166100","team":"T03C4RC8V","reactions":[{"name":"kan","count":1,"users":["U6XP9LZ6V"]},{"name":"kiwa","count":1,"users":["U6XP9LZ6V"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0hV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a5c5ba87-986e-4735-90a3-8ca79d3b597f","type":"message","user":"U6XP9LZ6V","text":"Cygwinだとpauseは普通に動いた。","ts":"1589869675.166700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XL+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bf2f74d5-8f52-4367-b847-0e935cad9676","type":"message","user":"U6XP9LZ6V","text":"`/c/windows/system32/cmd.exe //c pause`","ts":"1589869691.166900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eDSX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6fd51938-4ec3-4180-988b-1d5f1d6459c6","type":"message","user":"U6XP9LZ6V","text":"余計な変換しやがってｗ","ts":"1589869726.167200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0/6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bc23f911-c22d-4e22-8635-a4a4ebdab101","type":"message","user":"U03C6TEAZ","text":"// がミソ？","ts":"1589871079.167300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=N31"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49281beb-4de6-4f13-88fc-117feb844053","type":"message","user":"U03C6TEAZ","text":"// がミソだった。","ts":"1589871101.167400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cLaPQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d9ce9ae-d33f-4fc7-9f5d-8f6d9383b8d1","type":"message","user":"U03C6TEAZ","text":"peco がなんかちゃんと動かない。","ts":"1589871132.167600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fdq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
