[{"type":"message","user":"U06BRP8VD","text":"まじかー","ts":"1516610795.000468","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"最近session使い始めたからvimfiler閉じるフック処理実装しないと","ts":"1516619472.000414","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"気にせずそのまま閉じて復元時に空バッファが復元されるマン","ts":"1516619519.000126","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"空バッファにqで閉じるmapしたいんですけどなんか上手くいかないんですよね","ts":"1516619643.000104","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"それでちょっとやってみようかという気持ちになった","ts":"1516619660.000126","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"q で始まるマッピングが別にあるとか?","ts":"1516620405.000098","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"あるとキー確定待ち時間が発生する","ts":"1516620414.000286","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"multi stage build でがんばって1つの `RUN` に押し込まなくて済むぜって思ったけど、 ` &amp;&amp;` が `RUN` に置き換わるだけで可読性は大差ない気がしないでもない","ts":"1516621149.000346","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c3bdf3a-6d8b-418d-8250-0ed47674eed5","type":"message","user":"U7CJ2P52B","text":"Multi Stage Build、まだ定石がないみたいです。単体バイナリをコピーで入れるとかは簡単なので、使われ始めてるみたいですが。","ts":"1516621706.000011","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"単体バイナリじゃないんだよなぁ","ts":"1516621735.000001","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bc98330e-762b-434d-adb5-1ef424bed59f","type":"message","user":"U7CJ2P52B","text":"ですよね、その辺どうしたらよかろうと壁に当たってます。","ts":"1516621775.000272","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"696ac653-47ef-407c-8511-306f6e4f25a5","type":"message","user":"U7CJ2P52B","text":"php/RubyをMulti Stageで本番にコピーで済ませようとしたら、phpは難しかったので頓挫しまして、","ts":"1516621855.000030","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"まあいくつか方法は考えられるので色々試してみます","ts":"1516621875.000283","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"322773ae-4afb-4be3-a923-a54a5be5b199","type":"message","user":"U7CJ2P52B","text":"Ruby/Gemはビルド済みバイナリとライブラリをDir丸ごとコピーしていけました。make installの中身とか見たら、上手い方法見つかるかも？とは思うのですが。","ts":"1516621974.000150","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"porg とかあるけど、これを docker に入れるのがまずめんどそうw\n<http://porg.sourceforge.net/>","ts":"1516622176.000265","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"make install に噛ませるラッパで、make install で入ったファイルの一覧をトレースして保存して uninstall 可能にするやつ","ts":"1516622210.000327","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"うーん、alpine で Vim をビルドして /usr/local 以下をまるっと busybox に突っ込んでみたけど、なぜか not found と言われてコマンドの起動ができないな… sh で入ってファイルが存在している(コピーミスってない)のは確認したけど…","ts":"1516622651.000057","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"思えば Vim の場合動的リンクライブラリとかもあるから (今回試しているのでは抜いたけど)、multi stage 向かない気もしてきた","ts":"1516622794.000409","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"一旦保留するかー","ts":"1516622856.000050","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"ゴミ掃除しなくていいとかはかなり良さげなんだけどなぁ","ts":"1516622879.000033","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"コピー先のベースを alpine にしてみたら、やはりリンク先のシンボルがないと言う至極当然のエラーが出まくった","ts":"1516623610.000278","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"alpineだとlibcないんすわ","ts":"1516626360.000137","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"glibc互換と言ったほうがよいのかな。そのせいでちょっとしたもんでもコピーしただけでは動かなかったりします。","ts":"1516626401.000336","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"`RUN apk add --no-cache libc6-compat` 簡単なやつなら、コレ追加すると動くかもしれません。","ts":"1516626438.000119","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"なるほど、と言いつつ全然わかってなくて申し訳ないんですが、それを追加するのはコピー先ですか?","ts":"1516626662.000046","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ですです。","ts":"1516626679.000316","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"Windowsでいうと MSVCRT.DLLがない状態。","ts":"1516626691.000063","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"余計わからない :innocent:","ts":"1516626702.000244","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"えw","ts":"1516626708.000300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"コピー先が alpine ならそれで行けるのかな。ということは busybox とかにした場合は終了ですかね?","ts":"1516626744.000255","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"busyboxってalpineとはある意味レイヤが違うので、busybox on alpine ならやっぱ必要なんじゃないかなぁ…","ts":"1516626823.000448","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<https://hub.docker.com/_/busybox/> どれつかってます?","ts":"1516626872.000624","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"今まさにそこ見てました。latest でしたが、glibc ならいけるかも?","ts":"1516626908.000112","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あbusyboxは debian ベースなんですね。だったらドレでも動きそう。","ts":"1516626929.000228","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"試してみよう","ts":"1516626929.000276","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"え","ts":"1516626936.000351","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<https://github.com/docker-library/busybox/blob/master/uclibc/Dockerfile.builder#L1>","ts":"1516626957.000252","attachments":[{"fallback":"GitHub: docker-library/busybox","id":1,"title":"docker-library/busybox","title_link":"https://github.com/docker-library/busybox/blob/master/uclibc/Dockerfile.builder#L1","text":"busybox - Docker Official Image packaging for Busybox","thumb_url":"https://avatars0.githubusercontent.com/u/7739233?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/docker-library/busybox/blob/master/uclibc/Dockerfile.builder#L1"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"さっき alpine でビルドしたのを busybox にコピーしたらうまく動かなくて…ただそもそも現象がよくわからなくて、明らかに存在する Vim のバイナリを起動しようとしても `not found` と言われて何も起きない","ts":"1516627002.000201","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"Docker ファイル、見せてもらえます?","ts":"1516627056.000037","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"少々お待ちを。消してしまったので作り直す","ts":"1516627090.000065","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"手元でテストビルド中…","ts":"1516627314.000106","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"ところでここまでやっておいてアレですが、Vim の場合結局動的リンク等があるのでコピーしたら動かんよねと言う結論がさっき出ていたのだった","ts":"1516627365.000121","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"外部インターフェースなしならワンチャンあるけども","ts":"1516627376.000277","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"というわけで外部インターフェースなしでビルド中","ts":"1516627386.000339","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"まだ手元でビルド中なのでコケるかもですが、Dockerfile はこちら <https://github.com/thinca/dockerfile-vim/blob/multi-stage-build/Dockerfile>","ts":"1516627509.000099","attachments":[{"fallback":"GitHub: thinca/dockerfile-vim","id":1,"title":"thinca/dockerfile-vim","title_link":"https://github.com/thinca/dockerfile-vim/blob/multi-stage-build/Dockerfile","text":"dockerfile-vim - Dockerfile for latest Vim from vim/vim","thumb_url":"https://avatars1.githubusercontent.com/u/20474?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":240,"thumb_height":240,"from_url":"https://github.com/thinca/dockerfile-vim/blob/multi-stage-build/Dockerfile"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"thx!","ts":"1516627521.000619","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"にしても multi stage build もう半年くらい前に出てた機能なんですね…最近全然追えていなかった…","ts":"1516627571.000469","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"なるほどなるほど","ts":"1516627735.000228","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"COPY の指定ミスってた… (さっき書いたとき一回ミスって直したのをまたミスった)","ts":"1516627752.000206","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"push -f で修正ed","ts":"1516627831.000207","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"<https://gyazo.com/ce4cf6d45a4ec6f3c93b621aab3daf21>","ts":"1516627967.000130","attachments":[{"fallback":"Gyazo Photo: ","id":1,"title_link":"https://gyazo.com/ce4cf6d45a4ec6f3c93b621aab3daf21","image_url":"https://i.gyazo.com/ce4cf6d45a4ec6f3c93b621aab3daf21.png","blocks":null,"service_name":"Gyazo","service_icon":"https://gyazo.com/favicon.ico","from_url":"https://gyazo.com/ce4cf6d45a4ec6f3c93b621aab3daf21"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"こんな具合","ts":"1516627972.000007","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"ビルドはこうしてます\n```\ndocker build --build-arg 'VIM_ENABLE_ALL=' -t my-vim:latest-slim .\n```","ts":"1516627993.000463","edited":{"user":"U03C71D7H","ts":"1516628003.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"とりあえず multi stage build は動的リンクのアレがあるのでたぶんやらないので困ることはないですが、失敗する理由が謎…","ts":"1516628100.000235","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ldd 使えます?","ts":"1516628231.000110","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"`ldd /usr/local/bin/vim`","ts":"1516628237.000156","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"ldd: not found","ts":"1516628429.000517","edited":{"user":"U03C71D7H","ts":"1516628471.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"あれま","ts":"1516628477.000139","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"`/usr/bin` は存在しないし、 `/usr/sbin` はあるけど中身は空","ts":"1516628548.000418","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"`/sbin` もない","ts":"1516628570.000564","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"`/bin` は?","ts":"1516628718.000680","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"ある","ts":"1516628845.000389","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<https://circleci.com/gh/koron/dockerfile-vim/5> ＜とりあえず CircleCI にビルドさせてる。","ts":"1516628955.000264","attachments":[{"fallback":"Continuous Integration and Deployment","id":1,"title":"Continuous Integration and Deployment","title_link":"https://circleci.com/gh/koron/dockerfile-vim/5","text":"Hosted Continuous Integration for web applications. Set up your application for testing in one click, on the fastest testing platform on the internet.","blocks":null,"service_name":"circleci.com","service_icon":"https://circleci.com/favicon.ico","from_url":"https://circleci.com/gh/koron/dockerfile-vim/5"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"便利","ts":"1516628969.000331","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"たぶん手元のマシンより速いw","ts":"1516628980.000049","edited":{"user":"U06BRP8VD","ts":"1516628990.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"`--build-arg 'VIM_ENABLE_ALL='` をしないと各種外部言語インターフェース込み込みのビルドが出来上がる","ts":"1516629048.000616","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"む、これ master ブランチでは","ts":"1516629125.000571","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"例の Dockerfile は `multi-stage-build` ブランチのものです","ts":"1516629151.000282","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ああなるほど","ts":"1516629157.000371","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"っていうかそもそも設定が甘くて multi-stage-buildに対応していないdocker 使ってたw","ts":"1516629192.000248","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"ww","ts":"1516629211.000810","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"CircleCI さんのログ見てたのだけど、最後に出てる警告\n&gt; [WARNING]: Empty continuation line found in:\nこれは `# test` の行のことかなー","ts":"1516629260.000340","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"`/bin` に色々入ってるけど、全部 busybox のハードリンクだな。そりゃそうか","ts":"1516629609.000670","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"busybox ですもんねw","ts":"1516629651.000160","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"おかしい…CircleCIにSshできない…なんでや","ts":"1516630084.000326","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"できたできた。おれのせっていがおかしかった :syobon:","ts":"1516630208.000573","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7986PPFH","text":"busybox は ld.so ないので alpine のバイナリ持ってきても動かせないですね","ts":"1516630228.000420","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"(ロウレベルむずい)","ts":"1516630259.000106","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"どうでもいいけど Alpine のパッケージシステムに Racket が見当たらなかったので +mzscheme ができなかった","ts":"1516630290.000641","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ところで busybox ベースなのはなんでなんです?","ts":"1516630436.000102","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"小さいと噂だったので","ts":"1516630471.000237","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"最初に multi stage build の例を見せてもらったやつが使ってたので真似してみた程度の理由です","ts":"1516630499.000444","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"とりあえず alpine:3.7 にしてみてビルド中","ts":"1516630690.000554","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"<https://circleci.com/gh/koron/dockerfile-vim/9>","ts":"1516630692.000457","attachments":[{"fallback":"Continuous Integration and Deployment","id":1,"title":"Continuous Integration and Deployment","title_link":"https://circleci.com/gh/koron/dockerfile-vim/9","text":"Hosted Continuous Integration for web applications. Set up your application for testing in one click, on the fastest testing platform on the internet.","blocks":null,"service_name":"circleci.com","service_icon":"https://circleci.com/favicon.ico","from_url":"https://circleci.com/gh/koron/dockerfile-vim/9"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"busyboxとalpineでは3MBくらい違うのか。","ts":"1516630827.000163","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ふーむ。なんかいろいろシンボル、見つからない。","ts":"1516631068.000158","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"dynamicリンクにもなってないんですね。","ts":"1516631290.000777","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ゴールがわかってないのでアレですけどコピー先を alpine:3.7 に変えて circleci でビルドするための差分置いておきます。 <https://github.com/thinca/dockerfile-vim/compare/multi-stage-build...koron:circleci>","ts":"1516631386.000207","attachments":[{"fallback":"GitHub: thinca/dockerfile-vim","id":1,"title":"thinca/dockerfile-vim","title_link":"https://github.com/thinca/dockerfile-vim/compare/multi-stage-build...koron:circleci","text":"dockerfile-vim - Dockerfile for latest Vim from vim/vim","thumb_url":"https://avatars1.githubusercontent.com/u/20474?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":240,"thumb_height":240,"from_url":"https://github.com/thinca/dockerfile-vim/compare/multi-stage-build...koron:circleci"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"ゴールと言うかこれ以上進む気がもうなかったり… <https://vim-jp.slack.com/archives/C03C4RC97/p1516628100000235>","ts":"1516631440.000668","attachments":[{"fallback":"[January 22nd, 2018 5:35 AM] thinca: とりあえず multi stage build は動的リンクのアレがあるのでたぶんやらないので困ることはないですが、失敗する理由が謎…","id":1,"author_id":"U03C71D7H","author_name":"thinca","author_subname":"thinca","author_link":"https://vim-jp.slack.com/team/U03C71D7H","author_icon":"https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg","text":"とりあえず multi stage build は動的リンクのアレがあるのでたぶんやらないので困ることはないですが、失敗する理由が謎…","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #general","ts":1516628100.000235,"from_url":"https://vim-jp.slack.com/archives/C03C4RC97/p1516628100000235"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"全然関係ないけど CircleCI まだ 2 に移行できてないのでそのうちやりたいところ","ts":"1516631514.000840","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ぶっちゃけdocker buildするならcircleciにやらせちゃったほうが楽っぽいw","ts":"1516631714.000392","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"<@U03C71D7H> 暇なときにhelpbotをDocker化してリポジトリどっかに上げとこうと思うんですがhubotスクリブとトまとめて管理お願いした方が良かったりしますかね？","ts":"1516599679.000041","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"どうなんだろ。よくわからない","ts":"1516599722.000165","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"dockerhub、ユーザ名がシステム的に依頼しないと変更できなくてサポートに色々お願いしてる途中なんだよなぁ ","ts":"1516599892.000225","edited":{"user":"U8996GYBF","ts":"1516599923.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"ふべん","ts":"1516599924.000290","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"今ubuntuのlatestのaptで入るvimって8なのかな","ts":"1516600154.000120","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"Dockerfile置いとくだけでも便利だからやっておきたい","ts":"1516600175.000060","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"最新版の Vim の Docker Image 私の Docker Hub にあります thinca/vim","ts":"1516600209.000195","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C71D7H","text":"ここを from にする手がありそう。alpine ベースです","ts":"1516600230.000040","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"あー、どうせNode入れたいんでサイズでかくなっちゃってもいいかなと思ったんですよね","ts":"1516600448.000145","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"node:9あたりのをベースにしたらUbuntuの新しいのが使われてそうなので","ts":"1516600472.000084","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"それにaptでvim入れちゃおうかなと思って","ts":"1516600480.000067","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"Docker、DSLとベストプラクティスと呼ばれている可読性を著しく落とす感じのやつがクソだと思っているのでサイズを大きくしてでも可読性を上げておいた方がいいという思想です","ts":"1516600644.000135","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"あと本気で削るならこれが良いです <https://qiita.com/minamijoyo/items/711704e85b45ff5d6405>","ts":"1516600707.000109","attachments":[{"fallback":"Qiita: Docker multi stage buildで変わるDockerfileの常識 - Qiita","id":1,"title":"Docker multi stage buildで変わるDockerfileの常識 - Qiita","title_link":"https://qiita.com/minamijoyo/items/711704e85b45ff5d6405","text":"Dockerイメージのサイズを1バイトでも削りたい皆さんに朗報です。 もうすぐリリースされるDocker 17.05でmulti stage buildという機能が導入される予定です。 こいつはこれまでのDockerfileの常識を...","thumb_url":"https://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png","thumb_width":200,"thumb_height":200,"from_url":"https://qiita.com/minamijoyo/items/711704e85b45ff5d6405"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"<@U03C71D7H> さんの <http://thinca.hatenablog.com/entry/20090530/1243615055> 使ってるんですけど、 <https://github.com/mtth/cursorcross.vim> あたりに追加機能としてPR出したらプラグインに切り出せてよさそう","ts":"1516601869.000058","thread_ts":"1516601869.000058","attachments":[{"fallback":"永遠に未完成: 'cursorline' を必要な時にだけ有効にする - 永遠に未完成","id":1,"title":"'cursorline' を必要な時にだけ有効にする - 永遠に未完成","title_link":"http://thinca.hatenablog.com/entry/20090530/1243615055","text":"問題 Vim には 'cursorline' というオプションがある。これを有効にすると、現在カーソルがある行がハイライト表示される。カーソルの位置を見失いにくくなるので便利なオプションだ。 しかし、デメリットがないわけではない。 微妙に重い。 背景色や一部の色が上書きされるので、カーソルのある行の背景色が見えなくなる。例えば、コメント内の TODO や 'list' で表示される文字など。 そもそも 'cursorline' は常に必要だろうか。編集中にカーソルを見失うことはそうそうないはず。見失うのはちょっと席を外したり別の作業に移って、戻ってきた時だ。必要な時だけ有効にすることはできない…","thumb_url":"https://cdn.blog.st-hatena.com/images/theme/og-image-1500.png","blocks":null,"ts":1243615055,"service_name":"永遠に未完成","service_icon":"https://cdn.blog.st-hatena.com/images/favicon.ico","thumb_width":1500,"thumb_height":1051,"from_url":"http://thinca.hatenablog.com/entry/20090530/1243615055"},{"fallback":"GitHub: mtth/cursorcross.vim","id":2,"title":"mtth/cursorcross.vim","title_link":"https://github.com/mtth/cursorcross.vim","text":"cursorcross.vim - Sane cursorcolumn and cursorline handling","thumb_url":"https://avatars3.githubusercontent.com/u/1216372?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/mtth/cursorcross.vim"}],"reply_count":5,"replies":[{"user":"U776661HA","ts":"1516635753.000537"},{"user":"U8996GYBF","ts":"1516649479.000330"},{"user":"U8996GYBF","ts":"1516649484.000519"},{"user":"U776661HA","ts":"1516677252.000024"},{"user":"U8996GYBF","ts":"1516690499.000338"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"46c8f303-eea3-4224-8c38-206b8c691f2e","type":"message","user":"U03C71D7H","text":"おー、multi stage build 知らなかった。これ使おう。ありがとうございます！","ts":"1516602297.000090","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8e151197-b0f3-4a80-b63f-a157096b9235","type":"message","user":"U03C71D7H","text":"例のベストプラクティスがクソなのは完全に同意です","ts":"1516602328.000027","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"多分この辺が実例です ＞ multi stage build\n<http://shotat.hateblo.jp/entry/2017/08/05/215211>","ts":"1516602386.000165","attachments":[{"fallback":"Memento memo.: Docker の multi-stage build で golang の 軽量 image を作る - Memento memo.","id":1,"title":"Docker の multi-stage build で golang の 軽量 image を作る - Memento memo.","title_link":"http://shotat.hateblo.jp/entry/2017/08/05/215211","text":"Multi-Stage Build <http://docs.docker.com|docs.docker.com> Docker の 17.05 (ce) から multi-stage build 機能が追加されました。 multi-stage build とは、ベースイメージを複数利用し、多段階で build を行う機能です。 利用シーンはビルド環境とランタイム環境の分離が挙げられます。 ビルド環境とランタイム環境を分けるとランタイムがネイティブである Go のような言語では Docker image を劇的に小さくすることができます。 golang の ベースイメージは 数百 MB ありますが、alpine のような 軽量 Linux …","image_url":"https://cdn-ak.f.st-hatena.com/images/fotolife/s/shotat_jp/20170805/20170805214939.png","blocks":null,"ts":1501937531,"service_name":"Memento memo.","service_icon":"https://cdn.image.st-hatena.com/image/favicon/9ab4d17c0d1709247b990136bc6856a38174951c/version=1/https%3A%2F%2Fcdn.user.blog.st-hatena.com%2Fcustom_blog_icon%2F124689417%2F1514196146858453","from_url":"http://shotat.hateblo.jp/entry/2017/08/05/215211"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a3ff4071-c8b1-4b50-bea6-8a156c75a82f","type":"message","user":"U03C71D7H","text":"これでベースが busybox になれば更に容量削れるわけか","ts":"1516602404.000292","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f3e5f79e-eccf-49a5-aa0f-03591d1df6d8","type":"message","user":"U03C71D7H","text":"Vim を使う環境として相応しいかはわからんけども","ts":"1516602424.000067","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"そうですね、もう個人的には雑にUbuntuでaptぶん回したい","ts":"1516602474.000030","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4608be4-a712-4219-ab0f-f05dc708e9e5","type":"message","user":"U03C71D7H","text":"VIm のビルドができればなんでもいい","ts":"1516602547.000117","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U782D5DF1","text":"2018年になるというのにAWSやDocker使った事ない勢","ts":"1516602566.000119","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"busyboxでvim動かせる最小イメージ作った記事書いて欲しい","ts":"1516602585.000087","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"105e406d-e3ec-4564-b1ce-58c13f801881","type":"message","user":"U03C71D7H","text":"以前作った slim がなんかおかしな挙動してたやつ、作り直したら直ったりしないかなー。期待","ts":"1516602601.000218","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"AWSは学習コスト高いですけどDockerは割とどうにかなりますよ","ts":"1516602615.000050","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"<https://hub.docker.com/r/jivagoalves/vim/>","ts":"1516602617.000115","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"993bae28-b5a6-47bf-aa42-61ce9018a2d6","type":"message","user":"U03C71D7H","text":"runtimepath とかのコピーがだるそう","ts":"1516602624.000139","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"古いんですけどなんかバズった自分の記事です <https://qiita.com/yuki_ycino/items/b94ae2bf7d78685cd6f5>","ts":"1516602635.000229","attachments":[{"fallback":"Qiita: Dockerについて基本から最近追加された機能までまとめ - Qiita","id":1,"title":"Dockerについて基本から最近追加された機能までまとめ - Qiita","title_link":"https://qiita.com/yuki_ycino/items/b94ae2bf7d78685cd6f5","text":"# Dockerとは コンテナベースのアプリケーションを仮想化したもの。一見すると軽量なVMの様に見えるがVMでは実現が難しい・不可能なユースケースを解決してくれる。 - ホストOSとリソースを共有するのでVMに比べて遙かに効率...","thumb_url":"https://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png","thumb_width":200,"thumb_height":200,"from_url":"https://qiita.com/yuki_ycino/items/b94ae2bf7d78685cd6f5"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"Immutableで高速なVirtualBoxって思ってれば大体あってる","ts":"1516602665.000128","edited":{"user":"U8996GYBF","ts":"1516602674.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U782D5DF1","text":"去年自宅PCをwin10にしたのでそろそろDocker、最悪vagrantsあたりかなぁ","ts":"1516602689.000228","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"DockerのDSLとベストプラクティス（）がクソなのでそこはストレスが溜まります","ts":"1516602729.000082","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U782D5DF1","text":"RAM32GBにcorei7積んでるのを有効活用せねば","ts":"1516602755.000075","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"「開発環境」としての docker なら一度 pull したら以降そんなに push しない気もするので、そうなると vagrant のままでいいんじゃないか説","ts":"1516602818.000116","edited":{"user":"U03C6TEAZ","ts":"1516602832.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"無限のリソースがあるならDocker on Vagrantが良いと思ってます <https://toris.io/2016/12/the-reason-why-we-continue-to-choose-docker-and-vagrant-as-our-dev-stack/>","ts":"1516602989.000186","attachments":[{"fallback":"チーム開発の開発環境として Docker + Vagrant を選択し続ける理由","id":1,"title":"チーム開発の開発環境として Docker + Vagrant を選択し続ける理由","title_link":"https://toris.io/2016/12/the-reason-why-we-continue-to-choose-docker-and-vagrant-as-our-dev-stack/","text":"ツールや仕組みを採用するとき、自分がどのようなことを考えているかをまとめてみました","blocks":null,"service_name":"toris.io","service_icon":"https://toris.io/favicon.png","from_url":"https://toris.io/2016/12/the-reason-why-we-continue-to-choose-docker-and-vagrant-as-our-dev-stack/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"Docker、ホスト側のポートとか使うことになるのでその他ホスト名解決とか色々やりにくい","ts":"1516603034.000092","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"Windows 版の docker はまぁまぁ不安定なのでオススメしない。","ts":"1516603050.000053","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"docker on vagrant になると port forwarding がめんどくさい。","ts":"1516603067.000060","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U782D5DF1","text":"軽くググッたら、しょっちゅうOSからの構築するとかでなくて、マシンのリソースに余裕があるならvagrantでよさげなのか","ts":"1516603071.000092","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"特性が違うのでどちらが良いとは一概には言えないですが、Vagrantの方がハマりにくいですね","ts":"1516603098.000156","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"あとDockerはLinuxネイティブでやりたい","ts":"1516603111.000085","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U782D5DF1","text":"なる","ts":"1516603126.000194","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"AWSでそれなりのインスタンス借りてdocker-machineでローカルっぽく使うのとかやってみたいです","ts":"1516603164.000193","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"docker だと docker 内のポートを native から別ポートに割り当てるので、vagrant 入れてる windows から参照しようと思うとさらに port forwarning しないといけなくなるのが面倒。","ts":"1516603170.000110","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06ECBRTJ","text":"docker Toolbox 使ってますけど、 `pwd` とか使いたい時に、ちょっと不便ですね","ts":"1516603212.000144","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"docker をお手軽に試すなら portainer が良い","ts":"1516603220.000025","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"<https://portainer.io/>","ts":"1516603222.000236","attachments":[{"fallback":"Portainer: Portainer | Simple management UI for Docker","id":1,"title":"Portainer | Simple management UI for Docker","title_link":"https://portainer.io/","text":"Portainer is a simple management solution for Docker. Easily manage your Docker hosts and Docker Swarm clusters via Portainer web user interface.","blocks":null,"service_name":"Portainer","service_icon":"https://portainer.io/images/favicon.png","from_url":"https://portainer.io/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"ボタン一発で jenkins ～ みたいなやつ","ts":"1516603236.000130","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U782D5DF1","text":"!bs","ts":"1516603298.000180","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U782D5DF1","text":"便利そう","ts":"1516603323.000083","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"僕は Windows 10 の Home なので、Toolkit 使ってる。","ts":"1516603377.000109","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"ただ非常に使い辛いので、ちゃんと使う時は(ノート1台を native dockerにしてるので) Linux 使います。","ts":"1516603411.000083","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"無料で借りてる GCE の f1-micro はたぶん docker 動くほどリソースが無い。","ts":"1516603553.000020","edited":{"user":"U03C6TEAZ","ts":"1516603723.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"s/t1/f1/ だった","ts":"1516603730.000261","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"t1 は AWS だ。","ts":"1516603735.000072","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"AWSって純粋にサービス多すぎるんだよなぁw","ts":"1516604222.000067","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"次々出さないとユーザが飽きちゃうんじゃないすかねw","ts":"1516604366.000163","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"AWS、terraformで頑張ったけどめっちゃ消耗した","ts":"1516605339.000197","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","text":"（お金も）","ts":"1516605345.000086","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7CJ2P52B","text":"うちもWindows10 Homeなのでコンテナ用OSを噛まします。<https://qiita.com/A-I/items/8dc7ddc52e6038b5c74b>","ts":"1516606794.000008","attachments":[{"fallback":"Qiita: Barge（Docker ホスト用軽量 OS）って？ - Qiita","id":1,"title":"Barge（Docker ホスト用軽量 OS）って？ - Qiita","title_link":"https://qiita.com/A-I/items/8dc7ddc52e6038b5c74b","text":"![Barge](<https://cloud.githubusercontent.com/assets/10327896/18331486/2ffa9ec0-7514-11e6-9e2a-be3d69a092bc.png>) 気軽に D...","thumb_url":"https://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png","thumb_width":200,"thumb_height":200,"from_url":"https://qiita.com/A-I/items/8dc7ddc52e6038b5c74b"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7CJ2P52B","text":"ポートフォワードはやっぱり、面倒です","ts":"1516606876.000011","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ぼくWin10Proなんですが、どうしてもVirtualBox使いたいから、native docker使えないんスよね…","ts":"1516606922.000025","team":"T03C4RC8V","reactions":[{"name":"totemoturai","count":2,"users":["U7CJ2P52B","U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7CJ2P52B","text":"Proにしようかと思ったけど、そういう「副作用」があるのか…","ts":"1516607198.000365","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"Hyper-V をオフってる？","ts":"1516607202.000301","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"ええ。VirtualBoxにIntel VTを使わせたいので。","ts":"1516607328.000153","team":"T03C4RC8V","reactions":[{"name":"totemoturai","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U06BRP8VD","text":"正確にはVT-xかな。","ts":"1516607378.000235","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"僕は windows で docker する時は toolbox 付属のと以下のバッチファイルでやってます。\n```\n@echo off\nfor /F \"delims=\" %%i in ('docker-machine env --shell cmd default ^| findstr ^^SET') do %* %%i\n```","ts":"1516607465.000150","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"これを docker-env.bat みたいにして実行。","ts":"1516607478.000004","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U7CJ2P52B","text":"Ubuntu 17.10 でapt-get vim は 8.0.0197 ですね。<https://packages.ubuntu.com/ja/artful/editors/vim>","ts":"1516607505.000167","attachments":[{"fallback":"Ubuntu – artful の vim パッケージに関する詳細","id":1,"title":"Ubuntu – artful の vim パッケージに関する詳細","title_link":"https://packages.ubuntu.com/ja/artful/editors/vim","text":"Vi IMproved - enhanced vi editor","blocks":null,"service_name":"packages.ubuntu.com","service_icon":"https://packages.ubuntu.com/favicon.ico","from_url":"https://packages.ubuntu.com/ja/artful/editors/vim"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"terminal はまだ入ってない頃かな","ts":"1516607526.000391","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"うぉー。barge 速い。","ts":"1516607881.000093","team":"T03C4RC8V","reactions":[{"name":"sokudo","count":3,"users":["U7CJ2P52B","U8CC7MDCL","U7ZUUQSBT"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"4～5秒で上がってくる","ts":"1516607931.000103","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
