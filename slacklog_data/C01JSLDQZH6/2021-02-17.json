[{"type":"message","text":"\u003chttps://vim-jp.slack.com/archives/C03C4RC9F/p1613567607316100\u003e","ts":"1613567619.012600","attachments":[{"fallback":"[February 17th, 2021 5:13 AM] lambdalisue: ```function! s:yank_without_indent() abort\n  normal! gvy\n  let content = getreg(v:register, 1, v:true)\n  let leading = min(map(copy(content), { _, v -\u0026gt; len(matchstr(v, '^\\s*')) }))\n  call map(content, { _, v -\u0026gt; v[leading:] })\n  call setreg(v:register, content, getregtype(v:register))\nendfunction\nvnoremap gy \u0026lt;Esc\u0026gt;:\u0026lt;C-u\u0026gt;call \u0026lt;SID\u0026gt;yank_without_indent()\u0026lt;CR\u0026gt;```\nインデントが深いコードとかを Slack に貼る時に便利（インデントを消してコピーしてくれるマッピング）","id":1,"author_id":"U776661HA","author_name":"lambdalisue","author_subname":"lambdalisue","author_link":"https://vim-jp.slack.com/team/U776661HA","author_icon":"https://secure.gravatar.com/avatar/2be992d8a8cd8b523ca0b1467e165376.jpg?s=48\u0026d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-48.png","text":"```function! s:yank_without_indent() abort\n  normal! gvy\n  let content = getreg(v:register, 1, v:true)\n  let leading = min(map(copy(content), { _, v -\u0026gt; len(matchstr(v, '^\\s*')) }))\n  call map(content, { _, v -\u0026gt; v[leading:] })\n  call setreg(v:register, content, getregtype(v:register))\nendfunction\nvnoremap gy \u0026lt;Esc\u0026gt;:\u0026lt;C-u\u0026gt;call \u0026lt;SID\u0026gt;yank_without_indent()\u0026lt;CR\u0026gt;```\nインデントが深いコードとかを Slack に貼る時に便利（インデントを消してコピーしてくれるマッピング）","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #random","ts":1613567607.316100,"from_url":"https://vim-jp.slack.com/archives/C03C4RC9F/p1613567607316100","original_url":"https://vim-jp.slack.com/archives/C03C4RC9F/p1613567607316100"}],"edited":{"user":"B01HW2CERRU","ts":"1613567619.000000"},"subtype":"bot_message","bot_id":"B01HW2CERRU","username":"Reacji Channeler","icons":{},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U01N8E9RBEZ","text":"\u003c@U01N8E9RBEZ\u003e has joined the channel","ts":"1613536708.012500","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null}]
