[{"type":"message","user":"U011FTGJ3SN","text":"\u003c@U011FTGJ3SN\u003e has joined the channel","ts":"1600957208.011500","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"d3e11716-ba93-4e91-b6cd-88bd75bde0d0","type":"message","user":"U06ECBRTJ","text":"\u003chttps://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/#init\u003e","ts":"1600925036.011100","attachments":[{"fallback":"Docker ドキュメント: Compose ファイル バージョン 3 リファレンス","id":1,"title":"Compose ファイル バージョン 3 リファレンス","title_link":"https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/#init","text":"リファレンスとガイドライン ここに示す内容は Compose ファイルフォーマット、バージョン 3 です。 これが最新バージョンです。 Compose と Docker の互換マトリックス Compose ファイルフォーマットには 1、2、2.x、3.x という複数のバージョンがあります。 その様子は以下の一覧表に見ることができます。 各バージョンにて何が増えたのか、どのようにアップグレードしたのか、といった詳細については バージョンとアップグレードについてを参照してください。 以下の一覧表は、Compose ファイルのどのバージョンが Docker リリースをサポートしているかを示すものです。 Compose ファイルフォーマット Docker Engine リリース 3.8 19.03.0 以上...","thumb_url":"https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico","blocks":null,"ts":1599620194,"service_name":"Docker ドキュメント","service_icon":"https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico","thumb_width":129,"thumb_height":128,"from_url":"https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/#init","original_url":"https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/#init"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k+nK3"}]},{"client_msg_id":"d990d175-f1c3-42ad-b3e7-b89b838fce4d","type":"message","user":"U06ECBRTJ","text":"docker-compose だと、 `init: true` を書けばいいらしい","ts":"1600925015.010800","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P7Is"}]},{"client_msg_id":"8e3eaa47-3112-4753-a70e-a2c2e392c207","type":"message","user":"U06ECBRTJ","text":"`--init` 必須","ts":"1600924972.010400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yla"}]},{"client_msg_id":"964ddc8b-8c66-4871-b942-98afe28a00e2","type":"message","user":"UDDCM376D","text":"もうこの時代やし、全部子プロセスにしましょう","ts":"1600924934.009900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/iIk"}]},{"client_msg_id":"a846cc03-eb78-4123-8d9a-1861e51c3094","type":"message","user":"UDDCM376D","text":"めっちゃ罠だな…","ts":"1600924922.009500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WOB0"}]},{"client_msg_id":"d72b81f4-fbf9-4677-bd5e-ba49b1fdd37e","type":"message","user":"U8CC7MDCL","text":":police_car:","ts":"1600924662.008100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2ud"}]},{"client_msg_id":"00d2f544-5574-43ae-897f-4949c503031d","type":"message","user":"U03C6TEAZ","text":"なんかどちらも、お巡りさんの香りがするギャグだった。","ts":"1600924530.007600","edited":{"user":"U03C6TEAZ","ts":"1600924541.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=MVqC"}]},{"client_msg_id":"1211d846-d68c-491e-9c31-3694ddd265e0","type":"message","user":"UAZ33BKV2","text":"bash ザ スタンピード","ts":"1600924477.007100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gZaN"}]},{"client_msg_id":"2ab73907-4364-437a-94b0-ebea82ebf958","type":"message","user":"UAZ33BKV2","text":"鉄腕 dash","ts":"1600924467.006700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S29"}]},{"client_msg_id":"f2415f79-58c4-47b3-b99b-fd421a728357","type":"message","user":"U03C6TEAZ","text":"dragon ash","ts":"1600924401.006500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j0haA"}]},{"client_msg_id":"913ebf85-bb5f-462b-a3d8-19e8e39f1071","type":"message","user":"U06ECBRTJ","text":"でしたね","ts":"1600924380.006300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QzE"}]},{"client_msg_id":"713354a7-c2c8-45b2-b69d-8c6d91834631","type":"message","user":"U9S4G0LJW","text":"busyboxのashだった気がする","ts":"1600924366.006100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tZzqL"}]},{"client_msg_id":"f4526d84-217a-4753-b573-e0d59d1e4ec0","type":"message","user":"U06ECBRTJ","text":"alpine の sh は何だろう… bash ではないはず","ts":"1600924353.005900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lyNWy"}]},{"client_msg_id":"e677d2d9-df9c-49b0-a7ca-4ce1d65df099","type":"message","user":"UAZ33BKV2","text":"ここらへんPOSIX shellの規約として子プロセスにすべし、とか明記されてたらアウトな気はしますが、どうなんでしょうね","ts":"1600924324.005500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3r0+W"}]},{"client_msg_id":"2666e0da-615d-4f06-b6c6-11aed234e3da","type":"message","user":"U03C6TEAZ","text":"リソースを減らす為とはいえ、ちょっとひどいなぁと思います。","ts":"1600924090.004900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tbv"}]},{"client_msg_id":"b12c303b-ec19-455d-8d2a-d9c0bc43c081","type":"message","user":"UDDCM376D","text":"子プロセスにならんのか","ts":"1600923808.003700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RsXV"}]},{"client_msg_id":"6dfdb57e-d98a-4ade-9d13-43fb910bf9c3","type":"message","user":"UDDCM376D","text":"そうなのか","ts":"1600923800.003400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wtIdH"}]},{"client_msg_id":"4ed07da6-e439-4f3d-abd5-1167464b8dc9","type":"message","user":"UDDCM376D","text":"む","ts":"1600923798.003200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yPZ3+"}]},{"client_msg_id":"417b11a3-be93-4e3c-a2bf-edf834fe366a","type":"message","user":"U03C6TEAZ","text":"理由はこのツイートのメンション見ると分かります。 \u003chttps://twitter.com/mattn_jp/status/1075260580707987457\u003e","ts":"1600923453.002900","attachments":[{"fallback":"\u003chttps://twitter.com/mattn_jp|@mattn_jp\u003e: ONESHOT の処理はここか。サブシェルにするかリダイレクトにすれば回避できるっぽいがこういうのは setopt で回避できる様にして欲しいな。\n\n\u003chttp://git.savannah.gnu.org/cgit/bash.git/tree/builtins/evalstring.c?h=bash-4.4#n405\u003e","id":1,"author_name":"mattn","author_subname":"@mattn_jp","author_link":"https://twitter.com/mattn_jp/status/1075260580707987457","author_icon":"https://pbs.twimg.com/profile_images/1022150732634419200/yZg4xLsO_normal.jpg","text":"ONESHOT の処理はここか。サブシェルにするかリダイレクトにすれば回避できるっぽいがこういうのは setopt で回避できる様にして欲しいな。\n\n\u003chttp://git.savannah.gnu.org/cgit/bash.git/tree/builtins/evalstring.c?h=bash-4.4#n405\u003e","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1545197074,"service_name":"twitter","from_url":"https://twitter.com/mattn_jp/status/1075260580707987457","original_url":"https://twitter.com/mattn_jp/status/1075260580707987457"}],"team":"T03C4RC8V","reactions":[{"name":"hee","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sWYAD"}]},{"client_msg_id":"bae4ca26-caca-4005-813d-5901e6f680da","type":"message","user":"U03C6TEAZ","text":"\u003chttps://songmu.jp/riji/entry/2018-12-19-dash-bash-exec.html\u003e","ts":"1600923406.002400","attachments":[{"fallback":"おそらくはそれさえも平凡な日々: sh -cで呼び出したコマンドがbashだと孫プロセスにならないことがある | おそらくはそれさえも平凡な日々","id":1,"title":"sh -cで呼び出したコマンドがbashだと孫プロセスにならないことがある | おそらくはそれさえも平凡な日々","title_link":"https://songmu.jp/riji/entry/2018-12-19-dash-bash-exec.html","text":"前提として、/bin/sh は、デフォルトでは、RHEL系の場合bashシェル、Debian系の場合dashシェルへのsymlinkになっています。この2つのシェルの挙動は細かいところで結構異なります。そもそもの思想として、dashシェルはPOSIX互換を目指す軽量なシェルであり、bashは拡張された高機能なシェル…","thumb_url":"https://songmu.jp/riji/static/img/songmu-ogp.jpg","blocks":null,"ts":1545188995,"service_name":"おそらくはそれさえも平凡な日々","service_icon":"https://songmu.jp/favicon.ico","thumb_width":2048,"thumb_height":1536,"from_url":"https://songmu.jp/riji/entry/2018-12-19-dash-bash-exec.html","original_url":"https://songmu.jp/riji/entry/2018-12-19-dash-bash-exec.html"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/P3"}]},{"client_msg_id":"98703ce2-617f-470a-993d-531f3f3153b3","type":"message","user":"U03C6TEAZ","text":"bash -c が別の PID を起動すると思っていると失敗しそう。","ts":"1600923303.002200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ObuId"}]},{"client_msg_id":"5ceba942-1eef-44db-b4ad-4ad73db05973","type":"message","user":"U06ECBRTJ","text":"ん？ `docker run ... node:alpine sh -c 'node hoge'` 的な？","ts":"1600922773.001400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V/Cxx"}]},{"client_msg_id":"53add986-4285-41af-8899-28dff29a41dc","type":"message","user":"UDDCM376D","text":"これ bash node でも node は PID1 で動くんですかね","ts":"1600922727.000800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0HP"}]},{"client_msg_id":"39a203c9-13d8-4fbf-9214-4a9fa5a9c8fa","type":"message","user":"UDDCM376D","text":"知らなかった","ts":"1600922683.000300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vVNPL"}]}]
