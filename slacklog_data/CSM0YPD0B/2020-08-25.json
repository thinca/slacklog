[{"client_msg_id":"255dfe26-1739-44e2-b9c9-fe11a79430b1","type":"message","user":"U03C71D7H","text":"GitHub Packages 結構ポンコツだな","ts":"1598362576.124800","team":"T03C4RC8V","reactions":[{"name":"laughing","count":1,"users":["U7B4ZD49X"]},{"name":"aussieparrot","count":1,"users":["UNJ2DANJC"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wOI"}]},{"client_msg_id":"6253f627-c6f2-45b2-84b7-d54be148d364","type":"message","user":"UBRTB4N5C","text":"gem は同名じゃないとダメみたいで複数 gem を生成する repository で使えなくて困っている…。","ts":"1598362106.124300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QIDRQ"}]},{"client_msg_id":"08879ECE-EAC1-4DA8-A383-E279EE4B0FD8","type":"message","user":"U06ECBRTJ","text":"pull するのに認証いるのめんどいですね","ts":"1598361827.123500","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WePaE"}]},{"client_msg_id":"b87194ce-767e-4d99-b14b-767a2efc7201","type":"message","user":"UAZ33BKV2","text":"なんか不思議ですね、Docker Hub との識別のためとかの安全策かなんかだろうか","ts":"1598361536.123000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tvwgE"}]},{"client_msg_id":"4201a397-2502-45ac-bf5c-c75d1c444c14","type":"message","user":"U03C71D7H","text":"\u003chttps://github.com/thinca/vim\u003e Git リポジトリが何もないと、packages への動線が一切ないのうける","ts":"1598361187.122300","attachments":[{"fallback":"GitHub: thinca/vim","id":1,"title":"thinca/vim","title_link":"https://github.com/thinca/vim","text":"Contribute to thinca/vim development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/20474?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/thinca/vim","original_url":"https://github.com/thinca/vim"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W9F"}]},{"client_msg_id":"d17495f7-cd46-4fea-88f6-b7c6ee98a1c2","type":"message","user":"U03C71D7H","text":"\u003chttps://github.com/thinca/vim/packages/371817/versions\u003e push してみた","ts":"1598361104.121700","attachments":[{"fallback":"GitHub: thinca/vim","id":1,"title":"thinca/vim","title_link":"https://github.com/thinca/vim/packages/371817/versions","text":"Contribute to thinca/vim development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/20474?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/thinca/vim/packages/371817/versions","original_url":"https://github.com/thinca/vim/packages/371817/versions"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FMH"}]},{"client_msg_id":"8d77c221-0519-4838-acf2-746ff19b8a03","type":"message","user":"U03C71D7H","text":"いや、名前空間的にはリポジトリ名は完全に無視ですね","ts":"1598361090.121500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3kfYj"}]},{"client_msg_id":"fbb7e4fa-1d28-49e3-8a5d-393590bb391b","type":"message","user":"UAZ33BKV2","text":"全体で共有的に考えるのだろうか...リポジトリも込みでタグ名的?","ts":"1598360790.121100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IHnU"}]},{"client_msg_id":"37e38524-12b3-4dc0-8bd5-2efa05ccdb73","type":"message","user":"U03C71D7H","text":"しかしそうなるとつまり、 `\u003chttp://docker.pkg.github.com/thinca/vim/vim|docker.pkg.github.com/thinca/vim/vim\u003e` ってイメージ名になるのか…","ts":"1598360564.120600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"opak"}]},{"client_msg_id":"41580330-087f-4adf-a7dc-907541c2bab9","type":"message","user":"U03C71D7H","text":"\u003chttps://github.community/t/github-packages-naming-collision/128851/2\u003e なるほどなー (ちょうど昨日、同じ疑問を質問している人がいた)","ts":"1598360427.119900","attachments":[{"fallback":"GitHub Support Community: GitHub packages naming collision","id":1,"title":"GitHub packages naming collision","title_link":"https://github.community/t/github-packages-naming-collision/128851/2","text":"Packages are defined at the repository level but associated with a user/organization. Because of this, the package name (and version) is reserved at the user/organization level and can never be re-used. This is something that should perhaps be a little bit better documented. It is briefly mentioned in the third paragraph in “about published packages”.","blocks":null,"ts":1598271594,"service_name":"GitHub Support Community","from_url":"https://github.community/t/github-packages-naming-collision/128851/2","original_url":"https://github.community/t/github-packages-naming-collision/128851/2"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uf+4V"}]},{"client_msg_id":"0c526d75-0b2d-4ce1-8b8a-fa519fd869d0","type":"message","user":"U03C71D7H","text":"GitHub Packages の Docker レジストリ、 `\u003chttp://docker.pkg.github.com/OWNER/REPOSITORY/IMAGE_NAME|docker.pkg.github.com/OWNER/REPOSITORY/IMAGE_NAME\u003e` って形式なのだけど、どうやら IMAGE_NAME はリポジトリ固有ではないらしい…。push に失敗すると思ったら、そのイメージ名はすでに別のリポジトリに紐付けられている、というエラーが…","ts":"1598360023.119500","team":"T03C4RC8V","reactions":[{"name":"hee","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"H0QB0"}]},{"client_msg_id":"EE4BE71B-ADCA-4D5B-8425-ECD5F23386C2","type":"message","user":"UDDCM376D","text":"\u003chttps://twitter.com/gorilla0513/status/1298215670413316097?s=21|https://twitter.com/gorilla0513/status/1298215670413316097?s=21\u003e","ts":"1598353694.117700","edited":{"user":"UDDCM376D","ts":"1598353733.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e53i"}]},{"client_msg_id":"995315c1-9ecc-400e-82db-d2e57d175939","type":"message","user":"U03C71D7H","text":"「latest タグを使っていたのだけどキャッシュが更新されなくて最新が降ってこない」","ts":"1598343690.117500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Lq/8z"}]},{"client_msg_id":"c7d70e34-af67-4f4d-ae6d-930773d8e1eb","type":"message","user":"U8CC7MDCL","text":"Nexusみたいなキャッシュしてくれる君置くと緩和できそう。\nCI基盤のDNSでhub.docker.comの向き先をProxyに向ければユーザ影響も少ないかもしれないって一瞬思ったけど\ndocker hubと同じエンドポイント使えないといけないからやっぱり面倒だ","ts":"1598337397.117100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oXb8o"}]},{"client_msg_id":"c6e28bdf-32ee-4ecc-ae2c-1028e990492f","type":"message","user":"U9S4G0LJW","text":"Docker RepositryってCI側でキャッシュとかできないんかなって思ったけどCIの用途から考えて自前でレジストリ持つのと変わらんな","ts":"1598336820.114400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8hIf"}]},{"client_msg_id":"2d322433-3143-4f77-92c7-19bf09cbe9cc","type":"message","user":"U03C6TEAZ","text":"死ぬときは皆倒れなので大丈夫(大丈夫とは)","ts":"1598336549.113300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DI6"}]},{"client_msg_id":"2490529a-123f-40ff-afce-b191c0b6286d","type":"message","user":"UNJ2DANJC","text":"パブリックな公式イメージあるじゃん\n→imagePullSecretsさすのだるいしそのままやればいいか\n→一気にロールアウトで無事爆死\n的なのを想像しました。\nnginxとか割と気軽に使われてる気がするので","ts":"1598336357.111200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fX0i"}]},{"client_msg_id":"463d937b-a476-47b6-810b-f721b8c636fc","type":"message","user":"U06ECBRTJ","text":"もしくは Proアカウントや Team アカウント使ってるんじゃないですかね","ts":"1598336058.107200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZZtu"}]},{"client_msg_id":"76bb38ce-e8eb-4c23-955d-02d5c2c5976d","type":"message","user":"UNJ2DANJC","text":"巨大k8sクラスタとかにパブリックなイメージをロールアウトするときにもなんか問題になりそうな予感\nまあそういうガチな場合は自前のレジストリ使ってるよな...","ts":"1598335991.106800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4AZ"}]},{"client_msg_id":"f6d94b32-ed77-4cdd-bca9-a40cf21d912d","type":"message","user":"U03C6TEAZ","text":"一応、Oracle 社も Oracle Cloud から使える docker リポジトリ持ってるんですよね。FaaS なんかで使ってる。","ts":"1598335936.106700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dhA"}]},{"client_msg_id":"a0ead72a-9529-4a2c-9030-274af7181d57","type":"message","user":"U03C71D7H","text":"\u003chttps://docs.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners#ip-addresses-of-github-hosted-runners\u003e\n\n\u0026gt; Windows and Ubuntu runners are hosted in Azure and have the same IP address ranges as Azure Data centers.\nへいへい","ts":"1598335795.104400","attachments":[{"fallback":"Virtual environments for GitHub-hosted runners - GitHub Docs","id":1,"title":"Virtual environments for GitHub-hosted runners - GitHub Docs","title_link":"https://docs.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners#ip-addresses-of-github-hosted-runners","text":"GitHub offers hosted virtual machines to run workflows. The virtual machine contains an environment of tools, packages, and settings available for GitHub Actions to use.","blocks":null,"service_name":"docs.github.com","from_url":"https://docs.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners#ip-addresses-of-github-hosted-runners","original_url":"https://docs.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners#ip-addresses-of-github-hosted-runners"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OD5CM"}]},{"client_msg_id":"55e037b8-a8c0-4dae-bc27-58d830dcc9ff","type":"message","user":"U8CC7MDCL","text":"sshして `rm -rf /` してやりました! ハッキング成功です!","ts":"1598335740.103900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SNVka"}]},{"client_msg_id":"37689ce1-d4be-4567-af5f-b95aa83d0763","type":"message","user":"UG6DF6W87","text":"127.0.0.1 は私が使用している IP アドレスです! 勝手に使わないでください!!","ts":"1598335674.103300","team":"T03C4RC8V","reactions":[{"name":"laughing","count":2,"users":["U7B4ZD49X","U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E6b"}]},{"client_msg_id":"e99a7ec9-cd51-4afc-b060-e80d0f472c1e","type":"message","user":"UNJ2DANJC","text":"127.0.0.1の取り合い","ts":"1598335623.102700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d7f"}]},{"client_msg_id":"88b1f155-facf-4e8f-b473-627b63c0b33c","type":"message","user":"U8CC7MDCL","text":"elastic IPの取り合いが始まりますね(始まらない筈)","ts":"1598335593.102300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ElfDx"}]},{"client_msg_id":"8a251bac-2360-4cf7-89d2-5cddfb9ada96","type":"message","user":"UNJ2DANJC","text":"この件に限らずIPアドレスベースの制限って最近はわりとアンチパターンなのかもしれないっすね\nVPN地獄になる","ts":"1598335582.102200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"joy"}]},{"client_msg_id":"b890b7f6-b0b2-4537-9045-dd70682f91f9","type":"message","user":"U03C6TEAZ","text":"Azure で Actions 動かしてるなら IP 共有しちゃうのでは。","ts":"1598335513.100600","team":"T03C4RC8V","reactions":[{"name":"hee","count":1,"users":["U7B4ZD49X"]},{"name":"sorena","count":1,"users":["U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"w0K1"}]},{"client_msg_id":"8c6d37d1-9c35-4b36-b538-77e6eff4539b","type":"message","user":"U03C6TEAZ","text":"GitHub 社のサービスって Azure で動かしてないのかな？","ts":"1598335485.099500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"F4w"}]},{"client_msg_id":"450a17a8-4662-4165-bc17-ac88ec64bd37","type":"message","user":"U06ECBRTJ","text":"手元の場合は docker login さえすれば、別枠扱いになるので、セーフですが…","ts":"1598335477.098900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oPj"}]},{"client_msg_id":"79b3e4ce-9443-4cd5-9af1-4c42b7fe6130","type":"message","user":"U03C6TEAZ","text":"てか IP で制限とか悪夢が見える気がするんだけど。","ts":"1598335434.097500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kD/"}]},{"client_msg_id":"4ba6f712-cd8f-4a59-8384-398321f9d8ea","type":"message","user":"UNJ2DANJC","text":"quay.ioは最近落ちまくっててそのせいかk8s関連がごそっとgcrに移りましたね","ts":"1598335327.096100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Ao"}]},{"client_msg_id":"f54dba00-3603-4929-94ee-8b713172d0f6","type":"message","user":"U03C71D7H","text":"主要なイメージがだいたい Docker Hub にあるから…","ts":"1598335224.093900","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l4Kqs"}]},{"client_msg_id":"9c7a8ae3-e472-410e-93ae-efda899c0c5a","type":"message","user":"U7B4ZD49X","text":"自前で立てるとさらにユーザーの流出がヤヴァイ気もする","ts":"1598335191.093100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aUUZ"}]},{"client_msg_id":"20871bbb-329e-461d-a98b-1a01d6e27550","type":"message","user":"UNJ2DANJC","text":"circle ciはもう自前でレジストリ建てないとヤヴァイ気がする","ts":"1598335085.092600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5=ba"}]},{"client_msg_id":"91743ccf-9dd8-4d81-8bd7-b4a8f0c57eb5","type":"message","user":"U03C71D7H","text":"Docker 前提だからなぁ","ts":"1598335032.091400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xrFn"}]},{"client_msg_id":"e4c839f0-8ffd-45fc-b721-879012dcf3e0","type":"message","user":"U06BRP8VD","text":"circleci、どうなるんやろね…","ts":"1598334917.091200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WgB2"}]},{"client_msg_id":"ca0e8941-6542-4910-8fe4-b55677ca246a","type":"message","user":"U9S4G0LJW","text":"GitHubは自前でレジストリ持ってるので難しいのでは","ts":"1598334448.090300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C9VT"}]},{"client_msg_id":"04794e7b-9cfd-421f-82cd-9ce822181285","type":"message","user":"U8CC7MDCL","text":"きっとGithub側がPro課金してくれると信じて…","ts":"1598334447.090200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mvwSU"}]},{"client_msg_id":"99819f10-b9bf-4437-83c8-2a0f6495b322","type":"message","user":"U7B4ZD49X","text":"せめてGitHubActionsのIPだけは除外してほしい・・・","ts":"1598334403.089400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yKr5"}]},{"client_msg_id":"b8bea864-7430-416b-bef0-64735a7d0bd0","type":"message","user":"U8CC7MDCL","text":"↑のdocker pullの制限、未認証はIP単位で見ますよーって事は\nGIP共有するような環境だと一瞬で溶けるのか…","ts":"1598334265.088600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AHv5"}]},{"client_msg_id":"2c9a8ac0-7fdb-40ae-87b5-88af4c25ffab","type":"message","user":"U06ECBRTJ","text":"ここ、 \u003c#CSM0YPD0B|tech-docker\u003e なので、 \u003c#C017R65BY2J|tech-ci\u003e  へ…","ts":"1598333608.086600","team":"T03C4RC8V","reactions":[{"name":"woman-gesturing-ok","count":1,"users":["U03C71D7H"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cueg"}]},{"client_msg_id":"4a9b33e3-8122-4e3b-91f4-28bff639317c","type":"message","user":"U03C6TEAZ","text":"と raa さんのに書いてあったので。","ts":"1598333565.086100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zTD"}]},{"client_msg_id":"d4111da0-7563-4f1a-af99-f0c2e4858478","type":"message","user":"U03C71D7H","text":"COVERALLS_TOKEN って GITHUB_TOKEN のことなんです?","ts":"1598333544.085900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FpT2V"}]},{"client_msg_id":"e9d508de-35c7-4c09-8bd1-b19355cf3b3c","type":"message","user":"U03C6TEAZ","text":"\u003chttps://github.com/mattn/go-sqlite3/runs/1024968411?check_suite_focus=true#step:5:8\u003e","ts":"1598333510.085500","attachments":[{"fallback":"GitHub: mattn/go-sqlite3","id":1,"title":"mattn/go-sqlite3","title_link":"https://github.com/mattn/go-sqlite3/runs/1024968411?check_suite_focus=true#step:5:8","text":"sqlite3 driver for go using database/sql. Contribute to mattn/go-sqlite3 development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/go-sqlite3/runs/1024968411?check_suite_focus=true#step:5:8","original_url":"https://github.com/mattn/go-sqlite3/runs/1024968411?check_suite_focus=true#step:5:8"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"t=pW8"}]},{"client_msg_id":"20238a23-881d-4df6-85cc-1c9d0dd4dd4e","type":"message","user":"U03C71D7H","text":"その workflow 用の token が毎回生成されます","ts":"1598333440.085300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bG50c"}]},{"client_msg_id":"a6604728-9d19-4c78-bd67-d8b11df8033e","type":"message","user":"U03C6TEAZ","text":"エラーになったのですが","ts":"1598333439.085200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dYmpt"}]},{"client_msg_id":"b6c2e035-131d-4c9b-802a-802a1a46a9d5","type":"message","user":"U03C71D7H","text":"`secrets.GITHUB_TOKEN` は登録しなくても暗黙的に使えます","ts":"1598333430.084800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SZ/4/"}]},{"client_msg_id":"9d5b7d75-69f4-4760-8bdd-38acdfc99b41","type":"message","user":"U03C6TEAZ","text":"どこから登録するやつです？","ts":"1598333414.084500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mB7C"}]},{"client_msg_id":"f3c19a1d-e768-48fc-b2bb-7df0e9935316","type":"message","user":"U03C71D7H","text":"`GITHUB_TOKEN` って名前は自動的に作られるやつなので、つまり予約されているので作れません","ts":"1598333398.084300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OPn"}]},{"client_msg_id":"286edd81-f864-40bd-8b80-6eb9ac32c028","type":"message","user":"U03C6TEAZ","text":"あれ？違うんです？","ts":"1598333391.084000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mWg"}]},{"client_msg_id":"61d2a991-1fb0-494b-9e14-b5ac6b24ba25","type":"message","user":"U7B4ZD49X","text":"前のイメージ削除の件もそうだねど、docker資金繰り厳しんだなという印象・・・","ts":"1598333381.083600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h/K"}]},{"client_msg_id":"063ff41f-35f7-4cdf-a7cc-f2084ec292f9","type":"message","user":"U03C71D7H","text":"ああ、もしかして secrets に自分で足そうとしました?","ts":"1598333370.083100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HtD"}]},{"client_msg_id":"1c5b31c9-8b9f-422f-8c0f-4732649e4ece","type":"message","user":"U03C6TEAZ","text":"まぁ違う名前に直しときました。","ts":"1598333336.081900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+fH"}]},{"client_msg_id":"8bb7ce84-5771-4018-8c93-00ab38e19f67","type":"message","user":"U03C6TEAZ","text":"あ、docker 社の記事だった。","ts":"1598333310.081600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3Ug"}]},{"client_msg_id":"72c3e07c-9fe2-4665-860c-79d60a0162c6","type":"message","user":"U03C71D7H","text":"いきなりそんな非互換な変更入れるかな…ちなみに `github.token` ってのもあります","ts":"1598333308.081400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ltf"}]},{"client_msg_id":"bd86a073-eb01-445c-beaa-aa3571a012a9","type":"message","user":"U06ECBRTJ","text":"ですね","ts":"1598333296.081100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d8+"}]},{"client_msg_id":"06fd705e-82d7-42d8-a78c-bf7f2a9d9d3c","type":"message","user":"U03C6TEAZ","text":"11月から制限かかるあれ？","ts":"1598333275.080900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4m0RG"}]},{"client_msg_id":"ebba86c2-03ab-4833-aeb8-da8f4b148e1e","type":"message","user":"U06ECBRTJ","text":"docker hub ですよ","ts":"1598333258.080600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wMhfx"}]},{"client_msg_id":"f731c85b-19bd-44fa-9182-da28aabef89e","type":"message","user":"U03C6TEAZ","text":"6時間で100回って MS の制限だろうか、それとも docker hub とかの制限だろうか。","ts":"1598333244.080300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3cSr"}]},{"client_msg_id":"738b6ca3-67df-440b-82fd-56881a8a57c1","type":"message","user":"U06ECBRTJ","text":"OH","ts":"1598333234.079800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uR/E2"}]},{"client_msg_id":"943e6b16-0344-449b-93a3-2d4755eb872a","type":"message","user":"U03C6TEAZ","text":"名前が良くないってはじかれた。","ts":"1598333205.079100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8m86u"}]},{"client_msg_id":"bd1d18b3-3432-4314-a9f1-4e8a80ad460f","type":"message","user":"U03C71D7H","text":"あれ、使えなくなってます?","ts":"1598333195.078800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xT0e"}]},{"client_msg_id":"5fcfd9cb-f8e5-42b6-96e7-6e2f977dde48","type":"message","user":"U03C71D7H","text":"問題は… GitHub Actions って Docker action は CI 側が勝手にイメージを pull するはずだけど、どうやって認証して pull すればいいんだろ","ts":"1598333182.078400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"H3w2e"}]},{"client_msg_id":"302c2ffe-8472-4a4e-8460-3946827ca93c","type":"message","user":"U03C6TEAZ","text":"今って `secrets.GITHUB_TOKEN` って名前使えなくなってるのね。","ts":"1598333139.077800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xDm/+"}]},{"client_msg_id":"a6fa206f-12a9-46f7-8711-b3f9475376b6","type":"message","user":"UG6DF6W87","text":"\u003chttps://docs.docker.com/registry/recipes/mirror/\u003e\n\u003chttps://cloud.google.com/container-registry/docs/using-dockerhub-mirroring?hl=ja\u003e\nmirror 自体は作れるっぽいし","ts":"1598333133.077200","thread_ts":"1598332967.075500","attachments":[{"fallback":"Docker Documentation: Registry as a pull through cache","id":1,"title":"Registry as a pull through cache","title_link":"https://docs.docker.com/registry/recipes/mirror/","text":"This page contains information about hosting your own registry using the open source Docker Registry. For information about Docker Hub, which offers a hosted registry with additional features such as...","thumb_url":"https://docs.docker.com/favicons/docs@2x.ico","blocks":null,"ts":1598262862,"service_name":"Docker Documentation","service_icon":"https://docs.docker.com/favicons/docs@2x.ico","thumb_width":129,"thumb_height":128,"from_url":"https://docs.docker.com/registry/recipes/mirror/","original_url":"https://docs.docker.com/registry/recipes/mirror/"},{"fallback":"Google Cloud: Container Registry の Docker Hub ミラーの使用  |  Container Registry のドキュメント","id":2,"title":"Container Registry の Docker Hub ミラーの使用  |  Container Registry のドキュメント","title_link":"https://cloud.google.com/container-registry/docs/using-dockerhub-mirroring?hl=ja","image_url":"https://cloud.google.com/images/social-icon-google-cloud-1200-630.png","blocks":null,"service_name":"Google Cloud","service_icon":"https://www.gstatic.com/devrel-devsite/prod/v1241c04ebcb2127897d6c18221acbd64e7ed5c46e5217fd83dd808e592c47bf6/cloud/images/favicons/onecloud/super_cloud.png","from_url":"https://cloud.google.com/container-registry/docs/using-dockerhub-mirroring?hl=ja","original_url":"https://cloud.google.com/container-registry/docs/using-dockerhub-mirroring?hl=ja"}],"subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KGdiT"}],"root":{"client_msg_id":"c3c24300-8157-46d5-8e4a-acc29f2f6244","type":"message","user":"UG6DF6W87","text":"今後 DockerHub の mirror がいたるとこに立っていくんだろうか","ts":"1598332967.075500","thread_ts":"1598332967.075500","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=BN8p"}]}},{"client_msg_id":"152f8f62-fc52-454c-ac72-9f466db735c2","type":"message","user":"U03C71D7H","text":"現状すでに、例えば Travis CI とかから GitHub API を未認証で叩くと同じ理由でランダムに失敗するので public API であっても token 必須ですねぇ","ts":"1598333105.076600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/xxS"}]},{"client_msg_id":"c3c24300-8157-46d5-8e4a-acc29f2f6244","type":"message","user":"UG6DF6W87","text":"今後 DockerHub の mirror がいたるとこに立っていくんだろうか","ts":"1598332967.075500","thread_ts":"1598332967.075500","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=BN8p"}]},{"client_msg_id":"9fb48b9b-0cc8-4b59-8221-fb12f3ed301e","type":"message","user":"U7B4ZD49X","text":"\u0026gt; 未認証だと他ユーザーの CI で全部持っていかれて初回から limit 引っかかりそうね\nこれが起こったらつらすぎる","ts":"1598332884.074500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rfQG"}]},{"client_msg_id":"82a601b8-1799-4f95-b6dd-050b8792c9cf","type":"message","user":"U03C71D7H","text":"\u0026gt;  For anonymous (unauthenticated) users, pull rates are limited based on the individual IP address.\n事実上、CI で Docker Hub のイメージを使う場合は無料ユーザーでもいいから認証必須になりそう。未認証だと他ユーザーの CI で全部持っていかれて初回から limit 引っかかりそうね","ts":"1598332509.072600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RXxW"}]},{"client_msg_id":"1eff4512-7be1-43b9-b2d7-fbc14d8ddf65","type":"message","user":"U03C71D7H","text":"手堅いのはやはり GitHub かなぁ","ts":"1598332277.071300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XN0"}]},{"client_msg_id":"32da243c-3eda-4d70-b7ff-5dcb90e95fac","type":"message","user":"U03C71D7H","text":"他の Docker レジストリを探した方がいいだろうか","ts":"1598331689.071000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1jLTB"}]},{"client_msg_id":"29b1a4ce-97e1-4fa3-ace9-10def5b18328","type":"message","user":"U03C4RC8X","text":":be::nri:","ts":"1598331662.070700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hQ6b"}]},{"client_msg_id":"00435340-8b08-44d7-9bf4-2140b007b2e8","type":"message","user":"U7B4ZD49X","text":"（これ系の情報最近このslackで一番最初に取得できるからありがたい・・・）","ts":"1598331657.070500","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zkwxb"}]},{"client_msg_id":"afaffb3d-e6e5-480e-abd9-1d478ae5b0c0","type":"message","user":"U03C71D7H","text":"これ、CI 系死ぬところ多いのでは","ts":"1598331397.069200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j8qtt"}]},{"client_msg_id":"f2021d88-38f1-4453-bbeb-1178d0f0eca1","type":"message","user":"U03C71D7H","text":"え、つらい","ts":"1598330565.068900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3Fg"}]},{"client_msg_id":"6adeffbb-3e24-4e10-9193-c02a80626005","type":"message","user":"U06ECBRTJ","text":"\u003chttps://twitter.com/shyouhei/status/1298064739054940160\u003e","ts":"1598330515.068400","attachments":[{"fallback":"\u003chttps://twitter.com/shyouhei|@shyouhei\u003e: 別にdockerに$5/mo課金したら回避できるならそんな金額くらい突っ込めばいいと思う、が、GitHub Actionsからどうやって課金すればいいんだ？","id":1,"author_name":"7594591200220899443","author_subname":"@shyouhei","author_link":"https://twitter.com/shyouhei/status/1298064739054940160","author_icon":"https://pbs.twimg.com/profile_images/459710955748732928/jBjYAHBT_normal.jpeg","text":"別にdockerに$5/mo課金したら回避できるならそんな金額くらい突っ込めばいいと思う、が、GitHub Actionsからどうやって課金すればいいんだ？","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1598317725,"service_name":"twitter","from_url":"https://twitter.com/shyouhei/status/1298064739054940160","original_url":"https://twitter.com/shyouhei/status/1298064739054940160"}],"edited":{"user":"U06ECBRTJ","ts":"1598330520.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fzo"}]},{"client_msg_id":"f23f8200-2077-41a6-a73b-f7d94e0926bc","type":"message","user":"U06ECBRTJ","text":"\u003chttps://twitter.com/shyouhei/status/1298064113390649344\u003e","ts":"1598330471.068100","attachments":[{"fallback":"\u003chttps://twitter.com/shyouhei|@shyouhei\u003e: えっ、docker pullが6時間で100回しかできなくなるの？RubyのGitHub Actions死ぬわ。CIいっぱつ回るだけで100回以上pullしてるから\n\n\u003chttps://www.docker.com/blog/scaling-docker-to-serve-millions-more-developers-network-egress/\u003e","id":1,"author_name":"7594591200220899443","author_subname":"@shyouhei","author_link":"https://twitter.com/shyouhei/status/1298064113390649344","author_icon":"https://pbs.twimg.com/profile_images/459710955748732928/jBjYAHBT_normal.jpeg","text":"えっ、docker pullが6時間で100回しかできなくなるの？RubyのGitHub Actions死ぬわ。CIいっぱつ回るだけで100回以上pullしてるから\n\n\u003chttps://www.docker.com/blog/scaling-docker-to-serve-millions-more-developers-network-egress/\u003e","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1598317576,"service_name":"twitter","from_url":"https://twitter.com/shyouhei/status/1298064113390649344","original_url":"https://twitter.com/shyouhei/status/1298064113390649344"}],"team":"T03C4RC8V","reactions":[{"name":"totemoturai","count":2,"users":["US90LD360","U06BRP8VD"]},{"name":"majika","count":2,"users":["U7B4ZD49X","U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lVT"}]},{"type":"message","user":"U0184TTK0CB","text":"\u003c@U0184TTK0CB\u003e has joined the channel","ts":"1598287335.067700","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"610c0d7d-b17f-4782-a36d-617e3200b5ac","type":"message","user":"U03C71D7H","text":"push 自体は、push 先にすでにあるよんってなるので時間はそんなにかからないのだけど、レジストリ側で「イメージが最後に更新された時間」が更新されてしまう。ちょっとだけ微妙","ts":"1598283911.067500","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UEACRCY0Z"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CR6l7"}]},{"client_msg_id":"5f4d5f44-aca3-49e8-8ed4-741a02c0f971","type":"message","user":"U03C71D7H","text":"`docker build --cache-from=...` でキャッシュが見つかってビルドが完全にキャッシュで済んだ場合、できればキャッシュを再 push したくないのだけど、どうもいい方法がなさげ…","ts":"1598283845.066500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FD+O"}]},{"client_msg_id":"5e3b9ffc-1db7-43a4-a160-8f31e7ae7e36","type":"message","user":"U03C71D7H","text":"\u0026gt; これを付けてるとイカす、みたいなのもしあれば\nつまりこういうのはなさそう","ts":"1598282456.065400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"w4ZNk"}]},{"client_msg_id":"2B5E82D6-C375-41B0-ABE7-DD807CBFD54D","type":"message","user":"UDDCM376D","text":"ラベルはメタデータなので、つけておきたいデータを付ければよいかなってくらいの感覚","ts":"1598282352.065100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wznh"}]},{"client_msg_id":"e0f0877c-cb3f-4784-99bb-e6cfdb384f29","type":"message","user":"U03C71D7H","text":"イメージ内のソフトウェアのバージョンとかはイメージのタグにもあったりするので、イメージ内のラベルにもあるべきなのかどうかとかよくわからない","ts":"1598282251.064100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VRDeU"}]},{"client_msg_id":"804fa377-6464-4ef8-ae88-96bcbb2d3599","type":"message","user":"U03C71D7H","text":"慣習的なものがあったりするのかなぁとか思ったんですけど、調べても全然出てこないんですよね","ts":"1598282192.063400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Lm8"}]},{"client_msg_id":"53ae27b4-fb6e-44d4-8081-db73fca02d5a","type":"message","user":"U8CC7MDCL","text":"コミットハッシュとか？","ts":"1598281546.062800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SRV"}]}]
