[{"client_msg_id":"cdc02a8a-12b0-4705-aa3e-ad5b83da7e89","type":"message","user":"U06ECBRTJ","text":"<https://employment.en-japan.com/engineerhub/entry/2020/04/16/103000>\nk8s のチャネルはなかったから、ここで","ts":"1587030034.069500","attachments":[{"fallback":"エンジニアHub｜若手Webエンジニアのキャリアを考える！: Kubernetes-nativeなアーキテクチャ導入の手引き 先進的なクラウド環境を最強テストベッドで体験 #エンジニアHub - エンジニアHub｜若手Webエンジニアのキャリアを考える！","id":1,"title":"Kubernetes-nativeなアーキテクチャ導入の手引き 先進的なクラウド環境を最強テストベッドで体験 #エンジニアHub - エンジニアHub｜若手Webエンジニアのキャリアを考える！","title_link":"https://employment.en-japan.com/engineerhub/entry/2020/04/16/103000","text":"Kubernetes-nativeなエコシステムを実現する最強テストベッド環境です。さまざまなミドルウェアを運用したマイクロサービスをフルgRPCなサービス間通信で実現するだけでなく、CI/CDと開発環境も用意しています。","image_url":"https://cdn-ak.f.st-hatena.com/images/fotolife/b/blog-media/20200330/20200330235855.png","blocks":null,"ts":1587000600,"service_name":"エンジニアHub｜若手Webエンジニアのキャリアを考える！","service_icon":"https://cdn.image.st-hatena.com/image/apple_touch_icon/5b2fd5dcfeaff02ecd23d4dd52498944b6cf5fc7/version=1/https%3A%2F%2Fcdn.user.blog.st-hatena.com%2Fcustom_blog_icon%2F125375497%2F1514216060853259","from_url":"https://employment.en-japan.com/engineerhub/entry/2020/04/16/103000","original_url":"https://employment.en-japan.com/engineerhub/entry/2020/04/16/103000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rRa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"895bdff0-50c8-454f-b736-1ec56e36ea96","type":"message","user":"UEA8SS1RN","text":"docker 使ってて、--no-cache設定しているのに、以前のimageをひきずってたりする事ありません? 例えば、今僕はADDでファイルを足しているんですが、docker buildしても、docker runして中に入ると、そのファイルが無いのです。だれか同じ事ありませんか?","ts":"1587036383.071700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5NgpA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"14b13375-27d9-4dc1-ba2c-76f43f1b06d9","type":"message","user":"U9S4G0LJW","text":"`docker system prune`やっても同じことになります？","ts":"1587036485.072100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IgKzF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f8a0c966-42eb-439d-b8d5-7698e2c7b29b","type":"message","user":"UEA8SS1RN","text":"こんなヤバいコマンドがあったとは。","ts":"1587036520.072500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2JZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6464f0f7-6f5a-4618-9824-06550bf8109c","type":"message","user":"U9S4G0LJW","text":"これで治るなら秘孔突いてそうな予感","ts":"1587036658.073000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y//8V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b32a505e-a341-4a89-94e7-3bb9be93c781","type":"message","user":"U9S4G0LJW","text":"もしくはタグの指定ミスってるとか？","ts":"1587036669.073300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kKkU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5302cf53-06a8-47ac-8b75-f28601e0d8a1","type":"message","user":"UEA8SS1RN","text":"直らない。。。\nタグ指定してないので、latestになりますよね？","ts":"1587036963.073800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"El6Q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78a93684-cc8a-4a89-8aba-e22be25591b6","type":"message","user":"U9S4G0LJW","text":"指定なければlatestであってるはず…","ts":"1587036996.074100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N5ih5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fafeac05-bfdf-4807-9196-e6c6e3eb6a74","type":"message","user":"UEA8SS1RN","text":"なんかimageを全部掃除  `docker image list | awk '{print $3}' | xargs docker rmi -f ` しても発生する。これDockerfileの問題か。。。","ts":"1587037853.075200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BAP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b833886-a0a9-4850-b935-304c4c422e48","type":"message","user":"UEA8SS1RN","text":"ただのADDなのに。","ts":"1587037861.075400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CG+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"472b8e89-049f-4a4a-b523-bef05f6b5e6d","type":"message","user":"U9S4G0LJW","text":"そういえばADDである必要ってあります？","ts":"1587037901.075600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4Al"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"17651187-68cd-477f-a690-726e4711ba39","type":"message","user":"UEA8SS1RN","text":"ファイルがそこにあれば良いです。","ts":"1587037923.076200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uAxl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8a834fe7-d3c2-44f9-bec2-12b50f62181f","type":"message","user":"U9S4G0LJW","text":"COPYで可能であればCOPYにしたらいいのでは、圧縮されたファイルの扱いが違うはずなので","ts":"1587037924.076300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hKbqy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"debfafa8-2199-4f2f-8299-f96e347aa9d1","type":"message","user":"UEA8SS1RN","text":"なるほど。","ts":"1587037935.076500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qLJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"96f03728-5098-4bab-9ac6-527ade2d8186","type":"message","user":"UEA8SS1RN","text":"ただ、今回はただの.envなので。","ts":"1587038017.076800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BJbh0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c80541b1-1216-4b6b-9a7a-49f066a1e014","type":"message","user":"UEA8SS1RN","text":"テキストファイルです。数行の。","ts":"1587038027.077200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ht+w"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"70fcbbbc-3e57-4d7a-8016-7232d5f21051","type":"message","user":"U9S4G0LJW","text":"後はコピー先の指定ミスか","ts":"1587038114.077700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A09d"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e804d8c3-85f1-4533-b43b-fe71eef09942","type":"message","user":"UEA8SS1RN","text":"```Step 13/16 : ADD .env /go/.env\n ---&gt; 542e951a8729```\n logにも出てるんですよね。","ts":"1587038224.078700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iTJ+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f412196d-e922-4ca4-9b6c-c2762575de89","type":"message","user":"U9S4G0LJW","text":"その後のステップで消えてる？","ts":"1587038532.078900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ujam"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"50172100-42ed-4c1d-9518-19b0d0a367cb","type":"message","user":"UEA8SS1RN","text":"ちょっと頭冷してきます。","ts":"1587038982.079500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Mug8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9bcdd45b-5f8b-4524-abbb-138cfe428dcc","type":"message","user":"UEA8SS1RN","text":"ちなみに、最後CMDで実行される時のPWDってWORKDIRで良いんですかね? PWDが変で.envを読んでくれなくて、じゃ、.envの場所を変えようという愚策なので。","ts":"1587039042.080600","team":"T03C4RC8V","reactions":[{"name":"man-gesturing-ok","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CT7c4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ad506eb9-2929-4d60-994a-eb4c668b7541","type":"message","user":"UEA8SS1RN","text":"だとすると、そこもなんか変。","ts":"1587039139.081000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YvC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1b853d9a-504f-4dfd-98cb-2ccacdb95729","type":"message","user":"UEA8SS1RN","text":"```FROM golang:1-stretch\n\nARG GITHUB_USER\nARG GITHUB_TOKEN\nARG RUN_ENV\nARG BRANCH\nEXPOSE 50051\n\nRUN apt-get update\nRUN apt-get install -y make git\nWORKDIR /go\nRUN git clone -b ${BRANCH} https://${GITHUB_USER}:<mailto:${GITHUB_TOKEN}@github.com|${GITHUB_TOKEN}@github.com>/ls/ft-hermes.git\nWORKDIR /go/ft-hermes/dep/${RUN_ENV}\n\nADD .env /go/.env\n\nRUN make build\nWORKDIR /go/ft-hermes\n\nCMD ./hermes_server```\nこれで、./hermes_serverが `/go/ft-hermes` で起動する事を期待しているんだけど `/go` で起動している。","ts":"1587039343.082500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"knF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"62bb155b-5f9a-4b07-9f02-5a0e8de3d5b3","type":"message","user":"UEA8SS1RN","text":"golang:1-stretch が、/goなのかな。それ上書く必要があるのかな。","ts":"1587039720.083300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"raKp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c0d84e67-9aa9-4203-865c-41aa800272a6","type":"message","user":"U9S4G0LJW","text":"`./hermes_server`をpwdに変えたらなんってでます？","ts":"1587039746.083600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qJ6TV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"779df577-8f20-49f8-8cc8-a7933ff55a16","type":"message","user":"UEA8SS1RN","text":"pwd吐くようにログ仕込んだら、/goになってました。","ts":"1587039929.084100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sWZT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4f8142ae-d616-4aaa-8888-2aacde126036","type":"message","user":"U9S4G0LJW","text":"hermes_serverがいらんことやってる確定ぽい、GOPATHにcdするとか","ts":"1587039995.084900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hMfW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"665a95ca-d310-49df-822b-b819d28ec722","type":"message","user":"UEA8SS1RN","text":"docker-composeのworking_dirを /go/ft-hermesに変えたら .env 読みはじめました。","ts":"1587040111.086100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"veNep"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"50eec660-0eb6-42ab-b193-e28b60822f10","type":"message","user":"U9S4G0LJW","text":"あーそっちか、composeなるほど","ts":"1587040130.086700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+RIv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a8d0cf24-8679-45b0-9876-3069d6ab77df","type":"message","user":"UEA8SS1RN","text":"working_dirの問題だったらしい。","ts":"1587040132.086800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hra"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4b8dd30d-77ac-4cff-96eb-4ebd604fe53a","type":"message","user":"UEA8SS1RN","text":"ありがとうございました。","ts":"1587040142.087000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kCL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"440c47bd-8e01-45cb-9c27-4709bddf8e3c","type":"message","user":"U9S4G0LJW","text":"関係ないことばかりすみませんというしか","ts":"1587040187.087900","team":"T03C4RC8V","reactions":[{"name":"man-bowing","count":1,"users":["UEA8SS1RN"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5DJIk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
