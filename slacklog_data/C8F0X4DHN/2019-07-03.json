[{"client_msg_id":"52d300c3-85ca-4f17-9100-ec5a8cb4a8be","type":"message","user":"U0M7GCBPD","text":"gist にうつしました <https://gist.github.com/tyru/6d2999418ac5f5b7d5cdb960032d6009>","ts":"1562084565.140000","thread_ts":"1562076181.128000","parent_user_id":"U0M7GCBPD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2454f3b-3378-47c8-a675-5c5f996872b7","type":"message","user":"U0M7GCBPD","text":"ひとまずは惜しいとこまでいけた <https://vim-jp.slack.com/archives/C83UXKU86/p1562085061184000>","ts":"1562085091.140500","attachments":[{"fallback":"[July 2nd, 2019 9:31 AM] tyru: <https://github.com/vim-jp/issues/issues/1282#issuecomment-507751616>\nすみません、助けてください。\n`E685: Internal error: hash_add()` が出るのと、autoload スクリプトを読み込む手段が分かってない感じです。","id":1,"author_id":"U0M7GCBPD","author_name":"tyru","author_subname":"tyru","author_link":"https://vim-jp.slack.com/team/U0M7GCBPD","author_icon":"https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F00b63%2Fimg%2Favatars%2Fava_0026-48.png","text":"<https://github.com/vim-jp/issues/issues/1282#issuecomment-507751616>\nすみません、助けてください。\n`E685: Internal error: hash_add()` が出るのと、autoload スクリプトを読み込む手段が分かってない感じです。","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #dev","ts":1562085061.184000,"from_url":"https://vim-jp.slack.com/archives/C83UXKU86/p1562085061184000","original_url":"https://vim-jp.slack.com/archives/C83UXKU86/p1562085061184000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a17d6ea6-5ad1-4ed9-ade8-7618d6bd406c","type":"message","user":"U776661HA","text":"sugoi","ts":"1562086001.141400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e009c854-0970-4af2-8dae-0becb6823f86","type":"message","user":"U776661HA","text":"Gist にもコメントしたけど、こんなんどうでしょう？\n\n```\nlet s:name = fnamemodify(expand('&lt;sfile&gt;:p'), ':t:r')\n\nfunction! z#_#require(path) abort\n  let l:prefix = printf('z#%s#%s', s:name, a:path)\n  let l:script = printf(\n        \\ 'autoload/%s.vim',\n        \\ substitute(l:prefix, '#', '/', 'g')\n        \\)\n  execute printf(\n        \\ 'runtime! %s',\n        \\ fnameescape(s:from_slash(l:script)),\n        \\)\n  let l:fnames = map(\n        \\ split(execute('function /' . l:prefix), '\\n'),\n        \\ { -&gt; matchstr(v:val, '^function \\zs[a-zA-Z0-9_#]\\+\\ze(') }\n        \\)\n  let l:module = {}\n  for l:fname in filter(l:fnames, '!empty(v:val)')\n    let l:name = matchstr(l:fname, '.*#\\zs[a-zA-Z0-9_]\\+')\n    let l:module[l:name] = funcref(l:fname)\n  endfor\n  return l:module\nendfunction\n\nfunction! s:from_slash(path) abort\n  return fnamemodify(a:path, 'gs?/?\\\\?')\nendfunction\n```","ts":"1562086371.142900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"664d83a0-2c15-45aa-a7c3-185a3fa7522a","type":"message","user":"U776661HA","text":"Vim 自体に入るの最高だけどプラグインとしては新しすぎて使えないので…","ts":"1562086402.143500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"576ced96-cb6b-4b14-89de-c2b661b18fea","type":"message","user":"U0M7GCBPD","text":"コメントしました。そういや require なのにロードしてなかった…","ts":"1562086967.143900","team":"T03C4RC8V","reactions":[{"name":"fearful","count":1,"users":["U776661HA"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"310284ad-422e-4a84-8743-c15f51f52a32","type":"message","user":"U0M7GCBPD","text":"C 版では解決しようとしてたけど Vim script 版は vital でしかテストしてなかったからうまくいっちゃってたままだった…","ts":"1562087025.144700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7618ea6f-7b6a-4143-8fdb-1dbc915555af","type":"message","user":"U776661HA","text":"POC: <https://github.com/lambdalisue/vim-z/blob/master/autoload/z/_/promise/process.vim>","ts":"1562087110.144900","attachments":[{"fallback":"GitHub: lambdalisue/vim-z","id":1,"title":"lambdalisue/vim-z","title_link":"https://github.com/lambdalisue/vim-z/blob/master/autoload/z/_/promise/process.vim","text":"Contribute to lambdalisue/vim-z development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/546312?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/lambdalisue/vim-z/blob/master/autoload/z/_/promise/process.vim","original_url":"https://github.com/lambdalisue/vim-z/blob/master/autoload/z/_/promise/process.vim"}],"team":"T03C4RC8V","reactions":[{"name":"subara","count":1,"users":["U0M7GCBPD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"999ff6e8-089e-4197-bf7b-cdfe51dbca32","type":"message","user":"U776661HA","text":"Vitalizer 相当を作るのがとーーーってもだるい…","ts":"1562087158.145300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6101b2a8-0c49-4049-8355-8084f20f1963","type":"message","user":"U776661HA","text":"そのうち…","ts":"1562087164.145600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f42fe918-00a0-42a4-b828-6f21c945c151","type":"message","user":"U776661HA","text":"job/promise はたぶんできたから、これつかって git clone して任意リポジトリの任意ファイルを勝手にダウンロードとか色々。。。","ts":"1562087347.146500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"44C11EBA-C76F-47B6-97C8-4EDF56C10E12","type":"message","user":"U776661HA","text":"まあねるか","ts":"1562087416.146700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5789aaab-99bc-425c-b241-79ad450b91db","type":"message","user":"U0M7GCBPD","text":"POC はやい","ts":"1562087858.146900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"75fc8955-aaec-4d05-8f31-958aebdc0828","type":"message","user":"U0M7GCBPD","text":"```\nlet ns = require('my#awesome#plugin#feature')\n```\nで `ns == {}` の時もあればちゃんと入っている時もあるという状態になってしまってお手上げ状態です :innocent:\n(再現手順は issue に書きました <https://github.com/vim-jp/issues/issues/1282#issuecomment-507848425>)","ts":"1562102581.148500","attachments":[{"fallback":"GitHub: autoload 関数を呼ぶのが長いので省略できる手段が欲しい · Issue #1282 · vim-jp/issues","id":1,"title":"autoload 関数を呼ぶのが長いので省略できる手段が欲しい · Issue #1282 · vim-jp/issues","title_link":"https://github.com/vim-jp/issues/issues/1282#issuecomment-507848425","text":"内容 echo some#nested#plugin#func() みたいに autoload 関数の名前が長くなる事があります。 これを解決する手段が欲しいです。 実現方法 以下のような require() 関数が組み込みで欲しいです。 &amp;quot; very#long#long#plugin#func(42) let s:plugin = require(&amp;#39;very#long#l...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/issues/issues/1282#issuecomment-507848425","original_url":"https://github.com/vim-jp/issues/issues/1282#issuecomment-507848425"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3395ddd4-3413-44a4-8b8f-67574c4d21d9","type":"message","user":"U0M7GCBPD","text":"既存 vital モジュールの書き換えですが、もしかしたら vitalizer が頑張ったら今の書き方でも良いとかありませんかね？\n結局 vital はプラグインにインストール (embed) ができるライブラリというのが強みなので、名前空間 (=autoload の prefix) をどう vital モジュール内で表現するかという問題はあると思います (↑の vim-z では `z#_` で定義してる)。\n結局インストール時に prefix を書き換える必要がありそう。","ts":"1562106472.154100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2264f952-61b3-4151-8a64-2507dbc8b8df","type":"message","user":"U0M7GCBPD","text":"なるべく書き換えなし (autoload/vital.vim 除く) で module という形で動的に名前空間を実現してたけど、おそらく「ちゃんと」やるならインストール時に vimlparser とかでパースして書き換える必要はあると思います。\n(PREFIX みたいな文字列を単純に置き換えみたいなのでもいけますが、その仕様にしたらもちろん vint とかの恩恵が受けられるなくなるので vim script の syntax は保ったままにしたい…)","ts":"1562106706.158900","thread_ts":"1562106706.158900","edited":{"user":"U0M7GCBPD","ts":"1562107570.000000"},"reply_count":2,"replies":[{"user":"U0M7GCBPD","ts":"1562108657.168700"},{"user":"U0M7GCBPD","ts":"1562109355.172800"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"79f7ee8c-abc9-4f9d-8815-32efb9d4e7f6","type":"message","user":"U0M7GCBPD","text":"vim-vimlparser で現実的な速度でパースできるのかとかの問題はある","ts":"1562106796.159700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"705ef402-1821-47f2-bd74-0a340c23e4f3","type":"message","user":"U0M7GCBPD","text":"あと今は vital モジュールをプラグインのリポジトリに同梱しても動いてたけどそういうのは autoload 方式でサポートできるのか、する必要があるのかとか","ts":"1562106935.161600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2593b845-9f39-46d7-8c95-f5110b4943a7","type":"message","user":"U0M7GCBPD","text":"まぁこれだと AST → Vim script の printer が必要になってしまい大仰になってしまう (逆に言えば↓が実用的になれば解決する)\n<https://github.com/vim-jp/vim-vimlparser/pull/70>","ts":"1562108657.168700","thread_ts":"1562106706.158900","attachments":[{"fallback":"GitHub: Add 'printer' feature: Restore source code string from AST by tyru · Pull Request #70 · vim-jp/vim-vimlparser","id":1,"title":"Add 'printer' feature: Restore source code string from AST by tyru · Pull Request #70 · vim-jp/vim-vimlparser","title_link":"https://github.com/vim-jp/vim-vimlparser/pull/70","text":"This is big change. so I don&amp;#39;t think I want this feature to get merged soon. Disclaimer This feature is not intended to restore full original source code. This feature provides a way to get Vim...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vim-vimlparser/pull/70","original_url":"https://github.com/vim-jp/vim-vimlparser/pull/70"}],"parent_user_id":"U0M7GCBPD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b0d11086-951b-46a3-a83d-9bcf38f24109","type":"message","user":"U0M7GCBPD","text":"いやでも volt では plugconf って .vim ファイルに書いた関数を抜き出して関数名だけ変えて、他にも色んな変数をトップレベルに定義したりとかやってるので全てを変換するとかそんな大げさな事しないでいいのでは？？\nvolt と同じことやればできるでしょって思ったからそう言ったのでは？？？","ts":"1562109355.172800","thread_ts":"1562106706.158900","parent_user_id":"U0M7GCBPD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"40662D1F-808F-4945-B5A5-8189E704BEE9","type":"message","user":"U776661HA","text":"僕はなるべくシンプルにしてエッジケース捨てる方がいいかなーと思います。\n要はバンドル対処のスクリプトをコピーした後 z#_# って文字列（かなり特殊な文字列ですよね？）を z#gina# とかに単純置換する。\n動的な関数呼び出しの一部のケースとかに対応出来ないですが、それを救うために複雑性増すよりは仕様にしてしまった方がいいかなと。\nPOC はそういう方向で作って行こうかなーと考えてます。","ts":"1562111063.178400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"140d0f95-6fa5-4a29-b127-55b475cbca85","type":"message","user":"U0M7GCBPD","text":"ですね。PoC は単純に置換でいいし、パースすれば function のリスト (位置含む) を取得してその関数名のみ書き換えるのはそんな難しくないと思います。","ts":"1562111319.183500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78362F7E-D9B7-4886-B849-76757F88165E","type":"message","user":"U776661HA","text":"良さそうなの出来たら既存の vital モジュールを z#_#vital 名前空間下にバンドルできるような積極的な置換とかも有りですね","ts":"1562111411.185300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"CE46BF4A-316B-469D-BAE9-A89C2E676DB9","type":"message","user":"U776661HA","text":"既存の s: 関数を autoload 関数にガリガリ書き換え","ts":"1562111439.186200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9194a17-598c-4773-92ef-97983a7b2269","type":"message","user":"U0M7GCBPD","text":"良さそう","ts":"1562111454.186700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f0a08c23-e7ca-4cc6-a933-efb0fcc4d6a2","type":"message","user":"U0M7GCBPD","text":"あとちょっと気になってるんですが、(prefix)#(plugin) の (plugin) ていりますかね？\nprefix 指定すればいい気がする。","ts":"1562111489.187800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7D9A6954-2C04-4DDD-A3D7-7698AB4B85B0","type":"message","user":"U776661HA","text":"それないと衝突しちゃう","ts":"1562111514.188400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"442CB139-4FB0-4563-866B-0126F466FDE4","type":"message","user":"U776661HA","text":"ginaとfila で違うバージョンの promise使いたい、とか出来なくなっちゃいます","ts":"1562111542.189300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d7edc034-b9c3-4595-a637-92e5e32b42b5","type":"message","user":"U0M7GCBPD","text":"あ、はい。\n自分が思ったのは、vitalize 時に「vital module のユーザが」 prefix だけ指定すればどこの prefix でもいいかなーと思ったんです。\n:Vitalize に (prefix)#(plugin) を指定する感じ。","ts":"1562111667.192300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"25A44F02-E1BD-4198-9B97-ACD3E0981451","type":"message","user":"U776661HA","text":"あー","ts":"1562111915.192700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"D238B2F2-FD74-45AE-A8C0-A583F6050167","type":"message","user":"U776661HA","text":"わかる、わかるけど少し怖いです","ts":"1562111925.193000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"D95D2842-5B8C-441F-9A18-F7BDF99C674E","type":"message","user":"U776661HA","text":"感覚的なものですが、名前の付け方は厳密なルールにしといたほうが無難な気がします","ts":"1562111958.193900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3E475D60-4F48-4770-BAF4-1726A9DCBBFA","type":"message","user":"U776661HA","text":"z#gina#promise#new だったりfila#lib#promise#new だったりって事ですよね？","ts":"1562112020.195000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0CEF73A3-B367-40BC-917D-8BFF7E32626A","type":"message","user":"U776661HA","text":"具体的なヤバイケース思い付いてないけど感覚的に恐怖感がある","ts":"1562112065.195900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"af76376d-06ef-4157-a798-081b70cc4efc","type":"message","user":"U0M7GCBPD","text":"ふむ… まぁ vital module を本当に autoload 化できるか (s:_vital_created() 辺りの仕組みとか) とかも気になるので、実装していく中で不都合あれば気付きそうですね","ts":"1562112494.197000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ec53df90-8ee7-4b73-8965-dc2315e61b78","type":"message","user":"U0M7GCBPD","text":"つまり作ればわかる","ts":"1562112502.197300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e6249151-6408-4f6a-82b9-44e09c9e8c2a","type":"message","user":"U0M7GCBPD","text":"やっていきの機運","ts":"1562112576.197600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"D1E4D0E2-7082-442B-8DE0-E7DCBD5A153C","type":"message","user":"U776661HA","text":"cfp 出した","ts":"1562112588.197900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2422F96F-94F7-41F5-BE1D-63C70525C6E1","type":"message","user":"U776661HA","text":"「受かったら作ります（締め切り駆動」","ts":"1562112604.198400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"E13C1571-EB36-4615-BB4A-267071C71E6A","type":"message","user":"U776661HA","text":"まあ受かる受からない関係なしにやるとは思うけどw","ts":"1562112625.198900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49bbfba4-9ec1-478d-8783-92398c239abf","type":"message","user":"U0M7GCBPD","text":"vitalizer に関しては業務後、今日ちょっと作ってみます。 `:Vital {subcmd}` 的なの作ろうかなと\nとりあえず `:Vital install` として作ろうかな","ts":"1562112818.200800","edited":{"user":"U0M7GCBPD","ts":"1562112838.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"60516fc3-08ec-47e2-89c0-6139b28a7ea5","type":"message","user":"U0M7GCBPD","text":"vital module として書く事でエコシステムに乗っかれると便利そげなので、subcommand にしてみた (lint とかのサポートもできたりとか、別リポジトリの vital module の fetch とか)","ts":"1562112884.202600","edited":{"user":"U0M7GCBPD","ts":"1562112908.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"DD6E5544-7A7D-4356-972A-84DA96C84A46","type":"message","user":"U776661HA","text":":Zee add promise -repo=<http://github.com/vim-jp/z|github.com/vim-jp/z>\n\nってやったら\n\ngit clone -n ...\ngit checkout ...\n\nして対処ファイルを落としてくる\n\n\nまでは考えてた","ts":"1562112931.204000","team":"T03C4RC8V","reactions":[{"name":"sunglasses","count":1,"users":["U0M7GCBPD"]},{"name":"subara","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f9a61539-59e1-4bca-9f73-7a0f4e14b940","type":"message","user":"U0M7GCBPD","text":"下手に分担とかしないで両方で作っても良さそうですね。実装ありきでここが良いとか話せると良さげ","ts":"1562113039.205600","edited":{"user":"U0M7GCBPD","ts":"1562113142.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f81a4a73-c2c3-4987-9d4f-eeb157c3e6f5","type":"message","user":"U0M7GCBPD","text":"(実装が途中でも PoC なので全然アリ)","ts":"1562113091.206600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"CB119427-3013-4275-901D-8C578A1F502C","type":"message","user":"U776661HA","text":"うむ","ts":"1562113230.208300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"83e0793c-c1e4-49fb-8673-3acc1921d37e","type":"message","user":"UAZ33BKV2","text":"依存関係が外部リポジトリにある場合に、現在は静的に用意できていることが前提だからまだ...というのがありますが、動的に個別モジュールを取ってくると依存関係解決でやばそう\n依存する上位のリポジトリの情報を__xx__直下とかに持つとかが必要になってくるかも?","ts":"1562113242.208800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4860E501-C476-432E-BB84-B42570D7B55A","type":"message","user":"U776661HA","text":"その辺は deps.json みたいな形で保持するのが良いかなと思ってました","ts":"1562113275.209400","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U0M7GCBPD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3c9de97-3c82-4c82-b0a3-5fd0127868dd","type":"message","user":"UAZ33BKV2","text":"なるほど","ts":"1562113286.209600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"F1C537F0-5B43-4C2A-AAA5-9FB6D681774D","type":"message","user":"U776661HA","text":"autoload/z/gina/deps.json みたいなファイルに依存モジュールの情報（リポジトリとかも含む）保持して頑張る系","ts":"1562113347.211200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"38588598-1e9e-4801-867b-933aff1fdadf","type":"message","user":"U0M7GCBPD","text":"動的に個別モジュールを取ってくるというか、個人的にはパッケージマネージャ (`:Vital get` (仮)) とインストーラ (`:Vital install`) は別物だと思ってます\nあとメタ情報は自分も json に保持する予定ですね。Vim でなくても読めるし (読めると嬉しいユースケースが見つかってる訳ではない)","ts":"1562113491.213500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f25a5cd6-bee0-4bc8-bff5-a3ce425b3070","type":"message","user":"U0M7GCBPD","text":"例えばバージョンの管理はパッケージマネージャ (例: `:Vital get`, npm) の仕事、ファイルシステムからスクリプトをロードするのはローダー (vital で提供する `require()` 関数、JS の `require()`) の仕事","ts":"1562113643.215400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"F6A19D6F-02F3-4055-B8F5-9A04F59CB07C","type":"message","user":"U776661HA","text":"たしかにマネージャーとインストーラ（バンドラー？）は分けたほうがよさそう。","ts":"1562114238.216200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c464e21d-4c56-416a-9bc1-f27fe8734bee","type":"message","user":"U0M7GCBPD","text":"なるほどバンドラー","ts":"1562114282.216400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8C6608E6-5685-4211-990F-1F33CDE4D8B2","type":"message","user":"U776661HA","text":"仕事そっちのけで作りたくなるw","ts":"1562114314.217300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7FBD9688-39EE-4603-BDD0-ACEB5CCAA530","type":"message","user":"U776661HA","text":"が、仕事しよう","ts":"1562114321.217700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d911a0c6-df0c-4652-a179-8da21d631c55","type":"message","user":"U0M7GCBPD","text":"あとバンドラーで思い出したけど、webpack みたいなバンドラーツールからもアイデアが拝借できると思っていて、\n具体的に言うと NYSL でない外部 vital module のために、ライセンス文を冒頭に埋め込めるようにもしたい","ts":"1562114362.218500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a06d8847-f430-4180-bb92-84fe7fb4af4f","type":"message","user":"U0M7GCBPD","text":"すごく :wakaru:","ts":"1562114374.218700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"510C0579-D1BD-43BF-BEFF-62A546DE8C84","type":"message","user":"U776661HA","text":"\nあ、それよさそう。そのアイディアもらい","ts":"1562114404.219100","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U0M7GCBPD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"896c38f1-9d03-420c-905a-f598964f9d49","type":"message","user":"U0M7GCBPD","text":"寝てた\n定期的に夕方寝落ちるの、リモートになってから多くなってしまった… (理性よ…)","ts":"1562156515.220800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68811f6b-91b1-4923-b091-11d388c45f84","type":"message","user":"UAZ33BKV2","text":"定期停電...","ts":"1562157503.221200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d6ef7061-32ba-4a26-84d6-9ea962c4d5b1","type":"message","user":"U0M7GCBPD","text":"※計画的ではない","ts":"1562158980.221500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1a8ae701-777e-4914-9994-2ea7266930c9","type":"message","user":"U0M7GCBPD","text":"ガワだけ作った (既存の :Vitalize の実装を :Vital bundle でも動くようにしただけ)\n<https://github.com/vim-jp/vital.vim/tree/vital-command>","ts":"1562160430.222300","attachments":[{"fallback":"GitHub: vim-jp/vital.vim","id":1,"title":"vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/tree/vital-command","text":"A comprehensive Vim utility functions for Vim plugins - vim-jp/vital.vim","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/tree/vital-command","original_url":"https://github.com/vim-jp/vital.vim/tree/vital-command"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4955fb4f-a49c-4c95-bef8-4d099a114bf4","type":"message","user":"U0M7GCBPD","text":"ちなみにパッケージマネージャーとバンドラーを分けた方がいいというのは内部的にはそうなんだけど\nユーザ的には別に分ける必要はないと思っている (ユーザ的には `:Vital install` で外部のリポジトリも透過的に扱えたほうが嬉しい)","ts":"1562160959.224600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97d720d0-bcbd-4108-9fae-a09819a5b6d7","type":"message","user":"U0M7GCBPD","text":"モジュールの大文字やめたいも同意なんだよなぁ\npython 2 -&gt; 3 感あるな","ts":"1562161624.225700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"15682ed7-a49f-43a7-af6a-70daf4a6c3a0","type":"message","user":"U03C71D7H","text":"モジュールの大文字そこまで嫌ではない派なのだけど、みんな結構嫌派なんかな?","ts":"1562162561.226900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d55cf3d2-f06d-4d42-8ec0-bb7044dd6cb5","type":"message","user":"UAZ33BKV2","text":"どっちもアリはありかなと思いますが、大文字小文字を使い分けるのがうまくいかないものが出たときに悩むくらい?","ts":"1562162633.228100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"09c52a7c-96da-4fe9-86c4-9cb9f1dceb75","type":"message","user":"U0M7GCBPD","text":"自分は Vim script はBram が Python に寄せてる気がするのでなんとなくスタイル的には Python を参考にしようかなみたいに考える場合が多いです (あくまでそういう傾向があるだけ)","ts":"1562162743.229000","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U776661HA"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"583086fd-e975-4ba6-8418-933592a63c11","type":"message","user":"U0M7GCBPD","text":"あと他は小文字だけどモジュールだけ大文字というのも今見れば確かにちょっと変かな？ぐらいですかね","ts":"1562162774.229500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3a2469d5-6125-41d5-a1d0-ead5f860f114","type":"message","user":"U0M7GCBPD","text":"(ファイル名、関数名)","ts":"1562162787.229800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cefb1ca4-035d-41c1-8f83-a4b9ba413f73","type":"message","user":"U03C71D7H","text":"むしろスコープごとに違う方がパッと見でどのスコープの名前かわかって便利かなぁ","ts":"1562162993.230900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4b62a10e-0bc8-47db-b0b1-9ad55b17ca79","type":"message","user":"U0M7GCBPD","text":"作っちゃった <https://github.com/vim-jp/vital.vim/issues/674>","ts":"1562163454.231400","thread_ts":"1562163454.231400","attachments":[{"fallback":"GitHub: Vital.Next: autoloadization of modules in :Vitalize · Issue #674 · vim-jp/vital.vim","id":1,"title":"Vital.Next: autoloadization of modules in :Vitalize · Issue #674 · vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/issues/674","text":"Issue about the next vitalizer design, discussion, and so on. What is this issue? For logging <http://vim-jp.slack.com|vim-jp.slack.com> (#vital-dev room) Want to hear people ideas outside <http://vim-jp.slack.com|vim-jp.slack.com> Slack log (Japane...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/issues/674","original_url":"https://github.com/vim-jp/vital.vim/issues/674"}],"reply_count":1,"replies":[{"user":"U0M7GCBPD","ts":"1562165677.233700"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"945d8be7-f105-470c-a184-e584c74bfd07","type":"message","user":"U0M7GCBPD","text":"念のため、issue 作ったからといって issue に書いてって訳じゃないです。\nログの保管と、slack 外からの人達の意見が聞きたいと思って","ts":"1562163536.232300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f208914a-1de1-4de0-a525-0784c698f46b","type":"message","user":"U0M7GCBPD","text":"<https://vim-jp.slack.com/archives/C8F0X4DHN/p1562111667192300>\nこれ vital の利点である違う version のモジュールを rtp に置けるって仕組みを全く考慮してなかった (しろめ)","ts":"1562165201.233400","attachments":[{"fallback":"[July 2nd, 2019 4:54 PM] tyru: あ、はい。\n自分が思ったのは、vitalize 時に「vital module のユーザが」 prefix だけ指定すればどこの prefix でもいいかなーと思ったんです。\n:Vitalize に (prefix)#(plugin) を指定する感じ。","id":1,"author_id":"U0M7GCBPD","author_name":"tyru","author_subname":"tyru","author_link":"https://vim-jp.slack.com/team/U0M7GCBPD","author_icon":"https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F00b63%2Fimg%2Favatars%2Fava_0026-48.png","text":"あ、はい。\n自分が思ったのは、vitalize 時に「vital module のユーザが」 prefix だけ指定すればどこの prefix でもいいかなーと思ったんです。\n:Vitalize に (prefix)#(plugin) を指定する感じ。","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #vital-dev","ts":1562111667.192300,"from_url":"https://vim-jp.slack.com/archives/C8F0X4DHN/p1562111667192300","original_url":"https://vim-jp.slack.com/archives/C8F0X4DHN/p1562111667192300"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7d3f20e8-d382-46aa-8888-c71be72155bd","type":"message","user":"U0M7GCBPD","text":"\"What is the problem?\" 書いた。\n割とよく書けたんじゃなかろうか (他にもあれば言ってください)","ts":"1562165677.233700","thread_ts":"1562163454.231400","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":null,"root":{"client_msg_id":"4b62a10e-0bc8-47db-b0b1-9ad55b17ca79","type":"message","user":"U0M7GCBPD","text":"作っちゃった <https://github.com/vim-jp/vital.vim/issues/674>","ts":"1562163454.231400","thread_ts":"1562163454.231400","attachments":[{"fallback":"GitHub: Vital.Next: autoloadization of modules in :Vitalize · Issue #674 · vim-jp/vital.vim","id":1,"title":"Vital.Next: autoloadization of modules in :Vitalize · Issue #674 · vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/issues/674","text":"Issue about the next vitalizer design, discussion, and so on. What is this issue? For logging <http://vim-jp.slack.com|vim-jp.slack.com> (#vital-dev room) Want to hear people ideas outside <http://vim-jp.slack.com|vim-jp.slack.com> Slack log (Japane...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/issues/674","original_url":"https://github.com/vim-jp/vital.vim/issues/674"}],"reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null}}]
