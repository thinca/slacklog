[{"client_msg_id":"0a111ab8-6d77-4547-81a7-fcc84fa4d66e","type":"message","user":"U03C6TEAZ","text":"入ってないですが、webapi から適当に持っていってもらって構いません。","ts":"1562487516.258200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"50d9b8ef-b02d-4f2b-85a8-740dd7ebbb6f","type":"message","user":"UDDCM376D","text":"なる","ts":"1562488539.258400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1227d12d-ac19-4315-b3d9-7df58c2ffe5c","type":"message","user":"UDDCM376D","text":"ありがとうございます","ts":"1562488541.258600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UL8BHGMRV","text":"<@UL8BHGMRV> has joined the channel","ts":"1562425929.244700","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"206334c0-a8b0-4d1e-8266-7ab1ae5da4ec","type":"message","user":"U03C4RC8X","text":"<#CJMV3MSLR|question> に書いた <https://github.com/Shougo/vimshell.vim/pull/239> これの件、たぶん素直に実装するとほぼ確実にミスる罠なとこだと思うので、vitalに入れて :automaticyusho: していきたい","ts":"1562448065.245300","attachments":[{"fallback":"GitHub: Do not set empty env var by ujihisa · Pull Request #239 · Shougo/vimshell.vim","id":1,"title":"Do not set empty env var by ujihisa · Pull Request #239 · Shougo/vimshell.vim","title_link":"https://github.com/Shougo/vimshell.vim/pull/239","text":"Some programs consider empty string env var and unset env var differently e.g. git thinks the editor to be `` if $EDITOR=&amp;#39;&amp;#39;, while git thinks the editor is not set if $EDITOR does not exis...","thumb_url":"https://avatars3.githubusercontent.com/u/41495?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/Shougo/vimshell.vim/pull/239","original_url":"https://github.com/Shougo/vimshell.vim/pull/239"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f9857e3-cf83-43fe-81d2-8f434d62b300","type":"message","user":"U03C4RC8X","text":"とりあえずこのブランチを手元で運用して様子をみる。","ts":"1562448089.245800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c36671ca-3252-4e08-84c7-d01f43dfa638","type":"message","user":"UAZ33BKV2","text":"System.Env 的なものを作るカンジですか?\nたしかに未設定の概念コミでのオペレータがあると回避しやすそうではありますね","ts":"1562458531.247200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6135df48-f9e8-4f97-9430-1d11e9d58170","type":"message","user":"U03C4RC8X","text":"ですです。vimでいう `:let-environment` のためのもの","ts":"1562461695.247800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ead149e6-96b6-4217-ae7f-2f2f7e777aba","type":"message","user":"U03C4RC8X","text":"で、こうすると :let-registerや:let-optionにも対応させるかさせないかでモジュール名変わりそう","ts":"1562461715.248200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"93ebd33b-dded-4959-a070-9346967db76d","type":"message","user":"U03C4RC8X","text":":h :let-option","ts":"1562461716.248500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7bd562c5-3753-4a39-8ed4-7814c48dae72","type":"message","user":"U03C4RC8X","text":"あれ","ts":"1562461724.248800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"<@U894RTUJY> has joined the channel","ts":"1562461727.249000","subtype":"channel_join","inviter":"U03C4RC8X","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"8df340bb-a921-4f49-944e-f9654062438a","type":"message","user":"U03C4RC8X","text":":h :let-register","ts":"1562461728.249200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\n:let @{reg-name} = {expr1}                      *:let-register* *:let-@*\n                        式{expr1}の結果をレジスタ{reg-name}に書きこむ。\n                        {reg-name}は単一の文字でかつ、書きこむことのできるレジ\n                        スタでなければならない(|registers|を参照)。\"@@\" は名前\n                        無しレジスタとして使用でき、\"@/\" はサーチパターンとし\n                        て使用できる。\n                        {expr1}の結果が&lt;CR&gt;か&lt;NL&gt;で終了していた場合、レジスタ\n                        は行単位で設定され、そうでなければ文字単位で設定される。\n                        次のコマンドにより最後に検索したパターンをクリアするこ\n                        とができる:  \n                                :let @/ = \"\"\n                        これは空文字列を検索するのとは異なる。空文字列を検索す\n                        ると、いたるところでマッチする。\n \n:let @{reg-name} .= {expr1}\n                        レジスタ{reg-name}に{expr1}を付け加える。このレジスタ\n                        が空のときは、そこに{expr1}をセットする。\n```","ts":"1562461729.249300","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"672c335e-fee3-4b6c-8dcf-497258126ad7","type":"message","user":"U03C4RC8X","text":":h :let-environment","ts":"1562461732.249500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\n:let ${env-name} = {expr1}                      *:let-environment* *:let-$*\n                        環境変数{env-name}に式{expr1}の結果をセットする。型は\n                        常に文字列。\n:let ${env-name} .= {expr1}\n                        環境変数{env-name}に{expr1}を付け加える。その環境変数\n                        が存在しないときは \"=\" と同様に働く。\n```","ts":"1562461733.249600","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"bd335036-501a-4833-a29d-e8ab25cfa6b1","type":"message","user":"U03C4RC8X","text":":h :let-option","ts":"1562461736.249800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\n:let &amp;{option-name} = {expr1}                   *:let-option* *:let-&amp;*\n                        オプション{option-name}に式{expr}の値をセットする。文\n                        字列や数値の値はそのオプションの型に変換される。\n                        ウィンドウやバッファについてローカルなオプションに対し\n                        ては、その効果は|:set|コマンドを使ったときと同様で、ロー\n                        カルな値とグローバルな値の両方が変更される。\n                        例:  \n                                :let &amp;path = &amp;path . ',/usr/local/include'\n                        これは、t_xx 形式の端末コードにも使える。ただし、英数\n                        字の名前に限る。例:  \n                                :let &amp;t_k1 = \"\\&lt;Esc&gt;[234;\"\n                        コードが存在していなかったときは端末キーコードとして作\n                        成され、エラーは発生しない。\n \n:let &amp;{option-name} .= {expr1}\n                        文字列のオプションの場合: その値に{expr}を付け加える。\n                        |:set+=|とは違い、コンマを挿入しない。\n \n:let &amp;{option-name} += {expr1}\n:let &amp;{option-name} -= {expr1}\n                        数値または切替のオプションの場合: {expr1}を足す・引く。 \n \n:let &amp;l:{option-name} = {expr1}\n:let &amp;l:{option-name} .= {expr1}\n:let &amp;l:{option-name} += {expr1}\n:let &amp;l:{option-name} -= {expr1}\n                        上と同様だが、オプションのローカルな値だけをセットする\n                        (ローカルな値があるならば)。|:setlocal|と同様に働く。\n \n:let &amp;g:{option-name} = {expr1}\n:let &amp;g:{option-name} .= {expr1}\n:let &amp;g:{option-name} += {expr1}\n:let &amp;g:{option-name} -= {expr1}\n                        上と同様だが、オプションのグローバルな値だけをセットす\n                        る(グローバルな値があるならば)。|:setglobal|と同様に働\n                        く。\n```","ts":"1562461736.249900","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"89a28471-8573-4f50-a904-7551464746d8","type":"message","user":"U03C4RC8X","text":"このへんのやつです。まあでもoptionとregisterは空文字でいいのでenvironment variableだけでいいきがしてきました","ts":"1562461762.250400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd8c9ede-19eb-4364-8939-76f7deb647f6","type":"message","user":"UAZ33BKV2","text":"ふうむ、あるといいですねえ","ts":"1562461813.251000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eba3bf59-7a1b-4572-a75d-ffd0d6734e13","type":"message","user":"UDDCM376D","text":"質問\nvitalのHTTPってストリーム型のレスポンスに対応していますか？","ts":"1562468814.251400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"112453e2-0c9c-493f-8a68-1274737ac5f2","type":"message","user":"U03C71D7H","text":"ストリーム型が何を指すのかが曖昧だけどたぶん対応してないです","ts":"1562471296.251800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"02D14FDC-3D1A-46E9-A26F-A9C8D9804E47","type":"message","user":"UDDCM376D","text":"ストリーム型 ＝ レスポンスが継続的に送られてくるやつです","ts":"1562472292.252800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"057D4F0D-F083-40D7-8323-0CF366FA5E5F","type":"message","user":"UDDCM376D","text":"ですよね","ts":"1562472297.253000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3afddb3d-300f-4a85-9887-02b662a960f9","type":"message","user":"UAZ33BKV2","text":"curlとかでファイル的に取れたら動く、ですしねえ","ts":"1562474753.253500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9911d11f-b984-4fe3-a14c-a5c5eae2eba1","type":"message","user":"UAZ33BKV2","text":"やるなら、CLIでHTTPの部分レスポンス単位で結果を返しつつ、パイプ先のVim側で都度それをポーリングして駆動、みたいなことかな?","ts":"1562474811.254600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b182644d-fe1a-40a8-a488-d2ce374862c6","type":"message","user":"U03C6TEAZ","text":"実は webapi はストリーム対応してた気がする。","ts":"1562476258.255300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e7862c57-64cd-4e99-8d6f-1934e0f71e07","type":"message","user":"U03C6TEAZ","text":"<https://github.com/mattn/webapi-vim/blob/252250381a9509257bfb06b9f95441e41e3e23b5/autoload/webapi/http.vim#L377>","ts":"1562476345.255800","attachments":[{"fallback":"GitHub: mattn/webapi-vim","id":1,"title":"mattn/webapi-vim","title_link":"https://github.com/mattn/webapi-vim/blob/252250381a9509257bfb06b9f95441e41e3e23b5/autoload/webapi/http.vim#L377","text":"vim interface to Web API. Contribute to mattn/webapi-vim development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/mattn/webapi-vim/blob/252250381a9509257bfb06b9f95441e41e3e23b5/autoload/webapi/http.vim#L377","original_url":"https://github.com/mattn/webapi-vim/blob/252250381a9509257bfb06b9f95441e41e3e23b5/autoload/webapi/http.vim#L377"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c958c046-b2dc-49a0-915d-d5391cac2d3d","type":"message","user":"UDDCM376D","text":"vitalには入っていますか？\nヘルプを見るとstreamが無いようなので","ts":"1562478075.256700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
