[{"client_msg_id":"80c38534-530e-4063-9a82-67110045cd52","type":"message","user":"UAZ33BKV2","text":"むう?\n```\nlet s:http = g:V.import('Web.HTTP')\n\nlet res = s:http.get('<https://ifconfig.co/json>')\n\" let res = s:http.get('<https://ifconfig.co/json>', {'client': ['curl', 'python'], 'headers': {'Accept': 'application/json'}})\necho res\n```\n<https://ifconfig.co/>\nなんでか json が取れないような...?","ts":"1565249756.042300","attachments":[{"fallback":"What is my IP address? — ifconfig.co","id":1,"title":"What is my IP address? — ifconfig.co","title_link":"https://ifconfig.co/","text":"What is my IP address?","blocks":null,"service_name":"ifconfig.co","from_url":"https://ifconfig.co/","original_url":"https://ifconfig.co/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c7d40591-5362-4e32-a225-e40c55848637","type":"message","user":"U03C71D7H","text":"JSON 文字列ではなく? どんな結果になるんですか?","ts":"1565249814.042800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fdd89bf5-89be-4591-b113-b5c4de805c3a","type":"message","user":"UAZ33BKV2","text":"Cloudflareから403 Forbiddenされちゃうという\n手動でcurlだと平気なんですけど","ts":"1565249860.043500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6d7f24c4-6f87-4737-828d-318de137f2d3","type":"message","user":"U03C71D7H","text":"サーバ側で IP 弾いてるとかだろうか","ts":"1565249906.043900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9940095-3646-4671-8262-d822f76fb05d","type":"message","user":"UAZ33BKV2","text":"おなじPCからなので、変だなあと(curl最優先にしてもだめでした)\n\n```\n    '&lt;title&gt;Access denied | <http://ifconfig.co|ifconfig.co> used Cloudflare to restrict access&lt;/title&gt;',\n```\n\n```\n  'status': 403,\n  'statusText': 'Forbidden',\n```\n\nなにか足りないんだろうけど...","ts":"1565250019.044900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dfa23d43-36c1-426f-a377-ab75e621771d","type":"message","user":"UAZ33BKV2","text":"そしてCI上は通っているという...ううん","ts":"1565251017.045300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3a2ea917-4c11-43d4-ae42-b7dfab1486cf","type":"message","user":"U03C6TEAZ","text":"これ client が extend でマージされてなくないです？","ts":"1565252020.045600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"64ed621a-7fe3-44b5-9a2d-97adbe63afd5","type":"message","user":"UAZ33BKV2","text":"ええっと、不慣れなのでなにかミスしてますか?\n基本はparamとかは設定なしで確認したのですが、それでNGだったのでclient順変えてみたかったのですが...","ts":"1565252101.046600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4939c2a4-4c36-42ad-a2f0-35647a0e62e9","type":"message","user":"UAZ33BKV2","text":"とりあえずCIでは成功なので、環境問題っぽいですが...","ts":"1565252130.047200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0b518b7e-beb3-4c44-b579-ea76c0f796ba","type":"message","user":"U03C6TEAZ","text":"コード読む限り get の第二引数は param、第三引数は headers に見えて `{'headers': {}}` の様には書けない様に見えたのですが。","ts":"1565252739.048000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"03af4aa4-d7de-4399-ba63-3383d9b53df0","type":"message","user":"UAZ33BKV2","text":"あー、help基準で書いたので、第3のヘッダでなくても使えるのかなと思ってた次第(ただheadersはあってもなくても挙動は同じでした:効いてないからですね)","ts":"1565252810.049000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"43d76527-b30a-4cb5-a259-8782c7c52a02","type":"message","user":"U03C6TEAZ","text":"そういう点では client って上書きできないんジャマイカ","ts":"1565252941.049300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d25f96bc-cd93-4e20-a1ca-27eaa7ff3a57","type":"message","user":"UAZ33BKV2","text":":h Vital.Web.HTTP.get()","ts":"1565252986.049600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"E149: 残念ですが Vital.Web.HTTP.get() にはヘルプがありません","ts":"1565252986.049700","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"fc15ac27-f023-4468-a8af-dd24c4fad86a","type":"message","user":"UAZ33BKV2","text":"そりゃないか...","ts":"1565252992.049900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d794cfcc-e8f8-4355-bc7e-2800b4c15c8d","type":"message","user":"UAZ33BKV2","text":"```\nget({url} [, {param} [, {header}]])\t*Vital.Web.HTTP.get()*\n\tSend a GET request to the server.\n\tThis is just a wrapper of |Vital.Web.HTTP.request()|.\n```\nで\n```\nrequest({settings})\t\t\t*Vital.Web.HTTP.request()*\nrequest({url} [, {settings}])\nrequest({method}, {url} [, {settings}])\n```\n\nなときに\n```\n\t{settings} is a |Dictionary| which contains the following items:\n...\n\t\"client\"\tDefault: [\"python\", \"curl\", \"wget\"]\n\n```\n\nなので...\n\nああ、requestでちゃんと設定しないとだめかな?","ts":"1565253056.051000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac3aaa35-fe09-4caa-a809-28be2156c8c8","type":"message","user":"U03C6TEAZ","text":"request を使うなら行けそう","ts":"1565253056.051100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8613221f-1bf8-4a54-bad7-0fc81ec1dee4","type":"message","user":"UAZ33BKV2","text":"ですね","ts":"1565253065.051400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"296519d3-2971-4f21-bb2a-07f4ff199749","type":"message","user":"U03C6TEAZ","text":"今風","ts":"1565253078.051600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e233baf-eaa8-4e50-8057-e516a3ee10fa","type":"message","user":"UAZ33BKV2","text":"ああ、requestで出すと取れました...(clientとaccept header)","ts":"1565253131.052500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"142e7346-8e10-4f92-95af-43242e5e12ef","type":"message","user":"U06ECBRTJ","text":"vital って help bot に入ってた気がする…","ts":"1565253137.052700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c3f1f20-4a55-4ee0-ba86-df6ba386788c","type":"message","user":"UAZ33BKV2","text":"突き詰めると、client pythonだとNGっぽい...","ts":"1565253244.053800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fcb5d722-95c7-4fdc-b1bb-82ad4bde2b98","type":"message","user":"U03C6TEAZ","text":"とすると user-agent かも？","ts":"1565253272.054000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8e362b09-2627-4011-b8fc-9d28b8e4320f","type":"message","user":"UAZ33BKV2","text":"あー、それを見てるのかもしれませんね...","ts":"1565253289.054600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"535353af-eb22-4ce9-8c19-09676ec5f321","type":"message","user":"U03C6TEAZ","text":"おっ、バグ解析っぽくなってまいりました。","ts":"1565253293.054700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ebb6b314-9f63-4245-ac56-1e8e65288585","type":"message","user":"UAZ33BKV2","text":"OK、NG、OK\n```\n\" let res = s:http.request('get','<https://ifconfig.co/json>', {'client': ['curl', 'python']})\n\" let res = s:http.request('get','<https://ifconfig.co/json>')\nlet res = s:http.request('get','<https://ifconfig.co/json>', {'headers': { 'User-Agent': 'curl' }})\n```\nでした","ts":"1565253442.055000","edited":{"user":"UAZ33BKV2","ts":"1565253466.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5a30af69-2e01-46e8-a09c-527f01390f3a","type":"message","user":"U03C71D7H","text":":vimhelp plugin add vim-jp/vital.vim","ts":"1565253497.055400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"Installation success: vim-jp/vital.vim (833c903)","ts":"1565253500.055500","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"cc8b5e5c-e675-4016-b7dd-03da89ec3b81","type":"message","user":"U03C71D7H","text":":h Vital.Web.HTTP.get()","ts":"1565253508.055800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\nget({url} [, {param} [, {header}]])     *Vital.Web.HTTP.get()*\n        Send a GET request to the server.\n        This is just a wrapper of |Vital.Web.HTTP.request()|.\n```","ts":"1565253509.055900","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"65c1e6b5-f91b-4085-ba39-7e5b04c3df55","type":"message","user":"U06ECBRTJ","text":":god:","ts":"1565253519.056300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf70de3d-61c0-4b8c-a1b5-11be8d28576e","type":"message","user":"UAZ33BKV2","text":":h Vital.Web.HTTP.request()","ts":"1565253538.056500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\nrequest({settings})                     *Vital.Web.HTTP.request()*\nrequest({url} [, {settings}])\nrequest({method}, {url} [, {settings}])\n        Send a request to the server.\n        This function requires one of the clients, \"curl\" or \"wget\".\n        {settings} is a |Dictionary| which contains the following items:\n \n        \"url\"           Required\n                URL of a server.\n \n        \"method\"        Default: \"GET\"\n                HTTP Method, such as GET, HEAD, POST, PUT, DELETE, or PATCH.\n \n        \"param\"         Default: (None)\n                GET parameters.  This is a string or a dictionary.\n                If dictionary, it is converted to a string by\n                |Vital.Web.HTTP.encodeURI()|.\n                This is appended to url.\n \n        \"data\"          Default: (None)\n                POST data.  This is a string, a list, or a dictionary.\n                If it is a dictionary, it is converted to a string by\n                |Vital.Web.HTTP.encodeURI()|.\n \n        \"headers\"       Default: (None)\n                Request headers.  This is a dictionary.\n \n        \"contentType\"   Default: (None)\n                Content-Type for \"data\".\n                This is one of \"headers\".  This is used preferentially.\n \n        \"outputFile\"    Default: (None)\n                Output the result to this file.\n                \"content\" of the result become empty when this is specified.\n \n        \"timeout\"       Default: (None)\n                Network timeout by seconds.\n \n        \"username\"      Default: (None)\n                User name for an HTTP authentication.\n \n        \"password\"      Default: (None)\n                Password for an HTTP authentication.\n \n        \"maxRedirect\"   Default: 20\n                Maximum number of redirections.\n                The default is 20, which is usually far more than necessary.\n \n        \"retry\"         Default: 1\n                Maximum number of retries.\n \n        \"client\"        Default: [\"python\", \"curl\", \"wget\"]\n                Candidate list of HTTP client to use for a request.\n                The first available one is used.\n                A string as an HTTP client is also possible.\n                See also |Vital.Web.HTTP-client|.\n \n        \"command\"\n                Command name for a client.  You should use with \"client\".\n                This is a |Dictionary| that has client name as key and has the\n                command as value.\n                This maybe becomes like the following.  \n                {\n                  \"curl\": \"/usr/bin/curl\",\n                  \"wget\": \"/usr/local/bin/wget\",\n                }\n \n        \"authMethod\"    Default: (None)\n                (This is only valid for \"curl\" interface.)\n                Specify the authorization method.\n                The value must be in ['basic', 'digest', 'ntlm', 'negotiate']\n                The default value is None, and then use \"anyauth\".\n \n        \"gzipDecompress\"        Default: 0\n                Attempt to decompress response data as if it was gzipped\n \n        \"unixSocket\"    Default: (None)\n                Use --unix-sokect (only curl &gt;= 7.40.0)\n```","ts":"1565253538.056600","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"41255300-c9e1-4fda-8cea-5661ed0dd3ed","type":"message","user":"UAZ33BKV2","text":"う、長い","ts":"1565253543.056800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"14b6bb4d-8fa3-4665-af60-f9d6be3f013b","type":"message","user":"UAZ33BKV2","text":"ヘルプありがとうございます","ts":"1565253597.057000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a81ee462-7af8-4326-9470-66c9d3c8b447","type":"message","user":"U03C6TEAZ","text":"もしかして proxy 環境にいたりしませんか？","ts":"1565253648.057300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb4dd526-1ee4-4147-9702-ca3f8b27b389","type":"message","user":"U03C6TEAZ","text":"だとすると現状のコードは proxy 対応なされてないので動かないかも。","ts":"1565253707.057900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"09715b23-22d7-4fa0-84fc-d9849450e103","type":"message","user":"UAZ33BKV2","text":"はい、...あー... curlやwgetはhttp_proxy見て動くけど、pythonは見れてないですかね?","ts":"1565253739.058500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47761e13-96c7-4dbd-a99e-5a9fb5397a92","type":"message","user":"U03C6TEAZ","text":"はい。build_opener というやつで自前で差し込まないといけないんです。","ts":"1565253756.058800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f5bfc793-7e30-4b79-a030-1c9c6866b04d","type":"message","user":"UAZ33BKV2","text":"python、優先度下げてもいいかもしれない、という気持ちが出てきましたが、あれどいういう基準の優先度なんでしょう?","ts":"1565253803.059500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8e87ce68-2817-4842-8487-bdbd624ff688","type":"message","user":"U03C6TEAZ","text":"たぶん proxy 環境じゃない人が決めたかも(知らない)","ts":"1565253836.059900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e96d462e-9719-4532-b001-a0d23664f1ae","type":"message","user":"U03C6TEAZ","text":"<https://qiita.com/mklot/items/d60d674f1f58b49926a1>","ts":"1565253859.060600","attachments":[{"fallback":"Qiita: Pythonのurllib2でプロキシを刺す - Qiita","id":1,"title":"Pythonのurllib2でプロキシを刺す - Qiita","title_link":"https://qiita.com/mklot/items/d60d674f1f58b49926a1","text":"どうも、最近糞記事を量産して数を稼いでいる人です。 唐突ですが、如何わしい事をしたい人間は串を指したいものです。 なので、サンプルコードをここに置いておきます。 ちなみに、Python2系です。 ```set_prox.py fr...","thumb_url":"https://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png","thumb_width":200,"thumb_height":200,"from_url":"https://qiita.com/mklot/items/d60d674f1f58b49926a1","original_url":"https://qiita.com/mklot/items/d60d674f1f58b49926a1"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0539fd12-7a3a-4a00-86de-917550f60622","type":"message","user":"U03C6TEAZ","text":"こういうコードが要ります。","ts":"1565253862.060900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"516fe339-de4d-4db4-bc51-0a848b2311d5","type":"message","user":"UAZ33BKV2","text":"www、まあ柔軟性が高いから、気持ちはわからんでもないかなとw","ts":"1565253863.061000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dedf10fb-6b65-4540-9cb8-66a588c43598","type":"message","user":"UAZ33BKV2","text":"Web.HTTPの非同期化したいなー、とか思ったときも考えたんですが、内部実装を隠しモジュールに分離したいですね...(サイズと見通し、非同期処理のためも含む)\nその後にPythonにProxyの自動判定入れるとかしたい(願望)","ts":"1565254041.062700","edited":{"user":"UAZ33BKV2","ts":"1565254226.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7776ce03-615c-413e-872d-deef05afb9f7","type":"message","user":"U06ECBRTJ","text":"<https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/Web/HTTP.vim#L337>","ts":"1565254304.063400","attachments":[{"fallback":"GitHub: vim-jp/vital.vim","id":1,"title":"vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/Web/HTTP.vim#L337","text":"A comprehensive Vim utility functions for Vim plugins - vim-jp/vital.vim","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/Web/HTTP.vim#L337","original_url":"https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/Web/HTTP.vim#L337"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d351514-c0d9-41ae-a833-87aa5def43da","type":"message","user":"U06ECBRTJ","text":"ここですね","ts":"1565254308.063800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4e8abb07-1d1d-4e69-a43e-f3b378b30210","type":"message","user":"U03C6TEAZ","text":"python も ruby も proxy 対応がなってなくてつらい。","ts":"1565254351.064200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"54e96c5c-ec0b-44f0-8962-b5212dcd0792","type":"message","user":"UAZ33BKV2","text":"なぜHTTPライブラリの基本にはいってないのか感はありますね(できるとはいえ)","ts":"1565254379.064800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b12339d-e7d4-4095-b178-5591226678e1","type":"message","user":"U03C6TEAZ","text":"その点 golang は素晴らしい (Go の net/http にデフォルト http_proxy を入れた人のイヤラシイ顔)","ts":"1565254433.066000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c834a4d7-c3b7-4930-a48c-262e66ca143a","type":"message","user":"UAZ33BKV2","text":"goの小さく十分にうごく、についてはエラいなあ、と思います。","ts":"1565254456.066800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1b915907-0032-4747-936d-11560b62a1d2","type":"message","user":"U06ECBRTJ","text":"<https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/Web/HTTP.vim#L357>\nここの直上に `if os.environ.get('HTTP_PROXY')` を追加すれば行けそう","ts":"1565254461.067000","attachments":[{"fallback":"GitHub: vim-jp/vital.vim","id":1,"title":"vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/Web/HTTP.vim#L357","text":"A comprehensive Vim utility functions for Vim plugins - vim-jp/vital.vim","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/Web/HTTP.vim#L357","original_url":"https://github.com/vim-jp/vital.vim/blob/master/autoload/vital/__vital__/Web/HTTP.vim#L357"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"53f879de-939d-45d1-b756-a94732312701","type":"message","user":"U03C6TEAZ","text":"もうちょっと難しいはず。","ts":"1565254506.067300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0865b85c-d7f3-4dfa-995a-fb6bae238819","type":"message","user":"UAZ33BKV2","text":"<https://github.com/vim-jp/vital.vim/issues/685>\nIssueにはしておきました。","ts":"1565255303.067600","attachments":[{"fallback":"GitHub: Feature request: Web.HTTP Python client support for HTTP_PROXY · Issue #685 · vim-jp/vital.vim","id":1,"title":"Feature request: Web.HTTP Python client support for HTTP_PROXY · Issue #685 · vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/issues/685","text":"Web.HTTPをProxy環境下で使うと、デフォルトのclientの優先度設定では失敗する in vim-jp slack mattn 17:40 もしかして proxy 環境にいたりしませんか？ だとすると現状のコードは proxy 対応なされてないので動かないかも。 <https://qiita.com/mklot/items/d60d674f1f58b49926a1> こういうコードが要...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/issues/685","original_url":"https://github.com/vim-jp/vital.vim/issues/685"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3ff8b1ec-68c1-452d-b6e1-a46e2cee453c","type":"message","user":"U03C71D7H","text":"HTTP の仕様が複雑過ぎると言う話はある","ts":"1565255327.068000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e77ce39a-d611-4298-803b-55646b2feeb3","type":"message","user":"UAZ33BKV2","text":"...まあたしかにw","ts":"1565255336.068200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"07dfe19a-8a10-43b6-9940-b7259f979c8c","type":"message","user":"U03C6TEAZ","text":"しかも python の proxy、自前で差し込まないといけないので https_proxy は別なんですよね。","ts":"1565255652.068700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c7fda135-17c1-4d81-abe9-f19582258591","type":"message","user":"U03C6TEAZ","text":"あと basic 認証絡むとさらに...","ts":"1565255663.069000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ad635a67-318f-4bb6-8725-b3c536e16220","type":"message","user":"UAZ33BKV2","text":"認証はsettingに項目あるし、対応は考えないといけない...かもしれない","ts":"1565256045.069600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e68da1ca-d6c1-448d-a2d4-0f319d303048","type":"message","user":"U03C6TEAZ","text":"<https://docs.python.org/2/library/urllib2.html>","ts":"1565256070.070200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4cdad46-1afa-41d2-bf57-d2490eaf1ba7","type":"message","user":"U03C6TEAZ","text":"お、動作変わった？","ts":"1565256074.070500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c1f4604a-35d5-43d4-8385-32f34c5a1240","type":"message","user":"U03C6TEAZ","text":"&gt;In addition, if proxy settings are detected (for example, when a *_proxy environment variable like http_proxy is set), ProxyHandler is default installed and makes sure the requests are handled through the proxy.","ts":"1565256080.070800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6248050f-0ef7-4ac3-8d88-edab8edd47b7","type":"message","user":"UAZ33BKV2","text":"昨今はhttp_proxyとhttps_proxyは大体同じなので、そのつもりで実装するならなんとかなるかな?","ts":"1565256086.071000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8ea88c42-ba85-4aa7-8007-7873f247ccf4","type":"message","user":"UAZ33BKV2","text":"ぬ、ライブラリが更新されれば動くか?","ts":"1565256104.071300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47f9b22c-28f5-4e2a-a76d-881d2b7165a7","type":"message","user":"U03C6TEAZ","text":"あー、CustomHTTPRedirectHandler か","ts":"1565256235.071500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4655385-8857-41c6-9d4a-be2f61aa3cc2","type":"message","user":"U03C6TEAZ","text":"直せた。","ts":"1565256792.071700","team":"T03C4RC8V","reactions":[{"name":"sasumatsu","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"078dc276-4662-4b44-9d6b-c8981f35c5ae","type":"message","user":"UAZ33BKV2","text":"さすが、はやい","ts":"1565257479.071900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0b905077-f79a-47ce-a07a-6c769b34e0b3","type":"message","user":"U06ECBRTJ","text":"<https://github.com/vim-jp/vital.vim/pull/686/files> が空っぽという面白い現象","ts":"1565258078.072400","attachments":[{"fallback":"GitHub: Fix proxy by mattn · Pull Request #686 · vim-jp/vital.vim","id":1,"title":"Fix proxy by mattn · Pull Request #686 · vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/pull/686/files","text":"Proposal: Vim.Type: type map/reverse map auto generate Fixes #685","thumb_url":"https://avatars1.githubusercontent.com/u/10111?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim-jp/vital.vim/pull/686/files","original_url":"https://github.com/vim-jp/vital.vim/pull/686/files"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d423828e-9665-4867-b45a-e9eb9c404072","type":"message","user":"U03C6TEAZ","text":"失礼しました <https://github.com/vim-jp/vital.vim/pull/687>","ts":"1565258532.072700","attachments":[{"fallback":"GitHub: Vital.Web: Fix http_proxy by mattn · Pull Request #687 · vim-jp/vital.vim","id":1,"title":"Vital.Web: Fix http_proxy by mattn · Pull Request #687 · vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/pull/687","text":"Install URL opener instead of using it directly Fixes #685","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/pull/687","original_url":"https://github.com/vim-jp/vital.vim/pull/687"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5a221934-f0dc-458a-a0ed-a99a87901ddc","type":"message","user":"U03C6TEAZ","text":"director を直接使ってしまってるので、せっかく最近ではデフォルトで install_opener されてる proxy handler が使われないというバグです。","ts":"1565258575.073400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"950c15f6-1bf0-4220-be64-cfd020b6809b","type":"message","user":"U03C6TEAZ","text":"空っぽなのは何も commit せずに push してしまった奴ですw","ts":"1565258767.073800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3f2eb4a6-a0e7-4f67-9cf7-1da0326c9d3a","type":"message","user":"U03C6TEAZ","text":"ただこの pr、複数のプラグインで干渉しますね。","ts":"1565259906.074900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2497f77-3bfd-4486-8e0d-7716f593e87e","type":"message","user":"U03C6TEAZ","text":"マージ少し待ってもらえますか","ts":"1565260161.075300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7a9940ca-4625-464e-b583-9fe2ea329897","type":"message","user":"UAZ33BKV2","text":"急いではいませんから、大丈夫ですよー。","ts":"1565270739.075400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
