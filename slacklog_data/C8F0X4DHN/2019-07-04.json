[{"client_msg_id":"47e78629-5192-4924-ae0e-5a3c734a32ca","type":"message","user":"U03C6TEAZ","text":"<https://github.com/vim-jp/vital.vim/blob/6ba634458b1b776aa8bea97f9f8c4d1064f4e14a/autoload/vital/__vital__/Random.vim#L68-L80>","ts":"1562239287.236300","attachments":[{"fallback":"GitHub: vim-jp/vital.vim","id":1,"title":"vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/blob/6ba634458b1b776aa8bea97f9f8c4d1064f4e14a/autoload/vital/__vital__/Random.vim#L68-L80","text":"A comprehensive Vim utility functions for Vim plugins - vim-jp/vital.vim","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/blob/6ba634458b1b776aa8bea97f9f8c4d1064f4e14a/autoload/vital/__vital__/Random.vim#L68-L80","original_url":"https://github.com/vim-jp/vital.vim/blob/6ba634458b1b776aa8bea97f9f8c4d1064f4e14a/autoload/vital/__vital__/Random.vim#L68-L80"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1735f8e1-d148-4cc9-91e6-02edd280464f","type":"message","user":"U03C6TEAZ","text":"この shuffle ちょっとだけ無駄がある気がする。","ts":"1562239297.236800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9e796b86-02c9-4020-92ff-d59be61086d3","type":"message","user":"U03C6TEAZ","text":"`let [a, b] = [b, a]` が使えそう、というのと","ts":"1562239319.237400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"219f7594-2039-4550-9003-9205ec70b9cb","type":"message","user":"U03C6TEAZ","text":"```\n    let n = self.range(pos)\n    let pos -= 1\n    if n != pos\n      let temp = a:list[n]\n      let a:list[n] = a:list[pos]\n      let a:list[pos] = temp\n    endif\n```\nここは\n```\n    let n = self.range(pos-1)\n    let pos -= 1\n    let temp = a:list[n]\n    let a:list[n] = a:list[pos]\n    let a:list[pos] = temp\n```\nこうできるはず。","ts":"1562239374.237600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b4ac651d-caad-416f-9c20-a3ad5e011cc5","type":"message","user":"U03C6TEAZ","text":"纏めると","ts":"1562239381.237800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16a8ae6b-cb8e-4698-9e95-ca7fd64a5682","type":"message","user":"U03C6TEAZ","text":"```\n    let n = self.range(pos-1)\n    let pos -= 1\n    let [a:list[n], a:list[pos]] = [a:list[pos], a:list[n]]\n```","ts":"1562239404.238100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f7d2960a-d624-47fd-9b9e-efd05a043e9d","type":"message","user":"U03C6TEAZ","text":"こうできるはず。","ts":"1562239407.238300","thread_ts":"1562239407.238300","reply_count":1,"replies":[{"user":"UAZ33BKV2","ts":"1562247931.239100"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"736dec3a-9e61-414c-ad54-90814976e1ea","type":"message","user":"UAZ33BKV2","text":"Bitwise work done","ts":"1562247321.238600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d438f1ed-3cd3-4b2e-8d22-36e11df3110b","type":"message","user":"UAZ33BKV2","text":"mattn さんの提案実装を試してみました、正常にシャッフルできてるっぽいので、PR作りますね","ts":"1562247931.239100","thread_ts":"1562239407.238300","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":null,"root":{"client_msg_id":"f7d2960a-d624-47fd-9b9e-efd05a043e9d","type":"message","user":"U03C6TEAZ","text":"こうできるはず。","ts":"1562239407.238300","thread_ts":"1562239407.238300","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null}},{"client_msg_id":"b1483948-84d1-46cf-81f8-954184067e1a","type":"message","user":"U03C71D7H","text":"それだと例えば一番最後の要素が動かないパターンが発生しないので一様にランダムではなくなる可能性がないですか? (たぶんだけど)","ts":"1562247939.239600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c1b40b7b-991c-40af-aee9-73a3c5cc6971","type":"message","user":"UAZ33BKV2","text":"む...、動かないのは `0 == pos == n` の時ですよね?\nそれは `a:list[n], a:list[pos]` が同じで、交換が実質無意味、なときとうことで対応できるのでは...?","ts":"1562248209.241400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"93381a65-130d-4c80-a447-2d294695f1f4","type":"message","user":"UAZ33BKV2","text":"あ、Random.rangeがn-1だからか...たしかに","ts":"1562248250.241800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b39e89ff-497f-48e1-8ab5-88d46aefec4b","type":"message","user":"UAZ33BKV2","text":"```\nlet a = 1\nlet b = 2\n\nlet [a, a] = [b, b]\n\necho 'a:'. string(a) . ',b:' . string(b)\n```\n\nは\n\n```\na:2,b:2\n```\n\nになるから、 同値チェックは不要なのは確かなはずだが...","ts":"1562248472.242700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fdb8195b-b832-4318-9550-3033d2bedc7c","type":"message","user":"UAZ33BKV2","text":"これならいいかな?\n\n```\nfunction! s:Random.shuffle(list) abort\n  let pos = len(a:list)\n  while 1 &lt; pos\n    let n = self.range(pos)\n    let pos -= 1\n    let [a:list[n], a:list[pos]] = [a:list[pos], a:list[n]]\n  endwhile\n  return a:list\nendfunction\n```","ts":"1562248555.242900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3b8724b-d8a1-4a47-84db-2aafe6a6b058","type":"message","user":"UAZ33BKV2","text":"<https://vim-jp.slack.com/archives/CJMV3MSLR/p1562216534437400>\nGUI Toolkitによくあるdialog()のちょっと豪華なのがVitalモジュール化されててもうれしいかもしれませんね","ts":"1562216657.235100","attachments":[{"fallback":"[July 3rd, 2019 10:02 PM] sho19921005: filterオプションに組み込みのフィルター\npopup_filter_menuを指定すると幸せになります","id":1,"author_id":"UDDCM376D","author_name":"ゴリラ","author_subname":"ゴリラ","author_link":"https://vim-jp.slack.com/team/UDDCM376D","author_icon":"https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png","text":"filterオプションに組み込みのフィルター\npopup_filter_menuを指定すると幸せになります","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #question","ts":1562216534.437400,"from_url":"https://vim-jp.slack.com/archives/CJMV3MSLR/p1562216534437400","original_url":"https://vim-jp.slack.com/archives/CJMV3MSLR/p1562216534437400"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1DAA491A-F718-4E1F-B9E9-70FB49618CCB","type":"message","user":"UDDCM376D","text":"ポップアップウィンドウのvital化はかなり嬉しい\n個人的に","ts":"1562216980.235800","team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":1,"users":["UEBF2KQTD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
