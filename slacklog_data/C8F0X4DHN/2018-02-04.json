[{"type":"message","user":"U0M7GCBPD","text":"document bug か実装のバグか怪しい所ですね…","ts":"1517676480.000029","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"trim() の件新しく関数追加した方がよさそうだったので PR 送りました <https://github.com/vim-jp/vital.vim/pull/575>","ts":"1517729301.000005","attachments":[{"fallback":"GitHub: [Data.String] Add strip(), strip_start(), strip_end() by tyru · Pull Request #575 · vim-jp/vital.vim","id":1,"title":"[Data.String] Add strip(), strip_start(), strip_end() by tyru · Pull Request #575 · vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/pull/575","text":"The existing trim(), trim_start(), trim_end() functions only remove space (\\0x20), tab (\\0x09). But in most programming languages, trimming functions remove white characters defined by POSIX [:spac...","thumb_url":"https://avatars2.githubusercontent.com/u/48169?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim-jp/vital.vim/pull/575"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"```\nlet [s:encodeURIComponent] = V.import('Web.HTTP', ['encodeURIComponent'])\n```\nとかしたかったけどすでに `V.import()` の第2引数は実装されてたか…","ts":"1517742579.000065","edited":{"user":"U0M7GCBPD","ts":"1517742590.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"この関数しか使わない時はモジュールごとインポートしても呼び出す時長くなるし何をするか不明瞭になるのでできれば特定の関数だけインポートしたかった","ts":"1517742655.000007","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"`let s:encodeURIComponent = vital#vital#import('Web.HTTP').encodeURIComponent` ではだめ？","ts":"1517742693.000074","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"僕も昔欲しいと思ったけど、その関数だけ取り出してファイルとして持ってこれるとかじゃないと、上記でも良い気がしてあまり意味ないかなーという結論に至った。","ts":"1517742745.000060","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"今はそれ使ってるんですが、それだと1つの場合しか使えないんですよね。","ts":"1517742775.000007","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"なる","ts":"1517742782.000044","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"`import { A, B, C } from '../aaa';` をやりたいということですよね","ts":"1517742805.000096","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"```\nlet [s:encodeURIComponent, s:hoge] = V.import('Web.HTTP', ['encodeURIComponent', 'hoge'])\n```\nしたい","ts":"1517742806.000016","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"ですです","ts":"1517742813.000033","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"わかるけど、結局横に長くなりすぎて辛い気がする","ts":"1517742868.000002","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"```\nlet [\n      \\ s:encodeURIComponent,\n      \\ s:hello,\n      \\ s:goodbye,\n      \\] = V.import('Web.HTTP', [\n      \\    'encodeURIComponent',\n      \\    'hello',\n      \\    'goodbye',\n      \\    ]\n      \\)\n```","ts":"1517742947.000072","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"つらい","ts":"1517742951.000019","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"たしかにつらい","ts":"1517742959.000017","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"```\ncall V.import('Web.HTTP', ['encodeURIComponent', 'hoge'], s:)\n```\nとか？","ts":"1517742963.000056","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"なんかかっこよくない気がしなくもない(?)","ts":"1517742975.000063","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"うーん……一見良さそうだけど、事情知らないとかなり罠な構文な気がします","ts":"1517743018.000004","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"メリットが薄い","ts":"1517743042.000061","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"`s:encodeURIComponent` のコード（と、その依存関数）だけバインドできるとかならメリットあるけど激務図","ts":"1517743053.000044","edited":{"user":"U776661HA","ts":"1517743073.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"ですね… 明示的って意味だと最初のやつがいいと思うんですよね。違う名前で import もできるし","ts":"1517743061.000061","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"でも長いのはつらい","ts":"1517743075.000055","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"正直 `Data.String` とか使わない関数がたっぷりインポートされるのすごく嫌","ts":"1517743107.000050","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"必要最小限が良い……","ts":"1517743129.000009","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"それは自分も思ってて、vimlparser で特定の関数だけ抜き出して bundle したいと思ってますね…","ts":"1517743132.000012","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"ただそれをするには vital module 側で bundle 可能かどうかを伝えるフラグ的なものが必要","ts":"1517743178.000083","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"正直無理ゲーだと思ってますねｗ","ts":"1517743194.000076","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"SID とか黒魔術に近いことやってたら無理なんですが、それを使わないクリーン(?)なモジュールだったら bundle 可能だと思うんですよね","ts":"1517743238.000058","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"特定の関数が別のスクリプト関数に依存するのはよくあるから無理かなー","ts":"1517743261.000027","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"それのチェックを入れるとかだと呼び出し速度に影響するし（Vim script ….）","ts":"1517743291.000049","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"あーそうか…たしかに","ts":"1517743322.000004","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"目で見て手でコピーなら出来ますけど、なんのための vital.vim ｗ","ts":"1517743343.000045","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"わかる…","ts":"1517743353.000075","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"一番いいのは vimlparser で検知できれば一番いいですけどね…","ts":"1517743369.000013","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"vital.vim は色々制約があるからこそ普通の言語だと忌み嫌われるレベルでモジュール細分化したほうが良いのかもしれない","ts":"1517743395.000061","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"`Data.String.Trimmer`","ts":"1517743410.000073","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"`Data.String.Replacer`","ts":"1517743417.000030","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"みたいな","ts":"1517743418.000049","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"あーでもそれはそれでモジュールインポートのオーバーヘッドがヤバそう","ts":"1517743439.000022","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"ですね… ファイル数が多いとロードで死にそう…","ts":"1517743462.000026","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"まぁ今モジュールが最適に分割されてないことが主な原因だとは思いますが","ts":"1517743508.000027","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"大きすぎたり小さすぎたり","ts":"1517743514.000054","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"ですね","ts":"1517743523.000085","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"歴史的事情は常に付きまとう","ts":"1517743530.000022","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"なんか結局 Vim がコメントとかも削除せず持っちゃってるからこんなに Vim script 開発者が神経配らなきゃいけないんだろうなーとは思いますねｗ","ts":"1517743628.000050","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"他の言語でも未使用のメソッドを削除したりとかあるのかな…？\n→（LL の動的インポートとかも考えたら）なさそう\n→Vim が悪い","ts":"1517743714.000050","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"みたいな…","ts":"1517743717.000033","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"まぁ仕方ないですよね","ts":"1517743898.000045","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"<https://github.com/vim-jp/vital.vim/wiki/External-vital-modules#place-module-dependant-files>","ts":"1517746622.000017","attachments":[{"fallback":"GitHub: vim-jp/vital.vim","id":1,"title":"vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/wiki/External-vital-modules#place-module-dependant-files","text":"vital.vim - A comprehensive Vim utility functions for Vim plugins","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/vim-jp/vital.vim/wiki/External-vital-modules#place-module-dependant-files"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"ここらへんの doc/vital-foo.txt って今は doc/vital/Foo.txt ですよね？","ts":"1517746647.000039","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"直しちゃっていいですか？","ts":"1517746655.000044","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U776661HA"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"done","ts":"1517746931.000065","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"すみません、助けてください… <https://twitter.com/_tyru_/status/960157779615875074>","ts":"1517754492.000011","attachments":[{"fallback":"<https://twitter.com/_tyru_|@_tyru_>: vital で Data.Optional を s:_vital_depends() に追加しても Data.Optional がインストールされない。autoload/__openbrowser__/OpenBrowser.vim から依存してるんだけどこの場合 Vitalize . でも vital のファイル削除して Vitalize --name=openbrowser . OpenBrowser でもダメだった","id":1,"author_name":"tyru","author_subname":"@_tyru_","author_link":"https://twitter.com/_tyru_/status/960157779615875074","author_icon":"https://pbs.twimg.com/profile_images/716604835328438272/4sZOAwSL_normal.jpg","text":"vital で Data.Optional を s:_vital_depends() に追加しても Data.Optional がインストールされない。autoload/__openbrowser__/OpenBrowser.vim から依存してるんだけどこの場合 Vitalize . でも vital のファイル削除して Vitalize --name=openbrowser . OpenBrowser でもダメだった","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1517754428,"service_name":"twitter","from_url":"https://twitter.com/_tyru_/status/960157779615875074"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U0M7GCBPD","text":"すみません、自己解決しました <https://twitter.com/_tyru_/status/960162112667451394>","ts":"1517755478.000085","attachments":[{"fallback":"<https://twitter.com/_tyru_|@_tyru_>: 新しい Vim 起動したら成功した。多分モジュールのスクリプトが読み込み済みだったら再度 :source せずにスキップしちゃってる？","id":1,"author_name":"tyru","author_subname":"@_tyru_","author_link":"https://twitter.com/_tyru_/status/960162112667451394","author_icon":"https://pbs.twimg.com/profile_images/716604835328438272/4sZOAwSL_normal.jpg","text":"新しい Vim 起動したら成功した。多分モジュールのスクリプトが読み込み済みだったら再度 :source せずにスキップしちゃってる？","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1517755461,"service_name":"twitter","from_url":"https://twitter.com/_tyru_/status/960162112667451394"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
