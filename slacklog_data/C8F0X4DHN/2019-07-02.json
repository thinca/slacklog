[{"client_msg_id":"66e61afd-723e-437e-a053-1c5844483b5d","type":"message","user":"U0M7GCBPD","text":"今まで意識を失っていました :innocent:","ts":"1562072654.126500","team":"T03C4RC8V","reactions":[{"name":"odaijini","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8495984d-b2b7-4c0b-895d-82bf784bba5d","type":"message","user":"U0M7GCBPD","text":"単純に寝てただけです ()","ts":"1562073117.126900","team":"T03C4RC8V","reactions":[{"name":"grin","count":1,"users":["U06BRP8VD"]},{"name":"pakuchi-","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a9e91bde-bba7-4999-8324-e6e94eb51c08","type":"message","user":"U0M7GCBPD","text":"とりあえず `require()` の Vim script 版はこんな感じ\n```\nlet s:L = vital#of('vital').import('Data.List')\n\nfunction! s:require(ns, ...) abort\n  let ns = strtrans(a:ns)\n  let fnlist = map(\n  \\ split(execute('function /' . ns), '\\n'),\n  \\ {_,l -&gt; matchstr(l, '^function ' . ns . '#\\zs\\w\\+\\ze(')}\n  \\)\n  call filter(fnlist, '!empty(v:val)')\n  if a:0\n    let [fnlist, nofuncs] = s:L.partition({fn -&gt; index(fnlist, fn) isnot -1}, a:1)\n    if !empty(nofuncs)\n      \" TODO: show multiple func name at once?\n      throw printf('Exxx: No function ''%s'' in autoload ''%s''', nofuncs[0], ns)\n    endif\n    return map(fnlist, {_,fn -&gt; function(ns . '#' . fn)})\n  endif\n  let d = {}\n  for fn in fnlist\n    let d[fn] = function(ns . '#' . fn)\n  endfor\n  return d\nendfunction\n\nlet v:errors = []\n\" vital#of('vital').import('Data.List').pop([1,2,3])\ncall assert_equal(function('vital#of'), s:require('vital').of)\ncall assert_equal(3, s:require('vital').of('vital').import('Data.List').pop([1,2,3]))\ncall assert_equal([function('vital#of')], s:require('vital', ['of']))\ncall assert_equal(3, s:require('vital', ['of'])[0]('vital').import('Data.List').pop([1,2,3]))\ntry\n  call s:require('vital', ['xxx'])\n  call assert_true(0, 'Exxx was not thrown')\ncatch\n  call assert_exception('Exxx:')\nendtry\n\nechohl ErrorMsg\nfor s:_ in v:errors\n  echo s:_\nendfor\nechohl None\n```","ts":"1562076181.128000","thread_ts":"1562076181.128000","edited":{"user":"U0M7GCBPD","ts":"1562077644.000000"},"reply_count":6,"replies":[{"user":"U0M7GCBPD","ts":"1562076257.128200"},{"user":"U0M7GCBPD","ts":"1562077220.128500"},{"user":"U0M7GCBPD","ts":"1562077667.128800"},{"user":"U0M7GCBPD","ts":"1562077753.129000"},{"user":"U9S4G0LJW","ts":"1562078042.129300"},{"user":"U0M7GCBPD","ts":"1562084565.140000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bf11ac11-09b3-4568-9e5f-55f66724692d","type":"message","user":"U0M7GCBPD","text":"あ、 `a:000` 忘れてた","ts":"1562076257.128200","thread_ts":"1562076181.128000","parent_user_id":"U0M7GCBPD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e17416e1-0e52-4381-8fa9-3fa4fc86bc56","type":"message","user":"U0M7GCBPD","text":"`a:000` 実装した (ついでに `assert_*()` 使った)","ts":"1562077220.128500","thread_ts":"1562076181.128000","parent_user_id":"U0M7GCBPD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fc577a0b-de29-44a4-aaea-b4c36c4dbbd4","type":"message","user":"U0M7GCBPD","text":"例外投げられてなかったので直した","ts":"1562077667.128800","thread_ts":"1562076181.128000","parent_user_id":"U0M7GCBPD","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"708c91ce-074b-4706-a7ee-4adc1ea0c886","type":"message","user":"U0M7GCBPD","text":"`s:require('vital', ['xxx', 'yyy'])` みたいに存在しない関数名を複数指定された場合ってどう表示した方がいいですかね？\n今の所最初の存在しなかった関数だけ表示しちゃってますが","ts":"1562077753.129000","thread_ts":"1562076181.128000","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":null,"root":{"client_msg_id":"a9e91bde-bba7-4999-8324-e6e94eb51c08","type":"message","user":"U0M7GCBPD","text":"とりあえず `require()` の Vim script 版はこんな感じ\n```\nlet s:L = vital#of('vital').import('Data.List')\n\nfunction! s:require(ns, ...) abort\n  let ns = strtrans(a:ns)\n  let fnlist = map(\n  \\ split(execute('function /' . ns), '\\n'),\n  \\ {_,l -&gt; matchstr(l, '^function ' . ns . '#\\zs\\w\\+\\ze(')}\n  \\)\n  call filter(fnlist, '!empty(v:val)')\n  if a:0\n    let [fnlist, nofuncs] = s:L.partition({fn -&gt; index(fnlist, fn) isnot -1}, a:1)\n    if !empty(nofuncs)\n      \" TODO: show multiple func name at once?\n      throw printf('Exxx: No function ''%s'' in autoload ''%s''', nofuncs[0], ns)\n    endif\n    return map(fnlist, {_,fn -&gt; function(ns . '#' . fn)})\n  endif\n  let d = {}\n  for fn in fnlist\n    let d[fn] = function(ns . '#' . fn)\n  endfor\n  return d\nendfunction\n\nlet v:errors = []\n\" vital#of('vital').import('Data.List').pop([1,2,3])\ncall assert_equal(function('vital#of'), s:require('vital').of)\ncall assert_equal(3, s:require('vital').of('vital').import('Data.List').pop([1,2,3]))\ncall assert_equal([function('vital#of')], s:require('vital', ['of']))\ncall assert_equal(3, s:require('vital', ['of'])[0]('vital').import('Data.List').pop([1,2,3]))\ntry\n  call s:require('vital', ['xxx'])\n  call assert_true(0, 'Exxx was not thrown')\ncatch\n  call assert_exception('Exxx:')\nendtry\n\nechohl ErrorMsg\nfor s:_ in v:errors\n  echo s:_\nendfor\nechohl None\n```","ts":"1562076181.128000","thread_ts":"1562076181.128000","edited":{"user":"U0M7GCBPD","ts":"1562077644.000000"},"reply_count":6,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null}},{"client_msg_id":"3929c36c-3308-4188-81ba-acae916c793a","type":"message","user":"U9S4G0LJW","text":"エンドユーザーが直接使うものじゃないだろうし最初だけでいいんじゃないかな","ts":"1562078042.129300","thread_ts":"1562076181.128000","subtype":"thread_broadcast","reactions":[{"name":"naruhodo","count":1,"users":["U0M7GCBPD"]}],"replace_original":false,"delete_original":false,"blocks":null,"root":{"client_msg_id":"a9e91bde-bba7-4999-8324-e6e94eb51c08","type":"message","user":"U0M7GCBPD","text":"とりあえず `require()` の Vim script 版はこんな感じ\n```\nlet s:L = vital#of('vital').import('Data.List')\n\nfunction! s:require(ns, ...) abort\n  let ns = strtrans(a:ns)\n  let fnlist = map(\n  \\ split(execute('function /' . ns), '\\n'),\n  \\ {_,l -&gt; matchstr(l, '^function ' . ns . '#\\zs\\w\\+\\ze(')}\n  \\)\n  call filter(fnlist, '!empty(v:val)')\n  if a:0\n    let [fnlist, nofuncs] = s:L.partition({fn -&gt; index(fnlist, fn) isnot -1}, a:1)\n    if !empty(nofuncs)\n      \" TODO: show multiple func name at once?\n      throw printf('Exxx: No function ''%s'' in autoload ''%s''', nofuncs[0], ns)\n    endif\n    return map(fnlist, {_,fn -&gt; function(ns . '#' . fn)})\n  endif\n  let d = {}\n  for fn in fnlist\n    let d[fn] = function(ns . '#' . fn)\n  endfor\n  return d\nendfunction\n\nlet v:errors = []\n\" vital#of('vital').import('Data.List').pop([1,2,3])\ncall assert_equal(function('vital#of'), s:require('vital').of)\ncall assert_equal(3, s:require('vital').of('vital').import('Data.List').pop([1,2,3]))\ncall assert_equal([function('vital#of')], s:require('vital', ['of']))\ncall assert_equal(3, s:require('vital', ['of'])[0]('vital').import('Data.List').pop([1,2,3]))\ntry\n  call s:require('vital', ['xxx'])\n  call assert_true(0, 'Exxx was not thrown')\ncatch\n  call assert_exception('Exxx:')\nendtry\n\nechohl ErrorMsg\nfor s:_ in v:errors\n  echo s:_\nendfor\nechohl None\n```","ts":"1562076181.128000","thread_ts":"1562076181.128000","edited":{"user":"U0M7GCBPD","ts":"1562077644.000000"},"reply_count":6,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null}},{"client_msg_id":"D0AF6A8F-46AD-4B61-890E-D335E660987B","type":"message","user":"U776661HA","text":"お、いつのまにか話進んでいた","ts":"1562078561.130300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"61545CF6-ABB7-4B4D-8B1C-EF980D8EF582","type":"message","user":"U776661HA","text":"require 大賛成。外側の仕組みとして用意したい","ts":"1562078584.131000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"415B08A5-D53D-4DFC-9170-A024538EBF67","type":"message","user":"U776661HA","text":"vimconfのcfpで出すかw","ts":"1562078669.131400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"00f60c1c-be1c-4a62-9d13-b66597a69ab4","type":"message","user":"U0M7GCBPD","text":":sasulambdalisue:","ts":"1562078725.131600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"AD873948-D23E-41FF-893C-D2715D5F4808","type":"message","user":"U776661HA","text":"受かったら作る締め切り駆動","ts":"1562078835.132000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4EA071F6-B71D-4BF8-83A7-C8CC017BBA0F","type":"message","user":"U776661HA","text":"jsonで依存管理は考えてました","ts":"1562078888.132400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"F8A0A619-3AB5-4844-A177-84CDFBB45767","type":"message","user":"U776661HA","text":"jsonでやるのが今一番楽だし","ts":"1562078902.132900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"AF05463D-FD2A-41B2-9579-CF0C3496770D","type":"message","user":"U776661HA","text":"んで\n\ncall z#gina#promise#new()\n\nか\n\nlet promise = z#gina#require('promise')\ncall promise.new()\n\nで呼べるって感じ良さそうかなと思いました。","ts":"1562079107.136200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3FF1E0EF-985E-4661-9511-452AEF110B43","type":"message","user":"U776661HA","text":"zにしたのは名前長いから短くしたいってのとファイラで見たときに最後にまとめたいっての","ts":"1562079131.137000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9D061701-F538-479B-9A03-D50D92692AF1","type":"message","user":"U776661HA","text":"ちな、↑でpromiseモジュール使うときに必要な関数リストは補完関数使えば取れそう（未実証","ts":"1562079219.138000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"632139DE-1A73-45E7-A4A9-8F7275D9848B","type":"message","user":"U776661HA","text":"まあ既存のvitalモジュール使えないってデメリットあるけど、まあcfp的には面白いか？","ts":"1562079355.139000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4E7D4AA3-09A3-4C3E-BD7F-91D743AE1E58","type":"message","user":"U776661HA","text":"vim-z","ts":"1562079414.139200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2742239D-25C8-48F3-B7F9-9C1543F166DB","type":"message","user":"U776661HA","text":"z.vim","ts":"1562079418.139400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"20B83485-BB1B-4A8E-B279-34CFC5E3D6B4","type":"message","user":"U776661HA","text":"なんか満ちてきたからまとまるかなー","ts":"1562079452.139800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1D75CE92-7C81-4230-A103-E8AF94C46C35","type":"message","user":"U776661HA","text":"新 vital に関して勝手に考えてた。\n\n色々考えた結果、依存関係を解決して autoload/(prefix)/(plugin)/xxx.vim ってファイルにリネームコピーしてくれるだけのツールで良く無い？という結論に至ったけどどう思います？今の import 方式ってメリットより特殊であるデメリットの方が大きくなってる気もする。\n\n欠点として、全ての vital モジュール作り直しになるけど....まぉ新しいVimに最適化する作業もやりたいしなぁという気分。","ts":"1562034598.058700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"F396FADC-0E0F-4187-AA71-822C7F2B5D29","type":"message","user":"U776661HA","text":"↑ んで依存関係調査は (prefix)#_#xxx#yyy みたいな文字列拾ってきたら大体わかんじゃね？と","ts":"1562034665.060100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b17e72ac-99b0-4767-aff3-96dba4246a00","type":"message","user":"U03C71D7H","text":"依存先の関数の呼び出しはどのようにする想定でしょ?","ts":"1562034712.060600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8064A84F-55C6-4835-ABE8-E6BC5DD81962","type":"message","user":"U776661HA","text":"書き換え","ts":"1562034727.060800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fca9eeb2-4933-41a2-bdf3-48e63ffb866e","type":"message","user":"U03C71D7H","text":"動的に呼び出していたら…?","ts":"1562034741.061000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"E5D9613B-43EB-4C88-9308-46C4D47A4AC1","type":"message","user":"U776661HA","text":"それを捨てるのはどうでしょう？w","ts":"1562034756.061400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eb185739-9dfc-465b-8595-77de6ed03ff7","type":"message","user":"U03C71D7H","text":"fu-mu","ts":"1562034777.061900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3AC86C1A-F979-4EAB-84B9-11FFC25CA48D","type":"message","user":"U776661HA","text":"捨てるとシンプルになる","ts":"1562034786.062200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"53AB9CFE-1167-4642-8371-FFC1970F0731","type":"message","user":"U776661HA","text":"拾うと複雑","ts":"1562034790.062400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3645f034-c9a8-453c-a8c2-4341640c73f2","type":"message","user":"U03C71D7H","text":"(prefix) には何が入ります?","ts":"1562034801.062700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"C26E41E9-0039-4AAF-B197-319753C85564","type":"message","user":"U776661HA","text":"vital以外の任意文字列","ts":"1562034811.063000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8DB588CD-EAF5-4294-8687-A4A8860EA77F","type":"message","user":"U776661HA","text":"supplement とか、とりま新しい vital の名前って思ってました","ts":"1562034827.063600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0df83d6a-2921-49e9-b5b3-58ba2621ece6","type":"message","user":"U03C71D7H","text":"ああ、そもそも vital と言う名前ではなくすと (区別のために)","ts":"1562034854.064000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"B5D964CB-E563-457F-A0DF-94DE06B6DF6D","type":"message","user":"U776661HA","text":"はい。仕組み全く違うし","ts":"1562034864.064300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"310EDCB0-8BB7-462D-BD90-89FBDEC4BDD0","type":"message","user":"U776661HA","text":"これなら動的な関数呼び出しが難しい以外は普通の Vim script になるからとっつきやすくなる","ts":"1562034910.065700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8704576a-1831-4ca5-bfbe-55a77ba553ce","type":"message","user":"U03C71D7H","text":"デメリットがあるとすると関数1つ1つ呼び出すのが長くなるとかかなぁ","ts":"1562034910.065800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"B179242E-857A-4A2E-9FBB-046A7AD89C79","type":"message","user":"U776661HA","text":"それ","ts":"1562034915.066000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9CB8DFB6-FA7C-40C8-ADB4-875960DA202B","type":"message","user":"U776661HA","text":"まあ、仕方ないかなーと。それがデフォなのでデフォに合わせる","ts":"1562034933.066500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d6d46860-2ebe-44d6-8ad8-3dfff2b1a09b","type":"message","user":"U03C71D7H","text":"xxx.vim の部分は階層化もする想定ですよね","ts":"1562034983.066900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8DF9E9DE-8CDD-4003-BFB3-F00D89020EA9","type":"message","user":"U776661HA","text":"もちろん","ts":"1562034988.067100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"090798cb-16fb-4965-827d-fe58ef0881ce","type":"message","user":"U03C71D7H","text":"`supplement#my_awsome_plugin#Web#HTTP#Agent#new()`","ts":"1562035011.067600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ADDA573E-D61B-4F45-B6BF-5A943DD268B9","type":"message","user":"U776661HA","text":"（基本はsnake_caseに治したい","ts":"1562035036.068200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"115d59c4-7971-4676-bd17-1585f181cb9b","type":"message","user":"U03C71D7H","text":"そこw?","ts":"1562035050.068400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0CEB1B52-B088-4B29-AF17-D8999C469883","type":"message","user":"U776661HA","text":"まあ長いですよね","ts":"1562035061.068700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"C9CC58EC-071C-417B-9939-628B17D5C535","type":"message","user":"U776661HA","text":"でも長いだけ","ts":"1562035066.068900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d170fdfb-dd44-4cca-98c2-5519e346d72b","type":"message","user":"U03C71D7H","text":"new() ならいいけど頻繁に使う系の関数が若干しんどくなりそうだなぁ。小粒のユーティリティ系","ts":"1562035087.069400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"238403a8-a588-48af-ace5-ae66e8b94878","type":"message","user":"U03C71D7H","text":"とは言え既存の vital が複雑というのはわかる","ts":"1562035116.069900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1FF7204D-3292-4835-A12D-9C0895632E16","type":"message","user":"U776661HA","text":"僕は一度インポートするのが無駄に感じるから小粒のユーティリティは関数直接呼びたい派","ts":"1562035132.070500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"46F8F571-9554-4247-8AE7-264280AF467E","type":"message","user":"U776661HA","text":"やっぱり本来の仕組みに乗っかりたい","ts":"1562035146.071000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1b788566-0bc1-4eed-9de9-3fbefeb39fa0","type":"message","user":"U03C71D7H","text":"import() はスクリプトロード時だけなので一旦読んじゃえばそこまで速度に影響はないはずではある。初回が重くなると言われるとまあそう","ts":"1562035181.071700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"C5CDE4E5-E11F-4F20-B265-433D6F951AD9","type":"message","user":"U776661HA","text":"まあ速度もあるんですが、どっちかってと感覚。書き心地の好み","ts":"1562035216.072500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"83665B21-CD87-4B9A-975F-28C1BF370DDA","type":"message","user":"U776661HA","text":"関数名長いの嫌って気持ちと同じ","ts":"1562035232.073000","edited":{"user":"U776661HA","ts":"1562035246.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"44da15b3-4546-4fed-9221-a55bda9d87da","type":"message","user":"U03C71D7H","text":"書き心地は import 割と嫌いではない。長い名前に狭いスコープで短い別名付けるの好き","ts":"1562035259.073600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"A551739E-5191-4B2D-AC5A-4334C673F36A","type":"message","user":"U776661HA","text":"わかる","ts":"1562035270.073800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"FA0FFFB0-2FFD-4B42-A1AD-1386982D6359","type":"message","user":"U776661HA","text":"わかる、が、その為に複雑増やすのかーって気持ちに","ts":"1562035284.074500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ca562944-a0c7-4db8-a4b6-5a1d7a4a0698","type":"message","user":"U03C71D7H","text":"Python で import 使わずに常にパッケージ名フルで書けって言われている感がある","ts":"1562035301.074800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"228B766E-9BCD-4BE5-885E-085F70B34B40","type":"message","user":"U776661HA","text":"やろうと思えば関数リファレンス作れるし","ts":"1562035327.075300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"822D491C-FD2F-4CFC-81E2-ECDEFEE9696A","type":"message","user":"U776661HA","text":"複雑性を増やしてまで享受したいか？と言われると僕は怪しいと思った","ts":"1562035347.076300","edited":{"user":"U776661HA","ts":"1562035359.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2c579297-42ef-4704-a7ae-7f1bfe4cef4c","type":"message","user":"U03C71D7H","text":"隠蔽されていれば気にならないかなーと思うかな。Python の import も詳しい仕組みしらないけどとりあえずそう書けば動くから使ってるわけだよね","ts":"1562035380.077000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"C70AA190-DED5-4039-95CA-30C2BA02AB3F","type":"message","user":"U776661HA","text":"あーそれは一理","ts":"1562035402.077700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7871b4a2-9aa5-446c-836c-5b6f97503f8d","type":"message","user":"U03C71D7H","text":"下手に中身を知ってると複雑〜と言う気持ちになってしまう","ts":"1562035402.077800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4B4AB2D8-D480-4A7E-8B57-BDEC181BEE43","type":"message","user":"U776661HA","text":"現に今インポート周りがバグってる訳ではないですしね","ts":"1562035422.078300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"794207c0-5544-4108-9d24-ae77fbe8a6e2","type":"message","user":"U03C71D7H","text":"ですね。バグってて毎度 import 周りでトラブってるとかだと見直さないといけないのわかる","ts":"1562035450.078700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"EE987896-D950-45F7-AE34-AF152C439EF2","type":"message","user":"U776661HA","text":"ただなぁVim scirpt本来の使い方したい気持ちががが","ts":"1562035497.079600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a1f931f4-84de-4a6b-bdcc-b852859365e3","type":"message","user":"U03C71D7H","text":"その気持ちもわかるw","ts":"1562035510.079900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9D76E90B-0E2C-4667-A961-D6754CB6D7FB","type":"message","user":"U776661HA","text":"まあ、既存のやつ置き換えるのクソ大変だから頓挫しそうだけどね！w","ts":"1562035536.080800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"EC944077-59E0-4BA6-8DC4-8642202140EF","type":"message","user":"U776661HA","text":"poc的につくってみるかな","ts":"1562035564.081600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0c1171c8-4db4-4f60-8806-6bbfd0bcb263","type":"message","user":"U03C71D7H","text":"内部的には alisue さんのを採用しつつ、import すると `{'foo': function('vital#plugin_name#module#foo')}` が返ってくる仕組みとかどうでっしゃろ。既存との互換性がキビしくなる問題は若干だけど残るな…","ts":"1562035634.082700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"FA03A29E-965F-4AC5-BDC9-248246215F23","type":"message","user":"U776661HA","text":"それ、やるとしたら supplement プラグインみたいな感じがいいかなー","ts":"1562035673.083300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"D61F7E71-75F5-42B4-B37B-CD01036C5A10","type":"message","user":"U776661HA","text":"公式の方法は一つにして、シンタックスシュガーは別枠で用意する","ts":"1562035700.083900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"27FFDB74-4EB7-4587-B12F-755801C7E988","type":"message","user":"U776661HA","text":"仮 supplement は関数直接呼び出しを想定して vital 的に使いたい人は supplement#vital#import みたいなの足すとか","ts":"1562035798.085300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4bb670cd-b34f-4e26-b217-f2870a32ac13","type":"message","user":"U03C71D7H","text":"モジュールの作り方が全く別物のフレームワークが複数できちゃうと作る側がしんどい予感がある","ts":"1562035929.085900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7EC4DFD0-26A1-464F-982F-0B36AEB5297F","type":"message","user":"U776661HA","text":"vital と supplement(仮) の話？","ts":"1562035971.086700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65E243D1-7656-40E3-B228-2C42D308151A","type":"message","user":"U776661HA","text":"まあ、↑の話は vital 2 というか完全に新しいの作りませんかって提案なので","ts":"1562036022.087600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f562ce5f-d944-4ef7-a48d-c635311d7117","type":"message","user":"U03C71D7H","text":"ですね","ts":"1562036023.087700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d8b8ca3-9c28-48f0-83ce-0024f25ff29b","type":"message","user":"U03C71D7H","text":"その場合 vital は捨てましょうってことですよね","ts":"1562036047.088200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8D6D01E7-E756-4B63-828F-35BB23941625","type":"message","user":"U776661HA","text":"頓挫しなければw","ts":"1562036055.088400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"62d65bd4-b1d9-47d6-9010-6b91c871376a","type":"message","user":"U03C71D7H","text":"言うて私も全然動けていなくて申し訳なさしかない","ts":"1562036085.088800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9BBC1750-963D-4FEC-887C-35E2066C5D00","type":"message","user":"U776661HA","text":"正直頓挫する予感しかしない","ts":"1562036108.089100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"af4f31b7-2a81-4dde-9ea0-4130b05bf297","type":"message","user":"U03C71D7H","text":"w","ts":"1562036122.089300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3D2C52DC-D7DF-485F-8897-739FBCD540B2","type":"message","user":"U776661HA","text":"まあ気が向いたらpocをvim-vital グループにでも作ります","ts":"1562036169.089900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bcf4c63f-7d37-41c5-bc25-3a4056e3f358","type":"message","user":"UDDCM376D","text":"&gt;言うて私も全然動けていなくて申し訳なさしかない\nつまり:gorilla:が改造に全力を注げば問題解決？","ts":"1562036377.090400","team":"T03C4RC8V","reactions":[{"name":"u6709","count":1,"users":["U03C4RC8X"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9471acd5-ce8d-4c50-911a-a73867c184de","type":"message","user":"UAZ33BKV2","text":"Vim script流儀にちゃんと沿うものは、それはそれであってもいいかな、と思うけど、HMACにHashモジュールを動的にセット、とかやって動いている機能作った身としては、いまのvitalのような使い勝手もほしい、というのはある。\n単純なシンタックスシュガーというより、モジュールオブジェクトをちゃんと生成していることのメリット、みたいなところ\n# どうしようもなければ作りなおすこと自体は可能だと思うので、方針自体には是非どちらもあまりないかな...。","ts":"1562037453.093100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9419163f-e84c-42ea-86aa-4fc36acbea0d","type":"message","user":"U03C4RC8X","text":"うーん、整理すると、vim本体に適切なnamespaceとimportを導入することな気がしてきた","ts":"1562037673.093600","team":"T03C4RC8V","reactions":[{"name":"sorena","count":3,"users":["UAZ33BKV2","U0M7GCBPD","U776661HA"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f62f1ec5-7b82-4751-8c5d-c176cf3494a7","type":"message","user":"U0M7GCBPD","text":"モジュールオブジェクト、というのがおそらくこれになる予感\n<https://vim-jp.slack.com/archives/C8F0X4DHN/p1562035634082700>","ts":"1562039076.094700","attachments":[{"fallback":"[July 1st, 2019 7:47 PM] thinca: 内部的には alisue さんのを採用しつつ、import すると `{'foo': function('vital#plugin_name#module#foo')}` が返ってくる仕組みとかどうでっしゃろ。既存との互換性がキビしくなる問題は若干だけど残るな…","id":1,"author_id":"U03C71D7H","author_name":"thinca","author_subname":"thinca","author_link":"https://vim-jp.slack.com/team/U03C71D7H","author_icon":"https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg","text":"内部的には alisue さんのを採用しつつ、import すると `{'foo': function('vital#plugin_name#module#foo')}` が返ってくる仕組みとかどうでっしゃろ。既存との互換性がキビしくなる問題は若干だけど残るな…","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #vital-dev","ts":1562035634.082700,"from_url":"https://vim-jp.slack.com/archives/C8F0X4DHN/p1562035634082700","original_url":"https://vim-jp.slack.com/archives/C8F0X4DHN/p1562035634082700"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c4ece5d8-1363-431e-8ecd-c8c1ac34e904","type":"message","user":"U0M7GCBPD","text":"普通に autoload 関数として書いて、vitalizer が配置する時に↑のオブジェクトを返す関数をファイル内に生成すると良いかも","ts":"1562039271.096800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"42121a32-017e-4870-8354-3ba998657e28","type":"message","user":"UAZ33BKV2","text":"そこですね、それが実現できてれば、たぶん問題なく今の使い方も出来る、でよいことづくめですが...","ts":"1562039301.097500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"96fa79a6-9583-4f65-9351-d7308519f8d3","type":"message","user":"U0M7GCBPD","text":"vim本体として要るかどうかっていうと、(凄い primitive ではあるけど) こんな感じのユーティリティ関数を定義すれば長い関数名はどうにかなるんですよね。\n本体でほしい気はするけど ES import とか見てるとなるべく単純なやつがほしいという気持ち\n```\nlet s:http = s:require('web#http')\nlet [encodeComponent, decodeComponent] =\n\\ s:require('web#http', ['encodeComponent', 'decodeComponent'])\n```","ts":"1562039777.103400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8c07b63c-1095-4f15-9ca4-0c912b82c0fd","type":"message","user":"U0M7GCBPD","text":"あともし vital のモジュールやめるならどのバージョンをインストールしたかの情報を .json でいいのでほしい気はしますね。\nファイルに埋め込むのもサイズ膨れるし、どうせならメタ情報は package.json みたいに外に吐いていいのでは","ts":"1562040057.107000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74929806-f4f3-49b4-a780-a008ca352fd4","type":"message","user":"U0M7GCBPD","text":"json なら万一バージョン情報ほしいプラグインも json_decode() で読めるので","ts":"1562040216.110500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04a174d9-1668-472e-bdbd-3bcb8401aa6c","type":"message","user":"U03C4RC8X","text":"jsonがネイティブに使えるようになったの本当に便利","ts":"1562040289.110800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c5c7d7cf-3848-4374-acba-9bb170eaf32e","type":"message","user":"U03C4RC8X","text":"(それができなかったからclojureからvimsonでやりとりできるようにとかかなり努力した記憶が)","ts":"1562040313.111400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33c9d2cc-1df0-4b17-8b7e-36778f563793","type":"message","user":"U0M7GCBPD","text":"require() 位は普通に vim 本体にほしい気持ちになってきた\nあとでちょっとやってみようかな…","ts":"1562040498.112600","team":"T03C4RC8V","reactions":[{"name":"subara","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"764d55e1-d4e0-406a-9cb7-aa69921f07dd","type":"message","user":"U0M7GCBPD","text":"polyfill でできる範囲だけど、autoload 長すぎ問題から名前空間必要だよねって意識共有 (to vim-dev) も兼ねて issue か PR でも送りたい","ts":"1562041233.122200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0f2d4a06-d93a-4949-ac52-c03257aa97a3","type":"message","user":"U0M7GCBPD","text":"あと話戻るけど vital の require() もこんな感じでいいし確かに今のモジュール方式をやめる利点はある (あと vim の autoload 使いたいも共感)\n```\nfunction! __vital__#require(name, ...)\n  return require(printf('__vital__#%s#%s', s:PLUGIN_NAME, name))\nendfunction\nlet s:http = __vital__#require('web#http')\n```","ts":"1562041274.123000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"864ba6eb-898f-4e4e-98e4-18589ccc27de","type":"message","user":"U0M7GCBPD","text":"あと one binary で入って vim-addon.json に dependencies を記録するパッケージマネージャーを vital で提供すれば :banjaku: という感じかな (おちつけ)","ts":"1562041498.125800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
