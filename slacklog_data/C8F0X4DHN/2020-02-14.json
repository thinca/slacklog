[{"client_msg_id":"92bae744-4088-4d6c-88cb-c3a7b008da54","type":"message","user":"UAZ33BKV2","text":"<https://github.com/vim-jp/vital.vim/pull/722#pullrequestreview-358685336>\nそういえばそうだ、というようなPRが来たので、気になる人もう一人くらいにはレビューしていただきたいです。\n(いないようなら、ちょっと時間を置いてマージします)","ts":"1581648745.001800","attachments":[{"fallback":"GitHub: System.Filepath: Proper `~` home dirs in abspath() by bb010g · Pull Request #722 · vim-jp/vital.vim","id":1,"title":"System.Filepath: Proper `~` home dirs in abspath() by bb010g · Pull Request #722 · vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/pull/722#pullrequestreview-358685336","text":"The :p absolute path filename modifier supports leading «&amp;quot;~/&amp;quot; (and &amp;quot;~user/&amp;quot; for Unix)» for home directories. As a home-relative path like ~ does not resolve properly with filere...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/pull/722#pullrequestreview-358685336","original_url":"https://github.com/vim-jp/vital.vim/pull/722#pullrequestreview-358685336"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2iA+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de4801e5-359f-49bb-97d1-1cb7fc8af5fa","type":"message","user":"U03C6TEAZ","text":"最後の modeline の修正、いるのだっけ。","ts":"1581649079.002400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hj0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"803ca35e-b768-4ffa-b804-b66b71adaa4e","type":"message","user":"UAZ33BKV2","text":"あ、そこは不要ですね、なんで指摘が漏れたんだ...orz","ts":"1581649107.002800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uXN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"268be95d-bfab-468b-84b1-266808bbea0b","type":"message","user":"U03C71D7H","text":"lambda ってもう使って大丈夫なんだっけ? 入ったのいくつからだっけか","ts":"1581649271.003100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CVc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2483f077-d85b-4d4d-a0cd-ada5c2889105","type":"message","user":"U03C71D7H","text":"7.4 の最後の方から入ってるからもう大丈夫か","ts":"1581649310.003700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7HDXQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7824a94c-4f6b-4030-b08b-bff8bdbe9351","type":"message","user":"UAZ33BKV2","text":"確認に便利なページ\n<https://thinca.hatenablog.com/entry/vim8-advent-calendar#%E3%83%A9%E3%83%A0%E3%83%80>\n(実際的に)","ts":"1581649513.004200","attachments":[{"fallback":"永遠に未完成: Vim 8.0 Advent Calendar - 永遠に未完成","id":1,"title":"Vim 8.0 Advent Calendar - 永遠に未完成","title_link":"https://thinca.hatenablog.com/entry/vim8-advent-calendar#%E3%83%A9%E3%83%A0%E3%83%80","text":"この記事は 2016 年 12 月に Qiita 上で行われた Vim 8.0 Advent Calendar を 1 つにまとめたものです。","image_url":"https://cdn-ak.f.st-hatena.com/images/fotolife/t/thinca/20161230/20161230184917.png","blocks":null,"ts":1483110000,"service_name":"永遠に未完成","service_icon":"https://cdn.blog.st-hatena.com/images/touch-icon-iphone-retina.png","from_url":"https://thinca.hatenablog.com/entry/vim8-advent-calendar#%E3%83%A9%E3%83%A0%E3%83%80","original_url":"https://thinca.hatenablog.com/entry/vim8-advent-calendar#%E3%83%A9%E3%83%A0%E3%83%80"}],"team":"T03C4RC8V","reactions":[{"name":"sasu_manbou","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NWDZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3afda4b7-9dd6-4a82-84d4-9c26350d1110","type":"message","user":"U03C71D7H","text":"helpful.vim 使った","ts":"1581649529.004600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q+5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"debc24cd-f181-43d0-9199-f87960ef800a","type":"message","user":"UAZ33BKV2","text":"(ちょっとVim使えなかったので)","ts":"1581649557.005000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"650"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"27d8f7ba-d772-4587-856d-c971985a0a31","type":"message","user":"UAZ33BKV2","text":"でもあれ本当に便利","ts":"1581649567.005200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"teqwQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2a472188-df69-4b26-b2d0-d7eb491fcf29","type":"message","user":"U03C71D7H","text":"英語の読解力がなさすぎてこの変更がなぜ必要なのかが一切理解できていない","ts":"1581650694.005500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SQu7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ecd2744d-d559-4820-ae61-88570e186251","type":"message","user":"U03C6TEAZ","text":"`~thinca/Documents`","ts":"1581650865.005800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SPoG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d300f842-fb64-463d-ad2e-1d3133049f9d","type":"message","user":"UAZ33BKV2","text":"~WindowsでD:とかに居ると、`s:pathcheck('~/tmp')` (確認用の関数)が `D:\\repo\\ ~/tmp`みたいになることを手元で確認したりしました。~\n(確認がやや簡略化してなので、不要だったらrejectしてもらえれば...ですが)\nやりなおす","ts":"1581651204.007100","edited":{"user":"UAZ33BKV2","ts":"1581651700.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4N/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1ac56beb-96cb-4ee9-aada-e6eb030289a1","type":"message","user":"U03C71D7H","text":"`pathcheck()` はどこにある関数ですかね?","ts":"1581651375.007500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r2dj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8075abc2-02e8-47ff-9dea-c25a245dc75d","type":"message","user":"UAZ33BKV2","text":"今回の変更を抽出した手元処理です...ややこしくてすみません。","ts":"1581651427.008100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"10Cd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ef4157e1-80ee-4492-8d5e-329c8f681f2b","type":"message","user":"U03C71D7H","text":"全然関係ないけど relpath() がカレントディレクトリに依存してるのあまりイケてないな","ts":"1581651525.009000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zGWq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"497fd093-247c-4fb4-96ad-7e47080481bd","type":"message","user":"U03C71D7H","text":"それを言ったら abspath() もか…","ts":"1581651548.009400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l3H"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e4b27080-9386-4085-9a0e-286fb22d15ee","type":"message","user":"UAZ33BKV2","text":"ううん、あらためて確認したほうがよさそうですね...(今はちょっと無理)","ts":"1581651651.010200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fv3U"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b7d78174-7136-4bda-835c-713e039f49b9","type":"message","user":"U03C71D7H","text":"そして実際に試してようやく問題を理解した。なるほど","ts":"1581651667.010600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I=C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"48d9f9da-eb99-43b0-a54c-4cf93d7ad840","type":"message","user":"U03C6TEAZ","text":"expand 使ったらダメなのだっけ。","ts":"1581651734.011000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"31io"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"779310ab-c5b3-4516-93d9-cb691e987037","type":"message","user":"U03C71D7H","text":"この関数が何を解決したいのか(Vim の :p ではダメなのか)が help から読み取れないな","ts":"1581651838.011600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MEl9I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cbcb2ac2-5765-4d15-a4ff-f6645dcf8063","type":"message","user":"U03C71D7H","text":"コードを見た限りだと存在しないパスへの対応かなぁ","ts":"1581651854.012000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mzf8o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"afce3194-217d-4022-a181-1deed12b168c","type":"message","user":"UAZ33BKV2","text":"たしか不在のものでも、絶対パス変換したくてexpandは使ってなかった、だったと思います","ts":"1581651940.012500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pmy9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8fa87197-b7c0-4016-904e-995ba0609654","type":"message","user":"U03C6TEAZ","text":"a-","ts":"1581652010.012700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"n3W6S"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3043cd4-8db4-4ba5-8c83-c7e284d8e3f6","type":"message","user":"U03C6TEAZ","text":"abspath 自体の引数が path だけの時点でアレだな。","ts":"1581652060.013100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k/i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"57e4d4df-5cff-437e-bd3d-9732523e544b","type":"message","user":"U03C6TEAZ","text":"curdir 貰わないとあかんやつ。","ts":"1581652075.013400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e8iZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eb6b452d-0f24-4901-8024-b67603e74ed1","type":"message","user":"U03C71D7H","text":"それ","ts":"1581652126.014600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rt3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"42023837-0a35-4e18-a2a3-95b16a91f273","type":"message","user":"U03C6TEAZ","text":"`../../../../../../etc/foo` は `/etc/foo` なのか `/usr/etc/foo` なのか分からない。","ts":"1581652130.014800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Gx/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"436f3ea2-cdbe-4378-9617-4e2ec1847789","type":"message","user":"UAZ33BKV2","text":"ホームはまだしも、そもそも相対パス表記だけだと、決定性が...ですね(cwdでやるにしても、オプション指定可能じゃないと...)","ts":"1581652141.015200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mURbZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5824232d-248c-4e59-ae04-8307be625664","type":"message","user":"U03C71D7H","text":"まあ省略時は Vim のカレントディレクトリと言うことにすればあと付けで拡張はできそう","ts":"1581652148.015500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eiy2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f72fde4f-21e7-41d5-99e1-b4776549d77e","type":"message","user":"U776661HA","text":"<https://github.com/vim-jp/vital.vim/pull/722>","ts":"1581685234.016000","attachments":[{"fallback":"GitHub: System.Filepath: Proper `~` home dirs in abspath() by bb010g · Pull Request #722 · vim-jp/vital.vim","id":1,"title":"System.Filepath: Proper `~` home dirs in abspath() by bb010g · Pull Request #722 · vim-jp/vital.vim","title_link":"https://github.com/vim-jp/vital.vim/pull/722","text":"The :p absolute path filename modifier supports leading «&amp;quot;~/&amp;quot; (and &amp;quot;~user/&amp;quot; for Unix)» for home directories. As a home-relative path like ~ does not resolve properly with filere...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/vital.vim/pull/722","original_url":"https://github.com/vim-jp/vital.vim/pull/722"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5O7w"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e7c7cd4c-0190-417d-958e-6e4f91b0ac77","type":"message","user":"U776661HA","text":"リジェクトしたい","ts":"1581685237.016300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"89A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4385e142-5398-47ef-b01a-b402b1e11408","type":"message","user":"U776661HA","text":"既に話してたのか知らなかった","ts":"1581685265.016600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JxCbI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"86526b2e-6b98-4219-b386-eaa4932e26b2","type":"message","user":"U776661HA","text":"`abspath()` 呼ぶ側が `expand()` なり呼べば済む話なのに複雑性上げすぎてると感じます","ts":"1581685374.017200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vROq4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a53050f6-d1f3-4a14-880f-1261dcccee80","type":"message","user":"UAZ33BKV2","text":"なるほど…自分はまだまだなので、根拠を付けてリジェクトも良いというかアリだとは思います…","ts":"1581686045.020600","team":"T03C4RC8V","reactions":[{"name":"man-bowing","count":1,"users":["U776661HA"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qXe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d926a216-4f35-497d-a1e4-f6523d4afdec","type":"message","user":"UAZ33BKV2","text":"迷うときはvitalの基本方針みたいなのがあれば、と思うと\n1. vimに不足する機能を補う\n2. 実現するに複雑になる部分をまとめておくことで再利用性と今後のvim側の充足での入れ替えをスムーズにする\n3. 副作用は少ない/ない\n4. 一貫性\nと考えると、簡単に呼んで副作用なく結果が出る修正としては、なくはないかなあ、くらいでした...abspathはどうあるべきか(むーん)","ts":"1581688629.024200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iA+A"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0faf5fb2-11fe-4ba9-a154-ad61cb5a7548","type":"message","user":"UAZ33BKV2","text":"(前にここに一部修正をPRしたので、気になってる、はあります)\nその時に気付けてなかったし...","ts":"1581688944.025100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FuFi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c0061c9-bd77-4820-8904-441a6ddb6be8","type":"message","user":"UAZ33BKV2","text":"ありすえさんからの指摘がPRにのってるし、この反応しだいかな...","ts":"1581689105.025600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GDCl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
