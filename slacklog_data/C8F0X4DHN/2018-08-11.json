[{"client_msg_id":"3fed53cf-e040-4b53-9ff1-ff3b21b4ee48","type":"message","user":"U03C71D7H","text":"hi","ts":"1533965405.000067","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1e1902ee-8dbe-4fd3-82e7-a69f30c000d6","type":"message","user":"U7D5LRRQD","text":"hi","ts":"1533968278.000039","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b0505a22-9337-403b-9969-5f07682685bc","type":"message","user":"U03C71D7H","text":"私の記憶が正しければ、\n\n今って vital の各モジュールをロードするのに autoload を使っていて、直接 source しない理由は対象ファイルの script id を取得する必要があるからで、以前は scriptnames 等から取ってたけど速度面により今の形式になっている\n\nと言う感じだったと思うのだけど、今新しい vital loader で別の手法を検討している。\nグローバル変数を使う方法。例えば `g:vital_script_id` と言う名前を予約しておいて、\n\n1. モジュールロード前にもし変数が存在していたら退避。\n2. ローダがモジュールを source する。モジュールの先頭に `let g:vital_script_id = expand('&lt;sfile&gt;')` 的なのを vitalize 時に仕込む\n3. ローダは `g:vital_script_id` を読み込み、元の状態に復元する(退避していたら戻す、元々なかったら消す)\n\nこの方法に何か抜けや問題点があるか、聞きたい","ts":"1533971664.000040","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"144ce493-7b5d-4cf5-803c-01b34b75094b","type":"message","user":"U03C4RC8X","text":"完璧で盤石","ts":"1533972230.000027","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"24deea7a-4761-470b-a283-313be2ff857d","type":"message","user":"U03C71D7H","text":"実際の変数名はモジュール作者が気にする必要はないのでもっと長い `g:__vital_script_id` みたいななるべく被らない名前かな","ts":"1533972537.000056","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"441a7899-90cb-4ba2-bdad-b8baf53deb7f","type":"message","user":"U03C4RC8X","text":"g:neko-neko-nyan-nyan-i-love-dog","ts":"1533972819.000040","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b3132cdb-bcdb-4552-9851-e859942a9e62","type":"message","user":"U03C71D7H","text":"`-` は使えないかな","ts":"1533972833.000033","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"621f8b34-2401-49dd-8b21-3df470b67cc5","type":"message","user":"U03C4RC8X","text":"<http://chaos2ch.com/archives/1704695.html>","ts":"1533972862.000043","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8bbbece5-a181-41cf-a347-d509179d7400","type":"message","user":"U03C4RC8X","text":"unco-buriburi-non-stop@ 急に冷静になるところがいい","ts":"1533972891.000053","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a41df395-7f5b-4073-8b33-cc2166c3b861","type":"message","user":"U03C4RC8X","text":"よくみたらあんまり冷静じゃない","ts":"1533972901.000032","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"51d84ff6-9f80-4678-be45-5fdbe14b5396","type":"message","user":"U0M7GCBPD","text":"はやぶささんここ見てるのかな","ts":"1533989961.000051","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2acdf4d6-06d8-4151-abe9-53946fec5867","type":"message","user":"U0M7GCBPD","text":"issue でやった方が良さそう","ts":"1533989971.000081","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
