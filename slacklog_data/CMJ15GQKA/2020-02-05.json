[{"type":"message","user":"UG9V1UQ1J","text":"<@UG9V1UQ1J> has left the channel","ts":"1580890562.087800","subtype":"channel_leave","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UQL4T33S6","text":"<@UQL4T33S6> has joined the channel","ts":"1580890730.088000","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"dfc08a5b-5534-474e-adbc-df256854011a","type":"message","user":"UDDCM376D","text":"mosquitto使ったことがある方いますか？\nセッション永続化しようとしていますが、思い通りの動きにならなくて困っています。","ts":"1580893270.089000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W6nCW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eab30272-8cbc-4d07-8f5d-918562d926e2","type":"message","user":"UDDCM376D","text":"そもそもこれインフラでいいのか…？","ts":"1580893292.089300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hYNg/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2b910cc-b7c5-492b-a83f-f9688e0796df","type":"message","user":"U03C6TEAZ","text":"mqtt broker の mosquitto であれば使った事あります。↑の eclipse mqtt とセットで。","ts":"1580893736.090200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gFN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2d4bbb99-0a11-43f8-ab4e-975ee15f8d1e","type":"message","user":"UDDCM376D","text":"あ、できた","ts":"1580893943.090800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2ErtB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6245b78-b50a-46e9-92ba-118b06186fd1","type":"message","user":"UDDCM376D","text":"整理中。。","ts":"1580893956.091100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x2DlM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"204bdb4a-b567-49e8-bb7a-6b081f90ef8b","type":"message","user":"UDDCM376D","text":"```mosquitto_pub -q 2 -d -t topicA -m 'hello gorilla'```\nを２回実行して、\n\n```mosquitto_sub -c --id 1 -q 2 -d -t topicA```\nを実行すると２回分のメッセージを取得できた","ts":"1580894017.091800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pnSY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6218f8e9-c6e1-4e9c-801f-6afa7e5dd567","type":"message","user":"UDDCM376D","text":"あー","ts":"1580894230.092200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I/9Kn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b6531bc9-7132-4817-a200-120cbee7fb3f","type":"message","user":"UDDCM376D","text":":rikai:","ts":"1580894232.092400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K1SFo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"98419326-5010-4770-8c86-4e6c62bf07e4","type":"message","user":"UDDCM376D","text":"pub側でclean sessionしちゃいけないのか","ts":"1580894298.092900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k6cs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6fd26c17-8fb9-4eff-9e46-81a84ec720b6","type":"message","user":"UDDCM376D","text":"```/ # mosquitto_pub -c --id 1 -q 2 -d -t topicA -m 'hello gorilla'```\nを２回実行して\n\n```/ # mosquitto_sub -c --id 1 -q 2 -d -t topicA```\nを実行すると１つしかメッセージを取得できなかった","ts":"1580894345.093100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4Kb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3d05df0d-c95d-406c-b985-45d5c879cef5","type":"message","user":"UDDCM376D","text":"むしろ、動き逆だと思っていた…","ts":"1580894371.093600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ulu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8d29fb3b-fc4c-425d-9d5e-0dfefaafa107","type":"message","user":"UDDCM376D","text":"-c (disable clear session) しないと、pub起動時に溜まったデータがクリアされると思っていた","ts":"1580894404.094300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MQd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"73e65c9a-4d45-4dcc-99be-e1981829dc5e","type":"message","user":"UDDCM376D","text":"実際 -c をつけると、１つしか受信できないのはなんか、理解が間違っている気がするなぁ","ts":"1580894442.095000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Uua"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"87324923-f675-4317-ade6-58f5345c57f3","type":"message","user":"UDDCM376D","text":"<@U03C6TEAZ> ここらへんって、ご存知だったりしますか？","ts":"1580894469.095500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rhmqI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"53cc3e4d-349d-4a41-9b17-5faf89f76555","type":"message","user":"U03C6TEAZ","text":"うー。ローカルサーバに立ててたけど必要なくなって消してしまってた。すいません。","ts":"1580895175.096100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1IR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"729b05aa-4832-4640-b0b2-e3a8f8911674","type":"message","user":"UDDCM376D","text":"いえいえ〜","ts":"1580895225.096500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OKhJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2159ab3-06fd-496f-9a39-ec69c70b3c72","type":"message","user":"UDDCM376D","text":"ありがとうございます！","ts":"1580895226.096700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=Dhn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f0768bc0-bb45-4f2c-848b-c204b5b9de8c","type":"message","user":"UNJ2DANJC","text":"マネージドのredis結構いいお値段しますね。\nマネージドのRDBのレイテンシが大きいときはvnet外のマネージドredis(over SSL)でもあるだけで結構役に立ちます。","ts":"1580896194.100600","edited":{"user":"UNJ2DANJC","ts":"1580896229.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+0N0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65527bec-52c9-4d58-97db-78f359e6d01a","type":"message","user":"UNJ2DANJC","text":"仕事でAzureのマネージドMySQL使ってますがレイテンシ結構酷くてインスタンスガチャだろこれって愚痴ってます...","ts":"1580896396.103700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rAn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f7d9855e-ffdc-4917-8334-9414f054f619","type":"message","user":"U78A6ESHM","text":"昔 azure でインスタンスガチャでひどい目にあったことが…","ts":"1580896529.104600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1r0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"963574a2-6780-4102-9189-5cebf4649976","type":"message","user":"UNJ2DANJC","text":"Azureの中の外人さんと以前話す機会がありましたが \"データセンターのネットワーク設計上VMのvnet内レイテンシの個体差は出ない\"って一蹴されました... 悲しみ...","ts":"1580896735.108400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/SWY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6d830dc7-b85c-449c-af8e-3539bf5b2a14","type":"message","user":"UNJ2DANJC","text":"あとレイテンシが乱れたくらいで大きな影響がでるシステムは組み方がクラウドネイティブじゃないからアーキテクチャ見直したほうがいいよとやんわりとアドバイスされましたね\nオンプレのネットワークとは全くちがうからと","ts":"1580896991.112300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2H5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"640e68fb-8662-46c0-bf2d-a1e858fb88a7","type":"message","user":"U8CC7MDCL","text":"レイテンシ増加、瞬断とかあって当たり前の設計必要ですからねぇ\nアプリ開発側もインフラ側もいろいろ考えつつ作らにゃならん感じ","ts":"1580897282.114600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"06i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ce07e7c6-82f9-4ad2-9c1d-98fb499107de","type":"message","user":"U78A6ESHM","text":"azure で定期的にバッチがゾンビ化しててゾンビを kill するお仕事についてましたが、それが aws に乗り換えるとゾンビが発生しなくなってあら不思議。","ts":"1580897404.115700","team":"T03C4RC8V","reactions":[{"name":"gunnyari","count":1,"users":["U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"81TRD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"090358d6-7a11-4bd6-ad21-5a2c177b1ce8","type":"message","user":"U78A6ESHM","text":"(昔のことなので今は知りませんw)","ts":"1580897436.116000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"f24dd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d58105cd-7816-4c1d-8a7a-283b156128ce","type":"message","user":"UGYM5NT2T","text":"Redisのパフォーマンスチューニングにそこそこ詳しい方いますか？","ts":"1580869072.006800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ArDqJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ec2e2ab9-bf38-4187-aad4-8ae69d652f62","type":"message","user":"UDDCM376D","text":"Redis使ったことがない…","ts":"1580869246.007000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q=FOs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4b820193-7f84-447f-a3e3-50a49c981d59","type":"message","user":"U7H4TJEG0","text":"CPU負荷\n- 調査: MONITORコマンドの結果をredis-finaに渡して集計\n- 対策: Lua scripting (EVALSHA), pipeline\n\nMemory負荷\n- 調査: redis-rdb-tools, MEMORY USAGE, --bigkeys\n- 対策: バイナリ化, gzip圧縮, expire設定, 水平/垂直分割, クラスター (hash tag)","ts":"1580869433.008400","thread_ts":"1580869433.008400","reply_count":1,"replies":[{"user":"UAZ33BKV2","ts":"1580869484.008600"}],"team":"T03C4RC8V","reactions":[{"name":"goodpoem","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3mzh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3bec623f-138c-4a26-b5bf-310aa76f1c55","type":"message","user":"UAZ33BKV2","text":"おや？","ts":"1580869484.008600","thread_ts":"1580869433.008400","parent_user_id":"U7H4TJEG0","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aAh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4bc40be2-6fcb-42f9-b12e-232ca4e0a30c","type":"message","user":"U03C6TEAZ","text":"バイナリ化いるんかー。","ts":"1580869588.010100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ili"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dda14909-fac0-4aad-9d61-c603e23d0e1e","type":"message","user":"U03C6TEAZ","text":"なんか redis 使う理由の一つが plain-text というのがあるので、んー。","ts":"1580869631.011300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"f7A=B"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3fb9fdb4-2239-413c-a4e6-f45c8b440144","type":"message","user":"UG6DF6W87","text":"<https://blog.yuuk.io/entry/redis-cpu-load>","ts":"1580869853.015600","thread_ts":"1580869853.015600","attachments":[{"fallback":"ゆううきブログ: RedisサーバのCPU負荷対策パターン - ゆううきブログ","id":1,"title":"RedisサーバのCPU負荷対策パターン - ゆううきブログ","title_link":"https://blog.yuuk.io/entry/redis-cpu-load","text":"Redisは多彩なデータ構造をもつ1インメモリDBであり、昨今のWebアプリケーションのデータストアの一つとして、広く利用されている。 しかし、一方で、性能改善のための手法を体系的にまとめた資料が見当たらないと感じていた。 実際、最初にCPU負荷が問題になったときにどうしたものかと悩み、調査と試行錯誤を繰り返した。 そこで、この記事では、自分の経験を基に、RedisサーバのCPU負荷対策を「CPU負荷削減」「スケールアップ」「スケールアウト」に分類し、パターンとしてまとめる。 背景 RedisのCPU負荷対策パターン CPU負荷削減 multiコマンド Redisパイプライニング Luaスクリ…","image_url":"https://cdn-ak.f.st-hatena.com/images/fotolife/y/y_uuki/20170820/20170820224943.png","blocks":null,"ts":1505211416,"service_name":"ゆううきブログ","service_icon":"https://cdn.image.st-hatena.com/image/apple_touch_icon/ab2f4fc5565fda717ecee8bdeaaabadf6b11e27f/version=1/https%3A%2F%2Fcdn.user.blog.st-hatena.com%2Fcustom_blog_icon%2F46883831%2F1514250264741987","from_url":"https://blog.yuuk.io/entry/redis-cpu-load","original_url":"https://blog.yuuk.io/entry/redis-cpu-load"}],"reply_count":1,"replies":[{"user":"UG6DF6W87","ts":"1580869984.018100"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tSk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9bb945bb-80e1-4ac6-82d6-c903ece99b31","type":"message","user":"UGYM5NT2T","text":"僕自身は最近インメモリDBデビューして全然詳しくないので、初歩的な質問だったらすみません。\n分散KVSを用いて、数万行に及ぶデータの中で多次元階層を表現したい場合に、HASH型とかでfield内に階層を文字列として格納して取り出す時に型変換といったような方法が考えられると思うのですが、共通のkeyが数千個ある場合はDBレイヤーで分散管理してもいいのでしょうか？\n\nその場合においてもDBが数千個規模になることが想定されている場合、どのような負荷対策があるのか知りたくて色々調べているところです。","ts":"1580869926.017500","edited":{"user":"UGYM5NT2T","ts":"1580869976.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aQTSB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3ff534de-962b-42c5-a681-4f0c09e75d69","type":"message","user":"U7H4TJEG0","text":"データ量が多いとインフラコスト (=ストレージコスト+転送量) に効いてくるのでおすすめです&gt;バイナリ化 (どうせredisのデータを直接見ることないし、すべきでもないと思う (管理画面作ろう) )","ts":"1580869932.017700","edited":{"user":"U7H4TJEG0","ts":"1580870045.000000"},"team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tdAu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a16de2fb-34c8-47f7-a73b-a661230d3473","type":"message","user":"UG6DF6W87","text":"&gt; これらの内容は一人でやったものではなく、自分は主にアーキテクチャや作戦を考える係で、アプリケーションの実装は主に同僚のid:mechairoiさんとid:itchynyさんによるものです。 真のRedisパイプライニングについては、同じく同僚の id:ichirin2501 さんに教えてもらいました。","ts":"1580869984.018100","thread_ts":"1580869853.015600","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","reactions":[{"name":"kan","count":1,"users":["UGYM5NT2T"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Gw3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0b592039-35d7-4df1-bca1-3b1ead3cad4e","type":"message","user":"UDDCM376D","text":"バイナリにするとデータ量って減るんですか？","ts":"1580870228.018800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MqZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c0886832-e00d-42b8-8e3a-d3ea6dcb3d51","type":"message","user":"U7H4TJEG0","text":"水平分割の話かな… 質問がぼんやりしていてシャードがバラけるようにkeyを設計しましょう、くらいしか言えないかも？","ts":"1580870382.020900","thread_ts":"1580870382.020900","reply_count":5,"replies":[{"user":"UGYM5NT2T","ts":"1580870797.022800"},{"user":"U7H4TJEG0","ts":"1580870999.023000"},{"user":"UGYM5NT2T","ts":"1580871289.023200"},{"user":"U7H4TJEG0","ts":"1580871962.023400"},{"user":"UGYM5NT2T","ts":"1580872172.025500"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ccOLB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1e35aa34-732f-4502-a16d-792d70325e83","type":"message","user":"U03C6TEAZ","text":"例えば `[\"foo\\nbar\\nbaz\\n\"]` は形式を決めておけば `foo\\nbar\\nbaz\\n` だけで良くなるので 19バイトから12バイトに減りますね。","ts":"1580870407.021400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M5b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7dcdc2dd-9504-4d8c-a3e6-36174efa31af","type":"message","user":"U7H4TJEG0","text":"数値データだけだったら文字列よりも8byteで保存したら小さくなるし、でかいテキストのJSONをキャッシュするとかもgzipは効きますよ","ts":"1580870504.022600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LJsJr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"700868d1-7b73-40a7-af87-e610a2cebe4a","type":"message","user":"UGYM5NT2T","text":"質問がアバウトで申し訳ないです。。\n\nRedisにおいてdbを数百〜数千個（並列アクセスはあまりしない想定）作るというのはあまり推奨されないことでしょうか？","ts":"1580870797.022800","thread_ts":"1580870382.020900","parent_user_id":"U7H4TJEG0","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zfr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cb151eff-93cb-4639-8607-7a92bcf3573b","type":"message","user":"U7H4TJEG0","text":"dbというのはサーバーの分割じゃなくて1つのRedisサーバーのなかのdatabases (デフォルト16) の話ですか？","ts":"1580870999.023000","thread_ts":"1580870382.020900","parent_user_id":"U7H4TJEG0","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7rB8o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9926a4a2-893e-4c32-8d96-c62e6f0e94a3","type":"message","user":"UGYM5NT2T","text":"Redisサーバーのなかのdatabaseの話です。\n\n例えば、ユーザーに紐づく多次元の情報が数千行あった場合に、ユーザ単位でRedisサーバーの中のdatabaseを分けるのが技術的に可能なのかが知りたいです。。","ts":"1580871289.023200","thread_ts":"1580870382.020900","parent_user_id":"U7H4TJEG0","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/N7Nz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"230c62d9-96f1-42fe-8585-e7efc780f49d","type":"message","user":"U7H4TJEG0","text":"なるほど。正直経験がないので雑なことは言えませんが、あまりおすすめはできないです。\n- (どういうユースケースかまだあまり分かっていませんが、) おそらくユーザーidなりのプレフィックスをつけることで回避可能\n- 起動時のパラメータなので、動的に増やせずスケールしない\n- (ユースケースがわかっていませんが) いざ複数キーを触るパイプラインを書きたくなった時にdbが違うとできない\n- Redis ClusterにdatabasesはないのでいざCluster化しようとしたときに障壁になる\n- Redisの作者がdatabasesの設計は失敗だったと言っている <https://stackoverflow.com/a/36498590/1363488>","ts":"1580871962.023400","thread_ts":"1580870382.020900","attachments":[{"fallback":"Stack Overflow: What's the Point of Multiple Redis Databases?","id":1,"title":"What's the Point of Multiple Redis Databases?","title_link":"https://stackoverflow.com/a/36498590/1363488","text":"So, I've come to a place where I wanted to segment the data I store in redis into separate databases as I sometimes need to make use of the keys command on one specific kind of data, and wanted to","thumb_url":"https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon@2.png?v=73d79a89bded","blocks":null,"service_name":"Stack Overflow","service_icon":"https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a","thumb_width":316,"thumb_height":316,"from_url":"https://stackoverflow.com/a/36498590/1363488","original_url":"https://stackoverflow.com/a/36498590/1363488"}],"parent_user_id":"U7H4TJEG0","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3yGt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c7f6b889-788d-4fdd-9fb2-12b450b59d25","type":"message","user":"UNJ2DANJC","text":"msgpackでシリアライズしてます gzipもありか","ts":"1580872021.024400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qkOx2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"AC9DFEF5-B0D9-4DF4-AE7E-65E9DB74DE68","type":"message","user":"U78A6ESHM","text":"gzip 効果高かった記憶。","ts":"1580872065.025000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lqB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f526e5b1-cb56-4491-8f09-c913a75998e3","type":"message","user":"U03C6TEAZ","text":"gzip とか汎用なら zcat できるので簡単だし良さそう。","ts":"1580872104.025400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wosl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1b925e40-ad09-4a31-8eaf-a3df9019d02d","type":"message","user":"UGYM5NT2T","text":"なるほど。とても参考になります！\nご丁寧にありがとうございます！","ts":"1580872172.025500","thread_ts":"1580870382.020900","parent_user_id":"U7H4TJEG0","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V0nZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9bffeddd-b3b8-435b-be80-993a648b86de","type":"message","user":"UDDCM376D","text":"&gt; 数値データだけだったら文字列よりも8byteで保存したら小さくなるし、でかいテキストのJSONをキャッシュするとかもgzipは効きますよ\n:rikai:","ts":"1580872323.025800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zGmxM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ffbe5824-9ed6-4954-a923-0029ba5067fb","type":"message","user":"UAZ33BKV2","text":"基本テキストは人間の可読のための効率の悪いフォーマット","ts":"1580872359.026400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rgyXa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"01b308cc-1739-4176-99d6-195306427a23","type":"message","user":"UNJ2DANJC","text":"msgpackとgzipped jsonどっちがいいかな","ts":"1580872749.027600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MaIX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9daec77e-da66-451e-934d-0defa951da0d","type":"message","user":"U06BRP8VD","text":"redisクラスタ、なんかあったな。","ts":"1580872795.028000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D4luk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b14c21bc-37b1-4db2-be54-b6feea2fc5aa","type":"message","user":"UAZ33BKV2","text":"テキストに限るなら、msgpackは別に圧縮しないので、gzipのほうがいいかな...値ならmsgpackのほうが効率がいいかなとは思う","ts":"1580872843.029100","edited":{"user":"UAZ33BKV2","ts":"1580872892.000000"},"team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U78A6ESHM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"w577"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ad9bb4f2-3ccc-4be0-99a8-14df1b85965b","type":"message","user":"UAZ33BKV2","text":"デカいと違うだろうけど","ts":"1580872852.029400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1oFe="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fc13e755-0e26-426b-b013-2f214bff7df0","type":"message","user":"UNJ2DANJC","text":"マネージドサービスしかまともに使ったことないなあ...","ts":"1580872866.030100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6vo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e053249d-31f4-4a34-9ffb-aeedf9245ecf","type":"message","user":"U06BRP8VD","text":"ちがたった。マルチスレッドなRedisだ。\n<https://github.com/JohnSully/KeyDB>","ts":"1580872868.030200","attachments":[{"fallback":"GitHub: JohnSully/KeyDB","id":1,"title":"JohnSully/KeyDB","title_link":"https://github.com/JohnSully/KeyDB","text":"A Multithreaded Fork of Redis. Contribute to JohnSully/KeyDB development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/3894786?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/JohnSully/KeyDB","original_url":"https://github.com/JohnSully/KeyDB"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5MBFY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"89d2678d-e99a-4f3e-adf0-8937c788cd3d","type":"message","user":"U9S4G0LJW","text":"データ次第だろうし試験運用しながら確認していくのがよさげ","ts":"1580872884.031000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wbk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fbeda5e0-57fa-4975-9e6b-a535f8d3aede","type":"message","user":"U03C71D7H","text":"msgpack を gzip は?","ts":"1580872966.032200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+yv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7ff7bacc-fce3-466e-b969-309c83bd4b12","type":"message","user":"U03C6TEAZ","text":"殆ど縮まなそうw","ts":"1580872986.032600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kCxx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf44e8c1-0e29-4816-8fe4-80f9c24801cf","type":"message","user":"U03C6TEAZ","text":"テキストデータだけかな。","ts":"1580873008.033600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uzg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2e9987b5-358e-486a-a4e7-5588962db37e","type":"message","user":"U7H4TJEG0","text":"念のため2回gzipしておきますね","ts":"1580873011.033700","team":"T03C4RC8V","reactions":[{"name":"laughing","count":1,"users":["U9S4G0LJW"]},{"name":"angxing","count":1,"users":["UNJ2DANJC"]},{"name":"totemoturai","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4k0fu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9d4c5719-f1a6-4d22-a5e1-a37a8b8fde0a","type":"message","user":"U03C6TEAZ","text":"解凍したら JPG ファイル出てきて EXIF に zip ファイル入ってるやつ。","ts":"1580873035.034700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NcWak"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"88285dd4-4536-4242-a29c-88966fe5ce5d","type":"message","user":"U03C71D7H","text":"形式がバイナリになっただけで繰り返しデータは変わらず繰り返して保存されるし例えば長さが1000で中身が全部 0 の配列とか普通に縮むのでは?","ts":"1580873046.035000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2md"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de2c3df7-3249-49d3-9404-b194d2c04f34","type":"message","user":"U03C71D7H","text":"オブジェクトのキーも文字列キーは全部文字列で保存されてるわけだし圧縮効きそうなイメージあるけど (試したわけではない)","ts":"1580873086.035700","edited":{"user":"U03C71D7H","ts":"1580873117.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6JQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b856dc77-e3f6-4e47-bcc7-210d7412726c","type":"message","user":"UAZ33BKV2","text":"msgpackは対JSONで値保存の場合はキーは含めない(スキーマで対処)だとは思いますが...むろん圧縮が有効なくらいデカいなら効くだろうと思います。","ts":"1580873171.037400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4rGJY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f9025412-5490-45d2-9c17-68afc628f6a9","type":"message","user":"U03C71D7H","text":"そういう特殊な変換方法を使うのか","ts":"1580873229.038000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K+aY0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"933825a4-1d5d-4951-8320-43a030abc19b","type":"message","user":"U03C71D7H","text":"JSON でそれをやらない理由がいまいちわからないな","ts":"1580873266.039000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bI7m"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8d460f8a-2247-4d09-9264-ed571bc549d9","type":"message","user":"U03C6TEAZ","text":"msgpack 最近触ってないけど、今も raw を string に使ってしまったりする風習残ってるんだろうか。","ts":"1580873280.039600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Twx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d5418ce9-a691-4ec9-91a7-b5e5af18b38f","type":"message","user":"UAZ33BKV2","text":"あ、ちゃんとStringのための仕様が策定されました","ts":"1580873293.039900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0EX9h"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"12913a0f-2ffa-4029-aadc-3e51cb02187f","type":"message","user":"U03C6TEAZ","text":"いい話だ。","ts":"1580873325.041100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mDfp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"13615f09-163c-4e30-a9ed-716550ea5d84","type":"message","user":"UAZ33BKV2","text":"用途のその1がワイヤーフォーマット(値転送)みたいなところなので、キーは基本入れないようなバイナリデータですしね..","ts":"1580873328.041200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VObhY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a9205aab-bc94-40e2-b8bb-6705e5582477","type":"message","user":"U03C6TEAZ","text":"<https://github.com/msgpack/msgpack/blob/master/spec.md#str-format-family>","ts":"1580873350.041700","attachments":[{"fallback":"GitHub: msgpack/msgpack","id":1,"title":"msgpack/msgpack","title_link":"https://github.com/msgpack/msgpack/blob/master/spec.md#str-format-family","text":"MessagePack is an extremely efficient object serialization library. It's like JSON, but very fast and small. - msgpack/msgpack","thumb_url":"https://avatars1.githubusercontent.com/u/198264?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/msgpack/msgpack/blob/master/spec.md#str-format-family","original_url":"https://github.com/msgpack/msgpack/blob/master/spec.md#str-format-family"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+21J"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"590a0406-ae29-497f-a4f5-6b0b1ac2b029","type":"message","user":"U03C71D7H","text":"スキーマで対処って要はオブジェクトは一切使わず全部配列にしてインデックスで管理ってことであってます?","ts":"1580873352.041900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mPIbO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0b8ad8d8-396f-4558-bac2-9b6523a40bb0","type":"message","user":"UAZ33BKV2","text":"<https://togetter.com/li/461045>\nこのでかい流れがある","ts":"1580873375.042400","attachments":[{"fallback":"Togetter: MessagePack ep.1 〜文字列とバイナリをめぐる issue 121〜","id":1,"title":"MessagePack ep.1 〜文字列とバイナリをめぐる issue 121〜","title_link":"https://togetter.com/li/461045","text":"MessagePack に文字列型を追加するべきか否かをめぐった、長い議論のまとめ。ep.2に続きます：スレッド121：","thumb_url":"http://pimg.togetter.com/fa9549e3ccc8263c3e5c9d6d98b5fd6b4e6c9e72/687474703a2f2f696e73746167722e616d2f702f574441525a68675f30502f6d65646961?w=1200&h=630&t=c","blocks":null,"service_name":"Togetter","service_icon":"https://s.togetter.com/static/1.16.02/web/img/tg/icon/apple-icon-57x57.png","thumb_width":1200,"thumb_height":630,"from_url":"https://togetter.com/li/461045","original_url":"https://togetter.com/li/461045"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2VB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"be2a6724-d671-42ca-8f6e-ae6d164940e1","type":"message","user":"U03C6TEAZ","text":"heavenshell さんが出てきた。","ts":"1580873430.043200","thread_ts":"1580873430.043200","reply_count":1,"replies":[{"user":"U78A6ESHM","ts":"1580883609.087300"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3PP5L"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"29d07abb-f29a-48e7-993d-c08f66d9e104","type":"message","user":"UAZ33BKV2","text":"<https://github.com/msgpack/msgpack/blob/master/spec.md>\n配列というか、メッセージの最大のとこまで、データを見ればなにが入ってるか明確になるエンコードで値を詰め込む、ですかね?(配列なのはほぼ同じか)","ts":"1580873452.044000","attachments":[{"fallback":"GitHub: msgpack/msgpack","id":1,"title":"msgpack/msgpack","title_link":"https://github.com/msgpack/msgpack/blob/master/spec.md","text":"MessagePack is an extremely efficient object serialization library. It's like JSON, but very fast and small. - msgpack/msgpack","thumb_url":"https://avatars1.githubusercontent.com/u/198264?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/msgpack/msgpack/blob/master/spec.md","original_url":"https://github.com/msgpack/msgpack/blob/master/spec.md"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QJb1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"114db0c9-50c3-47a3-88cb-cf04dad1b224","type":"message","user":"U03C71D7H","text":"よくわからない","ts":"1580873503.045400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dncA5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ede3e5af-9b73-4f5c-84a9-3774a35a3daf","type":"message","user":"U06BRP8VD","text":"ぶっちゃけRedisをただのKVSとしてだけ使うなら、別のに置き換えても大きくは変わらない気がしてる。データ操作系とかセット系とか扱い出すとRedisががぜん面白い。","ts":"1580873537.045800","edited":{"user":"U06BRP8VD","ts":"1580873554.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y84"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"55ef22c8-b1ba-473b-a819-6b43edec0764","type":"message","user":"U06BRP8VD","text":"valueのcompressionはDBかドライバでやってくれたほうが良い気はするねぇ。","ts":"1580873615.046300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a8KPf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"37170845-cce2-4ca9-b5e4-bd4a22f426bc","type":"message","user":"U06BRP8VD","text":"transfer量考えるとプロトコル&amp;ドライバかねぇ。","ts":"1580873645.047200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BgHPJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c26ba63a-efb1-4dfe-8e06-f327dc2e7a7a","type":"message","user":"U03C6TEAZ","text":"そこで mongo(ry","ts":"1580873651.047600","team":"T03C4RC8V","reactions":[{"name":"grin","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1=OoX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65297787-c2cc-4e6b-8ab5-c835d62bfa79","type":"message","user":"UNJ2DANJC","text":"bsonの甘い誘惑","ts":"1580873682.048800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hd8/n"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"852204c6-30a7-4c70-aff7-48bd26a70516","type":"message","user":"U03C6TEAZ","text":"Go から書き換える予定もないやろ、と encoding/gob を使ってしまってあとからゴブゥと吐血する回","ts":"1580873735.051000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vx4R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"efb922a3-eaef-49c4-9a99-286b187dc6fd","type":"message","user":"U06BRP8VD","text":"2次元までならredisのSet使うと面白いことができそう。","ts":"1580873753.051500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sWgn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"56b17630-f723-408d-9166-229a8f32f9bd","type":"message","user":"UNJ2DANJC","text":"実際のAzureだとCosmosDBをRedis代わりにキャッシュとして使うのはアリよりのアリ\nTTLも設定できるし","ts":"1580873773.052000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Md/eY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"436d7622-b4fa-4a75-8541-c1fc52f9db98","type":"message","user":"U06BRP8VD","text":"setやないhashだわ。keyにユーザーIDいれて、memberにプロパティ名いれるイメージ\n\n<https://redis.io/commands#hash>","ts":"1580873871.054100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"T=x/k"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c1a5fba6-e792-49b3-a036-4ad55753f527","type":"message","user":"UAZ33BKV2","text":"あ、配列はfixarrayつかうか、","ts":"1580873876.054300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eTN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d727ecaa-a2e2-4fb0-bd72-31f42764996b","type":"message","user":"U7H4TJEG0","text":"ZSETのためにRedis使ってるみたいなところはある","ts":"1580873891.054500","team":"T03C4RC8V","reactions":[{"name":"sorena","count":2,"users":["U06BRP8VD","U78A6ESHM"]},{"name":"wakaru","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9p0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eedac4d7-2d50-4093-88b7-b436026e7e18","type":"message","user":"UGYM5NT2T","text":"hashで3次元以上表現する方法ってありますか？","ts":"1580873906.055200","thread_ts":"1580873906.055200","edited":{"user":"UGYM5NT2T","ts":"1580873951.000000"},"reply_count":4,"replies":[{"user":"U06BRP8VD","ts":"1580873954.056500"},{"user":"U06BRP8VD","ts":"1580873976.057000"},{"user":"UGYM5NT2T","ts":"1580874121.058400"},{"user":"U06BRP8VD","ts":"1580874233.058600"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K/R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7f0e6899-f3d3-4242-9e5a-4987570250e4","type":"message","user":"U03C6TEAZ","text":"ZADD を見るたびに負けないでという気持ちになります。","ts":"1580873929.055800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ONk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ea900264-8779-4f18-a0c3-618424b51cad","type":"message","user":"U06BRP8VD","text":"key側に2次元以上をエンコードしちゃえば。最後の1次元をfieldに。","ts":"1580873954.056500","thread_ts":"1580873906.055200","parent_user_id":"UGYM5NT2T","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TSS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"80579ce6-985b-4538-a899-8a14e297fd35","type":"message","user":"UAZ33BKV2","text":"8cm CD...","ts":"1580873955.056700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lOk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5224ca61-0047-4856-a363-f2551d6e5ea3","type":"message","user":"U7H4TJEG0","text":"これは誰かがZSET特化インメモリDBをGoで書く流れ","ts":"1580873976.056900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/UTn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9881b08d-0714-4a6f-850e-bf46c7429bd5","type":"message","user":"U06BRP8VD","text":"keyはprefixで一覧が取れるので。","ts":"1580873976.057000","thread_ts":"1580873906.055200","parent_user_id":"UGYM5NT2T","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sh5B"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9f23a365-8b5c-4880-8ff6-2ae85ce24b29","type":"message","user":"U06BRP8VD","text":"redis、zsetとか特殊なコレクション系を除くと、memcachedの代替くらいの使い方が良くて、mongodbみたいなnosqlなDBの代替としては選択したくない。","ts":"1580874042.058100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4RAHk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0617ac9a-1adc-4861-bbff-0463b1419968","type":"message","user":"UGYM5NT2T","text":"なるほど。3次元以上のデータを扱う上でRedisとMongoDBのどちらかを選定するポイントって何かあったりするのでしょうか？","ts":"1580874121.058400","thread_ts":"1580873906.055200","parent_user_id":"UGYM5NT2T","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fnbp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"13b14420-1417-4c3b-b9c3-4de0bc92cfb7","type":"message","user":"U06BRP8VD","text":"表に書いた通り、Redisはあくまでもキャッシュかなと。DB的な使い方をしたいならMongoDB他かと。\n\nあと多次元ってのがまだよくわかってないんですよね。どういう操作が必要かとか、密か疎かでどうやってDBにマッピングするかは変わりますし。\n\n結局DBとしてはファイルに書いて1次元になっちゃうんで。","ts":"1580874233.058600","thread_ts":"1580873906.055200","edited":{"user":"U06BRP8VD","ts":"1580874251.000000"},"parent_user_id":"UGYM5NT2T","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UGYM5NT2T"]},{"name":"kan","count":1,"users":["UGYM5NT2T"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gZpF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"43ce26db-39c6-49fe-92bd-3511e271cacb","type":"message","user":"U06BRP8VD","text":"多次元でも固定次元なら、RDBMSにいれちゃったほうが良い場合も考えられるな…可変次元だと工夫が必要だけど。","ts":"1580874466.061700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Dp/T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2c03cb7-8846-4ea3-8130-97b556457465","type":"message","user":"UGYM5NT2T","text":"<https://vim-jp.slack.com/archives/CMJ15GQKA/p1580873352041900>\n\nこれ、僕もすごい気になっているのですが\nオブジェクトではなくてインデックスで管理するのって、アプリケーション側から見たときに、配列の構造を理解している人しか呼べない要素になる気がするのですが、それはRedis側でカバー出来るのか、コードの書き方（コメントや明示的な変数代入 etc）などでカバーするんですかね。","ts":"1580874570.063500","attachments":[{"fallback":"[February 4th, 2020 7:29 PM] thinca: スキーマで対処って要はオブジェクトは一切使わず全部配列にしてインデックスで管理ってことであってます?","id":1,"author_id":"U03C71D7H","author_name":"thinca","author_subname":"thinca","author_link":"https://vim-jp.slack.com/team/U03C71D7H","author_icon":"https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg","text":"スキーマで対処って要はオブジェクトは一切使わず全部配列にしてインデックスで管理ってことであってます?","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #infra","ts":1580873352.041900,"from_url":"https://vim-jp.slack.com/archives/CMJ15GQKA/p1580873352041900","original_url":"https://vim-jp.slack.com/archives/CMJ15GQKA/p1580873352041900"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xKse"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4dc8147d-a04b-4c4b-a00c-9e31c202e301","type":"message","user":"UAZ33BKV2","text":"msgpack in Redisの場合の知見はないのでわからない...","ts":"1580874655.064100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R=L6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5bb7eaca-145f-4ba7-8a80-d5c62863bfd6","type":"message","user":"UAZ33BKV2","text":"msgpackそのものは多少知ってるくらい?","ts":"1580874674.064400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0Rb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ebfe1027-c50a-43aa-b7ea-18972e2d4e6d","type":"message","user":"U03C6TEAZ","text":"僕のやってる案件だと永続なデータしか扱わないので redis ってほぼ使わないな。memcached は一部使ってるけど。","ts":"1580874800.066000","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rw7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4ac29cfd-a106-4370-a94f-03457455bdc4","type":"message","user":"UGYM5NT2T","text":"msgpackの概要は聞いたことがある程度です…","ts":"1580874816.066300","edited":{"user":"UGYM5NT2T","ts":"1580874833.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jl0DE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bed177c8-7520-4a97-993d-39b231799005","type":"message","user":"U03C71D7H","text":"これが何を言っているのかまったくわかっていません\n<https://vim-jp.slack.com/archives/CMJ15GQKA/p1580873452044000>","ts":"1580874874.067500","attachments":[{"fallback":"[February 4th, 2020 7:30 PM] tsuyoshi_cho: <https://github.com/msgpack/msgpack/blob/master/spec.md>\n配列というか、メッセージの最大のとこまで、データを見ればなにが入ってるか明確になるエンコードで値を詰め込む、ですかね?(配列なのはほぼ同じか)","id":1,"author_id":"UAZ33BKV2","author_name":"Tsuyoshi CHO","author_subname":"Tsuyoshi CHO","author_link":"https://vim-jp.slack.com/team/UAZ33BKV2","author_icon":"https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png","text":"<https://github.com/msgpack/msgpack/blob/master/spec.md>\n配列というか、メッセージの最大のとこまで、データを見ればなにが入ってるか明確になるエンコードで値を詰め込む、ですかね?(配列なのはほぼ同じか)","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #infra","ts":1580873452.044000,"from_url":"https://vim-jp.slack.com/archives/CMJ15GQKA/p1580873452044000","original_url":"https://vim-jp.slack.com/archives/CMJ15GQKA/p1580873452044000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Djuu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b1b0d24e-1494-422c-a2c7-f8f0ceef0031","type":"message","user":"UAZ33BKV2","text":"あー、あくまでmsgpackのフォーマットのことだけ言ってたので、的を外してしまったかもしれません...あと配列じゃなかった(それはそれで型がある)","ts":"1580874914.069500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2oveV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"401fbf79-08bd-4696-97a3-072749bec5b5","type":"message","user":"U9S4G0LJW","text":"msgpack、jsonのような構造データをバイナリフォーマット使って効率的に押し込むためのフォーマットって認識","ts":"1580874941.070700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qx9ID"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6f90cf6-d4cc-4053-8c99-0f2e5ab9dcec","type":"message","user":"U03C6TEAZ","text":"virtual cloud network 上じゃなくインターネット超しに使う redis のクラウド幾らかあるけど、あれ意味あるのかなぁ。","ts":"1580874955.071400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rj=0O"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7af3697e-e420-4cdd-af63-940605d8c93d","type":"message","user":"U9S4G0LJW","text":"neovim使ってる方々は無意識に使ってる(はず)","ts":"1580874961.071700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vjkZs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"702bc89c-7906-46de-87b4-d7586efaa61c","type":"message","user":"U03C71D7H","text":"z 系を使いたい人が使う? わからんけど &gt;インターネット越し","ts":"1580875005.072100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4s5rP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UDALTB6VA","text":"<@UDALTB6VA> has joined the channel","ts":"1580875044.072300","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"210837e2-4d7b-4bef-aa39-86191dc69801","type":"message","user":"U03C6TEAZ","text":"あー。メリットがデメリット(レイテンシ)を上回るやつだ。","ts":"1580875123.072900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ymN/C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4f556b55-8e70-4b82-9597-bcfdf3109de0","type":"message","user":"U03C71D7H","text":"ゲームで数十万人規模のリアルタイムランキング作ろうと思ったら他に選択肢を知らない…","ts":"1580875186.073400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1gp8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d6e95e53-ef44-4f77-b0ae-f0fa0e3a86fd","type":"message","user":"U03C6TEAZ","text":"まぁでも VCN 内には居そう。","ts":"1580875236.073900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/itr0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9c80d6d-2196-4232-ba58-8f40d422d5cb","type":"message","user":"U03C71D7H","text":"まあ実際にやる場合には VCN 内ですね…さすがに","ts":"1580875262.074400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gklUe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c900a0da-806f-4a8d-9369-cb1359c46c2e","type":"message","user":"U03C71D7H","text":"インフラなにもわからない","ts":"1580875296.075100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nhTzq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bfa05828-4f51-4cd3-bbba-36607ba7ccdc","type":"message","user":"U06BRP8VD","text":"まぁ、ちょっと遊ぶ分にはパブリッククラウドredisも便利かもね。僕は使わないけど!","ts":"1580875322.075600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OKbY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28fa7c4e-d287-4969-9d49-e51247f5aa4e","type":"message","user":"U03C71D7H","text":"認証系どうするんだろ。全然わからない","ts":"1580875422.075900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R5p"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c02f0fc2-84b7-4cb3-ae80-b3ba2a4f47b4","type":"message","user":"U03C6TEAZ","text":"AUTH と IP 制限なんでしょうね。","ts":"1580875572.076300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=O2I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2c33a8a1-c490-4115-878f-7ed56587f77f","type":"message","user":"U03C6TEAZ","text":"montodb の public cloud の Atlas がそんな感じだった。","ts":"1580875599.076800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qlgd="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"190c393f-9e93-41c3-a189-9a114b3481d8","type":"message","user":"U03C6TEAZ","text":"そういえば Oracle Cloud も NoSQL あったな。","ts":"1580875636.077200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NngSl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"51f8c4c8-8305-4b7f-b3fb-8e1866ebbe24","type":"message","user":"U03C6TEAZ","text":"1unit(260万回) RW でこんな感じらしい。","ts":"1580875696.079100","files":[{"id":"FT92TPQ1X","created":1580875693,"timestamp":1580875693,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":15999,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FT92TPQ1X/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FT92TPQ1X/download/image.png","original_h":237,"original_w":462,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FT92TPQ1X-356de0d68a/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FT92TPQ1X-356de0d68a/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FT92TPQ1X-356de0d68a/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FT92TPQ1X-356de0d68a/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":185,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FT92TPQ1X/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FT92TPQ1X-cd986f4775","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAYADC+d+eMY96UZxz1pHVieDx9cUbG3dTj/eoAdzSc0bP9tvzp1ADP3n+z+tKN3fH4UoB7nP4UtADHDk/KTj60BX3dTj6//Wp9FADdh/56N+lOoooABnuaWkooA//Z","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K6D="}]},{"client_msg_id":"9ba3abb7-0965-4ea0-aa22-4680630385cd","type":"message","user":"U8CC7MDCL","text":"IaaS冗長はできますよね(AWS and GCPとか)\n今度はそのDBasaServiceがSPOFになりますが…\nマルチクラウド真面目に考えるのほんとつらい","ts":"1580875872.083500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vT9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"03dfb636-1b2b-4e32-b606-8879e5243e37","type":"message","user":"U03C6TEAZ","text":"4月から GCP のグローバルIP課金なのでどうするか考えないとなぁ。","ts":"1580876064.084400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3uq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7ad83ddd-168d-49a7-ad16-77defab2270d","type":"message","user":"U8CC7MDCL","text":"OCIに移行しよう","ts":"1580876083.084800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oFmoV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d2ead872-e7de-462f-b451-3fd0de137c3c","type":"message","user":"U8CC7MDCL","text":"Tokyoリージョンのキャパシティ足りなくて全然VM立てられないけど…","ts":"1580876134.085700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yYWa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ebffa49b-da89-4e24-a9d4-8e813bab7689","type":"message","user":"U03C6TEAZ","text":"tokyo に2台持ってるマン","ts":"1580876149.086000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y9wN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b073b358-2c33-40f8-8269-9d7c7a24ccd7","type":"message","user":"U03C6TEAZ","text":"gyazo 的なのを動かしてるけど、それも OCI の S3 互換 object storage に入れてしまえばいいだろうし、ただただ移行がめんどくさい。","ts":"1580876175.086900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7TJd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"62e3b578-767b-48b8-a10f-44626af7377e","type":"message","user":"U8CC7MDCL","text":"思いたった時に作成試みてるけどほんと立てられない…'","ts":"1580876185.087200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pP=E"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eac3f27a-09c1-446a-bfd3-fc79c43da7af","type":"message","user":"U78A6ESHM","text":"すごい、全く覚えてない！w","ts":"1580883609.087300","thread_ts":"1580873430.043200","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","reactions":[{"name":"thinking_face","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MCrE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
