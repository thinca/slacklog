[{"type":"message","user":"UGJLTRRD3","text":"<@UGJLTRRD3> has joined the channel","ts":"1570143430.459300","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"71449533-75d5-4838-94af-0df5709035e4","type":"message","user":"U72TB62UF","text":"`質問です`\n\nthemisで `v:true` か `v:false` を返すメソッドのテストを実施しようとしたとき、\n以下のように未定義になりなります。\n上記のテストが通るようにするために、特別な設定が必要なのでしょうか。\n\n\n```\n❯ themis test/annotation.vim\n1..1\nnot ok 1 - Test for my plugin my_test_1\n# function 84() dict  (~/.config/nvim/plugged/vim-annotation/test/annotation.vim)\n# function annotation#exists_json_file(json_path) abort  Line:4  (~/.config/nvim/plugged/vim-annotation/autoload/annotation.vim)\n#\n# Vim(return):E121: 未定義の変数です: v:false\n\n# tests 1\n# passes 0\n# fails 1\n```","ts":"1570160872.459600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"601c3ac9-3c6b-4d10-8f03-962ea4fd736a","type":"message","user":"U03C6TEAZ","text":"vim が古いとか？","ts":"1570161114.459800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"16c997f4-1234-4ce4-a95f-129151ea6998","type":"message","user":"U8R597E9H","text":"自分も似たようなのにハマったことありますが、 `    let $THEMIS_VIM = 'nvim'` を追加すると行ける気がします。\n多分、vim はかなり古いけど、nvim は新しいのだと思います。","ts":"1570161140.460500","thread_ts":"1570161140.460500","reply_count":1,"replies":[{"user":"U8R597E9H","ts":"1570161210.461200"}],"team":"T03C4RC8V","reactions":[{"name":"69b9bbe795f19442","count":1,"users":["U72TB62UF"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28e917c4-901d-4ba6-be56-91c360b0d262","type":"message","user":"U03C6TEAZ","text":"あ、nvim って v:true v:false 無い？","ts":"1570161191.460800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4bf1d882-b5bf-42de-bc39-a105a70ee44b","type":"message","user":"U8R597E9H","text":"自分はこれを vimrc に追加して、nvim 上の terminal で実行しました。\nてことは、 `THEMIS_VIM=nvim themis .` というコマンドにすればいいのかな。","ts":"1570161210.461200","thread_ts":"1570161140.460500","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"35eb38c5-0b49-41d6-a350-4ac2aa024329","type":"message","user":"U03C6TEAZ","text":"いや、nvim で実行したいけど vim が使われてて vim が古いって話かな？","ts":"1570161215.461600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fd786192-f49b-44f8-b63b-ddbd22d5c383","type":"message","user":"U8R597E9H","text":"ありますあります。ですです。","ts":"1570161223.461800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ee21602-7011-41f0-91f8-06d2f714dc7f","type":"message","user":"U8R597E9H","text":"環境変数だと思うので `THEMIS_VIM=nvim themis test/annotation.vim` でいけそう。","ts":"1570161267.462300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d78bc766-f9ca-4c46-8220-95f6775ed37a","type":"message","user":"U72TB62UF","text":"環境変数の設定でできました。ありがとうございます！","ts":"1570161493.462600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"418cb7c1-808d-49d8-9e23-fbb19e5939e5","type":"message","user":"UAZ33BKV2","text":"未指定だと、vim.tinyとかで動いてしまう可能性があるかな?","ts":"1570161529.463500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c13d9526-452d-414b-a603-5fb58ec71674","type":"message","user":"U72TB62UF","text":"あとはプラグインのプロジェクトディレクトリをなんとかできれば、quickrun.vimでも動きそう","ts":"1570161530.463600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c30ae801-8b3b-4932-91e5-cc2086cd1ae9","type":"message","user":"U72TB62UF","text":"今のところ手作業で cd ~/xxxxxx/vim-annnotationと移動してからquickrunしてますが、プラグインのプロジェクトを引き数に与えればいけるのかな","ts":"1570161717.464400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7ee59a5a-bb45-4fa0-bc0f-207cf96f0a12","type":"message","user":"U8R597E9H","text":"_邪道だとは思いますが、僕はプロジェクトルートに package.json おいてて、npm run test で走るようにしてます。husky でコミットフックも設定しており、vint/themis が走る感じ_","ts":"1570161798.465300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"da357375-a570-4dd1-ac3a-26515ea7ced5","type":"message","user":"U72TB62UF","text":"jQueryおじさんなので、npmは考えもしなかった","ts":"1570162016.465700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"79eabbc4-39c4-4b20-b167-228456bbf2e4","type":"message","user":"U72TB62UF","text":"observr.rbで保存のたびにテストが走るようにしてますが、お手軽さと引き換えに融通が利かないのが弱点","ts":"1570162069.466700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UE7ABAXJB","text":"<@UE7ABAXJB> has joined the channel","ts":"1570163302.466900","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null}]
