[{"client_msg_id":"06085891-368a-42a1-9bb9-1a2b42b5b044","type":"message","user":"UFQV5CCJC","text":"おかげさまで、ひとまず形になりました。\n人生初vim pluginですｗ（＾＾\n\n<https://github.com/IMOKURI/line-number-interval.nvim>","ts":"1570461746.497900","thread_ts":"1570441787.495500","attachments":[{"fallback":"GitHub: IMOKURI/line-number-interval.nvim","id":1,"title":"IMOKURI/line-number-interval.nvim","title_link":"https://github.com/IMOKURI/line-number-interval.nvim","text":"set number/relativenumber by each XX lines. Contribute to IMOKURI/line-number-interval.nvim development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/1638500?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/IMOKURI/line-number-interval.nvim","original_url":"https://github.com/IMOKURI/line-number-interval.nvim"}],"subtype":"thread_broadcast","reactions":[{"name":"+1","count":10,"users":["U03C6TEAZ","UGMLBL4NN","UAZ33BKV2","UEB17JJJE","UGKP7RFUH","U8R597E9H","UFP0GQZ4K","U72TB62UF","UGMLGN69H","UN1NW3ZCP"]}],"replace_original":false,"delete_original":false,"blocks":null,"root":{"client_msg_id":"e66be8b5-2974-47f0-ae53-a9d7a1987feb","type":"message","user":"UFQV5CCJC","text":"`質問` です。\n\nRelativeNumberが有効で、Foldが畳まれているときに、\n見た目上の xx行 上(下) の `行番号` を取得(計算)することはできるでしょうか。\n\nやりたいことは、10行おきに行番号を表示する、なのですが、単純に行番号で計算してしまうと、\nFoldされたときに、見た目の行番号が10の倍数にならないためです。。","ts":"1570441787.495500","thread_ts":"1570441787.495500","reply_count":10,"files":[{"id":"FNSEX964B","created":1570441764,"timestamp":1570441764,"name":"relativenumber-fold.gif","title":"relativenumber-fold.gif","mimetype":"image/gif","image_exif_rotation":1,"filetype":"gif","pretty_type":"GIF","user":"UFQV5CCJC","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":1170261,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FNSEX964B/relativenumber-fold.gif?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FNSEX964B/download/relativenumber-fold.gif?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","original_h":901,"original_w":1313,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_64.png?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_80.png?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_160.png?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_360.png?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","thumb_360_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_360.gif?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","thumb_360_w":360,"thumb_360_h":247,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_480.png?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","thumb_480_w":480,"thumb_480_h":329,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_720.png?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","thumb_720_w":720,"thumb_720_h":494,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_960.png?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","thumb_960_w":960,"thumb_960_h":659,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_1024.png?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","thumb_1024_w":1024,"thumb_1024_h":703,"permalink":"https://vim-jp.slack.com/files/UFQV5CCJC/FNSEX964B/relativenumber-fold.gif","permalink_public":"https://slack-files.com/T03C4RC8V-FNSEX964B-e6f7ef6fd5","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"deanimate_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_deanimate_gif.png?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","display_as_bot":false,"has_rich_preview":false,"thumb_480_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_480.gif?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_800.png?t=xoxe-3412862301-1275341511351-1302709613697-e4dac31e46d80b92f910a8ea214db56c","thumb_800_h":549,"thumb_800_w":800,"thumb_tiny":"AwAgADCqucdTSHimjJHX9aCDnmqEO6ijn1poJFG40AO59aUdRzTMk96APmFACqeOtH404Ie4NBUjtQAwn8aTPNO2/X8qPwpXGFIByKOfSnKjHBxTEf/Z","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null}},{"client_msg_id":"a3c32a8a-7c68-42b5-abb5-8f6be9dc5c13","type":"message","user":"UFP0GQZ4K","text":"[質問]\nちょっとした、疑問なのですが、、、\n以下のように dict の定義と同時に lambda 関数を dict に入れることはできないのでしょうか？\n\n```\nfunction! s:sample() abort\n    \" 定義と同時に lambda 関数を入れたい\n    let l:dic = {\n        \\   'idx': 0,\n        \\   'list': [1, 2],\n        \\   'has_next': {-&gt; self.idx &lt;=# len(self.list) - 1}\n        \\}\n    echo l:dic.has_next()\nendfunction\n```\n\nしかし、これでは `self` がないです と怒られてしまいます\n\n\nまた、以下のように dict の定義後であれば、問題なく関数を入れることはできました\n\n```\nfunction! s:sample() abort\n    let l:dic = {\n        \\   'idx': 0,\n        \\   'list': [1, 2],\n        \\}\n    \" ここでなら追加可能\n    let l:dic.has_next = {-&gt; l:dic.idx &lt;=# len(l:dic.list) - 1}\n    echo l:dic.has_next()\nendfunction\n```","ts":"1570468124.499600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"86df2136-56fc-4108-9cb2-594e7702346c","type":"message","user":"UFP0GQZ4K","text":"これでも無理そうでした\n```\nfunction! s:sample() abort\n    let l:dic = {\n        \\   'idx': 0,\n        \\   'list': [1, 2],\n        \\   'has_next': {-&gt; l:dic.idx &lt;=# len(l:dic.list) - 1}\n        \\}\n    echo l:dic.has_next()\nendfunction\n```","ts":"1570468208.000000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3bbf6208-034d-4cf3-9bcd-d3a106aae166","type":"message","user":"UFP0GQZ4K","text":"同時ではないですが\n```\nfunction! s:sample() abort\n    let l:dic = {}\n    let l:dic = {\n        \\   'idx': 0,\n        \\   'list': [1, 2],\n        \\   'has_next': {-&gt; l:dic.idx &lt;=# len(l:dic.list) - 1}\n        \\}\n    echo l:dic.has_next()\nendfunction\n```\nでできました\nですので、close します","ts":"1570493791.001600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d494f71f-8359-401b-8eec-6d0dbbae7e99","type":"message","user":"UAZ33BKV2","text":"func dic.func() もそうだけど、宣言時かつそのdictの定義にくっ着ける時は <http://dic.xxx|dic.xxx> みたいになる、というところ?\nというか lambda も base dict を引けるのか...","ts":"1570494352.003000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7f698969-a132-4308-9dc2-31f194528102","type":"message","user":"U6XP9LZ6V","text":"クロージャーとして辞書にアクセスできているだけで、辞書関数になっているわけではないです。","ts":"1570495388.005400","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UFP0GQZ4K"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d533b3f-d09f-409f-b5ee-ab440a27ecc0","type":"message","user":"UAZ33BKV2","text":"なるほど、いやまあそうか、紐付くdictが不明ですもんね","ts":"1570495484.006100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a4021669-2827-49b5-8ff6-56ab391e2300","type":"message","user":"UFP0GQZ4K","text":"辞書関数...難しい...","ts":"1570500081.006500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c270a6a-37f7-443a-b08d-0b271f4e1acd","type":"message","user":"UFP0GQZ4K","text":"辞書関数での lambda の使用はできないという解釈で問題ないでしょうか？","ts":"1570500210.007100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f624f35d-6c34-46a5-a68d-e5f02bacd4a7","type":"message","user":"U03C6TEAZ","text":"はい。","ts":"1570500267.007300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c7a73d84-f717-4b7d-924f-c7775e75cea8","type":"message","user":"U03C6TEAZ","text":"辞書関数(selfを扱う)は dict という属性の付いた関数しか使えません。","ts":"1570500283.007700","edited":{"user":"U03C6TEAZ","ts":"1570500322.000000"},"team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UFP0GQZ4K"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c6faa268-1d4e-4968-adcb-5bc0212ef582","type":"message","user":"U03C6TEAZ","text":"```\nfunc! X() dict\n\techo self\nendfunction\n\nlet s:x = {'X': function('X')}\ncall s:x.X()\n```","ts":"1570500289.007900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"efb49787-1d7b-41fa-aa1a-376a976fed54","type":"message","user":"UFP0GQZ4K","text":"なるほど、 dict をつけないといけないのですね。","ts":"1570500381.009100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
