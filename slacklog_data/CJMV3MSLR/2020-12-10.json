[{"client_msg_id":"b7fc9f70-445d-4ebf-9f89-b64c081985a7","type":"message","user":"U01H161HVPS","text":"そうなんですよね。たぶん見た目の高さではなく行数で計算してるんだと思います。\u0026gt; gVim","ts":"1607608472.210200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bxNTl"}]},{"type":"message","user":"U01G63H9VN3","text":"\u003c@U01G63H9VN3\u003e has joined the channel","ts":"1607608417.209800","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"a5c7aa30-0e34-429e-a691-3469bdec1b85","type":"message","user":"U7HFY4HFY","text":"あといよいよもってテキストエリアの幅を取得する関数がほしい","ts":"1607608014.209400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OLN"}]},{"client_msg_id":"867e33ca-1752-4358-abbe-584bff0506ec","type":"message","user":"U7HFY4HFY","text":"gVimのスクロールバーも折りたたみやwrapがあると変な挙動して使いにくい","ts":"1607607929.208500","team":"T03C4RC8V","reactions":[{"name":"hee","count":3,"users":["U7B4ZD49X","U017BU3UZBQ","UA1GWETAA"]},{"name":"wakaru","count":1,"users":["U01H161HVPS"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e+E7"}]},{"client_msg_id":"e851f4d4-b8b3-4d24-8da3-233880c0f71b","type":"message","user":"U7B4ZD49X","text":"vimconf2021発表タイトル\n「それでも僕はスクロールバーがほしかった〜Vimに新機能パッチを送るまでの軌跡〜」\n乞うご期待","ts":"1607607074.206100","team":"T03C4RC8V","reactions":[{"name":"warau","count":2,"users":["U01H161HVPS","U8R597E9H"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bAA"}]},{"client_msg_id":"a445ccde-feb1-4687-9cc6-e5dcd44aaad6","type":"message","user":"U01H161HVPS","text":"アドバイスありがとうございます。ここにいるみなさんが難しいと感じるレベルであれば相当大変そうですね..","ts":"1607606781.204000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k4yb"}]},{"client_msg_id":"450e8999-e7ef-4853-8fe0-a3022ff8a2d8","type":"message","user":"U6XP9LZ6V","text":"Vim のソースコードが読みにくい要因の1つは `#ifdef` が多用されていることだったけど、これはだいぶ改善されたかな。マルチバイト対応とかは常に有効になったし。","ts":"1607606773.203900","team":"T03C4RC8V","reactions":[{"name":"hee","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4WU2"}]},{"client_msg_id":"ffe96989-0a69-4540-9d6a-5324c6f87cd9","type":"message","user":"U6XP9LZ6V","text":"drawline.c の win_line() なんかは1関数で3000行近くあってヤバい","ts":"1607606545.201300","team":"T03C4RC8V","reactions":[{"name":"yabai","count":3,"users":["U7B4ZD49X","UAZ33BKV2","U8R597E9H"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LQ9"}]},{"client_msg_id":"8ba07d17-2097-484a-a142-bef2e6969912","type":"message","user":"U6XP9LZ6V","text":"以前は screen.c に表示周りの処理がごちゃっと固まっていたけど、yegappanさんがファイル分割して drawline.c とか drawscreen.c ができた。","ts":"1607606479.200100","team":"T03C4RC8V","reactions":[{"name":"hee","count":1,"users":["U78A6ESHM"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l2/"}]},{"client_msg_id":"ED5CCD7E-4566-4CA5-BAEE-D7EC0DE8D2A2","type":"message","user":"UBQ2H65JQ","text":"実装がわかりやすい","ts":"1607606408.198200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rgOY"}]},{"client_msg_id":"6664EE9F-AF1F-4AA5-B3C1-54B76A18F9B5","type":"message","user":"UBQ2H65JQ","text":"まずはVim script関数の実装ですね","ts":"1607606397.197900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/dha"}]},{"client_msg_id":"E9AA19A9-BCEF-4EC1-B173-68551E49F715","type":"message","user":"UBQ2H65JQ","text":"私は逆に表示系しかわからん。マッピングとかのキー周りとかどういう風にやっているのか全くわかってないな","ts":"1607606338.196100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VnlqF"}]},{"client_msg_id":"ecea9c90-cf22-4887-b391-1cf054ac89c8","type":"message","user":"U7B4ZD49X","text":"けどスクロールバーレベル実装するなら結構読む必要ありそう・・・","ts":"1607606336.195900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"klzA5"}]},{"client_msg_id":"ee95ff1b-fe93-4f28-8f27-46c4242e2b5b","type":"message","user":"U9S4G0LJW","text":"表示周りは自分は探索したことがないので未だにどう動いてるのかわからない","ts":"1607606269.191800","edited":{"user":"U9S4G0LJW","ts":"1607606277.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z02"}]},{"client_msg_id":"e7345523-936b-4203-aa17-b8d7927114a9","type":"message","user":"U03C71D7H","text":"必要な部分だけ読めばいいですね。いきなり全部読むのは絶対挫折するのでやめたほうがいい","ts":"1607606259.191500","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZpYFT"}]},{"client_msg_id":"0e6f5b28-93f9-45c0-b095-43a02831308b","type":"message","user":"U9S4G0LJW","text":"いくつかパッチ送ったことあるけど該当部分以外は全部飛ばしてますね","ts":"1607606238.190800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rBxv"}]},{"client_msg_id":"496D8F8B-F59C-4178-9F3B-84BA91933A58","type":"message","user":"UBQ2H65JQ","text":"ソースコードの場所によりそうだけど、私も半分も読んでなくパッチ出しているw","ts":"1607606198.189800","team":"T03C4RC8V","reactions":[{"name":"me-too","count":2,"users":["U9S4G0LJW","U6XP9LZ6V"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IR4jK"}]},{"client_msg_id":"75df125b-6654-4b88-b0b5-203f70e9c335","type":"message","user":"U6XP9LZ6V","text":"表示周りの処理は特に難解","ts":"1607606186.189400","team":"T03C4RC8V","reactions":[{"name":"hee","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aKBs"}]},{"client_msg_id":"b7e4ed75-3deb-49f3-a4a5-85ff922da881","type":"message","user":"U9S4G0LJW","text":"パッチ駆動勧めておいてなんだけどVimのソースは魔界と言われるくらいなので覚悟がいりそう\nきっかけがあると動きやすいくらいの意味で言ってますので","ts":"1607606138.187900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3xGb"}]},{"client_msg_id":"1d47d780-8d1d-49aa-92ad-01c0cc5319b4","type":"message","user":"U7B4ZD49X","text":"ちょっと試す気になったから試してみよう。Luaのやつは若干パフォーマンス悪かったんだよな〜","ts":"1607606110.187400","thread_ts":"1607606110.187400","reply_count":7,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EMMws"}]},{"client_msg_id":"11643116-628b-41e4-829b-0d9e1a419379","type":"message","user":"U9S4G0LJW","text":"つまりギリギリまで縮めたウィンドウを配置しておけばいいと","ts":"1607605883.186100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AGZ"}]},{"client_msg_id":"dc3b80cb-d6d5-439e-94a7-2fa642c32253","type":"message","user":"U01H161HVPS","text":"一応 vim-sclow では offset を -1 に指定すると（カレントウィンドウの右にウィンドウがある場合は）VertSplit の部分にスクロールバーが表示されるようになります \u0026gt; 文字の上に表示される","ts":"1607605839.185500","team":"T03C4RC8V","reactions":[{"name":"majika","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gtw1"}]},{"client_msg_id":"af1712a3-8e71-4752-a782-4a121484e75e","type":"message","user":"UAZ33BKV2","text":"Linuxの脱Cは辛いぞー、10年じゃきかなそう(やったとして)","ts":"1607605838.185400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=20HC"}]},{"client_msg_id":"fbeddfbb-c1b1-4b50-95f6-743cd26449c2","type":"message","user":"U9S4G0LJW","text":"C言語は習得「自体」は簡単だと思う\nその先が無限につらい","ts":"1607605709.182500","team":"T03C4RC8V","reactions":[{"name":"sorena","count":2,"users":["U7B4ZD49X","UBQ2H65JQ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k6L"}]},{"client_msg_id":"965a3cec-9494-40de-a016-07a95629e8cf","type":"message","user":"U7B4ZD49X","text":"C言語つらいのわかる。そっとじしたくなる（けどまだ私の使ってるやつCのやつ多い・・・tmuxもだし、i3もだし、zshもだし、Linuxもだ・・・）","ts":"1607605701.182100","edited":{"user":"U7B4ZD49X","ts":"1607605733.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R0CM"}]},{"client_msg_id":"3821d36f-6061-4434-87c3-95befbecabe9","type":"message","user":"U9S4G0LJW","text":"パッチ駆動いいと思います","ts":"1607605664.180800","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["U01H161HVPS"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pl+kN"}]},{"client_msg_id":"ea437775-22ed-4c4b-a178-838812044295","type":"message","user":"U01H161HVPS","text":"Vim にパッチ送るために習得しようかな","ts":"1607605656.180600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FiKw"}]},{"client_msg_id":"82eaaccc-a99f-4356-a37c-f0533c6563d9","type":"message","user":"U9S4G0LJW","text":"gVimでスクロールバー出るのだからそれのAPIを外出ししてくれればいいのに","ts":"1607605654.180500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vuD"}]},{"client_msg_id":"c751d88c-bbd7-47c0-8750-2d2358adf20e","type":"message","user":"U01H161HVPS","text":"C 言語なにもわからない...","ts":"1607605600.179800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tGeEn"}]},{"client_msg_id":"7bf32674-6dde-4fb9-915e-89b7c88201d8","type":"message","user":"U7B4ZD49X","text":"Neovimの方のスクロールバー使ってましたけど、やっぱり文字の上に表示されるのがいかんとも耐え難いんですよね・・・右側にもsign相当が必要","ts":"1607605595.179600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jRze"}]},{"client_msg_id":"52030688-173c-4061-b111-09501f45511c","type":"message","user":"U03C71D7H","text":"本体にパッチ送りましょうw","ts":"1607605429.176400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4KI"}]},{"client_msg_id":"cea38d4b-cc90-43ef-b8b9-16e62b4aee14","type":"message","user":"U01H161HVPS","text":"それでわたし的にはすべてが解決しますね w","ts":"1607605407.176100","team":"T03C4RC8V","reactions":[{"name":"いいぞもっとやれ","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sZ=U"}]},{"client_msg_id":"7c95579a-91b1-4dc5-b60e-67d2c055282f","type":"message","user":"U03C71D7H","text":"「Vim 本体でスクロールバーを実装しました」","ts":"1607605317.175100","team":"T03C4RC8V","reactions":[{"name":"warau","count":1,"users":["U01H161HVPS"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FJ0"}]},{"client_msg_id":"f2f0e865-b024-403f-badb-2064aa766897","type":"message","user":"U03C71D7H","text":"Vim 本体に PR するしかない","ts":"1607605303.174700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LmeR0"}]},{"client_msg_id":"389895fe-a343-432b-8cb4-bec7676941be","type":"message","user":"U01H161HVPS","text":"あと微妙に関連するんですが、End of buffer があるときに見えているバッファの見た目上の高さを取得する方法も、かんたんなのがない気がしています","ts":"1607605210.174200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SGh"}]},{"client_msg_id":"7be3902c-c2e9-4fde-ace8-845dc8e24d46","type":"message","user":"U8R597E9H","text":"見えない部分が解除されたケースはだめですね…これ面白いなぁ","ts":"1607605050.174000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"S5pa"}]},{"client_msg_id":"7877818a-5995-4e74-9303-f533b0b9970b","type":"message","user":"U03C71D7H","text":"折り畳みを解除しても見えない部分の変化だけでは w0 は変わらないですねぇ","ts":"1607604808.173200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GtTp"}]},{"client_msg_id":"8a4a4a69-bd66-4226-8d59-50cbbe5ef2e5","type":"message","user":"U8R597E9H","text":"一瞬折りたたみとwrap を解除して w0 との差を取るしか思いつない…","ts":"1607604482.172400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L=p"}]},{"client_msg_id":"7b354309-6a82-45df-962a-dcbd5a94e5dd","type":"message","user":"U7JL1UKKL","text":"早い方がうれしいならそれほど組み込み機能でないといけません","ts":"1607604422.171200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xtXg"}]},{"client_msg_id":"5e8da23a-c513-497a-846a-90cec577e3a9","type":"message","user":"U03C71D7H","text":"あーそっちか。確かに折り畳み考慮したバッファの高さがほしいですね…","ts":"1607604272.170600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zrRj1"}]},{"client_msg_id":"90f38eed-625a-4666-8af8-a8d489a0b909","type":"message","user":"U01H161HVPS","text":"いえ、hitspot ではなくスクロールバーを表示するプラグインを作ったのですが、その中でつかいたいなあと。。\n\u003chttps://github.com/obcat/vim-sclow\u003e","ts":"1607604218.170000","attachments":[{"fallback":"GitHub: obcat/vim-sclow","id":1,"title":"obcat/vim-sclow","title_link":"https://github.com/obcat/vim-sclow","text":":space_invader: Text-based scrollbar for Vim. Contribute to obcat/vim-sclow development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/64692680?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/obcat/vim-sclow","original_url":"https://github.com/obcat/vim-sclow"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iUx"}]},{"client_msg_id":"05113460-ddad-4088-ab52-5da3e71733e4","type":"message","user":"U7JL1UKKL","text":"折りたたみを考慮するなら新機能になりそうだなぁ","ts":"1607604028.167000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y1lHP"}]},{"client_msg_id":"38534693-552f-4c0e-857d-e04a7e8d434e","type":"message","user":"U03C71D7H","text":"ちなみにこれ、hitspop の新機能とかですか?","ts":"1607603804.166000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OPuu"}]},{"client_msg_id":"F722ED75-21C5-415C-A8DA-37C69D72BBA0","type":"message","user":"U78A6ESHM","text":"本体に手を入れるのが早い？","ts":"1607603718.165700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nOU"}]},{"client_msg_id":"3f4f54d9-21a6-440d-b934-83f6c5d68ff3","type":"message","user":"U01H161HVPS","text":"ちなみにですが `CursorMoved` のたびに取得することを想定しているので、速ければ速いほどうれしいです（無理をいうな","ts":"1607603631.165300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=Qp"}]},{"client_msg_id":"59aeece2-d203-4992-9a94-c54f56645d92","type":"message","user":"U01H161HVPS","text":"ですね...","ts":"1607603513.164100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QURiO"}]},{"client_msg_id":"f6776762-58e3-4f48-a51e-996d0c9ea4c9","type":"message","user":"U03C71D7H","text":"見えてない範囲はわからなそう","ts":"1607603352.163800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ax1X"}]},{"type":"message","user":"UPZHKAM7W","text":"```\n                                                        *winline()*\nwinline()       結果は数値で、ウィンドウの最上行から数えた行番号を返す。ウィン\n                ドウでの最上行が1となる。\n                カーソルが移動するとファイルの表示が更新され、それによってスク\n                ロールが引き起こされることがある。\n```","ts":"1607603315.163600","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"659cbe6d-7e9c-44bb-a921-1ee1a07ca56a","type":"message","user":"U01H161HVPS","text":"あと winline() も使えそう?\n:h winline()","ts":"1607603315.163500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WB1"}]},{"type":"message","user":"UPZHKAM7W","text":"```\n:[range]foldd[oopen] {cmd}                      *:foldd* *:folddo* *:folddoopen*\n                閉じた折畳の中以外の全ての行に対して{cmd}を実行する。[range]が\n                与えられた時は、その範囲だけが対象となる。\n                コマンドが各行に対して実行される時にはカーソルはその対象となる\n                行に置かれている。\n                これは \":global\" コマンドのように動作する: まず閉じられた折畳\n                に入っていない全ての行がマークされる。それからマークされた全て\n                の行に対して{cmd}が実行される。だから{cmd}が折畳に対して変更を\n                加えても、コマンドの実行には影響が無い(もちろん行が消された時\n                は除く)。\n                例:  \n                        :folddoopen s/end/loop_end/ge\n                \"e\" フラグには \"end\" がマッチしなかった時にエラーメッセージが\n                表示させない効果がある。\n```","ts":"1607603229.162900","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"220ce842-f6ef-473b-9c07-d60dc6191e80","type":"message","user":"U01H161HVPS","text":"たくさんアイデアだしていただいて感謝です\n折畳についてはこんなコマンドも見つけました\n:h :folddoopen","ts":"1607603228.162800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B=a"}]},{"client_msg_id":"3633efd5-55b9-45ec-a952-9d1c97543cc7","type":"message","user":"U03C71D7H","text":"ちなみに、number/relativenumber、foldcolumn、signcolumn などを考慮しなければならない","ts":"1607602892.159800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eTk"}]},{"client_msg_id":"411f45fd-cd8a-4d1b-9465-20749869affd","type":"message","user":"U03C71D7H","text":"地獄だ","ts":"1607602805.158900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vJX"}]},{"client_msg_id":"C6F11E4D-17D9-4EE4-9356-CBCF21ABD2FB","type":"message","user":"UBQ2H65JQ","text":"strdisplaywidth(getline('.'))とwinwidth()を比較すればいけるか、多分","ts":"1607602741.158600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HAjo9"}]},{"client_msg_id":"a213d6e7-f09c-46ee-8d7f-df7110198309","type":"message","user":"U03C71D7H","text":"`'scrolloff'` もあるからね","ts":"1607602626.157400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q5S"}]},{"client_msg_id":"64a82883-9811-424f-9297-fc7057fd32bf","type":"message","user":"U9S4G0LJW","text":"これ便利","ts":"1607602570.156500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ugiC0"}]},{"type":"message","user":"UPZHKAM7W","text":"```\n                                                        *winsaveview()*\nwinsaveview()   カレントウィンドウの表示状態を復元するための情報を持つ辞書\n                |Dictionary|を返す。この表示状態を復元するには|winrestview()|\n                を使う。\n                マッピング内でジャンプして、元の表示状態を戻したいときに使われ\n                る。\n                折り畳み情報は保存しない。オプション 'foldenable' によって一時\n                的に折り畳みをオフにし、移動中に折り畳みが開かれないようにする\n                こと。これは副作用があるかもしれない。\n                戻り値は以下のキーを持つ:\n                        lnum            カーソルの行番号\n                        col             カーソルの桁番号 (Note: getpos() とは\n                                        異なり最初の桁番号はゼロ)\n                        coladd          カーソル位置の桁オフセット。\n                                        'virtualedit' がオンのとき使われる。\n                        curswant        垂直移動するときの桁\n                        topline         ウィンドウの最上行\n                        topfill         削除行。差分モードでのみ\n                        leftcol         表示されている最初の桁\n                        skipcol         スキップされている桁\n                Note オプションの値は保存されない。\n```","ts":"1607602535.156200","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"54917825-5cb8-49f5-a369-50eae287332d","type":"message","user":"U9S4G0LJW","text":":h winsaveview()","ts":"1607602533.156100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"haw"}]},{"client_msg_id":"cc5174d3-d220-4dcc-86ea-45ec0806292d","type":"message","user":"UGXMRNBUM","text":"スクロールも加味して戻さないとか…","ts":"1607602511.155900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DeA"}]},{"client_msg_id":"37dc4307-796f-4f9c-911d-9264ed315f11","type":"message","user":"UGXMRNBUM","text":"getposして保存しておく。\nsetposでw0にあわせ、gk→getposを1,1になるまで繰り返しながら移動数を数える。\n最初にgetposした位置に戻す。","ts":"1607602496.155100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7=b"}]},{"client_msg_id":"93675cd1-84ff-4953-aa6c-ba0fedb7038a","type":"message","user":"UGXMRNBUM","text":"ｗ","ts":"1607602264.150900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3LS9"}]},{"client_msg_id":"32F3DA03-1B09-4962-AFD8-5B753C5C490B","type":"message","user":"UBQ2H65JQ","text":"カーソル動かしながらチェックしていく強引な手はなくはないけどw","ts":"1607602232.150400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lilW"}]},{"client_msg_id":"a9d7a90a-7ef2-4ce5-9b6d-d8d3d6cdc6c5","type":"message","user":"UGXMRNBUM","text":"なかなかめんどくさそうだ","ts":"1607602225.150100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WwX="}]},{"client_msg_id":"04871517-fa30-48d9-9ce9-a663ea0b8d7f","type":"message","user":"UGXMRNBUM","text":"j/kをgj/gkで移動できるように、lineの表示行バージョンがあればいいんだろうけど…","ts":"1607602203.149000","edited":{"user":"UGXMRNBUM","ts":"1607602213.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uLT"}]},{"client_msg_id":"6881AA1D-F7AC-4FA6-AB2C-FFE6ED7A53FE","type":"message","user":"UBQ2H65JQ","text":"確かに現在の行がwrapされたか判断する方法っていまのところ無さそう","ts":"1607602176.148600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VAAkp"}]},{"client_msg_id":"27e40a2b-b6ff-4030-9c3e-e7370e311a7c","type":"message","user":"U01H161HVPS","text":"`bufheight({expr})` みたいな関数があればいいんですが...","ts":"1607601874.146900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gZ=i"}]},{"client_msg_id":"e877ff6e-fbe2-4bb6-8658-8723a86ac30c","type":"message","user":"U01H161HVPS","text":"あ、でも wrap された行はケアできないのか","ts":"1607601812.146000","edited":{"user":"U01H161HVPS","ts":"1607601920.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+JA"}]},{"client_msg_id":"9bd82569-5025-4e7c-b47a-8e05bc15674a","type":"message","user":"U01H161HVPS","text":"ありがとうございます。これ知りませんでした \u0026gt; foldclosed()","ts":"1607601761.145500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u9+XP"}]},{"client_msg_id":"1ee42fc2-0f94-45cb-9f03-85b34f7a485d","type":"message","user":"U01H161HVPS","text":"まちがえました mm","ts":"1607601729.145000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3SP"}]},{"type":"message","user":"UPZHKAM7W","text":"```\nfoldclosed({lnum})                                      *foldclosed()*\n                結果は数値。{lnum}行目が閉じた折り畳みの中にあるなら、その折り\n                畳みを構成する最初の行の行番号を返す。{lnum}行目が閉じた折り畳\n                みに入っていないなら-1を返す。\n \n                |method| としても使用できる:  \n                        GetLnum()-\u0026gt;foldclosed()\n```","ts":"1607601706.144500","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"2487b6c4-c2bb-4bcf-834e-d12c7ea0a157","type":"message","user":"U9S4G0LJW","text":":h foldclosed()","ts":"1607601705.144300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xYeD"}]},{"type":"message","user":"UPZHKAM7W","text":"E149: 残念ですが :foldclosed() にはヘルプがありません","ts":"1607601696.144100","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"4867f915-f165-41b3-9095-c8794c991c57","type":"message","user":"U01H161HVPS","text":":h :foldclosed()","ts":"1607601695.144000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zeu"}]},{"client_msg_id":"b968826e-103e-437f-a385-0d02c05e70d0","type":"message","user":"U03C71D7H","text":"`line('w0')` の上の行から上に向かって `foldclosed(lnum)` を呼んでいくくらいしか思いつかないですね…","ts":"1607601376.143500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MKL"}]},{"client_msg_id":"90d84869-6a59-411b-8d8a-c69e5f75fa26","type":"message","user":"U01H161HVPS","text":"`質問です`\nカレントバッファの見えていない部分の高さ（行数ではなく見た目上の高さ）を取得する、なんかいい感じの方法ってありませんか？\n折り畳みや折り返された行がないときは行数を数えればよいので `line('w0') - 1` や `line('$') - line('w$')` で取れるんですが...","ts":"1607600870.142800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QoHI"}]},{"type":"message","user":"U01GSK2LT28","text":"\u003c@U01GSK2LT28\u003e has joined the channel","ts":"1607598667.141400","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"584954fc-1133-482d-869b-7177510be3fb","type":"message","user":"U03C71D7H","text":"歴史","ts":"1607565464.133400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"z/+2"}]},{"client_msg_id":"d83f96b8-f951-488e-bc5a-6be43ab2dfa7","type":"message","user":"U03C4RC8X","text":":sorena:","ts":"1607565426.133200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"t+Kq"}]},{"client_msg_id":"f9c5ff44-e655-462c-b3f7-795f6212f7e8","type":"message","user":"U7JL1UKKL","text":"そもそもVimのオプションのキョドウガヤヤコシインダヨナァ","ts":"1607564637.132500","team":"T03C4RC8V","reactions":[{"name":"hai-small","count":3,"users":["UNJ2DANJC","UAZ33BKV2","UL6CFN8NR"]},{"name":"wakaru","count":3,"users":["U7B4ZD49X","UA1GWETAA","UFP0GQZ4K"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BEa"}]},{"client_msg_id":"214707fa-9c05-4b79-8058-0db7e9f3ca88","type":"message","user":"U01D44KSY9Z","text":"options.txtから取ってこれればなんとかって感じですね\nオブジェクトとして転がってたりはしなさそうなので難しいか……","ts":"1607564232.131900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dFVx"}]},{"client_msg_id":"8fdb1e69-bd6e-4b95-8518-91fc0462397c","type":"message","user":"UAZ33BKV2","text":"評価したときにグローバルにセット可能なローカルかどうか、とか取れます?","ts":"1607564077.130400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cAzO"}]},{"client_msg_id":"a12283d3-66ac-4961-a2d3-4019c513e5ac","type":"message","user":"U03C71D7H","text":"逆に言うと init.lua 紹介記事にはこれくらいの情報があるとよさそう \u0026gt;まだ早そうだよ的な情報","ts":"1607564070.130200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Se6CZ"}]},{"client_msg_id":"fcc9a343-d6af-4141-a523-5e3a9a099252","type":"message","user":"U01D44KSY9Z","text":"実際まだ時期尚早という感じはありますね\nただNeovimへの理解度というか解像度が上がるかもしれない","ts":"1607563996.129000","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R5qj"}]},{"client_msg_id":"53b942d2-4784-44a7-a49f-b929294986a6","type":"message","user":"U03C71D7H","text":"なるほど、つまり Lua を vimrc 代わりに使うのはまだ早そうですね","ts":"1607563851.128100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LGDw"}]},{"client_msg_id":"8af56dea-862c-45e8-b31c-53cab6e341ca","type":"message","user":"U01D44KSY9Z","text":"ステータスラインに表示するぐらいならできそうですね\n`\u0026amp;{option}` を評価してあげればいけそう","ts":"1607563766.127700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N63k"}]},{"client_msg_id":"b874a2ea-a052-48be-8d41-75b8ce567d34","type":"message","user":"UAZ33BKV2","text":"この質問みて、vimのsyntaxでオプションのこの状態を色とかに反映できないかとかちょっと考えたのだけど、略式もあるので死ねるし無理ー","ts":"1607563439.126100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bnAm"}]},{"client_msg_id":"a259636a-10fd-408a-bf09-d5b58890b7c6","type":"message","user":"UAZ33BKV2","text":"(あとvimのオプションの globalとbuffer local/tab local/window local(それぞれデフォルトglobalありなし)の面倒くささよ)","ts":"1607563382.125300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9JIO"}]},{"client_msg_id":"ccbf5c45-9eb1-4f0d-979e-163c38612941","type":"message","user":"U7B4ZD49X","text":"だいたいnvim-lua-guideに書いてますよね。こいつ優秀なドキュメント。公式にしてほしいレベル","ts":"1607563270.124300","team":"T03C4RC8V","reactions":[{"name":"benri","count":1,"users":["UFP0GQZ4K"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"twoX6"}]},{"client_msg_id":"db0a72b1-0bf4-4183-880b-3122780474c8","type":"message","user":"U01D44KSY9Z","text":"Luaから `vim.cmd` なしで叩けるのは `:setglobal` 相当と `:setlocal` 相当しかない","ts":"1607563167.123500","edited":{"user":"U01D44KSY9Z","ts":"1607563195.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O9g"}]},{"client_msg_id":"95af0673-bb04-4d28-ad84-549deba26775","type":"message","user":"U01D44KSY9Z","text":"\u003chttps://github.com/nanotee/nvim-lua-guide#managing-vim-options\u003e\n\u0026gt; There is no equivalent to the `:set` command in Lua, you either set an option globally or locally.\nやっぱりそうだ","ts":"1607563115.122900","edited":{"user":"U01D44KSY9Z","ts":"1607563122.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dYLS"}]},{"client_msg_id":"8036e09a-0fe0-4530-99be-885af5e94ff1","type":"message","user":"U01D44KSY9Z","text":"なのでちゃんと設定したいなら今の所は `vim.cmd` 使う必要がありそう","ts":"1607563041.122300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bSQ"}]},{"client_msg_id":"a740d8b6-b265-4cac-89aa-c0ff2490b3d7","type":"message","user":"U01D44KSY9Z","text":"すみません、言葉が足りませんでした\nLuaから見えるグローバルオプション（ `vim.o.undofile` とか `vim.o.shiftwidth` ）に設定しても意味を為さないという話です\n`:set` だとデフォルトが変わったので、Luaに変えてからこの問題が出たものと僕は見てます\nLua側で `:set` の挙動を再現できるAPIがなさそうなんですよね","ts":"1607562997.121600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Oax"}]},{"client_msg_id":"f488f8f1-85f3-44fd-99bb-50b09fefa764","type":"message","user":"U03C71D7H","text":"\u0026gt; ただundofileとかshiftwidthに関して言えばグローバルに設定しても意味を持たないっぽいので\nそんなことはない。新しいバッファのデフォルト値になる。 `:set` はこのデフォルト値を変更しつつ現在のバッファの値を変更するコマンド。","ts":"1607562724.118600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uh3j"}]},{"client_msg_id":"cd82fcc4-ecfb-47fb-a81b-ef384962865c","type":"message","user":"U01D44KSY9Z","text":"vim.cmd使うとlua使う意味を疑う必要が出てくるので……\n`vim.cmd('set undofile')` で一応できはするはずです","ts":"1607561213.117000","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U7B4ZD49X"]},{"name":"tashikani","count":1,"users":["UFP0GQZ4K"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hrol"}]},{"client_msg_id":"5B3A1AAA-F84E-460C-97FB-FF6FF2BB2AF1","type":"message","user":"UFP0GQZ4K","text":"できるかはわかりませんが。","ts":"1607561182.116400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L=xK"}]},{"client_msg_id":"21474E95-78A9-4F1D-95FC-DCF384443892","type":"message","user":"UFP0GQZ4K","text":"vim.cmd でやるのが良さそう","ts":"1607561150.115800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d3/2"}]},{"client_msg_id":"afbdb676-554c-46de-abf4-74fdca15f648","type":"message","user":"UL6CFN8NR","text":"`vim.o.undofile` みたいにすれば set で設定するのと同効果になるのかと思ってた","ts":"1607559334.114600","edited":{"user":"UL6CFN8NR","ts":"1607559422.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"stA"}]},{"client_msg_id":"d4e06e00-7802-4e41-a747-242924951d6a","type":"message","user":"U01D44KSY9Z","text":"ただundofileとかshiftwidthに関して言えばグローバルに設定しても意味を持たないっぽいので\nやっぱり今やってるワークアラウンドで当分凌ぐ事になりそうです","ts":"1607558258.113800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7gCH"}]},{"client_msg_id":"b33beb3c-38c6-455a-a41d-458968201eba","type":"message","user":"U01D44KSY9Z","text":"それは設定してないですね\nとりあえず機械的にバッファローカル・ウィンドウローカル・グローバルを分けただけなので\n確かにその辺り設定すればマシになりそう","ts":"1607557959.112900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lvF2F"}]},{"client_msg_id":"01c53fae-d704-47d6-a2ae-31e186c7ccb7","type":"message","user":"UAZ33BKV2","text":"バッファローカルになりうるオプションのうち、グローバルにデフォルトを持てるやつのデフォルトをどうしてるのか(設定しているか、してるなら値は?)は気になった\nまあとりあえず解決しているようなので問題ないかもだが","ts":"1607557893.112100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3TYG"}]},{"client_msg_id":"e69273f7-aa11-4e03-8e16-335df7d32c85","type":"message","user":"U01H161HVPS","text":"こちらの記事にあるとおり、ウィンドウが一つだけの場合スクロールすると画面がめっちゃチラつくのでご注意を。。\n\u003chttps://zenn.dev/obcat/articles/2020-12-vim-sclow\u003e","ts":"1607606421.198500","thread_ts":"1607606110.187400","attachments":[{"fallback":"Zenn: 端末上の Vim 向けにテキストベースのスクロールバーを作った話","id":1,"title":"端末上の Vim 向けにテキストベースのスクロールバーを作った話","title_link":"https://zenn.dev/obcat/articles/2020-12-vim-sclow","image_url":"https://res.cloudinary.com/dlhzyuewr/image/upload/s--JzmEp8o8--/c_fit%2Cco_rgb:111%2Cl_text:notosansjp-medium.otf_50_bold:%25E7%25AB%25AF%25E6%259C%25AB%25E4%25B8%258A%25E3%2581%25AE%2520Vim%2520%25E5%2590%2591%25E3%2581%2591%25E3%2581%25AB%25E3%2583%2586%25E3%2582%25AD%25E3%2582%25B9%25E3%2583%2588%25E3%2583%2599%25E3%2583%25BC%25E3%2582%25B9%25E3%2581%25AE%25E3%2582%25B9%25E3%2582%25AF%25E3%2583%25AD%25E3%2583%25BC%25E3%2583%25AB%25E3%2583%2590%25E3%2583%25BC%25E3%2582%2592%25E4%25BD%259C%25E3%2581%25A3%25E3%2581%259F%25E8%25A9%25B1%2Cw_780/co_rgb:93a5b1%2Cg_south_east%2Cl_text:notosansjp-medium.otf_34_bold:By%2520%2540obcat%2Cx_280%2Cy_63/v1579262216/ogp-base_mrsu7s.png","blocks":null,"service_name":"Zenn","service_icon":"https://zenn.dev/images/icon.png","from_url":"https://zenn.dev/obcat/articles/2020-12-vim-sclow","original_url":"https://zenn.dev/obcat/articles/2020-12-vim-sclow"}],"parent_user_id":"U7B4ZD49X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C5DU"}]},{"client_msg_id":"dfc41e5e-f673-4953-9643-b8f9d90d9b78","type":"message","user":"U7B4ZD49X","text":"はいー試し終わりました。\nですね。ちらつきました","ts":"1607606450.199100","thread_ts":"1607606110.187400","parent_user_id":"U7B4ZD49X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Za+XS"}]},{"client_msg_id":"24781c44-ab80-4edb-b1b5-328222703af1","type":"message","user":"U01H161HVPS","text":"ちなみに gVim だとちらつきません（MacVim でしか確認してませんが","ts":"1607606459.199400","thread_ts":"1607606110.187400","parent_user_id":"U7B4ZD49X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IIn"}]},{"client_msg_id":"be3aa4bf-cf1f-40d1-8ce9-b5f2688bdb99","type":"message","user":"U7B4ZD49X","text":"CLI派なんですよね〜","ts":"1607606471.199800","thread_ts":"1607606110.187400","parent_user_id":"U7B4ZD49X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YYTIC"}]},{"client_msg_id":"48031a9c-802a-476b-90a4-324a9093c4cf","type":"message","user":"U7B4ZD49X","text":"スクロールバーの表示自体はNeovimのやつよりもおしゃれでよかったと思います","ts":"1607606492.200300","thread_ts":"1607606110.187400","parent_user_id":"U7B4ZD49X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vRo"}]},{"client_msg_id":"c26c85dc-8f6b-44f0-8df2-9e995797be74","type":"message","user":"U01H161HVPS","text":"わたしはこれを使いたいがために MacVim に乗り換えました w","ts":"1607606598.201500","thread_ts":"1607606110.187400","parent_user_id":"U7B4ZD49X","team":"T03C4RC8V","reactions":[{"name":"laughing","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0+bJg"}]},{"client_msg_id":"876fdabf-8592-443d-adc1-24c6213c8815","type":"message","user":"U01H161HVPS","text":"ありがとうございます！うれしい","ts":"1607606611.201800","thread_ts":"1607606110.187400","parent_user_id":"U7B4ZD49X","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NS5M"}]},{"client_msg_id":"c87e83b2-0446-4c7c-af3f-e753ca31a30c","type":"message","user":"U01D44KSY9Z","text":"使ってみて分かる `init.lua` のめんどくささ……\nとりあえず関数で包んで起動時に発火 \u0026amp; BufEnterで発火するようにしたら直りました\nうーんめんどくさい","ts":"1607557511.111100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dJoJ"}]},{"client_msg_id":"0012134F-129E-40B3-ABFF-6CE8948AAADC","type":"message","user":"U776661HA","text":"（むしろそんな面倒なら init.lua 使わない方が良さそうw）","ts":"1607557349.109900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p1J"}]},{"client_msg_id":"E396A0D5-97DC-425A-949D-7BEC3EA92235","type":"message","user":"U776661HA","text":"Vim script 実行すれば解決しそう（lua関係知らんので良い方法あるかもしれませんが","ts":"1607557321.109200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y5hW"}]},{"client_msg_id":"66ED5173-3B9C-45C9-8BFD-AC89F8E80D0F","type":"message","user":"U776661HA","text":"call","ts":"1607557279.108000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cmjl"}]},{"client_msg_id":"38D4C0AB-661E-40BA-BEB4-DF80C56D614B","type":"message","user":"U776661HA","text":"execかcalcかevalかありませんでしたっけ？","ts":"1607557274.107800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3Xr"}]},{"client_msg_id":"64dc7624-725c-428d-b4f9-b04c96e4393a","type":"message","user":"U01D44KSY9Z","text":"Luaだと\n\u003chttps://github.com/vim/vim/blob/master/runtime/doc/options.txt\u003e\nで書かれてるスコープを明示しないとオプションが反映されないんですよね\nこれBufEnter辺りで再設定するようにしないとダメっぽいな……","ts":"1607557245.107000","attachments":[{"fallback":"GitHub: vim/vim","id":1,"title":"vim/vim","title_link":"https://github.com/vim/vim/blob/master/runtime/doc/options.txt","text":"The official Vim repository. Contribute to vim/vim development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/11618545?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":48,"thumb_height":48,"from_url":"https://github.com/vim/vim/blob/master/runtime/doc/options.txt","original_url":"https://github.com/vim/vim/blob/master/runtime/doc/options.txt"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RmcW"}]},{"client_msg_id":"AD483FA0-88FE-46DA-A1A9-56CAABDE1C0C","type":"message","user":"U776661HA","text":"バッファが変わった時にバッファローカルなオプションが外れるのは「Vimの仕様」通りの挙動ですね","ts":"1607557170.105900","edited":{"user":"U776661HA","ts":"1607562525.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7D16"}]},{"client_msg_id":"c027757a-792d-4ffd-88d7-e96c50ebf45b","type":"message","user":"U01D44KSY9Z","text":"最初にVimを開くと `init.lua` の通りにバッファローカルが設定されていて、その後にfernを開くとバッファローカルが全部外れる感じですね\nバッファ移動してバッファローカルが外れてるから期待通りの動作ではある気もする……","ts":"1607557128.105000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p8FFp"}]},{"client_msg_id":"DF9A73A6-BE6D-46F9-81BE-4C568C71274E","type":"message","user":"U776661HA","text":"luaがどの部分で出てくるのかよく分からんって感じです。BufEnterとかでバッファローカルオプションを書き換えてる？？？","ts":"1607557120.104900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5Bv"}]},{"client_msg_id":"C10E073A-B816-4E1F-A9A9-75AA0F736782","type":"message","user":"U776661HA","text":"状況がよく分からない...\n\nfern 以外で任意ファイルを開いて手でバッファローカルを変更。その後 fern で該当ファイルを開くと変更したバッファローカルが元に戻る？","ts":"1607557040.102200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AdD11"}]},{"client_msg_id":"c6db29db-82ca-43bc-9b9b-defec352af7a","type":"message","user":"U01D44KSY9Z","text":"shiftwidthとかも初期値になってるので、バッファローカル全部外れてる感じなんですよね\nLuaで設定書く時にオプションのスコープを明示したからその辺かな……\nVim Scriptだと `set undofile` とかで済むのがLuaだと `\u003chttp://vim.bo|vim.bo\u003e.undofile = true` になる","ts":"1607556831.098500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lfG"}]},{"client_msg_id":"B1500F62-FCB5-46C5-AB44-70689473DBF9","type":"message","user":"U776661HA","text":"そのオプションは触ってないですね...","ts":"1607556682.096100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5H7"}]},{"client_msg_id":"4a2a6367-ac13-4d93-a480-0fd395e24bc6","type":"message","user":"U01D44KSY9Z","text":"fern使ってるとバッファローカルのオプションが尽く外れる現象に悩まされているんですけどご存知の方いらっしゃいますか？\n無名バッファ開いた時は `undofile` になってるのにそこからfernを開くと `noundofile` になったりという感じです","ts":"1607556502.094200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nut+E"}]},{"type":"message","user":"U01GFNF2E4D","text":"\u003c@U01GFNF2E4D\u003e has joined the channel","ts":"1607546863.092100","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"D0C5A57B-7702-4E2B-8BF2-99DDA76723E8","type":"message","user":"U01AQ5BFNLX","text":"仮想環境使ってるとbuild essential必須だけどそんなに知られてないのか","ts":"1607546815.091900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GKc4"}]},{"client_msg_id":"f1828168-7e56-4325-9889-6d3000f4eeb7","type":"message","user":"U013QL1RAPN","text":"スペースとタブが混在するのをペーストしてきてから、Vで範囲指定して使った。\n\n確かに便利さを感じた。","ts":"1607535110.090500","thread_ts":"1607495433.038900","subtype":"thread_broadcast","reactions":[{"name":"+1","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bLXg"}],"root":{"client_msg_id":"ae251ced-8394-4e34-8139-821ac6ff2eef","type":"message","user":"U06BRP8VD","text":"`:retab!` はよくやる。外からコード持ってきたときとか。","ts":"1607495433.038900","thread_ts":"1607495433.038900","reply_count":1,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A/sQ"}]}},{"type":"message","user":"U01G35Y3AKZ","text":"\u003c@U01G35Y3AKZ\u003e has joined the channel","ts":"1607530219.090400","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null}]
