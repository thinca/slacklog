[{"type":"message","user":"U0126HVF9RS","text":"<@U0126HVF9RS> has joined the channel","ts":"1587085409.012900","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"e8ae426c-98da-4a9f-95ff-f340e4a7d982","type":"message","user":"U8YUTU1GQ","text":"<https://twitter.com/igrep/status/1250945078975225858> のとおり、Language Clientのgo to definitionコマンドで、Vimのタグジャンプ機能を置き換える拡張の作成を検討しています。\nもしすでに似たものがあるなら教えていただけないでしょうか？\n最も単純な機能としては\n```noremap &lt;C-]&gt; :call LanguageClient#textDocument_definition()&lt;CR&gt;```\nなどと設定するだけでもよいのですが、それだと `&lt;C-t&gt;` で元いた場所に戻ることができません。\nなので、 `&lt;C-]&gt;` でジャンプする際にジャンプ元を記録する機能を実装しようと思います。","ts":"1587086209.016100","attachments":[{"fallback":"<https://twitter.com/igrep|@igrep>: LanguageClientのgo to  definitionでneovimのtag jumpを置き換えたいんだけどそういうプラグイン誰か作ってないかしら。なければ作る。","id":1,"author_name":"YAMAMOTO Yuji: 山本悠滋","author_subname":"@igrep","author_link":"https://twitter.com/igrep/status/1250945078975225858","author_icon":"https://pbs.twimg.com/profile_images/1449995469/________01-resize-crop_normal.png","text":"LanguageClientのgo to  definitionでneovimのtag jumpを置き換えたいんだけどそういうプラグイン誰か作ってないかしら。なければ作る。","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1587083522,"service_name":"twitter","from_url":"https://twitter.com/igrep/status/1250945078975225858","original_url":"https://twitter.com/igrep/status/1250945078975225858"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"anm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"922273d5-9d11-4a03-baff-72ed96c1e628","type":"message","user":"U9S4G0LJW","text":"話関係ないけどタグスタックっていじれるんだ、gtagsがジャンプリスト使ってたからできないものだと思い込んでた","ts":"1587086386.016700","team":"T03C4RC8V","reactions":[{"name":"writing_hand","count":1,"users":["U8YUTU1GQ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=KMWm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3beaf249-f9af-4010-9444-0db5d1b8d7b5","type":"message","user":"U9S4G0LJW","text":"`+v8.1.0519`かなるほど","ts":"1587086439.017700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=61"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6a9d007d-450b-44a4-8b97-83faca5e95b4","type":"message","user":"U8YUTU1GQ","text":"他にも、\n• IdeaVimのように、カーソルの位置がすでにジャンプ先の定義にあった場合は定義を参照している箇所の一覧を出す（これはLanguageClientの機能だけではできない？）\n• 自分はLanguageClient-neovim を使っていますが、他のLSPプラグインとも連携\nといった機能を検討しています。","ts":"1587086500.018700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VNgt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"84ddc14d-37a4-4954-9d60-2e563b2e44a1","type":"message","user":"UAZ33BKV2","text":"わりとtag弄れるようになってきましたね(最近)","ts":"1587086606.019100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"weN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3be0042e-d1c6-4dab-9037-7b2071f676d9","type":"message","user":"UD73ZNZAP","text":"tagfunc が追加されたので、直接 tagstack いじる必要が無い気がする今日このごろ (tagfunc側で適切な情報返せれば vim がちゃんと tagstack 管理してくれる)\nあー、一覧機能など、より便利な機能を追加した時に必要になったりするのかな。tagfunc だと vim の標準機能の `:tselect` とかしかできない。\n自分は daisuzu さんの ↓ の tagfunc を vim-lsp で使ってます (これ vim-lsp の標準で入ったりしないのかなぁ)\n<https://daisuzu.hatenablog.com/entry/2019/12/06/005543>","ts":"1587087709.024500","attachments":[{"fallback":"daisuzu's notes: VimのtagfuncでLSPを使う - daisuzu's notes","id":1,"title":"VimのtagfuncでLSPを使う - daisuzu's notes","title_link":"https://daisuzu.hatenablog.com/entry/2019/12/06/005543","text":"この記事はVim Advent Calendar 2019の6日目の記事です。 今年の4月にv8.1.1228でtagfuncという機能が追加されました。 こちらは:tagや:tselectなどのタグ系コマンド*1を実行した時、tagsファイルを検索する代わりに呼ばれる関数を設定するためのオプションです。 設定する関数の形式としては次のようなものです。 \" pattern: タグ検索中に使用されたタグ識別子 \" flags: 関数の挙動を制御するためのフラグのリスト \" 'c' -&gt; ノーマルモードのコマンドで呼び出された \" 'i' -&gt; インサートモードのタグ補完で呼び出された \" inf…","image_url":"https://ogimage.blog.st-hatena.com/12704346814673967515/26006613476992684/1575946427","blocks":null,"ts":1575561343,"service_name":"daisuzu's notes","service_icon":"https://cdn.blog.st-hatena.com/images/touch-icon-iphone-retina.png","from_url":"https://daisuzu.hatenablog.com/entry/2019/12/06/005543","original_url":"https://daisuzu.hatenablog.com/entry/2019/12/06/005543"}],"team":"T03C4RC8V","reactions":[{"name":"bulb","count":3,"users":["U8YUTU1GQ","U9S4G0LJW","U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3ldfq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d6d04c72-8fc5-49a2-964d-a543055053e5","type":"message","user":"U8YUTU1GQ","text":"なるほど、tagfuncがありましたね！すっかり忘れてた！\n個人的にはそれで十分解決できそうです。","ts":"1587087769.025200","edited":{"user":"U8YUTU1GQ","ts":"1587087794.000000"},"team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["UD73ZNZAP"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yop/I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b5ef87c8-ed59-4f9d-ad29-226be287f0de","type":"message","user":"U8YUTU1GQ","text":"Neovimの場合開発版じゃないと使えないみたいなので、いよいよ安定版から乗り換えるときが来ましたね！ :muscle:","ts":"1587088271.026200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0JdIz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d1ea025f-21e4-4667-9fa2-00cb8446426b","type":"message","user":"UAZ33BKV2","text":"この関数vim-lspで持ってほしい...","ts":"1587088459.026600","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U8YUTU1GQ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PSg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"96597157-7cf2-4adb-92e3-018b45827971","type":"message","user":"U03C6TEAZ","text":"Let's pull-requset","ts":"1587088726.027000","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U8YUTU1GQ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g3Y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c12f1f4-f2af-4d2c-b4aa-ac7839b14374","type":"message","user":"UAZ33BKV2","text":"なんですよね...","ts":"1587088733.027200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M1="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1f898549-8d9b-4c15-b1c9-1e38a690dcfb","type":"message","user":"U7B4ZD49X","text":"cocは `set tagfunc=CocTagFunc` でいけます","ts":"1587089726.028000","team":"T03C4RC8V","reactions":[{"name":"open_mouth","count":3,"users":["U8YUTU1GQ","UFP0GQZ4K","UD73ZNZAP"]},{"name":"goodpoem","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qlu2G"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"E99127DA-C8B8-4F43-8CE0-BD90D153D480","type":"message","user":"U8996GYBF","text":"自分もTSではそれですね","ts":"1587090402.028700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QQN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5cbf1ca5-2fcf-4b11-b6ad-1fc04d79a7dc","type":"message","user":"UP6PA1UBE","text":"vim.exe が壊れた話題でちょっと環境更新してたら Windows Terminal で Ctrl-H がぶっ壊れてるのに今更気づいて、とりあえずワークアラウンドで回避しようとしたら Clink も絡んでいろいろややこしかった\n```\" Fix &lt;C-h&gt; in Windows terminal\n\" see: <https://github.com/microsoft/terminal/issues/4397>\nif exists('$WT_SESSION') &amp;&amp; !exists('$VIM_TERMINAL')\n  if exists('$CLINK_DIR')\n    \" WT + Clink\n    call map(['map', 'map!', 'tmap'], {_, map -&gt;\n    \\ execute(map.' '.nr2char(206).nr2char(3).nr2char(122).\" \\&lt;C-h&gt;\")\n    \\})\n  else\n    \" WT only\n    execute 'set &lt;C-h&gt;='.nr2char(27).nr2char(8)\n  endif\nendif```","ts":"1587098205.030600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Lx9=S"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4b16e8be-6836-4d99-894d-ea3ba623e550","type":"message","user":"UP6PA1UBE","text":"あ、このルーチンはさらに `if !has('gui_running')`  でラップしてました","ts":"1587098340.031400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Twa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5b8f3005-1214-4aaf-bdf7-6155ae2d9b43","type":"message","user":"U06BRP8VD","text":"Windows Terminal のCtrl-Hはほんとひどい…","ts":"1587099549.032000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RUc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9ac5cdbe-0ad9-4a50-88f4-033234bdf214","type":"message","user":"U06BRP8VD","text":"cmdにはCtrl+Backspace相当を送り出してます。","ts":"1587099575.032500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Qy5Y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"09c1ab66-c88b-4343-9d06-d604128b6032","type":"message","user":"UP6PA1UBE","text":"`set &lt;C-h&gt;=^[^H` だけで行けるかと思ったんですが、cmdにClink入れてるとさらに変なコードになってました(なんでそうなるかは調べてない","ts":"1587099798.033700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kdXxa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6c76cad6-363f-47eb-b2c5-d6caa87674bf","type":"message","user":"U06BRP8VD","text":"Windows Terminal ってキー操作に対してターミナルコードを生成して送る部分と、それを動いてるコマンドに送る部分が分かれてるんですね。で、前段のコード生成している部分が Ctrl+H に対して Ctrl+BS だしてるんで、後段ではほぼどうにもならねぇっす。","ts":"1587101554.036100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xja"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d6f01363-d06f-478b-8b49-f0fdae4a5949","type":"message","user":"U06BRP8VD","text":"それを引き起こしてるのはこのあたり。\n<https://github.com/microsoft/terminal/pull/3935>","ts":"1587101744.036800","attachments":[{"fallback":"GitHub: Add Ctrl+Backspace support by mkitzan · Pull Request #3935 · microsoft/terminal","id":1,"title":"Add Ctrl+Backspace support by mkitzan · Pull Request #3935 · microsoft/terminal","title_link":"https://github.com/microsoft/terminal/pull/3935","text":"Summary of the Pull Request Changes the Ctrl+Backspace input sequence and how it is processed by InputStateMachineEngine. Now Ctrl+Backspace deletes a whole word at a time (tested on WSL, CMD, and ...","thumb_url":"https://repository-images.githubusercontent.com/100060912/dc77b180-764a-11e9-9e12-aace7d0ecd7d","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":500,"thumb_height":250,"from_url":"https://github.com/microsoft/terminal/pull/3935","original_url":"https://github.com/microsoft/terminal/pull/3935"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6UY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"96ca5a18-50ed-4bf7-850f-fbd369e6322b","type":"message","user":"U06BRP8VD","text":"あと関連でコレか。これで直すのが正しい、みたいな雰囲気になってる。\n\n<https://github.com/microsoft/terminal/issues/879>","ts":"1587101831.037500","attachments":[{"fallback":"GitHub: Some keybindings used by PSReadLine aren't getting through · Issue #879 · microsoft/terminal","id":1,"title":"Some keybindings used by PSReadLine aren't getting through · Issue #879 · microsoft/terminal","title_link":"https://github.com/microsoft/terminal/issues/879","text":"Environment Windows build number: 10.0.18362.86 Windows Terminal version (if applicable): 0.1.1361.0 Any other software? Steps to reproduce Open a PowerShell tab in Windows Terminal. Attempt to use...","thumb_url":"https://repository-images.githubusercontent.com/100060912/dc77b180-764a-11e9-9e12-aace7d0ecd7d","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":500,"thumb_height":250,"from_url":"https://github.com/microsoft/terminal/issues/879","original_url":"https://github.com/microsoft/terminal/issues/879"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SUZW9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd839725-a343-480a-9852-bcfaa587b8b4","type":"message","user":"U0M7GCBPD","text":"vim-lsp の ctags tagfunc めちゃくちゃほしい","ts":"1587102881.038100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qzCx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
