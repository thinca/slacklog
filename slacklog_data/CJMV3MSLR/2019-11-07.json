[{"type":"message","text":"<https://ja.stackoverflow.com/questions/60326/script%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E5%AE%9F%E8%A1%8C%E4%B8%AD%E3%81%ABvi%E3%82%92%E6%93%8D%E4%BD%9C%E3%81%97%E3%81%A6%E3%82%82-%E7%B5%90%E6%9E%9Ctypescript%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%A7%E3%81%8D%E3%82%8B%E6%96%B9%E6%B3%95%E3%81%AF%E3%81%82%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%81%8B|scriptコマンド実行中にviを操作しても、結果(typescript)を確認できる方法はありませんか>\n経緯\nscriptコマンドで操作履歴を記録中に、viコマンドを使用すると、操作履歴に制御コードが含まれており、catで表示するとcatが異常終了(※)するように見えます。\n    ※ Tera Termで実行するときの話です。WSL純正(?)のターミナルでは現象が変わります、ある程度は制御コードを無視してくれますが、一部の制御コードは残ります。\n　　※　画面が乱れているので正確なところはわかりません。\n\n質問\nviを操作したときも、scriptの結果(typescript)を確認できる方法はありませんか\n\nvi(vim)の出力する制御コードを無視する方法(または除去する方法)\n※viの操作中の履歴はなくなってもかまいません。\ntypescriptで制御コードを記録しない方法\n実行例\n\n$ script\nスクリプトを開始しました。ファイルは typescript です\nvi qw.txt\n(base) ユーザ名@マシン名:~/work/w051_script$ vi qw.txt\n(base) ユーザ名@マシン名:~/work/w051_script$ exit\nexit...","ts":"1573123794.350800","attachments":[{"fallback":"スタック・オーバーフロー: scriptコマンド実行中にviを操作しても、結果(typescript)を確認できる方法はありませんか","id":1,"title":"scriptコマンド実行中にviを操作しても、結果(typescript)を確認できる方法はありませんか","title_link":"https://ja.stackoverflow.com/questions/60326/script%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E5%AE%9F%E8%A1%8C%E4%B8%AD%E3%81%ABvi%E3%82%92%E6%93%8D%E4%BD%9C%E3%81%97%E3%81%A6%E3%82%82-%E7%B5%90%E6%9E%9Ctypescript%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%A7%E3%81%8D%E3%82%8B%E6%96%B9%E6%B3%95%E3%81%AF%E3%81%82%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%81%8B","text":"経緯 scriptコマンドで操作履歴を記録中に、viコマンドを使用すると、操作履歴に制御コードが含まれており、catで表示するとcatが異常終了(※)するように見えます。 ※ Tera Termで実行するときの話です。WSL純正(?)のターミナルでは現象が変わります、ある程度は制御コードを無視してくれますが、一部の制御コードは残ります。 　　※　画面が乱れているので正確なところはわか...","thumb_url":"https://cdn.sstatic.net/Sites/ja/img/apple-touch-icon@2.png?v=1cfb10b305ca","blocks":null,"service_name":"スタック・オーバーフロー","service_icon":"https://cdn.sstatic.net/Sites/ja/img/favicon.ico?v=f5a5a2b7278d","thumb_width":316,"thumb_height":316,"from_url":"https://ja.stackoverflow.com/questions/60326/script%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E5%AE%9F%E8%A1%8C%E4%B8%AD%E3%81%ABvi%E3%82%92%E6%93%8D%E4%BD%9C%E3%81%97%E3%81%A6%E3%82%82-%E7%B5%90%E6%9E%9Ctypescript%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%A7%E3%81%8D%E3%82%8B%E6%96%B9%E6%B3%95%E3%81%AF%E3%81%82%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%81%8B","original_url":"https://ja.stackoverflow.com/questions/60326/script%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E5%AE%9F%E8%A1%8C%E4%B8%AD%E3%81%ABvi%E3%82%92%E6%93%8D%E4%BD%9C%E3%81%97%E3%81%A6%E3%82%82-%E7%B5%90%E6%9E%9Ctypescript%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%A7%E3%81%8D%E3%82%8B%E6%96%B9%E6%B3%95%E3%81%AF%E3%81%82%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%81%8B"}],"subtype":"bot_message","bot_id":"BPV6T0C1J","username":"vim タグが付けられた最新の質問 - スタック・オーバーフロー","icons":{"image_48":"https://a.slack-edge.com/80588/img/services/rss_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UQBFAE5EJ","text":"<@UQBFAE5EJ> has joined the channel","ts":"1573127437.351100","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UQBKVSY3Y","text":"<@UQBKVSY3Y> has joined the channel","ts":"1573135638.351400","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"F380A38B-DEA4-4886-B3D2-CC1342A7183F","type":"message","user":"UFP0GQZ4K","text":"[質問]\nmatchaddpos() と textprop って同じ用途で使用するものでしょうか？\n\nale のソースコードを見ると、エラー箇所のハイライトで matchaddpos()  (Neovim だとnvim_buf_add_highlight )を使っていて、textprop でもできるのであれば、実装してみたいと思って質問してみました","ts":"1573084589.337900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dd3532cc-0fce-4857-9b08-a9f7c821b8fe","type":"message","user":"U03C71D7H","text":"matchaddpos() は完全にファイル内の位置を指定してハイライトします。従ってテキストを編集すると位置がずれたりします。\nそれだと色々不便と言うこともあって textprop ができました(それだけってことはないかもだけど)\ntextprop はテキストを編集すると一緒に動くので、今回のケースだと textprop の方が便利そうです。","ts":"1573086620.342100","team":"T03C4RC8V","reactions":[{"name":"benri","count":1,"users":["UFP0GQZ4K"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04d2f842-475c-4e27-b749-3f0e24190c8b","type":"message","user":"UFP0GQZ4K","text":"&gt; textprop はテキストを編集すると一緒に動く\ntextprop めっちゃ便利ですね\ntextprop を使って、やってみます！","ts":"1573091386.343800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0a6d29b7-ed89-4b7a-b04f-6bb22cc3fb4d","type":"message","user":"U72TB62UF","text":"&gt; matchaddpos() は完全にファイル内の位置を指定してハイライトします。従ってテキストを編集すると位置がずれたりします。\nmatchaddpos()でこれを防ぐためのコードをがんばって書いたのに……textpropの存在を知りたかった（ ；´。 ｀；）","ts":"1573093902.345100","edited":{"user":"U72TB62UF","ts":"1573093920.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a766cf74-62eb-4c46-ad35-b5977c1a4ff5","type":"message","user":"U03C6TEAZ","text":"textprop、ようやく俺たちの欲しいものが来たのか、という感じだけどまだあまり叩かれていない。","ts":"1573094051.346000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8e9516a2-de39-49ef-9e1f-13418d218ab5","type":"message","user":"U72TB62UF","text":"しかしこの手の新しいメソッドが追加されるたびに、vimとneovim両対応で書けるのかが毎回不安になる感","ts":"1573094276.346700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"235de2e7-69b5-4032-8b58-7fee9bc397ba","type":"message","user":"U03C6TEAZ","text":"一番簡単に解決する方法はどちらかのサポートをドロップする事です。","ts":"1573094319.347300","team":"T03C4RC8V","reactions":[{"name":"sorena","count":3,"users":["U72TB62UF","U7B4ZD49X","UDDCM376D"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"237f2ae8-6650-4d63-a21b-b8c7bf959358","type":"message","user":"UAZ33BKV2","text":"自分のリポジトリに xxx.vimとxxx.nvimを作って、片方だけ作ることで「見捨ててるけど見捨ててないよ」と言い訳する(だめだめ)","ts":"1573096415.348700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4a4af51c-1652-4ebc-b4d3-040fbbfb6f79","type":"message","user":"U7JL1UKKL","text":"neovimだとextmarkという機能がtextprop相当","ts":"1573098231.349500","team":"T03C4RC8V","reactions":[{"name":"slow-loris","count":3,"users":["U72TB62UF","U7B4ZD49X","UFP0GQZ4K"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UQ8T1AMRT","text":"<@UQ8T1AMRT> has joined the channel","ts":"1573100025.350100","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UQ915D9K7","text":"<@UQ915D9K7> has joined the channel","ts":"1573110824.350500","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null}]
