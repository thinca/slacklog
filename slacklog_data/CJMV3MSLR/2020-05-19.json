[{"client_msg_id":"e1aa399f-8052-42e5-8443-2a9ba20dc593","type":"message","user":"U03C71D7H","text":":h E776","ts":"1589881578.109600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ey0j8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UPZHKAM7W","text":"```\n                                                *location-list* *E776*\nlocationリストはウィンドウローカルなquickfixリストである。`:vimgrep`, `:grep`,\n`:helpgrep`, `:make` などのコマンドはquickfixリストを作成するが、それらに対応\nする `:lvimgrep`, `:lgrep`, `:lhelpgrep`, `:lmake` などのコマンドを使うことで\nlocationリストを得ることができる。\n```","ts":"1589881579.109700","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"1a3e12f8-ae28-46c4-a4b4-02684cdbb6db","type":"message","user":"U03C71D7H","text":"たまに `E776: No location list` が出ることがあるんですけど、どういう場合に出るんですかね、これ…?","ts":"1589881617.110300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MJCGN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6ea6362c-300c-4dce-a5ec-6a13f4584aeb","type":"message","user":"U03C71D7H","text":"実行しているのは普通のウィンドウのはず (はず)","ts":"1589881634.110900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"syFl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b47fb01e-8a4d-4626-ae05-8110a901774b","type":"message","user":"U9S4G0LJW","text":"location listが無い状態でlocation list開こうとすると出るエラーだけど…普通のウィンドウで出る要素あったっけ","ts":"1589881652.111300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YDYB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ed092c09-09de-4d48-8cc0-3afbcc60d39d","type":"message","user":"U03C71D7H","text":"普通のウィンドウにはあるはずなんだけどなぁ","ts":"1589881672.111600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JoNM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"20ab9086-83e2-48f1-a6f6-95a067c84526","type":"message","user":"U9S4G0LJW","text":"起動して即`:lopen`したりすると出る","ts":"1589881713.112000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kEWND"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"edeccc4c-6d7a-4030-9cf7-7ad102f7c61d","type":"message","user":"U03C71D7H","text":"確かに出る","ts":"1589881740.112200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ooen"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dfa5b4ea-9fc1-47d5-9441-04bb08b4dc5f","type":"message","user":"U03C71D7H","text":"なんでだ?","ts":"1589881750.112700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nANty"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2dc6393c-b52d-48eb-b717-88623aa00df9","type":"message","user":"U8996GYBF","text":"lopenだけはエラー吐くことが結構あった記憶がある・・・","ts":"1589881755.113000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mYMfE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"52b3ab9a-56b2-4bb0-aaea-631cc6fa63dd","type":"message","user":"U9S4G0LJW","text":"quickfixは必ず存在するけど、location listは必ず存在するわけではない","ts":"1589881765.113500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7=VY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"edbf9e2e-dac5-431c-8e7f-0b57f6541983","type":"message","user":"U9S4G0LJW","text":"これに起因するバグに遭遇したことがある","ts":"1589881773.114100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nnyf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"45a69d2f-c1f7-4dd0-a05f-84d4c91cebec","type":"message","user":"U8996GYBF","text":"直したのはfzf-previewでlocationlist参照しようとして存在しないってエラー吐くんだったかなぁ","ts":"1589881774.114200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"smK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"B246CB70-CFA2-414E-A3EC-6FAA8E69E4B2","type":"message","user":"UBQ2H65JQ","text":"即開いてエラーが出るからquickfixばっか使っちゃう人とかいそう(私もそう","ts":"1589881812.115200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+xG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c17a52cf-e60a-42d6-b5ec-1b04d6cf8940","type":"message","user":"U03C71D7H","text":"あーこれって単に loclist が空だったら出るってだけかな…","ts":"1589882119.115800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"shXN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22b392a0-8400-4f6a-8b7c-68bcd3be9e11","type":"message","user":"U8996GYBF","text":"自分がプラグイン直したときはloclistが空だった場合、だった場合だった記憶があります","ts":"1589882180.116500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nbq="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2360cbb5-b62b-4dcd-9bba-98a470598fa8","type":"message","user":"U03C71D7H","text":"あれーでも `:lwindow` でエラーが出るのはおかしくない?","ts":"1589882208.116900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BYg8T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"02ef9c90-b5f7-40be-b236-01b6d3cb60f9","type":"message","user":"U03C71D7H","text":":h :lwindow","ts":"1589882212.117100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fah"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UPZHKAM7W","text":"```\n                                                        *:lw* *:lwindow*\n:lw[indow] [height]     \":cwindow\" と同様だが、quickfixリストでなく、カレント\n                        ウィンドウのlocationリストが使われる。\n```","ts":"1589882212.117200","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"595cb14c-5eb9-4995-ba9d-8687d77e0130","type":"message","user":"U03C71D7H","text":":h :cwindow","ts":"1589882216.117400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s/MkP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UPZHKAM7W","text":"```\n                                                        *:cw* *:cwindow*\n:cw[indow] [height]     認識されたエラーがあるときquickfixウィンドウを開く。\n                        ウィンドウがすでに開いていて認識されたエラーがない場合\n                        はウィンドウを閉じる。\n```","ts":"1589882216.117500","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"4ec845d2-2f21-4d25-94a5-61401a94b2d0","type":"message","user":"U9S4G0LJW","text":"バグの香り","ts":"1589882230.117700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VuhRQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fa0cc6e1-dac6-4016-905d-0350fda24c92","type":"message","user":"U03C71D7H","text":"バグ臭する…","ts":"1589882245.118000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uqbn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68ef11ad-35aa-4b60-8c23-41793d98bba9","type":"message","user":"U03C71D7H","text":"[Vim 全然関係ない質問]\nJSON を返すような API を設計する時、オブジェクトのキーがデータになるような形って避けることが多いかなって気がしているんですが、これって一般的にそうなのか、もしそうなら何か明確な理由ってあったりしますかね? 改めて考えたら理由がうまく説明できず…\n`{\"123\": {...data...}, ...}` VS `[{\"id\": 123, \"data\": {...data...}}, ...]` (実際には `data` なんてキーはもちろん使いませんが)","ts":"1589860397.052700","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["UTMDDL5B9"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=N7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"785ac292-571b-4535-b3aa-f801aa562235","type":"message","user":"UK7DT8URY","text":"Golangとかでパースする時に、キー値が可変だと面倒って事が思い浮んだが、これはきっとthincaさんの仮定ありきの実装になってるからだよな……","ts":"1589860513.054800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cmE="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"A90EF0A1-08F7-4284-A037-89456750CD1D","type":"message","user":"U78A6ESHM","text":"キーが可変であつかいにくいとか？","ts":"1589860517.055000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OB/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b2178bba-f290-48e6-b458-c84d25b04ca7","type":"message","user":"U9S4G0LJW","text":"どうせforeachするなら配列でいいやみたいになったりするけど、そういうことだろうか","ts":"1589860541.055900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x3itD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"61e400e6-5e0d-449b-ba76-6ffeeedfd2db","type":"message","user":"U8996GYBF","text":"これが面倒で苦労した記憶が蘇ってきた","ts":"1589860588.057100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1MxP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a148304d-ba23-4d65-94ad-9ae331933910","type":"message","user":"U03C71D7H","text":"お、いい話聞きたい","ts":"1589860597.057500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sz90G"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"755d60de-b485-4c44-acc6-b9c361315028","type":"message","user":"U8996GYBF","text":"なんだっけな、APIじゃなくてYAMLをDBに突っ込んでる（既にアンチパターン）状況だったんですけど","ts":"1589860652.058800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hIb7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d99e9f27-94a4-43c1-bc08-174528659a80","type":"message","user":"U03C71D7H","text":"すでにやばそう","ts":"1589860672.059100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/Bx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0e713c1f-d2b5-45aa-a930-42fcc626eb4d","type":"message","user":"U8996GYBF","text":"まぁその中にDBに関連で持たせろって感じのメタ情報が入っていることがあり、どんなんだっけな・・・","ts":"1589860703.059700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"53j0a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a21f94e2-cc1a-4aba-a520-a079affd02b8","type":"message","user":"UAZ33BKV2","text":"まじ :yabai:","ts":"1589860718.059900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2FRn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"43982cc8-b445-4d66-adef-e3ac694f31f5","type":"message","user":"U8996GYBF","text":"ちょっと開発環境のデータ見ちゃお","ts":"1589860734.060700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Cl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4aae3d37-b05b-4e9c-a713-cfc7c31bf98d","type":"message","user":"U03C71D7H","text":"なんかそれはまた別の問題な気もするw","ts":"1589860740.061100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CCf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"091e8656-7153-4e59-b2f0-f358e6c14d3d","type":"message","user":"U8996GYBF","text":"出てきた、CSVをこんな風に複数持つんだけど、これが何故か配列じゃなくてIDをキーに持つハッシュで面倒だったんだけど、そういう話とは違う・・・？\n```  \"  resources:\\n\" +\n  \"    CSV:\\n\" +\n  \"      '196':\\n\" +\n  \"        foo: 'false'\\n\" +\n  \"        bar: 'false'\\n\" +\n  \"      '197':\\n\" +\n  \"        foo: 'false'\\n\" +\n  \"        bar: 'false'\\n\" +```","ts":"1589861033.064200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jw5J"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5fcd7dd7-91cc-4909-a8ee-68c72f98bb19","type":"message","user":"U8996GYBF","text":"なんかデータ見てて違う気がしてきた","ts":"1589861041.064800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xiBJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"123ae90d-3cfe-4145-b399-348c133c4f8f","type":"message","user":"U9S4G0LJW","text":"個人的な感覚で申し訳ないけど、jsonのobjectって集合を表現する物じゃない感じする","ts":"1589861048.065100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6Bda"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0371e08b-310d-4d37-b5ba-47dd037a0697","type":"message","user":"U8996GYBF","text":"```{\n  \"csv\": {\n    \"100\": {\n      \"foo\": false\n    }\n  }\n}\n\n{\n  \"csv\": [\n    {\n      \"id\": 100,\n      \"foo\": false\n    }\n  ]\n}```\n下であってほしかったのが上のせいで違うところで整合性取れてない形のデータと操作するときに色々辛い思いをした話","ts":"1589861215.066600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"F8Zhk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"43677b8d-8b97-457f-8f98-72264def7797","type":"message","user":"U03C71D7H","text":"個人的な感覚としては私もそんな感じなのだけど、そうするとまずい理由が論理的に何かあるかな?","ts":"1589861257.066900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E3K"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"74d6da59-ced2-4cbe-b360-fd1f45467f7c","type":"message","user":"U03C71D7H","text":"&gt; 色々辛い思い\nここがわからない状態","ts":"1589861385.067200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wTFPS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"32196a47-767e-4cf3-93ac-f853e040b619","type":"message","user":"U03C6TEAZ","text":"のちのちメタ情報の様な物で拡張する可能性があるかどうか次第な気もする。","ts":"1589861527.068000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HBX=M"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e8a13f31-5908-417f-9b73-cb6352c9f48f","type":"message","user":"U8996GYBF","text":"まず、上に自分が書いたやつだとキーが何を表してるのか表現できてないの辛くないです？","ts":"1589861543.068600","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UfsFh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c9f05e82-1e7e-4606-aaae-6ad118fa773b","type":"message","user":"U03C6TEAZ","text":"```{\n  \"id\": 123,\n  [\"foo\", \"bar\", \"baz\"]\n}```\nこうだったけどいろいろ持たせる必要がでてきて\n```{\n  \"id\": 123,\n  \"schema\": \"http://...\",\n  \"data\": [\"foo\", \"bar\", \"baz\"]\n}```\nとせざるを得なくなるようなケースとか。","ts":"1589861608.069900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e1M"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"af6675ba-2595-43c4-b2ce-485e3aba7d84","type":"message","user":"U03C71D7H","text":"クライアントが専用アプリなのでスキームの変更がしたければバサッとできちゃうんですよね","ts":"1589862017.070400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"P/+V"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"029c6d0b-f51e-46a6-b6f0-aa4c77a47e05","type":"message","user":"U03C71D7H","text":"互換性を気にする必要が一切ない","ts":"1589862026.070600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UoO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6ae0557d-2d8d-428c-95b7-50c6722f446f","type":"message","user":"U03C6TEAZ","text":"API って時折、専用だと思ってた物が専用じゃなくなったりもしますしね。","ts":"1589862100.071800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OAP"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eee87624-db91-4467-89fb-74784d890564","type":"message","user":"U03C71D7H","text":"キーが何を表しているのかわからないというのはなんとなくわかる。ただどのみち詳細はドキュメント見ないとわからないけど…","ts":"1589862108.072200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"t=LXa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28b5bc70-8c54-432e-8fcf-e86e0a096482","type":"message","user":"U9S4G0LJW","text":"親キーの名前を\"xxx_map\"的な物にしておけば分かってよい？","ts":"1589862116.072500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a+m"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"afa96cba-f50e-4e6d-a01c-c1a5d2a94d27","type":"message","user":"U9S4G0LJW","text":"多分Goの事だろうしstructにコメント入れておけばいいのでは","ts":"1589862141.073300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kmD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49da73b9-d17d-4f77-baf8-5112e49c5845","type":"message","user":"U03C71D7H","text":"そうですね。親のキーで補完はできそう","ts":"1589862152.073500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vX4v"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"36bca343-2659-477e-b15c-372505f1d11a","type":"message","user":"U03C71D7H","text":"Ruby ですね…","ts":"1589862163.073700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Jz6E"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4355c0ab-84c0-4b4d-a607-9f499f769d2c","type":"message","user":"U9S4G0LJW","text":"slacklogの事だと思ってた…","ts":"1589862178.074700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mQun"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5cae28de-4999-4aa8-ac9f-d05325a3b903","type":"message","user":"U03C6TEAZ","text":"最近 json API には schema を書くようにしてる。","ts":"1589862183.074900","thread_ts":"1589862183.074900","reply_count":1,"replies":[{"user":"U06BRP8VD","ts":"1589864629.103900"}],"team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QT4y"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"684dc764-e110-422e-adc7-7113cec9fba2","type":"message","user":"U03C71D7H","text":"全然違う話でした","ts":"1589862187.075000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dO5L"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4f5c260-300d-4c22-952f-a855e0c2cc9f","type":"message","user":"U03C71D7H","text":"schema 書きたい人生だった","ts":"1589862199.075200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"plORk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"04402688-d5e0-40e5-8020-c4fb99d54921","type":"message","user":"U8996GYBF","text":"コードからスキーマ作って欲しい","ts":"1589862419.076200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BMT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4fc4f6b-29b8-450f-b0cb-7831935f45a5","type":"message","user":"UG6DF6W87","text":"parse する側の言語によってその形を扱う辛さが大きく変わってきそう\n// そういう意味ではどんな言語のクライアントでも扱いやすさが変わらない(要出典) `{\"id\": 123, \"data\": [...]}` の形のほうがいい、という面もありそう","ts":"1589862543.077900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Byi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"49646ada-1bc9-4c28-96b8-a716f44569e0","type":"message","user":"U9S4G0LJW","text":"そもそも外部から一切触らなくてもいいならMarshalしておけば済む話ですからね","ts":"1589862627.079100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xP7=Z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f9f429c8-f5ee-42e9-aca9-a81f2ddcda72","type":"message","user":"U8R597E9H","text":"リクエストが ids を受け取るなら、それがキーになったマップが返るのには納得感ありますが。。。配列のほうが安定そうですね。","ts":"1589862655.079700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"41o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68c4dc52-3baa-428b-8cf1-4b693c24a92f","type":"message","user":"U9S4G0LJW","text":"そもそもそういう話ではなかった","ts":"1589862671.080200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uvvvu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"86d4b934-bb81-4f46-8d42-700c93fbf0f9","type":"message","user":"U03C71D7H","text":"なのでこの話、たぶん前提条件があると思っている","ts":"1589862690.080600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Uoy4d"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7a3020f1-d654-4b86-bc6f-2520d6864728","type":"message","user":"U03C71D7H","text":"例えばわかりやすいのが、互換性をある程度保つ必要がある、とか","ts":"1589862749.082100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U04"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f2ff0d36-e2ce-4ced-8f79-81cde48bb4cc","type":"message","user":"UK7DT8URY","text":"元々流行っていた `Key-Value` なデータの扱い方にJSONが合せたから……とか？","ts":"1589862763.082800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AFf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5024b956-a890-4d4b-89b0-3bac192fcbc2","type":"message","user":"U9S4G0LJW","text":"送る元のデータって既に辞書に詰め込まれてる感じ？","ts":"1589862769.083100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mH77a"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b569fe4a-0d85-4dd8-bc07-d77a602bb127","type":"message","user":"U03C71D7H","text":"いや、送る側のデータは特にないです","ts":"1589862787.083300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KNw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3f9ba4ee-02b6-4324-85a4-af46019a6930","type":"message","user":"U03C71D7H","text":"そもそも REST ではないです。","ts":"1589862801.083700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fXcvO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5994d0f2-d9b2-4ce6-b62f-7b264a7ccbc4","type":"message","user":"UG6DF6W87","text":"極端な例だと\n```{\n  \"Yamada Taro\": [1, 2, 3],\n  ...\n}```\nってしてたら、やっぱ性と名分けたいわって言われてしまったパターンだとこの形では死ぬ、とか...?\n// いや、こんなことする人はいないというのははい...","ts":"1589862965.086100","thread_ts":"1589862965.086100","reply_count":1,"replies":[{"user":"UG6DF6W87","ts":"1589863007.086200"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DDBTn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2db5197-b2dc-449f-a7ba-9708f200099f","type":"message","user":"UG6DF6W87","text":"ある種の変更に弱い、ということが言いたかった","ts":"1589863007.086200","thread_ts":"1589862965.086100","parent_user_id":"UG6DF6W87","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QV6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"76e6b4b0-8e22-4101-ad00-1fc0d267c8b4","type":"message","user":"U8R597E9H","text":"sort やらには今後対応するの難しそうですね。","ts":"1589863040.086800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gyZ6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ed248951-a5b5-4df5-97af-1f8c5cfbf0b8","type":"message","user":"UKHUVMBJR","text":"絶対避けないと死ぬってほどでもなさそうな感覚。Goでも `map[string]someType` で受け取れるし","ts":"1589863059.087500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pc2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"314a43d9-bcf8-4387-ac7d-025bfcd497a3","type":"message","user":"U9S4G0LJW","text":"そもそもobjectだとsortされていない前提に","ts":"1589863070.087900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YmtC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a5589374-4209-4531-992d-b7eb18bda9d2","type":"message","user":"UAZ33BKV2","text":"テーブル最適化遣り過ぎ問題による情報欠落とかにも通じそうな","ts":"1589863070.088000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TMg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0ebe7b89-42aa-474d-89f0-b25188546c8d","type":"message","user":"U9S4G0LJW","text":"最も広く使われてるobject(というか連想配列)の実装がhashだからなぁ","ts":"1589863094.088800","edited":{"user":"U9S4G0LJW","ts":"1589863114.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"86Wc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0a4d3962-e6a6-4a5b-adf4-a9a9ec95449a","type":"message","user":"U03C71D7H","text":"やはりケースバイケースですかねー。盲目的に否定する必要はなさそうかなぁ","ts":"1589863145.090000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zn+f"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9da0c09-ff45-43dc-b33d-feef4826114b","type":"message","user":"UKHUVMBJR","text":"_一旦不安になるけど、まあええやろ！で行く感じ_","ts":"1589863179.091100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7y8Z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3851e88a-9ea8-4158-bc20-359ca1989671","type":"message","user":"U03C71D7H","text":"今まさにそんな感じw","ts":"1589863192.091600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dtr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eacab4cd-de23-44af-a539-57bde4b39a88","type":"message","user":"UG6DF6W87","text":"JSON のキーの型って制約あるんでしたっけ\n```{\n  { \"hoge\": \"fuga\" }: \"piyo\"\n}```\nって invalid ですかね?","ts":"1589863202.092300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HlN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8819d758-ea52-45fd-9ea6-feb09d3e4df7","type":"message","user":"U03C71D7H","text":"キーは文字列のみです","ts":"1589863211.092900","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nPQGx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"824d359a-ed49-4e5d-a416-1720ffdf8937","type":"message","user":"U9S4G0LJW","text":"後から楽に修正可能ならどちらでもいいと思ってる","ts":"1589863211.093000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4ERjR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d0349f0f-faf7-4da3-9c74-a0e79fed39a2","type":"message","user":"U9S4G0LJW","text":"有益な資料 <https://www.json.org/json-en.html>","ts":"1589863239.094800","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vO3k"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aa9e16c5-13e7-4318-933d-5cfa1db642cc","type":"message","user":"U8R597E9H","text":"やはり、ids をリクエストでもらうケースならむしろ適切な手法で、ある一覧を絞り込んだ結果が返却されるケースなら配列安定に思えますね。（順序が欠落するので…）","ts":"1589863261.096100","edited":{"user":"U8R597E9H","ts":"1589863294.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RNuq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9cd66ce4-3ba0-415a-9948-2f4543cc04cb","type":"message","user":"U03C71D7H","text":"最近見た実在するオープンな API だと、Slack の `emoji.list` が `{\"絵文字名\": \"URL\"}` の形式で、これ絵文字ごとに更新日時とか返してほしくなったらどうする気だ、みたいに思った例はあったなw","ts":"1589863275.096500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z0Lh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac947d3c-36fe-4bd4-b661-3baae89e0e18","type":"message","user":"U03C71D7H","text":"順序情報が必要な場合は配列一択ですねー。それはさすがに","ts":"1589863310.097900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"daa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"95141f20-8b2b-4b8d-9fa3-f356b7e13e19","type":"message","user":"UKHUVMBJR","text":"あー、それはvalueでのちのち困りそうですよね。keyはユニークな絵文字名だからまあいいのかな。","ts":"1589863313.098200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"afuJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"79f8f437-3a63-4b80-8228-99022852b834","type":"message","user":"U03C71D7H","text":"ていうか更新日時が取れないからある日に絵文字の絵が別のに差し替えられても更新できない(するなら毎回全更新)のだよな…これは slacklog の話…","ts":"1589863389.099800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9bUy4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2322b6b1-e6fc-4c76-9a72-3f2075e8de91","type":"message","user":"U8R597E9H","text":"配列ではなくマップを返すテクは、テーブル定義を非正規化してパフォーマンスアップ.みたいな印象ですｗ","ts":"1589863467.101500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rSR+U"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1900a209-703e-4328-98c2-1b795e6ce841","type":"message","user":"U9S4G0LJW","text":"差し替えできたっけって思ったけど、消して同じの追加したら差し替わるか","ts":"1589863476.101800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2hvo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"396186dc-dd10-4aa1-8303-c145666e8727","type":"message","user":"U03C71D7H","text":"そうなの","ts":"1589863546.102200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2OV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"73cb9d40-b125-42d9-8fc1-cd50b6d1f1db","type":"message","user":"U03C71D7H","text":"ひとまず色々意見が聞けてなんとなくどういうもんかってのが見えてきました。みなさんありがとうございます！","ts":"1589863602.103600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gTfjp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f51cef4a-8f69-460f-8e21-e1e2c7c619f3","type":"message","user":"U06BRP8VD","text":"僕はJSONがI/F(設定ファイルとか)になる場合も書くようにしてます。","ts":"1589864629.103900","thread_ts":"1589862183.074900","parent_user_id":"U03C6TEAZ","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U03C6TEAZ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R8NEj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d77bb610-b8eb-4921-bc93-082b4c1bd3e1","type":"message","user":"U06BRP8VD","text":"JSONのObjectのキーはユニークじゃなくてもJSONとしてはvalidなので、IDかと思ったら違ったみたいなケースで普通に読むとプログラムからは握りつぶされたデータが見当たらなくて ??? ってなるのはある。","ts":"1589864851.106100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zjAa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f41e726d-6a13-4867-81a8-eb3b5a957d17","type":"message","user":"U03C6TEAZ","text":"キー一覧と値一覧が別の配列で返される:hankey:API 見たことあるなぁ。","ts":"1589864863.106400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"18BL/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a546a9ae-a742-40a9-90ba-a261db287637","type":"message","user":"U06BRP8VD","text":"JSONのライブラリに頼らず雰囲気でJSON吐いてるやつにありがちなやつ","ts":"1589864915.106900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c/ip"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5cd13174-42d5-4b14-a833-5388ef9450a3","type":"message","user":"U03C6TEAZ","text":"JSON schema、手間だけど1度救われた事があるのでやるのオススメです。","ts":"1589865429.107700","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":2,"users":["UAZ33BKV2","UKHUVMBJR"]},{"name":"sorena","count":1,"users":["U06BRP8VD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hnL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"325b75e8-52ff-4a4a-899c-11ecd37c3d01","type":"message","user":"U03C71D7H","text":"新規の際には何かしらスキーマ定義はしたい","ts":"1589865721.108300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MIk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2231d244-ece7-4943-a69a-bd85a9c78c75","type":"message","user":"U06BRP8VD","text":"現実的な選択肢としては JSON Schema &amp; Validator か cuelang くらいしか思いつかない。","ts":"1589866021.109300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nAp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
