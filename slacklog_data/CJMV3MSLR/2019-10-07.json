[{"client_msg_id":"e66be8b5-2974-47f0-ae53-a9d7a1987feb","type":"message","user":"UFQV5CCJC","text":"`質問` です。\n\nRelativeNumberが有効で、Foldが畳まれているときに、\n見た目上の xx行 上(下) の `行番号` を取得(計算)することはできるでしょうか。\n\nやりたいことは、10行おきに行番号を表示する、なのですが、単純に行番号で計算してしまうと、\nFoldされたときに、見た目の行番号が10の倍数にならないためです。。","ts":"1570441787.495500","thread_ts":"1570441787.495500","reply_count":10,"replies":[{"user":"UFQV5CCJC","ts":"1570442267.495800"},{"user":"U03C6TEAZ","ts":"1570442459.496000"},{"user":"U03C6TEAZ","ts":"1570442488.496200"},{"user":"UFQV5CCJC","ts":"1570443019.496400"},{"user":"UFQV5CCJC","ts":"1570443094.496600"},{"user":"U03C6TEAZ","ts":"1570443776.497000"},{"user":"U03C6TEAZ","ts":"1570443800.497200"},{"user":"UFQV5CCJC","ts":"1570444489.497400"},{"user":"UFQV5CCJC","ts":"1570452494.497700"},{"user":"UFQV5CCJC","ts":"1570461746.497900"}],"files":[{"id":"FNSEX964B","created":1570441764,"timestamp":1570441764,"name":"relativenumber-fold.gif","title":"relativenumber-fold.gif","mimetype":"image/gif","image_exif_rotation":1,"filetype":"gif","pretty_type":"GIF","user":"UFQV5CCJC","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":1170261,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FNSEX964B/relativenumber-fold.gif","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FNSEX964B/download/relativenumber-fold.gif","original_h":901,"original_w":1313,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_360.png","thumb_360_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_360.gif","thumb_360_w":360,"thumb_360_h":247,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_480.png","thumb_480_w":480,"thumb_480_h":329,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_720.png","thumb_720_w":720,"thumb_720_h":494,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_960.png","thumb_960_w":960,"thumb_960_h":659,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_1024.png","thumb_1024_w":1024,"thumb_1024_h":703,"permalink":"https://vim-jp.slack.com/files/UFQV5CCJC/FNSEX964B/relativenumber-fold.gif","permalink_public":"https://slack-files.com/T03C4RC8V-FNSEX964B-e6f7ef6fd5","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"deanimate_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_deanimate_gif.png","display_as_bot":false,"has_rich_preview":false,"thumb_480_gif":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_480.gif","thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FNSEX964B-cf378def7e/relativenumber-fold_800.png","thumb_800_h":549,"thumb_800_w":800,"thumb_tiny":"AwAgADCqucdTSHimjJHX9aCDnmqEO6ijn1poJFG40AO59aUdRzTMk96APmFACqeOtH404Ie4NBUjtQAwn8aTPNO2/X8qPwpXGFIByKOfSnKjHBxTEf/Z","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"a07d5bac-067e-4e1f-b887-61fbf25108d9","type":"message","user":"UFQV5CCJC","text":"逆にある行番号が見た目上何行上(下)になるかがわかるでも、嬉しいです。。","ts":"1570442267.495800","thread_ts":"1570441787.495500","parent_user_id":"UFQV5CCJC","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9c257efb-0df3-4f64-a4c8-df899bdeb8b5","type":"message","user":"U03C6TEAZ","text":"ウィンドウ内でよければ `winline()` で取れます。","ts":"1570442459.496000","thread_ts":"1570441787.495500","parent_user_id":"UFQV5CCJC","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f2d4e04e-75ea-4a7b-8fa9-1af606e061b0","type":"message","user":"U03C6TEAZ","text":"たぶん後者は頑張らないと無理そう。","ts":"1570442488.496200","thread_ts":"1570441787.495500","parent_user_id":"UFQV5CCJC","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fed541a3-7419-4065-901a-04ae4fbd1489","type":"message","user":"UFQV5CCJC","text":"ありがとうございます。`winline()` はちょっとイメージと違いそうでして、、","ts":"1570443019.496400","thread_ts":"1570441787.495500","parent_user_id":"UFQV5CCJC","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dc283c79-452d-4727-9322-8b0378289e30","type":"message","user":"UFQV5CCJC","text":"この6と出ているところは実際はfoldされているので10行下なのですが、fold込みで10行下の行番号が取得できないかな、と思ったのですが、難しそうですかね。。m(_ _)m","ts":"1570443094.496600","thread_ts":"1570441787.495500","parent_user_id":"UFQV5CCJC","files":[{"id":"FNSFLLHPD","created":1570443092,"timestamp":1570443092,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"UFQV5CCJC","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":27918,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FNSFLLHPD/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FNSFLLHPD/download/image.png","original_h":200,"original_w":170,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FNSFLLHPD-9fd65a9220/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FNSFLLHPD-9fd65a9220/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FNSFLLHPD-9fd65a9220/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FNSFLLHPD-9fd65a9220/image_360.png","thumb_360_gif":"","thumb_360_w":170,"thumb_360_h":200,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/UFQV5CCJC/FNSFLLHPD/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FNSFLLHPD-b579375c50","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAwACitP98fSox1qW4/1g+lR5JAUniqEhWUqcMCD6Gk4p8jmR9xwD7U38aAE4o4pfxpc+9AE00e585xxUYjwev6U66/1v4VEDyO9AIl2c9f0o2/T8qZu9qSgZIB/L0o2f5xUdFAiW7/ANd+FQjqKnvP9d+FQDrSGLj2pce1HPvR+dABj2ox7frRg+h9KXDehoA//9k=","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"0081e0e7-b04a-4ef2-8f53-8a7b96d792ed","type":"message","user":"U03C6TEAZ","text":"関数でイメージした場合、どの様な物が必要ですか？","ts":"1570443776.497000","thread_ts":"1570441787.495500","parent_user_id":"UFQV5CCJC","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f55290c7-4499-43b8-aa62-64721298ab7d","type":"message","user":"U03C6TEAZ","text":"引数に 6 を入れると 10 が返る？","ts":"1570443800.497200","thread_ts":"1570441787.495500","parent_user_id":"UFQV5CCJC","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6bd70c3-aa1b-4dc7-94bf-27d7f78c1be0","type":"message","user":"UFQV5CCJC","text":"<https://github.com/IMOKURI/dotfiles/blob/LineNr_10lines/config/nvim/init.vim#L881>\n\n今はこのような感じで、ある行と現在行の差分が10行の場合に、ハイライトしているのですが、これだと畳み込みの分がずれてしまうので、、、で困っていました。\n\n関数として、どういう形がよいか、もうちょっと考えてみます。（ただ言葉にすると、「ある行がinputで、現在行との見た目の差分が10の倍数」でしょうか。。）","ts":"1570444489.497400","thread_ts":"1570441787.495500","attachments":[{"fallback":"GitHub: IMOKURI/dotfiles","id":1,"title":"IMOKURI/dotfiles","title_link":"https://github.com/IMOKURI/dotfiles/blob/LineNr_10lines/config/nvim/init.vim#L881","text":"dotfiles. Contribute to IMOKURI/dotfiles development by creating an account on GitHub.","thumb_url":"https://avatars2.githubusercontent.com/u/1638500?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/IMOKURI/dotfiles/blob/LineNr_10lines/config/nvim/init.vim#L881","original_url":"https://github.com/IMOKURI/dotfiles/blob/LineNr_10lines/config/nvim/init.vim#L881"}],"parent_user_id":"UFQV5CCJC","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a3ff23a4-3db6-46a2-98dd-30c63adbcb0f","type":"message","user":"UFQV5CCJC","text":"`foldclosed()` つかって計算していく方法でやってみようと思います。お忙しいところ、ありがとうございました m(_ _)m","ts":"1570452494.497700","thread_ts":"1570441787.495500","parent_user_id":"UFQV5CCJC","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
