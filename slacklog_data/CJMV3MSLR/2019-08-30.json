[{"client_msg_id":"6b018c5c-f1d7-433c-9cb9-1b99ffe72116","type":"message","user":"U72TB62UF","text":"coc.nvimに乗り換えたらすべてが解決してしまったので、元に戻すか微妙になってきた感","ts":"1567163419.139700","thread_ts":"1567163419.139700","reply_count":36,"replies":[{"user":"U8996GYBF","ts":"1567165269.140400"},{"user":"U72TB62UF","ts":"1567166051.141900"},{"user":"U8996GYBF","ts":"1567166097.142100"},{"user":"U8996GYBF","ts":"1567166111.142500"},{"user":"U8996GYBF","ts":"1567166148.142700"},{"user":"U72TB62UF","ts":"1567166231.143000"},{"user":"U8996GYBF","ts":"1567166362.144500"},{"user":"U8996GYBF","ts":"1567166389.144700"},{"user":"U8996GYBF","ts":"1567166414.144900"},{"user":"U72TB62UF","ts":"1567166451.145100"},{"user":"U72TB62UF","ts":"1567166477.145300"},{"user":"U8996GYBF","ts":"1567166507.145600"},{"user":"U72TB62UF","ts":"1567166520.145800"},{"user":"U8996GYBF","ts":"1567166543.146200"},{"user":"U72TB62UF","ts":"1567166562.146400"},{"user":"U8996GYBF","ts":"1567166630.147100"},{"user":"U8996GYBF","ts":"1567166670.147400"},{"user":"U72TB62UF","ts":"1567166709.147700"},{"user":"U72TB62UF","ts":"1567166727.147900"},{"user":"U72TB62UF","ts":"1567166807.148500"},{"user":"U8996GYBF","ts":"1567166887.148700"},{"user":"U8996GYBF","ts":"1567166915.148900"},{"user":"U72TB62UF","ts":"1567166954.149100"},{"user":"U8996GYBF","ts":"1567167023.149400"},{"user":"U72TB62UF","ts":"1567167104.149600"},{"user":"U72TB62UF","ts":"1567167205.149800"},{"user":"U8996GYBF","ts":"1567167504.150000"},{"user":"U8996GYBF","ts":"1567167708.150200"},{"user":"U72TB62UF","ts":"1567174239.151500"},{"user":"U72TB62UF","ts":"1567386814.171200"},{"user":"U8996GYBF","ts":"1567387173.171900"},{"user":"U72TB62UF","ts":"1567387379.172100"},{"user":"U8996GYBF","ts":"1567387452.173500"},{"user":"U72TB62UF","ts":"1567387617.173700"},{"user":"U8996GYBF","ts":"1567392876.184000"},{"user":"U8996GYBF","ts":"1567402475.209000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dbdb291f-98c6-4056-b876-84ac490c6ef0","type":"message","user":"U03C71D7H","text":"`normal! q:` で cmdwin が開かないのって理由分かる人いますか? Vim script から cmdwin を開くにはどうすれば良いでしょう?","ts":"1567165087.140300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"68a9af34-f2d3-40ee-9fff-3ac57bbe652e","type":"message","user":"U8996GYBF","text":"deopleteだと$のあと1文字入れたりとかでもダメです？","ts":"1567165269.140400","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3b3fee0f-b42e-4d6b-bd01-af1f420a12d7","type":"message","user":"U72TB62UF","text":"ダメでした…（ ；´。 ｀；）","ts":"1567166051.141900","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2b67573f-83c0-4e27-af1d-83c292ae6ed1","type":"message","user":"U8996GYBF","text":"なんでだろう、面倒ですね","ts":"1567166097.142100","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"08b3b037-5bce-4563-a1dd-177832ddb9cd","type":"message","user":"U8996GYBF","text":"PHP、書かない言語だから環境がない・・・","ts":"1567166111.142500","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e0d36702-1ce7-4bbc-a40a-3c14c9e5d756","type":"message","user":"U8996GYBF","text":"他の言語でdeoplete-vim-lsp使ったりします？","ts":"1567166148.142700","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a8c565d6-52b5-4097-a83d-545db3845ea5","type":"message","user":"U9S4G0LJW","text":"ソースチラ見してみたけど、これノーマルモードと関係ない部分で処理されてるっぽいんですよね、原因はそこかな","ts":"1567166187.142900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2c249cbb-c052-4462-a847-28398c986994","type":"message","user":"U72TB62UF","text":"vim-language-serverを使ってます。こちらは問題なし。vimscriptは$がなかったから、問題が露見しなかったのだと思います","ts":"1567166231.143000","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"27e0457a-cbce-4383-91ff-7be89353dedc","type":"message","user":"U8996GYBF","text":"ちなみに$押すとdeopleteの候補全部消えるのかLSPのソースだけ消えるのとだとどっちです？","ts":"1567166362.144500","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"af8d72b9-fa94-4ff2-af14-e86cd5d44f03","type":"message","user":"U8996GYBF","text":"といっても$を許容してるソースがないと区分できないか・・・","ts":"1567166389.144700","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47f73617-e183-4809-bd00-2db86f8d71b9","type":"message","user":"U8996GYBF","text":"まぁ、vim-lsp側だったらどうしようもないし一旦諦めですかねぇ","ts":"1567166414.144900","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8360ec7b-8aeb-4dd7-a6b0-ce34aa48e7f2","type":"message","user":"U72TB62UF","text":"$を推すとlspの候補 *だけ* が表示され、2文字目でリストが消え、3文字め以降はbufferやaroundなど通常のdeopleteの補完リストが出ます（謎）。","ts":"1567166451.145100","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ab2baa6c-a5b9-4787-9ded-8181634c5184","type":"message","user":"U72TB62UF","text":"coc.nvimが良すぎて軽くビビっています","ts":"1567166477.145300","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c1ff4d9b-8c24-4152-ae67-5cddcd7d31eb","type":"message","user":"U8996GYBF","text":"あー、通常のソースの扱いは min_pattern_length の設定かも","ts":"1567166507.145600","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"df0c7305-9e47-4942-805c-3450b2e5544d","type":"message","user":"U72TB62UF","text":"とはいえ、npm -iが使えない環境もあるので、deoplete環境も残して使い分けたいところ","ts":"1567166520.145800","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4e9559ea-ea6c-4d78-807c-96207e1d70b0","type":"message","user":"U8996GYBF","text":"これ、個別に設定されてないソースについては2文字から補完で、ソース側で設定してたらそっち優先じゃないのかな","ts":"1567166543.146200","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ba82b87-784b-4980-b8ba-a38211fea9aa","type":"message","user":"U72TB62UF","text":"会社の環境は、min_pattern_lengthが3なんだとは思いますが、omniの設定なしで1文字めでlspの補完が効いてしまうのは不思議","ts":"1567166562.146400","thread_ts":"1567163419.139700","edited":{"user":"U72TB62UF","ts":"1567166578.000000"},"parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f237bf35-946c-4d64-b840-0fb0d3faacb1","type":"message","user":"U9S4G0LJW","text":"読みが間違ってなければですが `q:` 等を入力すると、コマンドラインモードに移行するキーとcmdwinを示す特殊コードを入力バッファに積んで実行させることでコマンドラインウィンドウ出してるみたいで","ts":"1567166589.147000","edited":{"user":"U9S4G0LJW","ts":"1567166632.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"073c4429-5a3c-45cf-8e89-7e8c0ed13b24","type":"message","user":"U8996GYBF","text":"omniはdeopleteの場合関係ないですよ、deopleteのソースのomniを使ってる場合そこに出てくるだけじゃないのかな","ts":"1567166630.147100","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2a546780-6526-4a2f-8b8d-5bddc81e4d22","type":"message","user":"U8996GYBF","text":"```\n            item = {\n                'word': re.sub(r'\\([^)]*\\)', '', word),\n                'abbr': rec['label'],\n                'dup': 0,\n            }\n```\n多分ここで、wordがあるから0文字でも動作するんじゃないかなー","ts":"1567166670.147400","thread_ts":"1567163419.139700","edited":{"user":"U8996GYBF","ts":"1567166677.000000"},"parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5f5ec16e-ec3a-4229-9771-6fcee73cf688","type":"message","user":"U72TB62UF","text":"そうなのかなぁ。","ts":"1567166709.147700","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f692b7a9-dc66-4005-b262-62e6061b2562","type":"message","user":"U72TB62UF","text":"今までphpの補完環境は不遇なことが多いので、すべてが疑わしく見えるw","ts":"1567166727.147900","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7c88786c-8cf0-4598-aa6c-e5f90263a5ac","type":"message","user":"U9S4G0LJW","text":"`:call feedkeys(\"q:\", \"n\")` で開きはするんですけど、もやもやする","ts":"1567166755.148400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9e2f2449-01c7-4db5-b836-c16749e9da15","type":"message","user":"U72TB62UF","text":"細かな調整はdeopleteが便利なので、lspだけcocを使えればなぁ","ts":"1567166807.148500","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd4eb85f-4b1e-4642-9fdf-433cc2feab35","type":"message","user":"U8996GYBF","text":"もし手間でなければ\n```\nlet s:deoplete_omni_functions = {}\nlet s:deoplete_omni_functions['php'] = ['lsp#complete']\ncall deoplete#custom#source('omni', 'functions', s:deoplete_omni_functions)\n\ncall deoplete#custom#var('omni', 'input_patterns', {\n\\ 'php': '\\w+|[^. \\t]-&gt;\\w*|\\w+::\\w*',\n\\})\n```\nとか入れるとomniのソースの方で出ないですかね？","ts":"1567166887.148700","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3056efe-eef8-45b2-bac1-1222dda006d0","type":"message","user":"U8996GYBF","text":"`call deoplete#custom#source('omni', 'rank', 600)`\nでomniのランク上げておいた方がいいかも","ts":"1567166915.148900","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1caf268c-0783-4282-9d8c-47ee1e6141e2","type":"message","user":"U72TB62UF","text":"お、ありがとうございます。\nいま帰宅してしまっているので、来週に会社で試します。","ts":"1567166954.149100","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","reactions":[{"name":"+1","count":1,"users":["U8996GYBF"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a04b7139-b221-4498-aed6-e6717bf021de","type":"message","user":"U8996GYBF","text":"会社だとtabnine使うのも厳しそう・・・","ts":"1567167023.149400","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97e2bd91-a6d4-4dcf-bb9e-278434fde27e","type":"message","user":"U72TB62UF","text":"tabnineは完全クラウドは難しいですね。データセット使うやつでやってます。","ts":"1567167104.149600","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"35f44003-d498-4e8b-afab-346f384e01cf","type":"message","user":"U72TB62UF","text":"自分の使い方だと、そこまで違いがない感じです。","ts":"1567167205.149800","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"265db07f-ba5c-4cce-a891-b3e30f5ae7d2","type":"message","user":"U8996GYBF","text":"あ、そういえばtabnineってlsp設定できたはずでは","ts":"1567167504.150000","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"de50ef79-f85a-460b-8d25-c25c858b9892","type":"message","user":"U8996GYBF","text":"```\n$ cat ~/Library/Preferences/TabNine/TabNineExample.toml\n[language.rust]\ncommand = \"rls\"\ninstall = [\n  [\"rustup\", \"update\"],\n  [\"rustup\", \"component\", \"add\", \"rls\", \"rust-analysis\", \"rust-src\"],\n]\n\n[language.javascript]\ncommand = \"flow\"\nargs = [\"lsp\"]\ninstall = [[\"npm\", \"install\", \"-g\", \"flow-bin\"]]\n\n[language.typescript]\ncommand = \"typescript-language-server\"\nargs = [\"--stdio\"]\ninstall = [[\"npm\", \"install\", \"-g\", \"typescript-language-server\"]]\n\n[language.html]\ncommand = \"html-languageserver\"\nargs = [\"--stdio\"]\ninstall = [[\"npm\", \"install\", \"-g\", \"vscode-html-languageserver-bin\"]]\n\n[language.ocaml]\ncommand = \"ocaml-language-server\"\nargs = [\"--stdio\"]\ninstall = [[\"npm\", \"install\", \"-g\", \"ocaml-language-server\"]]\n\n[language.python]\ncommand = \"pyls\"\ninstall = [[\"pip\", \"install\", \"python-language-server\"]]\n\n[language.cpp]\ncommand = \"cquery\"\nargs = [\"--init={\\\"cacheDirectory\\\": \\\"${project_root}/.cquery_cache\\\"}\"]\n\n[language.haskell]\ncommand = \"hie\"\nargs = [\"--lsp\"]\n\n[language.go]\ncommand = \"gopls\"\nargs = [\"serve\"]\ninstall = [[\"go\", \"get\", \"-u\", \"<http://golang.org/x/tools/cmd/gopls|golang.org/x/tools/cmd/gopls>\"]]\n\n[language.dart]\ncommand = \"dart_language_server\"\ninstall = [[\"pub\", \"global\", \"activate\", \"dart_language_server\"]]\n\n[language.ruby]\ncommand = \"solargraph\"\nargs = [\"stdio\"]\ninstall = [[\"gem\", \"install\", \"solargraph\"]]\n\n[language.css]\ncommand = \"css-languageserver\"\nargs = [\"--stdio\"]\ninstall = [[\"npm\", \"install\", \"-g\", \"vscode-css-languageserver-bin\"]]\n\n[language.scss]\ncommand = \"css-languageserver\"\nargs = [\"--stdio\"]\ninstall = [[\"npm\", \"install\", \"-g\", \"vscode-css-languageserver-bin\"]]\n\n[language.purescript]\ncommand = \"purescript-language-server\"\nargs = [\"--stdio\"]\ninstall = [[\"npm\", \"install\", \"-g\", \"purescript-language-server\"]]\n```\nこんなのがあります","ts":"1567167708.150200","thread_ts":"1567163419.139700","parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"12537bdb-230d-4c38-8acf-7f27c4c21205","type":"message","user":"U03C71D7H","text":"Vim script 内で開きたいので、 `feedkeys()` だとその場で開いてくれないんですよね。 `x` フラグも試したけどうまく行かず…","ts":"1567170211.151100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UMVBWU3NG","text":"<@UMVBWU3NG> has joined the channel","ts":"1567173288.151300","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"5e79bdc3-3bfc-4862-8e14-2b9f69def3b1","type":"message","user":"U72TB62UF","text":"lsp設定はしたことがあるのですが、deopleteのmarkが 全部[TN]になってしまい、どれがどれだかわからなくなるので採用するのをやめた記憶があります。","ts":"1567174239.151500","thread_ts":"1567163419.139700","edited":{"user":"U72TB62UF","ts":"1567174362.000000"},"parent_user_id":"U72TB62UF","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UMXBVCCSJ","text":"<@UMXBVCCSJ> has joined the channel","ts":"1567119804.064500","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"5af2a4a2-d60e-4dfa-b03c-0776bd4e32bc","type":"message","user":"U03C4RC8X","text":"ううーん。直前までにいたbufferのファイル名を取得したいけどなかなかできない (expand('#')だととれない)","ts":"1567123326.065000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6c935d78-bc23-4331-8432-46d79194b78e","type":"message","user":"U03C6TEAZ","text":"`bufname('#')` ?","ts":"1567123389.065400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f8c332ce-17d1-4435-9d16-bd6192f76661","type":"message","user":"U03C4RC8X","text":"そのへんでいけるかなーと思ってたんだけど、実際にやると現在いるバッファのファイル名がでてきます","ts":"1567123527.066000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"57acb012-b76a-4221-ad30-03537e1dc6a0","type":"message","user":"U03C4RC8X","text":"`VIM - Vi IMproved 8.1 (2018 May 18, compiled Jul 29 2019 20:38:53)`","ts":"1567123533.066200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"185b9d07-9ddc-42a7-854a-2e434149ea07","type":"message","user":"U03C4RC8X","text":"vimshellと普通のファイルを開いてる状態で、普通のファイルからvimshellに移動して:echo expand('#')しても:echo bufname('#')しても `[vimshell] - default@1` に","ts":"1567123603.066900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"607daf62-c6d5-47af-912c-fd3b1666eaa9","type":"message","user":"U03C6TEAZ","text":"vimshell 使ってないから分からない。。。","ts":"1567123663.067300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"742b3a7d-65e7-4218-bb1c-ba5e4724ee88","type":"message","user":"U03C4RC8X","text":"vimshell, ようするに普通のバッファなので、vimshellだから#が使えないというのはおかしい","ts":"1567123697.067700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"47156934-d143-4238-a350-439a5b548d1f","type":"message","user":"U03C4RC8X","text":"ううーむ","ts":"1567123792.068400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3bf550bd-34c8-45a9-b7b1-4e85a750adae","type":"message","user":"U7H4TJEG0","text":"keepalt?","ts":"1567124028.068700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f59194ce-4ba6-4860-bfb0-3d2ea75cc9e9","type":"message","user":"UAZ33BKV2","text":"`expand('#')` は代替バファのファイル名、とありますね\n代替バッファ、がまだよくわからない...","ts":"1567124149.069600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d2988f09-4142-4f67-839e-4753a86158dc","type":"message","user":"U03C4RC8X","text":"おお、こんなのが &gt; :keepalt","ts":"1567124288.069800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"41ba63cd-eb18-4f34-b12b-2829824c54ca","type":"message","user":"U03C4RC8X","text":"vimshellはvitalのVim.Buffer経由で:keepalt使ってますね","ts":"1567124299.070300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c60f3f01-440e-4f8a-a040-77cd22c0174e","type":"message","user":"U03C4RC8X","text":"<https://github.com/Shougo/vimshell.vim/blob/master/autoload/vital/_vimshell/Vim/Buffer.vim#L131>","ts":"1567124313.070600","attachments":[{"fallback":"GitHub: Shougo/vimshell.vim","id":1,"title":"Shougo/vimshell.vim","title_link":"https://github.com/Shougo/vimshell.vim/blob/master/autoload/vital/_vimshell/Vim/Buffer.vim#L131","text":":shell: Powerful shell implemented by vim. Contribute to Shougo/vimshell.vim development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/41495?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/Shougo/vimshell.vim/blob/master/autoload/vital/_vimshell/Vim/Buffer.vim#L131","original_url":"https://github.com/Shougo/vimshell.vim/blob/master/autoload/vital/_vimshell/Vim/Buffer.vim#L131"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UMUPYCYN8","text":"<@UMUPYCYN8> has joined the channel","ts":"1567125412.071000","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"340fe841-f8d6-49d4-9524-41187aca44e3","type":"message","user":"U72TB62UF","text":"`質問です`\n\nvim-lsp, deoplete-vim-lspでPHPの補完がうまくできません（PHPはいつも補完で苦しむ…）。\n20行ほどの短いコードであれば補完が可能なのですが、\n100行を超えたあたりから、クラスのメンバメソッドを補完するような、通常のオムニ補完でも補完できる内容が候補に表示されません。\n設定が足りないなど、原因はありますでしょうか。\n\n```\n『|』をカーソル位置とする\n\n$user = new Users();\n$user-&gt;|\nここで getUser() [lsp]などの補完候補が出るのを期待するが、補完候補なし\n```\n\n以下の最小設定で、LspStatusを実行したところ `intelephense: running` となっているため、language-serverは動いていると思われます。\nvim-lsp.logにもこれと行ったエラーは出力されていないようです。\n\n```\nlet g:deoplete#enable_at_startup = 1\naugroup LspPhp\n  autocmd!\n  au User lsp_setup call lsp#register_server({\n        \\ 'name': 'intelephense',\n        \\ 'cmd': {server_info-&gt;['node', expand('/usr/local/lib/node_modules/intelephense/lib/intelephense.js'), '--stdio']},\n        \\ 'initialization_options': {\"storagePath\": \"/tmp/intelephense\"},\n        \\ 'whitelist': ['php', 'inc', 'phpunit.php'],\n        \\ })\n  \" autocmd FileType php setlocal omnifunc=lsp#complete\naugroup END\n\n```","ts":"1567126210.071300","edited":{"user":"U72TB62UF","ts":"1567126278.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5c5d7d05-d44c-495d-a6cf-5c0c6d4a4119","type":"message","user":"UDDCM376D","text":"`intelephense.js` はログ出せますか？","ts":"1567126257.071800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"59cb78dd-dba7-4714-8749-d7f70c4ba022","type":"message","user":"U72TB62UF","text":"見た感じ、ログを出せるオプションはなさそうなんですよね…\n<https://github.com/bmewburn/intelephense-docs>","ts":"1567126430.072400","attachments":[{"fallback":"GitHub: bmewburn/intelephense-docs","id":1,"title":"bmewburn/intelephense-docs","title_link":"https://github.com/bmewburn/intelephense-docs","text":"Documentation for the Intelephense PHP language server - bmewburn/intelephense-docs","thumb_url":"https://avatars2.githubusercontent.com/u/5885195?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/bmewburn/intelephense-docs","original_url":"https://github.com/bmewburn/intelephense-docs"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"58d77943-9ac0-4570-a6ba-7826d9fb491a","type":"message","user":"U72TB62UF","text":"使えるオプションは以下のみぽいです\n\n```\nwhere `{transport}` is one of: \n* `--node-ipc`\n* `--stdio`\n* `--socket={number}`\n* `--pipe={string}`\n```","ts":"1567126482.072900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1527c6f3-409f-4e2d-9eaa-f286a92d6b6a","type":"message","user":"U03C6TEAZ","text":"`intelephense.js` のプロセス、つまり node が生きてる状態なら、レスポンスにエラーが出てるはずです。","ts":"1567126537.073600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2212dfbd-63f6-4ea1-9339-95bb05fb1073","type":"message","user":"U03C6TEAZ","text":"```\nlet lsp_log_verbose=1\nlet lsp_log_file='/tmp/sugoi.log'\n```\nして再現すると何か出てるかも。","ts":"1567126573.074100","edited":{"user":"U03C6TEAZ","ts":"1567126583.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1abcc2de-5b75-4140-b486-3e881ff8ea5c","type":"message","user":"U72TB62UF","text":"最新のログからいくらか抽出してみました（一部ぼかしてあります）が、露骨にエラーやワーニングとわかる部分はない感じです\n\n```\n2019年08月30日 10時06分31秒:[{\"response\": {\"data\": {\"__data__\": \"vim-lsp\", \"server_name\": \"intelephense\"}, \"message\": \"configuration sent\"}}]\n2019年08月30日 10時06分31秒:[{\"response\": {\"data\": {\"path\": \"file:///home/takets/app/php/class/controller/Book.php\", \"__data__\": \"vim-lsp\", \"server_name\": \"intelephense\"}, \"message\": \"already opened\"}}]\n2019年08月30日 10時06分31秒:[\"s:update_file_content()\", 1]\n2019年08月30日 10時06分31秒:[\"---&gt;\", 4, \"intelephense\", {\"method\": \"textDocument/didChange\", \"params\": {\"contentChanges\": [{\"range\": {\"end\": {\"character\": 0, \"line\": 34}, \"start\": {\"character\": 0, \"line\": 33}}, \"text\": \"\", \"rangeLength\": 10}], \"textDocument\": {\"uri\": \"file:///home/takets/app/php/class/controller/Book.php\", \"version\": 12}}}]\n2019年08月30日 10時06分31秒:[{\"response\": {\"data\": {\"path\": \"file:///home/takets/app/php/class/controller/Book.php\", \"__data__\": \"vim-lsp\", \"server_name\": \"intelephense\"}, \"message\": \"textDocument/didChange sent\"}}]\n2019年08月30日 10時06分31秒:[\"---&gt;\", 4, \"intelephense\", {\"method\": \"textDocument/documentHighlight\", \"on_notification\": \"---funcref---\", \"params\": {\"textDocument\": {\"uri\": \"file:///home/takets/app/php/class/controller/Book.php\"}, \"position\": {\"character\": 0, \"line\": 32}}}]\n2019年08月30日 10時06分31秒:[\"s:on_text_document_did_change()\", 1]\n2019年08月30日 10時06分31秒:[\"&lt;---\", 4, \"intelephense\", {\"response\": {\"method\": \"textDocument/publishDiagnostics\", \"jsonrpc\": \"2.0\", \"params\": {\"uri\": \"file:///home/takets/app/php/class/controller/Book.php\", \"diagnostics\": []}}}]\n2019年08月30日 10時06分31秒:[\"&lt;---\", 4, \"intelephense\", {\"response\": {\"id\": 43, \"jsonrpc\": \"2.0\", \"result\": []}, \"request\": {\"id\": 43, \"jsonrpc\": \"2.0\", \"method\": \"textDocument/documentHighlight\", \"params\": {\"textDocument\": {\"uri\": \"file:///home/takets/app/php/class/controller/Book.php\"}, \"position\": {\"character\": 0, \"line\": 32}}}}]\n2019年08月30日 10時06分32秒:[\"&lt;---\", 4, \"intelephense\", {\"response\": {\"method\": \"textDocument/publishDiagnostics\", \"jsonrpc\": \"2.0\", \"params\": {\"uri\": \"file:///home/takets/app/php/class/controller/Book.php\", \"diagnostics\": []}}}]\n2019年08月30日 10時06分35秒:[\"s:send_event_queue()\"]\n2019年08月30日 10時06分35秒:[{\"response\": {\"data\": {\"__data__\": \"vim-lsp\", \"server_name\": \"intelephense\"}, \"message\": \"server already started\"}}]\n2019年08月30日 10時06分35秒:[{\"response\": {\"data\": {\"__data__\": \"vim-lsp\", \"init_result\": {\"id\": 1, \"jsonrpc\": \"2.0\", \"result\": {\"capabilities\": {\"documentHighlightProvider\": true, \"hoverProvider\": true, \"typeDefinitionProvider\": false, \"workspaceSymbolProvider\": true, \"referencesProvider\": true, \"signatureHelpProvider\": {\"triggerCharacters\": [\"(\", \",\"]}, \"foldingRangeProvider\": false, \"textDocumentSync\": 2, \"implementationProvider\": false, \"workspace\": {\"workspaceFolders\": {\"changeNotifications\": true, \"supported\": true}}, \"declarationProvider\": false, \"definitionProvider\": true, \"documentRangeFormattingProvider\": true, \"documentFormattingProvider\": true, \"documentSymbolProvider\": true, \"renameProvider\": false, \"completionProvider\": {\"resolveProvider\": true, \"triggerCharacters\": [\"$\", \"&gt;\", \":\", \"\\\\\", \"/\", \".\", \"&lt;\"]}}}}, \"server_name\": \"intelephense\"}, \"message\": \"lsp server already initialized\"}}]\n2019年08月30日 10時06分35秒:[{\"response\": {\"data\": {\"__data__\": \"vim-lsp\", \"server_name\": \"intelephense\"}, \"message\": \"configuration sent\"}}]\n2019年08月30日 10時06分35秒:[{\"response\": {\"data\": {\"path\": \"file:///home/takets/app/php/class/controller/Book.php\", \"__data__\": \"vim-lsp\", \"server_name\": \"intelephense\"}, \"message\": \"already opened\"}}]\n2019年08月30日 10時06分35秒:[{\"response\": {\"data\": {\"path\": \"file:///home/takets/app/php/class/controller/Book.php\", \"__data__\": \"vim-lsp\", \"server_name\": \"intelephense\"}, \"message\": \"not dirty\"}}]\n\n```","ts":"1567127327.075100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9fefda4d-fb13-461d-a72d-c12cebfd4641","type":"message","user":"U03C6TEAZ","text":"`omnifunc=lsp#complete` の行、コメントアウトしてますが、意図してですか？","ts":"1567127386.076500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"926ee2e7-edce-4992-82b4-b4cd023e8bd0","type":"message","user":"U72TB62UF","text":"いじっていて出てきたのは、\nPHPの変数をしめす『$』を入力した時点では [lsp}の補完が出るのですが、2～3文字入力を続けると、\ndeopleteの補完に上書きされてしまう現象が発生します。","ts":"1567127404.076800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"678cf5af-ecee-4c65-a35f-e7103df0543c","type":"message","user":"U72TB62UF","text":"&gt; `omnifunc=lsp#complete` の行、コメントアウトしてますが、意図してですか？\nはい。\n通常の入力のみの自動補完でlspの補完を出すことが目的であるため、なるべく設定を減らすようにしています","ts":"1567127490.077900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2266785d-aaf1-4b46-a10d-84e329fca84f","type":"message","user":"U03C6TEAZ","text":"えと `setlocal omnifunc=lsp#complete` しないと lsp の補完は効かないんですが、それは認識いただいているでしょうか？","ts":"1567127557.078700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"844c30a5-37ba-4fd5-b976-f35139f200e4","type":"message","user":"U72TB62UF","text":"omnifunc=lsp#completeがなくても、$を1文字入力した時点でlspの候補が出たので補完が効くと認識していました。","ts":"1567127941.079300","edited":{"user":"U72TB62UF","ts":"1567127968.000000"},"files":[{"id":"FMHR4BTA6","created":1567127939,"timestamp":1567127939,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U72TB62UF","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":43748,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FMHR4BTA6/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FMHR4BTA6/download/image.png","original_h":587,"original_w":377,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FMHR4BTA6-499c7d0f31/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FMHR4BTA6-499c7d0f31/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FMHR4BTA6-499c7d0f31/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FMHR4BTA6-499c7d0f31/image_360.png","thumb_360_gif":"","thumb_360_w":231,"thumb_360_h":360,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FMHR4BTA6-499c7d0f31/image_480.png","thumb_480_w":308,"thumb_480_h":480,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U72TB62UF/FMHR4BTA6/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FMHR4BTA6-622b50d4ea","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"7b51dd7c-95bb-43fd-bb02-77775d33137d","type":"message","user":"U72TB62UF","text":"`setlocal omnifunc=lsp#complete`の設定を戻してみます","ts":"1567128010.079800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c36b432-788f-42dd-aa1b-bd348dc42dc6","type":"message","user":"UAZ33BKV2","text":"<https://github.com/prabirshrestha/vim-lsp#auto-complete>\n```\nRefer to docs on configuring omnifunc or asyncomplete.vim.\n```\nとありますから、omnifuncはセットせずにasyncomplete経由ということはないですか?","ts":"1567128154.080400","attachments":[{"fallback":"GitHub: prabirshrestha/vim-lsp","id":1,"title":"prabirshrestha/vim-lsp","title_link":"https://github.com/prabirshrestha/vim-lsp#auto-complete","text":"async language server protocol plugin for vim and neovim - prabirshrestha/vim-lsp","thumb_url":"https://avatars1.githubusercontent.com/u/287744?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/prabirshrestha/vim-lsp#auto-complete","original_url":"https://github.com/prabirshrestha/vim-lsp#auto-complete"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"458eb887-0fcf-4dcf-8e6c-4b8b7c7a2f1b","type":"message","user":"UAZ33BKV2","text":"というかomnifuncセットしたらオムニ補完で動くけど、自動では動かないだろうし","ts":"1567128188.081200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6d6f299c-3344-47cf-a48a-72c198ea86a9","type":"message","user":"U03C6TEAZ","text":"自動で動きます。","ts":"1567128203.081700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3f8cdfc-6d9b-4064-89f6-1429e92031a4","type":"message","user":"U03C6TEAZ","text":"async, asyncomplete, asyncomplete-lsp, vim-lsp 入れて `omnifunc=lsp#complete` でいけるはず。","ts":"1567128250.082700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"abbbc9ce-d082-4626-9ee8-bd6f54234a0e","type":"message","user":"U72TB62UF","text":"最小設定のプラグインとして使っているのは以下です\n\n```\nPlug 'Shougo/deoplete.nvim'\nPlug 'prabirshrestha/async.vim'\nPlug 'prabirshrestha/vim-lsp'\nPlug 'lighttiger2505/deoplete-vim-lsp'\n\n```","ts":"1567128289.083200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cb621859-fa7a-450a-84bd-ac45ae71c7ed","type":"message","user":"U03C6TEAZ","text":"deoplete は使ってないので分からないです。","ts":"1567128315.083500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d5f20ddc-7495-4237-b14b-cd918ffbba4e","type":"message","user":"U72TB62UF","text":"coc.vimとかasyncompleteつかったら解決しそうな気が…","ts":"1567128379.084000","edited":{"user":"U72TB62UF","ts":"1567128387.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99ad89d6-5388-4ba9-8491-4fa48ca5a29e","type":"message","user":"U8996GYBF","text":"deopleteはdeoplete側の補完設定で何が出るか制御されますね","ts":"1567128415.084700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ff088c19-6846-44a5-b9a4-24b2de476cc1","type":"message","user":"U72TB62UF","text":"まずはprabirshresthaさん推奨の設定で動くかを見たほうが良さそうですね。\ndeopleteはdeoplete, vim-lsp, deoplete-vim-lspと検証するところが多い","ts":"1567128509.086100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"058bed5e-c2e6-42d4-a4cc-6d8507a7ad61","type":"message","user":"U8996GYBF","text":"vim-lspだけでC-x C-oしてオムニ補完でlsp#completeなら候補が出るか確認するとよさそう","ts":"1567128560.087200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78a7dccf-d494-49c9-9e6c-a1148e661318","type":"message","user":"U72TB62UF","text":"でも、なんで$入力したときはomnifuncの設定を切ってもlsp補完できてしまうんだろう…（ ；´。 ｀；）","ts":"1567128570.087400","edited":{"user":"U72TB62UF","ts":"1567128588.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0cfe2e9a-175a-47f1-ab0d-6128755e6a4e","type":"message","user":"U8996GYBF","text":"deopleteはomnifunc関係なく補完候補出しますよ","ts":"1567128604.088300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3d8fa25-966f-4668-a6aa-6928babb6daf","type":"message","user":"U03C6TEAZ","text":"単なるキーワード補完かも。","ts":"1567128625.089400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fc45ad32-3564-49a5-bacb-d26951e86131","type":"message","user":"UAZ33BKV2","text":"1. 自動で補完してるのはdeoplete、これはomnifuncは関係しない(mattnさんの言うように、lspかはわからない)\n2. 今回の「補完がちゃんとしてるか」の確認は omnifunc を設定したうえで、手動でオムニ補完(C-XC-o)して確認するのが確実(deopleteに依存しないから)","ts":"1567128691.091100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f9db721-4be8-4a47-9dc6-9cd87cb2eb90","type":"message","user":"UAZ33BKV2","text":"かな","ts":"1567128694.091300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9379ae08-66ab-40fd-8a91-c52936a34d36","type":"message","user":"U72TB62UF","text":"[lsp]というマークがつくので、lsp候補（のはず）です。","ts":"1567128718.092100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b7dbdd74-2eee-4080-98f2-35074857a1a6","type":"message","user":"U03C4RC8X","text":"dinnered\n:h :keepalt","ts":"1567128734.092600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"09142b9c-1368-4a93-b626-6bda77f14b33","type":"message","user":"UAZ33BKV2","text":"ならそれは正しいかも...","ts":"1567128739.093300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b09a42a0-7145-4ddf-8a56-fc8255cb4f38","type":"message","user":"U03C4RC8X","text":":h keepalt","ts":"1567128740.093500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U894RTUJY","text":"```\n                                                        *:keepalt* *:keepa*\n:keepalt {cmd}          現在の代替ファイル名を変えずに{cmd}を実行する。Note 間\n                        接的に呼び出されるコマンド(例えば関数によって)は代替\n                        ファイル名を変えてしまう。{Vi にはない}\n \n全てのファイル名はバッファリストに記憶される。編集 (例えば \":e filename\") や保\n存(例えば \":w filename\") のためにファイル名を入力すると、そのファイル名がリス\nトに追加される。このリストを使えば、どのファイルを編集したかを覚えておいたり、\nコマンド CTRL-^ によってあるファイルから別のファイルへ素早く移行できる (例えば\nテキストをコピーするとき)。まずファイルの番号を、次に CTRL-^ を打ち込む。{Vi:\n代替ファイル名は1個だけ使える}\n```","ts":"1567128741.093600","bot_id":"B894RTUCU","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"4906cd90-61f1-4277-9231-d24966408c25","type":"message","user":"U03C4RC8X","text":"これの副作用で#が自分自身になってるのかなと推測、このあと調査してみます","ts":"1567128762.094200","team":"T03C4RC8V","reactions":[{"name":"shinchoku","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bc29205e-178f-4aaa-ac7f-60e67ae761db","type":"message","user":"U72TB62UF","text":"omnifuncの設定をしたら、`$this-&gt;`は [lsp]の補完ができるようになりました。","ts":"1567128812.095300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1a2dc672-3eea-4363-b1c2-7201944be95f","type":"message","user":"U03C6TEAZ","text":"omnifunc を設置しないと deoplete は補完関数名を知らないので補完できないと思います。","ts":"1567128815.095400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"138c8631-dd77-4ed7-aa8a-cfe9cf29070b","type":"message","user":"U03C6TEAZ","text":"もし deoplete のソースに `lsp#complete` という文字列が埋め込まれてるなら別ですが。","ts":"1567128835.095900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d5ce5562-658c-4b87-8bbc-22a23df436fb","type":"message","user":"U72TB62UF","text":"deoplete-vim-lspのなかにあるかもしれませんが…","ts":"1567128866.096300","edited":{"user":"U72TB62UF","ts":"1567128890.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3b1cf786-94cc-4fe4-9c81-f7a24592c189","type":"message","user":"U72TB62UF","text":"1つずつ検証していこう。まずはasyncomplete + vim-lspでlangserverが動くのかを見てみます。","ts":"1567128926.097300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ec72cd5c-b9bd-4af7-8650-e5e9fd2d2177","type":"message","user":"U03C6TEAZ","text":"無さそう。","ts":"1567128927.097400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"837b0eb1-3294-42cb-a505-9a05de83adeb","type":"message","user":"U03C6TEAZ","text":"ソース見てきましたが、普通の検索では見つかりませんでした。","ts":"1567128944.097900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c136a28-7a43-4136-bcfe-4fbc29e081a6","type":"message","user":"U03C6TEAZ","text":"あ、 `lsp#send_request` 等を使ってるんですね。","ts":"1567128984.098200","edited":{"user":"U03C6TEAZ","ts":"1567128990.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0ecc4d0d-4257-403f-aa4e-2aac3262e1ab","type":"message","user":"U72TB62UF","text":"それらしいのはなさそうですね\n<https://github.com/lighttiger2505/deoplete-vim-lsp/search?q=lsp%23complete&amp;unscoped_q=lsp%23complete>","ts":"1567128997.098700","attachments":[{"fallback":"GitHub: lighttiger2505/deoplete-vim-lsp","id":1,"title":"lighttiger2505/deoplete-vim-lsp","title_link":"https://github.com/lighttiger2505/deoplete-vim-lsp/search?q=lsp%23complete&unscoped_q=lsp%23complete","text":"deoplete source for vim-lsp. Contribute to lighttiger2505/deoplete-vim-lsp development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/417232?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/lighttiger2505/deoplete-vim-lsp/search?q=lsp%23complete&unscoped_q=lsp%23complete","original_url":"https://github.com/lighttiger2505/deoplete-vim-lsp/search?q=lsp%23complete&amp;unscoped_q=lsp%23complete"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d9079d1f-1da1-486e-a73b-4ffa49c1a94c","type":"message","user":"U03C6TEAZ","text":"lsp の関数を直接たたいてます。","ts":"1567129077.099700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dd1bd8f4-23ec-4fd9-a6d3-11ab00574629","type":"message","user":"UAZ33BKV2","text":"`lsp#send_request` はまだともかく、もしかしてdocにない、そして改善で挙動がかわったとか実装がなくなった関数使ってる箇所あったりしたら動きに問題でそう...","ts":"1567129302.101300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"81b0fba5-03e9-4d61-974a-d3fc621395de","type":"message","user":"U03C6TEAZ","text":"`lsp#complete` の中から `lsp#send_request` を呼び出してるんですが、その呼び出し周辺に必要なコードがあると動かなくなるかもしれないですね。","ts":"1567129450.101900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"10a996b3-16f9-4f85-8c3b-64e743d8f2b1","type":"message","user":"U8996GYBF","text":"deoplete-vim-lsp、rankが500なんでそれ以上のrankのsourceがあって候補を上書きしてる可能性はありそう","ts":"1567129554.102700","edited":{"user":"U8996GYBF","ts":"1567129562.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f52d15e8-b644-4fe4-ba26-3c6003c4dd6f","type":"message","user":"U8996GYBF","text":"rankをあげるか `call deoplete#custom#source('lsp', 'dup', v:true)` とかしてみるといいかも","ts":"1567129609.103400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"144cecdf-91dc-43df-89c1-3cb8525e92da","type":"message","user":"U72TB62UF","text":"rankとdup両方ためしてみましたが、bufferやaroundに上書きされてしまいますねえ。","ts":"1567130071.103900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"42660091-f126-47d2-a170-6ba9cc785320","type":"message","user":"U72TB62UF","text":"あかん、いっかいdeopleteから離れよう。沼ってる（ ；´。 ｀；）","ts":"1567130092.104300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4b3245ca-94ac-44d8-87ec-0d02b37f406c","type":"message","user":"U8996GYBF","text":"あとはphpファイルでの補完ソースをlspだけにするとか","ts":"1567130299.104700","edited":{"user":"U8996GYBF","ts":"1567130311.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1150bcbf-3c97-47a8-9526-22721e9b0626","type":"message","user":"U7TMPGWJ0","text":"そういえば php で asyncomplete でも `autocmd Filetype php setlocal iskeyword+=$` で iskeyword に $ を追加しても $以降の入力で自動補完の候補きえちゃんですよね。","ts":"1567130797.105900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c05ddff8-98af-4bf3-a13a-70c049328226","type":"message","user":"U72TB62UF","text":"あ、これlanguage-serverのほうが原因かも。\nasynccomplete.vimに変えても、1文字目まではlsp補完が効いて、2文字目から補完リストが消える…","ts":"1567130814.106300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bcf06540-5ef8-4862-b2e9-0094d61cd3fe","type":"message","user":"UAZ33BKV2","text":"おっと...新情報で進展が","ts":"1567130830.106800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97899f86-a385-42b3-89ee-73b2d795ae8a","type":"message","user":"U7TMPGWJ0","text":"いや、自動補完プラグイン側でしょうね。","ts":"1567130837.107000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a8824c15-82d7-4577-b52d-c2a0b590efba","type":"message","user":"U03C6TEAZ","text":"一度どなたかキャプチャ貰えませんか","ts":"1567130870.108100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f4602660-4fdf-47d6-8acf-585639e9becc","type":"message","user":"U72TB62UF","text":"deoplete, asyncompleteの両方で消えるのは不思議感ある","ts":"1567130878.108400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"044445e2-5346-4508-b6f6-035c142de9e8","type":"message","user":"U7TMPGWJ0","text":"ncm2 は大丈夫だったかな。今使ってない。 coc.nvim + coc-phpls はバッチリかな","ts":"1567130885.108700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ca251d52-292f-45d9-923b-68199526582c","type":"message","user":"U72TB62UF","text":"なるほど、cocだと大丈夫なのですね","ts":"1567130910.109000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d76c5dd5-23db-4622-b63a-4cbbf63e727f","type":"message","user":"U7TMPGWJ0","text":"どれもintelephense使うし、オムニ補完では補完候補でるので自動補完プラグイン側じゃないかなーと。","ts":"1567130955.109700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28b65a8b-53d2-4520-8689-6a6e97ea547b","type":"message","user":"U72TB62UF","text":"このレベルのコードでも発生するようです","ts":"1567131199.109800","files":[{"id":"FMV9XBCQG","created":0,"timestamp":0,"name":"","title":"","mimetype":"","image_exif_rotation":0,"filetype":"","pretty_type":"","user":"","mode":"tombstone","editable":false,"is_external":false,"external_type":"","size":0,"url":"","url_download":"","url_private":"","url_private_download":"","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"","permalink_public":"","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":false,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""},{"id":"FMX5XSZJT","created":0,"timestamp":0,"name":"","title":"","mimetype":"","image_exif_rotation":0,"filetype":"","pretty_type":"","user":"","mode":"tombstone","editable":false,"is_external":false,"external_type":"","size":0,"url":"","url_download":"","url_private":"","url_private_download":"","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"","permalink_public":"","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":false,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"5e67c042-c949-436d-8ccd-46acfc478244","type":"message","user":"U72TB62UF","text":"あ、2枚目間違えた","ts":"1567131216.110500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"12bd6e49-a2a3-4492-95df-21b76fe9b8a1","type":"message","user":"U72TB62UF","text":"キャプチャ再送信","ts":"1567131326.110800","files":[{"id":"FMV9YFC2U","created":1567131325,"timestamp":1567131325,"name":"1文字目.png","title":"1文字目.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U72TB62UF","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":25325,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FMV9YFC2U/1_________.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FMV9YFC2U/download/1_________.png","original_h":406,"original_w":488,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FMV9YFC2U-faea045e28/1__________64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FMV9YFC2U-faea045e28/1__________80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FMV9YFC2U-faea045e28/1__________160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FMV9YFC2U-faea045e28/1__________360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":300,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FMV9YFC2U-faea045e28/1__________480.png","thumb_480_w":480,"thumb_480_h":399,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U72TB62UF/FMV9YFC2U/1_________.png","permalink_public":"https://slack-files.com/T03C4RC8V-FMV9YFC2U-e166ccf5ae","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""},{"id":"FMHS76UD9","created":1567131325,"timestamp":1567131325,"name":"2文字め.png","title":"2文字め.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U72TB62UF","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":18770,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FMHS76UD9/2_________.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FMHS76UD9/download/2_________.png","original_h":430,"original_w":459,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FMHS76UD9-47d79d79b7/2__________64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FMHS76UD9-47d79d79b7/2__________80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FMHS76UD9-47d79d79b7/2__________160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FMHS76UD9-47d79d79b7/2__________360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":337,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U72TB62UF/FMHS76UD9/2_________.png","permalink_public":"https://slack-files.com/T03C4RC8V-FMHS76UD9-e264647c55","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"934cee11-94cc-4832-9a4b-39111073de45","type":"message","user":"U72TB62UF","text":"2文字目の『g』を入力すると、補完リストが消える（asyncomplete.vim ;  vim-lsp環境）","ts":"1567131371.112100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"28294b75-9de1-420a-b299-8b8793246a4d","type":"message","user":"UAZ33BKV2","text":"ちなみに google とgopher (goまで同じ) とかだと、途中での2択の絞り込みとかはどうなります? なにもならないでいきなり消えますか?","ts":"1567131421.113100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6e6f979c-a0c4-46a0-8b7d-e2e923f1cb75","type":"message","user":"U72TB62UF","text":"2択であっても、gを入力した時点で補完リストが消えます","ts":"1567131475.113700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4b877aad-368f-47e4-9b7d-ed2446b07f4f","type":"message","user":"UAZ33BKV2","text":"oh...なんか根本な問題があるのは確実っぽいですね(選択肢の優先度とか候補数ではないの意味で)","ts":"1567131522.114600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"816deb2a-6c54-4eb2-9d75-4131a21d95a1","type":"message","user":"U72TB62UF","text":"あれ、なんか思わぬ展開になってきた…（ ；´。 ｀；）","ts":"1567131593.116100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf824228-5685-481d-80d1-eb30c27627a7","type":"message","user":"U72TB62UF","text":"でも、cocでは動いている。何が違うんだろう。","ts":"1567131661.117300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bc240105-cb54-42f3-9cd9-82b4b7457eb5","type":"message","user":"U7TMPGWJ0","text":"asyncomplete の古いのだと(通称1系？)だと g:asyncomplete_default_refresh_patter みたいなのあったけどいじって調整できたか記録がなんとも覚えてない。\n\n<https://github.com/prabirshrestha/asyncomplete.vim/commit/aa3ad0d69ae4853d79ea3d677103ab87d08d9341#diff-ee51b2014f80bbee65b412c0f84671d6>","ts":"1567132030.117500","attachments":[{"fallback":"GitHub: add g:asyncomplete_default_refresh_pattern - '\\(\\k\\+$\\|\\.$\\|:$\\)' (#57) · prabirshrestha/asyncomplete.vim@aa3ad0d","id":1,"title":"add g:asyncomplete_default_refresh_pattern - '\\(\\k\\+$\\|\\.$\\|:$\\)' (#57) · prabirshrestha/asyncomplete.vim@aa3ad0d","title_link":"https://github.com/prabirshrestha/asyncomplete.vim/commit/aa3ad0d69ae4853d79ea3d677103ab87d08d9341#diff-ee51b2014f80bbee65b412c0f84671d6","text":"async completion in pure vim script for vim8 and neovim - prabirshrestha/asyncomplete.vim","thumb_url":"https://avatars3.githubusercontent.com/u/287744?s=200&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":200,"thumb_height":200,"from_url":"https://github.com/prabirshrestha/asyncomplete.vim/commit/aa3ad0d69ae4853d79ea3d677103ab87d08d9341#diff-ee51b2014f80bbee65b412c0f84671d6","original_url":"https://github.com/prabirshrestha/asyncomplete.vim/commit/aa3ad0d69ae4853d79ea3d677103ab87d08d9341#diff-ee51b2014f80bbee65b412c0f84671d6"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7af80c13-9b48-498b-8b8f-3dd02ec14ca8","type":"message","user":"U72TB62UF","text":"coc.nvimためしてみよう","ts":"1567132450.117800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d8883b0-5ba1-4dab-82b9-c7d1e21ab7ef","type":"message","user":"U78A6ESHM","text":"普通に omnifunc に vim-lsp 設定して、C-x C-o で補完出るか試した方が良さそう。そうすれば自動補完か vim-lsp かの切り分けができそうですと思ったら coc は動くのかー。","ts":"1567132583.119200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4400f8e6-0e56-4445-b66a-4f06850992e3","type":"message","user":"U7TMPGWJ0","text":"deopleteでもリフレッシュするパターンみたいなのいじれなかったでしたっけ？","ts":"1567132829.119700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e2161538-58d5-4c90-8cef-acfaff11569a","type":"message","user":"UGYM5NT2T","text":"`質問です`\nVimで｀:term｀を実行時に｀.bash_profile｀内で設定している項目が反映されなくて困っています、何か心当たりのある方はご教示いただきたいです。","ts":"1567133260.121500","edited":{"user":"UGYM5NT2T","ts":"1567133344.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4ee7210b-4379-45b2-86af-ba0a3a67027e","type":"message","user":"U8CC7MDCL","text":"対話シェル起動時は `.bashrc` が呼びだされるんじゃなかったっけ…\nログインシェルの場合は `.bash_profile` だった気がします。","ts":"1567133461.122700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8a61d139-4582-43cd-8689-3ace4c304b27","type":"message","user":"U7TMPGWJ0","text":"`.bashrc` で 読み込んじゃえばとりあえずはハッピーかも。\n\n```\nif [ -f ~/.bash_profile ]; then\n   source ~/.bash_profile\nfi\n```","ts":"1567133679.122900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9c6d8919-a792-492c-8651-16467781cd15","type":"message","user":"UGYM5NT2T","text":"環境変数やaliasの設定は、いつも何も考えずに｀.bash_profile｀にすべて書き込んでいるのですが、｀.bashrc｀や｀.bash_aliases｀等にちゃんと分けて書いたほうがいいのでしょうか？","ts":"1567133822.124800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e606d9f5-ca06-447e-9f11-b9e8e80e05b3","type":"message","user":"UAZ33BKV2","text":"<https://qiita.com/takutoki/items/021b804b9957fe65e093>\n参考までに","ts":"1567133870.125000","attachments":[{"fallback":"Qiita: .bash_profileと.bashrcのまとめ - Qiita","id":1,"title":".bash_profileと.bashrcのまとめ - Qiita","title_link":"https://qiita.com/takutoki/items/021b804b9957fe65e093","text":"# はじめに bashを使うにあたり、使用環境をユーザ好みにカスタマイズができる。 - .bash_profile - .bashrc この２つが設定ファイルである。 それぞれのファイル設定の使い分けをまとめる。 # .bas...","thumb_url":"https://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png","thumb_width":200,"thumb_height":200,"from_url":"https://qiita.com/takutoki/items/021b804b9957fe65e093","original_url":"https://qiita.com/takutoki/items/021b804b9957fe65e093"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ecc260f4-6b38-47ba-aae5-ea5cb760fad6","type":"message","user":"UAZ33BKV2","text":"基本はbashrcに書く (bash_profileはrcを読むようにしておく) あたりが無難だと思う","ts":"1567133892.125600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"137566dc-560e-4004-9c68-c03d6db56458","type":"message","user":"UGYM5NT2T","text":"いろいろな記事を見ても賛否両論な気がしてくるんですよね。。","ts":"1567133943.126200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2705789a-689c-4ac5-94bf-83432646e533","type":"message","user":"UAZ33BKV2","text":"とはいえ、bash_profileをシェル起動都度読まれる、と考えるのは無理がありますし...","ts":"1567133972.126800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ff3ec3e-b1d8-4650-9463-5cf12a398306","type":"message","user":"UDDCM376D","text":"bashrcしか使っていなかった","ts":"1567134089.128000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6bc184a4-fb25-4ba0-a7e7-cea9af66e06b","type":"message","user":"UAZ33BKV2","text":"自分もbashrcにありすぎて、これはこれで問題なんだけど","ts":"1567134099.128500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ff883b9b-b4e4-4084-831d-fb3305e6a28a","type":"message","user":"U7HFY4HFY","text":"Linuxならログインし直せば `.profile` などは再読み込みされますね\nなので環境変数はここで設定します","ts":"1567134112.128800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d405867a-3325-4f06-ae34-b1ff7f9ef287","type":"message","user":"UGYM5NT2T","text":"macってデフォルトで｀.bashrc｀って入ってないですよね？","ts":"1567134149.129900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eeb41eb8-9a9f-4382-8262-21323d1a8514","type":"message","user":"U7HFY4HFY","text":"`.bashrc` で `PATH=$PATH:...` やるとbashの中でbash実行するたびにPATHがどんどん長くなることになります","ts":"1567134172.130600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"58635078-f3ab-4be4-a69b-52b624e7dbcd","type":"message","user":"UAZ33BKV2","text":"というかbashrcに書くと再定義で変になる場合もあるし、気を使ってしまうので、ならちゃんとprofileに書けという話はあるしなあ","ts":"1567134180.130900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b3ad79b8-3d43-4d88-8dc0-07a343031e38","type":"message","user":"UAZ33BKV2","text":"PS1とかみたいなのがちょっとあやふやになりやすいのはある","ts":"1567134215.131400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"efa088ed-c5ca-42e6-a641-3661d4abc827","type":"message","user":"U7HFY4HFY","text":"逆にaliasなどは子プロセスのbashに引き継がれないので `.bashrc` に書いてます","ts":"1567134292.131900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"707c1d76-1f62-4d49-bb6b-bfd3810d4cc3","type":"message","user":"U03C71D7H","text":"`:term /bin/bash -i`","ts":"1567134360.132100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dc35ddc4-5062-4f86-b406-f5936e2212c3","type":"message","user":"U03C71D7H","text":"bash_profile 読んでほしいならログインシェルとして起動(`-i`)すれば…","ts":"1567134389.132500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2bd44c77-12d7-443f-bd83-290c5bd43f00","type":"message","user":"U7HFY4HFY","text":"`-i` じゃなくて `-l`ですね","ts":"1567134421.133100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aebc045b-a041-4504-af01-43a0cfd1e45a","type":"message","user":"UAZ33BKV2","text":"`-i` はインタラクティブシェル、でしたっけ","ts":"1567134442.133600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ceb94f9e-4dc1-467f-8f0f-7f5b8ed263cc","type":"message","user":"U03C71D7H","text":"雑な記憶で貼ってしまった :man-bowing:","ts":"1567134443.133700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6b36bcb2-1edf-4f43-9e4a-17c4322c4083","type":"message","user":"UGYM5NT2T","text":"なるほど。僕は `profile` に書く癖が付いてるので、とりあえず `-l` でログインシェルとして起動するように使ってみます！\nありがとうございます！","ts":"1567134731.135000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"35e2fe10-3cfe-42fa-a537-99888f65f541","type":"message","user":"U03C6TEAZ","text":".bash_profile は OS によって扱われ方が異なりますが、昔からの流れならば .bash_profile は初回(と明示的なログイン)しか読まれないですね。","ts":"1567134810.135800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dd5bb292-5d94-4ae7-b159-00cb00f5f428","type":"message","user":"U03C6TEAZ","text":"OS = ディストリビューションを含みます。","ts":"1567134825.136100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2782c001-7886-4c41-b184-5760a294bf95","type":"message","user":"U03C6TEAZ","text":"ubuntu のあるバージョンだと .bashrc で `. $HOME/.bash_profile` みたいな事をしてたりしてた。","ts":"1567134860.136800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d4d40690-cb41-4143-a6f7-739a0ea65bc9","type":"message","user":"UAZ33BKV2","text":"<https://qiita.com/incep/items/7e5760de0c2c748296aa>\nログインシェルとしてprofile読むと、中でrc読むとかしないと読まない(かもしれない)のもあるのか","ts":"1567134935.137400","attachments":[{"fallback":"Qiita: ログインシェルとインタラクティブシェルと~/.bashrc達の関係 - Qiita","id":1,"title":"ログインシェルとインタラクティブシェルと~/.bashrc達の関係 - Qiita","title_link":"https://qiita.com/incep/items/7e5760de0c2c748296aa","text":"## Update &amp; 注意 (2017.5.9) + 最初の投稿からかなりの時間が経過しましたが、いくつか修正点が見つかりましたので、それぞれ訂正の注記を入れておきました。また、ポイントのまとめを表に改めました。 ...","thumb_url":"https://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png","thumb_width":200,"thumb_height":200,"from_url":"https://qiita.com/incep/items/7e5760de0c2c748296aa","original_url":"https://qiita.com/incep/items/7e5760de0c2c748296aa"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UDALTB6VA","text":"<@UDALTB6VA> has joined the channel","ts":"1567136726.138100","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"1ff791d7-0e8c-4056-a9b1-67d856cd8952","type":"message","user":"U7TMPGWJ0","text":"php で asyncomplete.vim のLSP構成で で $ の次の文字で補完が消えちゃうの `asyncomplete-lsp.vim` がーってことかも。iskeyword見るようにコレを `\\k` にしたらいい感じかなー。 `'\\k\\+$'` 。iskeywordに$追加して。\n\n<https://github.com/prabirshrestha/asyncomplete-lsp.vim/blob/master/plugin/asyncomplete-lsp.vim#L92>","ts":"1567147359.138400","attachments":[{"fallback":"GitHub: prabirshrestha/asyncomplete-lsp.vim","id":1,"title":"prabirshrestha/asyncomplete-lsp.vim","title_link":"https://github.com/prabirshrestha/asyncomplete-lsp.vim/blob/master/plugin/asyncomplete-lsp.vim#L92","text":"Contribute to prabirshrestha/asyncomplete-lsp.vim development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/287744?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/bfaba/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/prabirshrestha/asyncomplete-lsp.vim/blob/master/plugin/asyncomplete-lsp.vim#L92","original_url":"https://github.com/prabirshrestha/asyncomplete-lsp.vim/blob/master/plugin/asyncomplete-lsp.vim#L92"}],"edited":{"user":"U7TMPGWJ0","ts":"1567147703.000000"},"team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["U72TB62UF"]}],"replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
