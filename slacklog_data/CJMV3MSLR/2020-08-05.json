[{"client_msg_id":"bd5f2a35-f18c-4113-8494-3090d511da9d","type":"message","user":"UBB2G7925","text":"こんにちは。ごぶさたしています。質問があります。","ts":"1596608640.197600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+++AB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"abe7c930-56dc-40a8-84c2-1bc2a4540f8c","type":"message","user":"UBB2G7925","text":"eskkが動かなくなってしまいました。ctrl-Jを入力すると改行がはいります。\npluginが有効になっていないように見えます。minpacを使っていて、他の問題を解決するためにいろんなpluginを外したり、戻したりしていたらeskkが使えなくなってしまいました。\nこういうときどういうことをすれば原因を特定できそうでしょうか？","ts":"1596608754.199800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EXB4o"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"20e1dbb8-0212-4f45-a1b4-9786abceac73","type":"message","user":"U6XP9LZ6V","text":"`:echo &amp;rtp` で runtimepath が正しいかを確認したり、`:scriptnames` でスクリプトが読み込まれているかを確認したり、でしょうか。","ts":"1596608858.201400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9R7U"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dc415b17-6597-45fc-98e0-d26c5aa2fc78","type":"message","user":"U03C71D7H","text":"`:filter /eskk/ scriptnames` とすると eskk.vim 関係のファイルが読まれているか確認しやすいです","ts":"1596608896.201800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hX4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9535f705-6367-40c2-aaea-7aebcc06770b","type":"message","user":"UBB2G7925","text":"`echo &amp;rtp` ではeskkのインストールされているパスが出るのですが、 `:scriptnames` でeskkの名前が出てこないですねー","ts":"1596609085.203000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DPOV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2c1004d-3eba-4259-ae6e-4957f758c049","type":"message","user":"U03C71D7H","text":"Vim の起動後に rtp が変更された可能性がありそうです","ts":"1596609139.203500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IG0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1ade2dcb-8539-4402-a627-a90c69d875c6","type":"message","user":"UBB2G7925","text":"なんと！ それは誰が悪さしているのでしょう？ 初心者な発言をすると、pluginを外したり( `call minpac#clean()`)戻したり( `call minpac#update()`)しかしていないのですが…","ts":"1596609354.205900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yEiC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1514a595-3b81-46b7-870b-8d466a679ebe","type":"message","user":"U03C71D7H","text":"minpac は確かロードについては Vim 本体の package 機能を使っているのだったかな","ts":"1596609395.206400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Clof"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"20d5a5db-6fb4-461b-ba93-0f3527adb92c","type":"message","user":"U6XP9LZ6V","text":"です","ts":"1596609408.206600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GGOJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c49823fc-6353-4a15-b3d2-7a5cc41b58a2","type":"message","user":"U03C71D7H","text":"だとすると rtp に追加されたら同時にロードもされてそうなものだけど…ふむ…","ts":"1596609465.207200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d/O"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"87670a32-aeb2-408d-813e-0452bb869cc9","type":"message","user":"U03C71D7H","text":"eskk.vim は具体的にどんなパスに配置されているでしょう?","ts":"1596609565.207600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N3r"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8cf2deaf-ed62-441a-a717-fccb469fda9b","type":"message","user":"UBB2G7925","text":"`~/.config/vim/pack/minpac/start/eskk.vim` です。`set packpath^=~/.config/vim` になっています。","ts":"1596609783.208200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qzI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66f7c157-e499-42f2-822c-59461b126adc","type":"message","user":"UBB2G7925","text":"ちなみに、 `eskk.vim/rplugin/python3/deoplete/sources/__pycache__/eskk.cpython-36.pyc` とうファイルがあるだけですね。これは何かおかしい？","ts":"1596609927.209600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3CC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bef584c2-17ad-4f17-931b-e5af7c1017c4","type":"message","user":"U03C71D7H","text":"それは明らかにおかしいですね","ts":"1596609941.210000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"URWzi"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c45fd02b-b52e-42e8-8a93-d903d7acfe7d","type":"message","user":"UBB2G7925","text":"いちど、 `eskk.vim` を削除して `minpac#update()` やりなおしてみます。","ts":"1596609967.210600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=QD1="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ccfb2968-cc30-4d44-8164-6e868214379c","type":"message","user":"U03C71D7H","text":"それがよさそう","ts":"1596609988.210800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"X4mxU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6cc2c8bd-316d-4016-b0cf-616a7ceb4a77","type":"message","user":"UBB2G7925","text":"入れなおしたら直りました!!!","ts":"1596610126.211100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"taeS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"569493a1-f6c7-427e-adc1-e21d0a0d2e1b","type":"message","user":"UBB2G7925","text":"ありがとうございました。","ts":"1596610135.211300","team":"T03C4RC8V","reactions":[{"name":"tada","count":4,"users":["U03C71D7H","U8CC7MDCL","U6XP9LZ6V","U017BU3UZBQ"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B1L=T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"be07af91-9956-41e6-90ff-97ddf4ea5322","type":"message","user":"U6XP9LZ6V","text":"`minpac#clean()` とかがバグってないかちょっと気になってきた…","ts":"1596610244.212400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xJ3Dk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d1cf6be8-6bf9-4cee-be6e-fcebb204043f","type":"message","user":"UBB2G7925","text":"なんかのプラグインで `hoge.pyc` がrootの持ち物になっていて削除できなかったことがあったので、同じパターンかもしれません。(今のやつも見ればよかった…)","ts":"1596610349.214000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ReBf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a882901a-e6e3-46d2-b481-5870499cabc1","type":"message","user":"U776661HA","text":"持ち主 root は大抵 `sudo vim` って起動してしまうのが原因なので <https://github.com/lambdalisue/suda.vim> 使ったりすると幸せになれるかもしれません","ts":"1596610518.215000","attachments":[{"fallback":"GitHub: lambdalisue/suda.vim","id":1,"title":"lambdalisue/suda.vim","title_link":"https://github.com/lambdalisue/suda.vim","text":":sandwich: An alternative sudo.vim for Vim and Neovim, limited support sudo in Windows - lambdalisue/suda.vim","thumb_url":"https://avatars3.githubusercontent.com/u/546312?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/lambdalisue/suda.vim","original_url":"https://github.com/lambdalisue/suda.vim"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gEm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"970e099c-5cd0-4f32-ac15-699d349ac44e","type":"message","user":"U776661HA","text":"Vim なら `:w !sudo tee % &gt; /dev/null` でもいいので、それを `w!!` とかに `cnoreabbre` しとくのも良いです","ts":"1596610594.216000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QJ+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"821f4a26-2a5e-46af-a01a-c24def48afa1","type":"message","user":"U6XP9LZ6V","text":"最初から root が必要なファイルを編集すると分かってるなら `sudoedit` を使うのがいいかな。","ts":"1596610669.216900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AP7D"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb0275f0-1a2e-4a5c-8e7d-26c861ea8dc7","type":"message","user":"UBB2G7925","text":"なるほどです!!ありがとうございます。","ts":"1596610697.217400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/JEvf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
