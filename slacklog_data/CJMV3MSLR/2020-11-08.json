[{"type":"message","user":"U01E9EX7KJ7","text":"\u003c@U01E9EX7KJ7\u003e has joined the channel","ts":"1604827538.228200","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U01E2FCA2GN","text":"\u003c@U01E2FCA2GN\u003e has joined the channel","ts":"1604821378.227400","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U01E2DL1U22","text":"\u003c@U01E2DL1U22\u003e has joined the channel","ts":"1604812642.227200","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"UPZHKAM7W","text":"```\n                                                *:undoj* *:undojoin* *E790*\n:undoj[oin]             以降の変更を直前の undo ブロックにつなげる。\n                        警告: 注意して使ってください。ユーザーが適切に変更を\n                        undo するのを妨げてしまうかもしれません。undo や redo\n                        の後でこのコマンドを使わないでください。\n \nこれは特に変更の途中でプロンプトを表示するような場合に便利です。例えば関数の中\nで |getchar()| を呼び出すなど。変更をつなげてしかるべき関連性のある変更がそこ\nにあることがわかっている場合に使ってください。\n \nこのコマンドは単独では機能しません。なぜなら、次のキー入力によって再び新しい変\n更が開始されるからです。しかし例えば次のように使うことはできます:  \n \n        :undojoin | delete\n \nこの後で \"u\" コマンドを実行すると delete コマンドとその直前の変更が undo され\nます。\n \n反対の動作、つまり変更を二つの undo ブロックに分けるには、挿入モードでCTRL-G u\nを使います。挿入コマンドを部分ごと (例えば文単位) に undo できるようにしたい場\n合に便利です。 |i_CTRL-G_u|\n'undolevels' の値を設定したときも undo は区切られます。新しい値と古い値が同じ\nでもそうなります。\n```","ts":"1604808313.226800","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"4f92f6e7-eb59-4826-bb24-e2c1576e8587","type":"message","user":"U8996GYBF","text":":h undojoin","ts":"1604808313.226700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V2W3"}]},{"client_msg_id":"019b8e45-22fe-471f-9a0b-8910ea5c5c34","type":"message","user":"U8996GYBF","text":"コマンド実行から終了時までを1つのundoにしたい","ts":"1604808250.226500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FJON"}]},{"client_msg_id":"7fee91a1-1958-4834-a9e5-0e26728cec55","type":"message","user":"U8996GYBF","text":"undoをまとめる機能とかないのかな・・・","ts":"1604808210.226200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5uH"}]},{"client_msg_id":"bbf0b662-5bbf-45f1-9b59-cbf154f55143","type":"message","user":"U8996GYBF","text":"UndoTree見たんですけど、Organize Importの途中のテキストとeslint fixの結果が混ざったみたいなのが途中に割り込んだりして辛いことになるっぽいですねー","ts":"1604808200.226000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ab4J"}]},{"client_msg_id":"9f0c13cc-68af-4571-9c46-09a221bdfb4a","type":"message","user":"U8996GYBF","text":"（もっと良い方法思いつく方が居たら助言いただきたいです）","ts":"1604807593.225300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Fnd"}]},{"client_msg_id":"1d433bd5-7d23-49a6-b5cf-d5969277f758","type":"message","user":"U8996GYBF","text":"これ初見かなり分からないですよね、非同期邪魔すぎる","ts":"1604806206.224400","edited":{"user":"U8996GYBF","ts":"1604806211.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wep/Q"}]},{"client_msg_id":"90e6cd96-6199-4fee-bf82-f0996f33a752","type":"message","user":"U8996GYBF","text":"というかredo","ts":"1604806131.224100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UmRTt"}]},{"client_msg_id":"3f4bdd0c-68d7-492c-bfa2-2f5ef480d363","type":"message","user":"U8996GYBF","text":"これでもなんかundoが怪しい気がする","ts":"1604806127.223900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PtNw"}]},{"client_msg_id":"56aac732-3ecc-4d21-aa6d-df4f5483d9f6","type":"message","user":"UAZ33BKV2","text":"難しい","ts":"1604806075.223500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZLA"}]},{"client_msg_id":"288d81b9-1032-4080-b984-4e3b05e7ae17","type":"message","user":"U8996GYBF","text":"```function! s:organize_import_and_eslint() abort\n  augroup lint_with_organize_import\n    autocmd!\n    autocmd TextChanged * CocCommand eslint.executeAutofix\n  augroup END\n\n  function! s:orgamize_import_callback(fail, success) abort\n    autocmd! lint_with_organize_import\n  endfunction\n\n  call CocAction('runCommand', 'editor.action.organizeImport', function('\u0026lt;SID\u0026gt;orgamize_import_callback'))\nendfunction\n\ncommand! -nargs=0 OrganizeImport          call CocAction('runCommand', 'editor.action.organizeImport')\ncommand! -nargs=0 OrganizeImportAndESLint call \u0026lt;SID\u0026gt;organize_import_and_eslint()```\n多分これでいけました・・・\nありがとうございます","ts":"1604806025.223100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CDF"}]},{"client_msg_id":"a8e15e86-8a4d-4281-a60e-be5f42b6acd2","type":"message","user":"U8996GYBF","text":"neovimのbuildとcocのmasterインストール中","ts":"1604805374.222800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CLJv"}]},{"client_msg_id":"b006ad58-96c7-43e3-b290-1f58e140a181","type":"message","user":"U8996GYBF","text":"これcallbackがcallbackになってないのが本気で最悪では","ts":"1604805278.222500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Akl"}]},{"client_msg_id":"a4b0088f-90e7-4d99-b0a1-2e75ac23bae6","type":"message","user":"U8996GYBF","text":"ちょっと色々試してます","ts":"1604805268.222100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"atpHB"}]},{"client_msg_id":"6b4fdaa4-4caf-4ca4-afc2-bcc8195560ff","type":"message","user":"UAZ33BKV2","text":"undoがどうなってるか、ためにし全部おわったあとでどんどんundoしてみて、変更経過を見てみてもいいかも","ts":"1604805081.221900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L9R"}]},{"client_msg_id":"61ebbefa-23f0-4fc8-8a06-ad32b54e91d5","type":"message","user":"U8996GYBF","text":"`autocmd! lint_with_organize_import` するタイミングが特定できない・・・","ts":"1604804901.221400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7iygU"}]},{"client_msg_id":"dfa2a016-1cd3-4c22-bd4d-8274f01c3692","type":"message","user":"U8996GYBF","text":"errorがv:nullでresponseがv:true","ts":"1604804820.221000","edited":{"user":"U8996GYBF","ts":"1604804826.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"f8Fdw"}]},{"client_msg_id":"627c1aae-70ca-493a-88f6-56d1ba4d34b5","type":"message","user":"U8996GYBF","text":"response、 v:trueだったんですよね","ts":"1604804810.220700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ichM"}]},{"client_msg_id":"69a5adda-e1c3-4861-a4ed-ae665bf299cd","type":"message","user":"U8996GYBF","text":"これもしかしてundoぶっ壊れません？","ts":"1604804731.220500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RvILS"}]},{"client_msg_id":"9c912a5d-5a2d-4c84-9142-00557df9dd33","type":"message","user":"UAZ33BKV2","text":"```CocActionAsync({action}, [...{args}, [{callback}]])\n\n\tCall CocAction without blocking vim.\n\n\tOptional callback is called with `error` as the first argument and\n\t`response` as the second argument.```\nこれ、responseに状態とかなにか返ってきてないかな","ts":"1604804660.220200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AgN2"}]},{"client_msg_id":"1bea6aab-8326-4a2d-b74a-722569583c4b","type":"message","user":"UAZ33BKV2","text":"CocActionの完了が欲しいですねえ","ts":"1604804614.219800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2K64s"}]},{"client_msg_id":"e4b62bd1-b4c8-4f90-ac8d-3a1fcfe3b578","type":"message","user":"U8996GYBF","text":"あまりにもワークアラウンドでクソでは・・・","ts":"1604804594.219500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Gube"}]},{"client_msg_id":"ad60bf7c-d7c9-47b9-970f-99ddfdeb2200","type":"message","user":"U8996GYBF","text":"```function! Foo() abort\n  augroup lint_with_organize_import\n    autocmd!\n    autocmd TextChanged * CocCommand eslint.executeAutofix\n  augroup END\n  call CocActionAsync('runCommand', 'editor.action.organizeImport', function('s:bar'))\n  autocmd! lint_with_organize_import\nendfunction```\nこうかな・・・\n試してみよう・・・","ts":"1604804563.219100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VXE"}]},{"client_msg_id":"a17aeb93-6fc9-4086-aa7d-788abbe94b4d","type":"message","user":"UAZ33BKV2","text":"あー....ありえそう","ts":"1604804388.218800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WjK"}]},{"client_msg_id":"bb8383d2-83ba-4124-b963-f77d3a6ec5ce","type":"message","user":"U8996GYBF","text":"これ、OrganizeImportが何回もバッファ書き換えてるのかもしかして","ts":"1604804340.218600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pjq"}]},{"client_msg_id":"7ac78a3e-68ec-4a51-9051-cd70e8020095","type":"message","user":"U8996GYBF","text":"あ、onceはずしたら動いた","ts":"1604804321.218100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cs1"}]},{"client_msg_id":"f453ec7b-e3af-4256-9584-e3a33e908470","type":"message","user":"U8996GYBF","text":"ですねー","ts":"1604804286.217900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KgN"}]},{"client_msg_id":"b3420f99-9b37-4e35-8726-d04e83c15af0","type":"message","user":"UAZ33BKV2","text":"とりあず \u0026lt;bufffer\u0026gt;やonce外して動くか見てみます?","ts":"1604804280.217700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iG8"}]},{"client_msg_id":"c96a2611-2089-47ac-8b4e-12848aa28568","type":"message","user":"U8996GYBF","text":"```  augroup lint_with_organize_import\n    autocmd!\n    autocmd TextChanged \u0026lt;buffer\u0026gt; ++once * CocCommand eslint.executeAutofix\n    autocmd TextChanged * echo 'baz'\n  augroup END```\nこうしたら `baz` は出る","ts":"1604804216.216600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Qga"}]},{"client_msg_id":"50e967cd-2472-48f9-b932-1667ce82cb19","type":"message","user":"U8996GYBF","text":"organizeImportは実行されてる","ts":"1604804134.216300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q/ktJ"}]},{"client_msg_id":"529c91dd-4382-4563-a867-52afed7ca40c","type":"message","user":"U8996GYBF","text":"```function! Foo() abort\n  augroup lint_with_organize_import\n    autocmd!\n    autocmd TextChanged \u0026lt;buffer\u0026gt; ++once * CocCommand eslint.executeAutofix\n  augroup END\n  call CocActionAsync('runCommand', 'editor.action.organizeImport', function('s:bar'))\nendfunction```\nなんでこれだめなんだろう","ts":"1604804103.216000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g4hHq"}]},{"client_msg_id":"2a2c8d15-eacd-4165-8fbd-4e4f31c4cb60","type":"message","user":"U8996GYBF","text":"できますね","ts":"1604804070.215800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i+d="}]},{"client_msg_id":"aa6bfd28-e62f-45c1-827a-2e570e192961","type":"message","user":"UAZ33BKV2","text":"でも手打で Org import -\u0026gt; eslint fix はできるんだよね(他に操作を挟まないで)","ts":"1604803990.215600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/0kh"}]},{"client_msg_id":"7cee4274-7cf7-4fe8-bf1c-f55ea405a587","type":"message","user":"U8996GYBF","text":"CocActionで書き換わった時はTextChanged発火しないのかな","ts":"1604803676.215100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Yk4O"}]},{"client_msg_id":"b07206c7-0a10-49d5-b58e-be369b31b463","type":"message","user":"U8996GYBF","text":"```function! Foo() abort\n  call CocActionAsync('runCommand', 'editor.action.organizeImport', function('s:bar'))\nendfunction\n\nfunction! s:bar(fail, success) abort\n  if a:success\n    augroup lint_with_organize_import\n      autocmd!\n      autocmd TextChanged ++once * call CocAction('runCommand', 'eslint.executeAutofix')\n    augroup END\n  endif\nendfunction```\nあれー、これでいけるとおもったんだけど","ts":"1604802993.214600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YtT1K"}]},{"client_msg_id":"ff9cc0aa-84da-4e84-8190-d8548a068c6d","type":"message","user":"UAZ33BKV2","text":"あれ、前のとちがってた...?","ts":"1604802642.214200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/yWs"}]},{"client_msg_id":"5d42d331-ba3e-412e-b3c2-78324dd8102c","type":"message","user":"U03C71D7H","text":"bot のアイコンは昨日気まぐれで変えた (遅レス)","ts":"1604802526.213900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WBy"}]},{"client_msg_id":"3beb9523-ae46-4d2c-a851-9add8941b9b3","type":"message","user":"U8996GYBF","text":"のがいければ動くかも","ts":"1604802464.213100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZLqz"}]},{"client_msg_id":"861cd48f-cffc-42e2-864c-2bfaed8a5850","type":"message","user":"U8996GYBF","text":"Organize ImportのタイミングでTextChangedセットして、lint fixしてそのイベントを消す","ts":"1604802458.212900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+kfX"}]},{"client_msg_id":"5eb82424-25be-4fd3-a6ca-981bdfa44ed1","type":"message","user":"U8996GYBF","text":"vim起動して1回目は失敗して、2回目移行大体成功する（たまに失敗する）みたいな","ts":"1604802427.212300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D8=d"}]},{"client_msg_id":"95a318a0-8077-40ba-b13d-bc94d11342db","type":"message","user":"UAZ33BKV2","text":"なら書き換えで未保存になったから動かない、みたいなことはないんだろうなあ...","ts":"1604802378.211600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0/I"}]},{"client_msg_id":"a242ade9-9cee-4887-9049-6a5ccb34a347","type":"message","user":"U8996GYBF","text":"TextChangedOnceみたいなのがあればうまく動くかも","ts":"1604802369.211300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g8R"}]},{"client_msg_id":"3095ae3b-cbb0-44a1-a6bb-ba966d25085c","type":"message","user":"U8996GYBF","text":"いけます","ts":"1604802361.210900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LfcX"}]},{"client_msg_id":"0ef52b3f-cdad-44aa-a1f2-61f6364f0d68","type":"message","user":"UAZ33BKV2","text":"ちなみにバッファが未保存でもちゃんと動くコマンド?","ts":"1604802329.210700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pQWs"}]},{"client_msg_id":"4b72bae0-4ddf-4b09-a944-09b960d26bdb","type":"message","user":"U8996GYBF","text":"バッファが実際に上書きされるタイミング次第っぽいですね！","ts":"1604802295.210300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bYyzU"}]},{"client_msg_id":"9191ea79-0972-4d29-8c97-0e6881ce7e64","type":"message","user":"U8996GYBF","text":"されるときとされないときがある・・・","ts":"1604801694.209900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HFO"}]},{"client_msg_id":"12bfd219-bd97-4b6d-b7bd-51c8a3df5823","type":"message","user":"U8996GYBF","text":"いや、2回目以降はlintされるっぽいけど意味不明すぎる・・・","ts":"1604801617.209700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lYH"}]},{"client_msg_id":"a9c9b576-7d72-40c3-b91c-e47df621183e","type":"message","user":"U8996GYBF","text":"```function! Foo() abort\n  call CocActionAsync('runCommand', 'editor.action.organizeImport', function('s:bar'))\nendfunction\n\nfunction! s:bar(a, b) abort\n  echomsg a:a\n  echomsg a:b\n  call CocAction('runCommand', 'eslint.executeAutofix')\nendfunction```\nこれで `echomsg` は出たけどlintされない・・・\n何事・・・？","ts":"1604801553.209300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+UP5"}]},{"client_msg_id":"68bdaf3e-a9dc-4ad6-b7f2-ac62157958e3","type":"message","user":"U8996GYBF","text":"cocプロ来てくれー","ts":"1604801328.208800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"aN1Q"}]},{"client_msg_id":"55b70975-7d1b-49d3-9723-bfcb728dfffd","type":"message","user":"UAZ33BKV2","text":":totemoturai:","ts":"1604801303.208600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fPyq"}]},{"client_msg_id":"07279496-d60a-4db7-80a9-6187fafdb3d3","type":"message","user":"U8996GYBF","text":"githubで検索してみてもcallback渡してる例が全然無くて","ts":"1604801268.208400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y7/8i"}]},{"client_msg_id":"e3bc2349-66f9-4e0e-91a9-95a9b8b46eee","type":"message","user":"U8996GYBF","text":"読みにくいんですよねこれ・・・","ts":"1604801251.208000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sX8oJ"}]},{"client_msg_id":"46f0ce6a-f99f-4c9c-b206-a719a1b7dd84","type":"message","user":"UAZ33BKV2","text":"あーでも、argsと見分けるためには必要?","ts":"1604801242.207800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K3H1"}]},{"client_msg_id":"66c806dd-69aa-4e70-b4a8-6eb584289ae1","type":"message","user":"UAZ33BKV2","text":"いや、help の [] は設定してもしなくてもいいであって、括弧は不要じゃあ?","ts":"1604801219.207500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fvaz"}]},{"client_msg_id":"b452eeff-351f-4b7c-ae9b-ed012df6bc98","type":"message","user":"U8996GYBF","text":"```CocActionAsync({action}, [...{args}, [{callback}]])\n\n\tCall CocAction without blocking vim.\n\n\tOptional callback is called with `error` as the first argument and\n\t`response` as the second argument.```","ts":"1604801194.206900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J9AI"}]},{"client_msg_id":"2af70a3f-a97a-4e6c-8f6d-520b1dce733b","type":"message","user":"UAZ33BKV2","text":"非同期かはわからないけど、リモートでの通信があるからいろいろ気にしないといけないことは多そうね...","ts":"1604801186.206700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jSsE"}]},{"client_msg_id":"6c4e99f7-dd32-451b-b86e-4e7a12f8e88c","type":"message","user":"U8996GYBF","text":"```CocActionAsync({action}, [...{args}, [{callback}]])```\nこのインターフェイスがよく分からないんですが、使うとしたらこんな感じ・・・？\n```call CocActionAsync('runCommand', 'editor.action.organizeImport', [[], function('s:bar')])```","ts":"1604801160.206100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+QmOM"}]},{"client_msg_id":"0585e276-a95e-4149-80b5-d675cfe45111","type":"message","user":"U8996GYBF","text":"どうするんだこれ・・・","ts":"1604800709.205300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YktZ"}]},{"client_msg_id":"44dcd6e5-7741-46d3-b1b8-e9b6ffd5f038","type":"message","user":"U8996GYBF","text":"CocActionAsyncがわざわざ用意されてるのにCocActionがAsyncで動いてる疑惑が強い・・・","ts":"1604800669.205100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E8th"}]},{"client_msg_id":"f8e3787f-5496-4544-b78d-b5dc4dd7e51d","type":"message","user":"UAZ33BKV2","text":"ccをマップですが、まあ自分は i とか Aとかを打ちつつ p したい内容もってくことがあるので、わりと良いです(とりあえずAした後でなにかするにしても残ってるから)","ts":"1604800603.204400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mY3Gc"}]},{"client_msg_id":"5dc2d9ca-d0a9-439e-961d-e3d52b59d8c4","type":"message","user":"U8996GYBF","text":"ccにマップするやつ使い勝手いいです？","ts":"1604799813.203300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XL9r3"}]},{"client_msg_id":"59ee0f78-f811-4f73-b30a-736698159950","type":"message","user":"U8996GYBF","text":"うーんこれでもダメだ\n```function! Foo() abort\n  call CocActionAsync('runCommand', 'editor.action.organizeImport', function('s:bar'))\nendfunction\n\nfunction! s:bar() abort\n  call CocAction('runCommand', 'eslint.executeAutofix')\nendfunction```","ts":"1604799805.203100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YKf2s"}]},{"client_msg_id":"deed8315-ab32-4988-a6e7-c1e5345bb8db","type":"message","user":"U8996GYBF","text":"あ、ccで消えちゃうのか\nその方がいいですね、ありがとうございますー","ts":"1604799619.202700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1ljug"}]},{"client_msg_id":"4401b6df-41aa-4cfd-8965-6b13a6adc441","type":"message","user":"UAZ33BKV2","text":"そういえば拝借したマップ、レジスタが消えてつらかったので、blackholeを使って対策してみた\n```\" fix register : blackhole\nnnoremap \u0026lt;expr\u0026gt; i len(getline('.')) ? \"i\" : \"\\\"_cc\"\nnnoremap \u0026lt;expr\u0026gt; A len(getline('.')) ? \"A\" : \"\\\"_cc\"```","ts":"1604799572.202200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6/rts"}]},{"client_msg_id":"f083e07a-0cda-45d7-9907-0bf493396716","type":"message","user":"U8996GYBF","text":"`CocActionAsync({action}, [...{args}, [{callback}]])` わざわざこれがあるのが使えってことだと思うんだけど・・・","ts":"1604799508.201500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zQXlf"}]},{"client_msg_id":"4d26ae1e-c519-4a95-9eac-8447f23759a7","type":"message","user":"U8996GYBF","text":"個別に色々やってる分には動いてますね","ts":"1604799429.201200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cZk"}]},{"client_msg_id":"210ca19e-5257-4d93-8850-ac91c41f13ac","type":"message","user":"UAZ33BKV2","text":"個別に手で打つ分には動くんですよね...?、あとはtimer(not 0)みたいな遅延で処理を呼ぶようにする?","ts":"1604799329.200800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZBg4"}]},{"client_msg_id":"4a56790a-4828-4a55-8784-d5274149afa1","type":"message","user":"U8996GYBF","text":"うまくいかないなーｗ","ts":"1604798958.200200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"a6tz"}]},{"client_msg_id":"7ed9fda4-935b-4af2-b5e8-96ef356b55d4","type":"message","user":"U8996GYBF","text":"callbackしかない気がするなぁ","ts":"1604798282.200000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6dISz"}]},{"client_msg_id":"f10e333c-19f0-454a-b571-81d4097902d5","type":"message","user":"U8996GYBF","text":"な気がしますねー","ts":"1604798258.199700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uT5S"}]},{"client_msg_id":"6949a56e-5363-4549-a88f-311918194d60","type":"message","user":"UAZ33BKV2","text":"CocCommandがまだ完了状態になってないのに実行しようとして捨てられる、とかかなあ?","ts":"1604798234.199500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SRqk"}]},{"client_msg_id":"671da1b7-9e5d-412f-bce5-6e2c05d9df05","type":"message","user":"U8996GYBF","text":"awaitっぽいなぁ・・・","ts":"1604797773.198600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3Ar"}]},{"client_msg_id":"5a9ab703-2295-4692-8be7-6817f04e4739","type":"message","user":"U8996GYBF","text":"`MyAlterCommand ORE OrganizeImport\u0026lt;Space\u0026gt;\u0026lt;Bar\u0026gt;\u0026lt;Space\u0026gt;ESLintFix\u0026lt;Space\u0026gt;\u0026lt;Bar\u0026gt;\u0026lt;Space\u0026gt;echomsg\u0026lt;Space\u0026gt;'foo'`\n`OrganizeImport | ESLintFix | echomsg 'foo'` で 'foo' はでるけど ESLintFixが通らず・・・","ts":"1604797760.198400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"302hP"}]},{"client_msg_id":"bc454384-edea-412f-bb61-5df5f17661ed","type":"message","user":"UAZ33BKV2","text":"カレントバッファ情報が変ってしまうってことはないですよね...なんだろう","ts":"1604797670.197700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ssSA0"}]},{"client_msg_id":"c7adcd09-4016-42f8-9124-47557daf5aec","type":"message","user":"U8996GYBF","text":"`MyAlterCommand ORE OrganizeImport\u0026lt;Space\u0026gt;\u0026lt;Bar\u0026gt;\u0026lt;Space\u0026gt;ESLintFix` がダメで\n`MyAlterCommand ORE OrganizeImport\u0026lt;Space\u0026gt;\u0026lt;Bar\u0026gt;\u0026lt;Space\u0026gt;echomsg\u0026lt;Space\u0026gt;'foo'` が動く","ts":"1604797451.197300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"94g"}]},{"client_msg_id":"231fa986-5e90-4efa-8dea-49cf6a78ff2a","type":"message","user":"U8996GYBF","text":"async使うとそもそもその辺の制御が怪しいのかな","ts":"1604797224.196600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VImw"}]},{"client_msg_id":"18762fad-157f-4556-80ad-18dff8d940e0","type":"message","user":"U8996GYBF","text":"今やってたんですが、出てないみたいなんですよねぇ\nなんでだろう","ts":"1604797203.196300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"42b"}]},{"client_msg_id":"ac7f888d-f5e6-43f0-9df8-8f4e1b13ddd6","type":"message","user":"UAZ33BKV2","text":"まず、callbackなしでの動作はOKなんですよね?\nでコールバックの実行確認(echomsgとか)で確認して、最後にfixやれるかどうか","ts":"1604797157.196000","edited":{"user":"UAZ33BKV2","ts":"1604797342.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s6O"}]},{"client_msg_id":"6eec308b-d9b2-47d5-baf8-fdae3e369f1d","type":"message","user":"U8996GYBF","text":"ひとまずOrganizeImportだけでorganizeImport -\u0026gt; eslintFixさせたい","ts":"1604797078.195200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xQLCS"}]},{"client_msg_id":"edbb2a6c-ef88-4d16-912d-19fbdf067d43","type":"message","user":"UAZ33BKV2","text":"すんません、そうでした(自分のみて勘違いしたw)","ts":"1604797067.194900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2Tu"}]},{"client_msg_id":"f1901f04-b4f6-431e-a0f3-e848b63ee185","type":"message","user":"U8996GYBF","text":"ん、copenとかは今回するつもりないです","ts":"1604797049.194300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uZHox"}]},{"client_msg_id":"2bd63b75-0caf-4571-8e0a-0b1500e9fafa","type":"message","user":"UAZ33BKV2","text":"あちがう","ts":"1604797046.194000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B6c9"}]},{"client_msg_id":"dfd8ded8-56c7-47a4-b003-e7ac336639e5","type":"message","user":"UAZ33BKV2","text":"んーそれ、fooにcopen入れる的に対処したほうがいいのでは? asyncだから bar あってもこまるだろうし","ts":"1604797013.193600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2o5"}]},{"client_msg_id":"804e87c3-cd97-4b10-a2dd-4182865ead43","type":"message","user":"U8996GYBF","text":"```command! -bar -nargs=0 OrganizeImport :call CocActionAsync('runCommand', 'editor.action.organizeImport', function('s:foo'))\nfunction! s:foo() abort\n  CocCommand eslint.executeAutofix\nendfunction```\nあれ、これでダメ・・・？","ts":"1604796953.192900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dKPz"}]},{"type":"message","user":"UPZHKAM7W","text":"```\n                                                        *QuickFixCmdPost*\nQuickFixCmdPost                 QuickFixCmdPreと同様だが、QuickFixコマンドが実\n                                行された後、最初の位置にジャンプする前に発生す\n                                る。|:cfile| コマンドと |:lfile| コマンドの場\n                                合はイベントはエラーファイルを読み込んだ後、最\n                                初のエラーに移動する前に実行される。\n                                |QuickFixCmdPost-example| を参照。\n```","ts":"1604796836.192600","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"e3024c23-f75b-400a-92de-df5f2183dc66","type":"message","user":"UAZ33BKV2","text":"qfやloclistへ流し込みされたらautocmdが発火して、それを受ける側でmask/filterしてcopenとかなにするかを決めれる枠組みが欲しいかも\n:h QuickFixCmdPost\nこれ、内部の特定のだけなんだよね","ts":"1604796836.192500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"21vG"}]},{"client_msg_id":"43d1fd22-05a2-4056-93c5-e3c4495391a3","type":"message","user":"U9S4G0LJW","text":"await的なの想像してたけど、ないか","ts":"1604796599.191200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"64Y2"}]},{"client_msg_id":"ea72ecb2-1195-4db5-806f-5a777761bc24","type":"message","user":"U8996GYBF","text":"callbackに仕込むか・・・","ts":"1604796552.190900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DlRQ"}]},{"client_msg_id":"79f38ab4-83d6-4a18-a931-98dcb3af4071","type":"message","user":"U8996GYBF","text":"`CocActionAsync({action}, [...{args}, [{callback}]])` ならありますね・・・","ts":"1604796545.190700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QFEv6"}]},{"client_msg_id":"48242f40-8825-42ac-87f7-b82dbdbf624e","type":"message","user":"U9S4G0LJW","text":"CocActionSync的なものってないんでしたっけ？","ts":"1604796494.190500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hMP"}]},{"client_msg_id":"0a888f5c-bf88-4fd2-ac19-9b8f7ae94040","type":"message","user":"UAZ33BKV2","text":"非同期だったら完了なautocmdとか受けてcopenするとか","ts":"1604796445.190200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IHH6W"}]},{"client_msg_id":"b3356dff-c5c0-4bda-a153-9b3e3bfbb008","type":"message","user":"U9S4G0LJW","text":"全然気付いてなかった…","ts":"1604796436.190000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5N3"}]},{"client_msg_id":"d857a40f-fb35-441a-80cc-7f693fd29d55","type":"message","user":"UAZ33BKV2","text":"アイコンだいぶ前にかわったっけ...","ts":"1604796424.189600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CKe2F"}]},{"client_msg_id":"aff10062-5e4c-42e6-b577-2b822bc53d6b","type":"message","user":"U8996GYBF","text":"なんかこれ非同期で動いてそう・・・","ts":"1604796413.189300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oMab"}]},{"client_msg_id":"e41c4c50-5b56-4aad-82dc-a363bb8b0ccc","type":"message","user":"UAZ33BKV2","text":"コマンド、後続の記述はぜんぶ受けれちゃうから bar を特別扱いするかフラグしないといけないんだったかな...?","ts":"1604796387.188900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jm+G+"}]},{"client_msg_id":"f2d19447-9cb0-4424-8058-64005829f0c9","type":"message","user":"U9S4G0LJW","text":"全然関係ないけどhelpボットさんのアイコンが変わっとるな","ts":"1604796367.188500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0thRN"}]},{"client_msg_id":"f411a6fc-429d-40c9-bf63-f95e6bf27047","type":"message","user":"U8996GYBF","text":"なるほど、OrganizationImportに -bar付ければ良いのか","ts":"1604796330.187800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qB=x4"}]},{"client_msg_id":"bff1ae4b-930d-4611-a136-edfa88835ece","type":"message","user":"UAZ33BKV2","text":"-bar を付けないとだめそう?","ts":"1604796328.187700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"b9g/="}]},{"client_msg_id":"adcdfc09-3442-4f6f-9e45-275fc6ae362b","type":"message","user":"U8996GYBF","text":"```command! -buffer ESLintFix :CocCommand eslint.executeAutofix\ncommand! -nargs=0 OrganizeImport :call CocAction('runCommand', 'editor.action.organizeImport')```\nこんなのです","ts":"1604796313.187000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Dogq"}]},{"type":"message","user":"UPZHKAM7W","text":"```\n                                        *:command-bang* *:command-bar*\n                                        *:command-register* *:command-buffer*\n \n特殊なケースがいくつかあります:\n \n        -bang       コマンドは!修飾子を取ることができます(:qや:wのように)\n        -bar        コマンドは \"|\" を使用して別のコマンドを続けて実行すること\n                    ができます。引数に \"|\" を含めることはできなくなります。\" が\n                    コメントの開始になってしまうことにも注意してください。\n        -register   コマンドの1つ目の引数にレジスタ名を指定することができます\n                    (:del、:put、:yankのように)。\n        -buffer     コマンドはカレントバッファでのみ利用できます。\n \nユーザー定義コマンドの定義に-countや-registerが指定された場合に、その省略可能\nな引数が与えられた場合、それは引数リストから削除され、それぞれの引数に対応する\n特別な文字列が利用できるようになります。\nNote これらの引数は省略できますが、これは廃止される機能です。新しいスクリプト\nでは完全な名前を使用して下さい。\n \n置き換えテキスト  \n \nユーザー定義コマンドでは、\u0026lt;...\u0026gt;表記を使った特別な文字列を使用できます。その文\n字列はコマンドラインに入力された実際の引数に置き換えられます。その他のテキスト\nは変更されません。そして特別な文字列を実際の引数で置換したものがExコマンドとし\nて実行されます。\u0026lt;\u0026gt; 表記が置き換えられないようにするには、最初の \u0026lt; の代わりに\n\u0026lt;lt\u0026gt; を使ってください。例えば、\"\u0026lt;bang\u0026gt;\" をリテラル文字として使うには\n\"\u0026lt;lt\u0026gt;bang\u0026gt;\" とします。\n \n次のものを使用できます\n```","ts":"1604796309.186900","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"6f3f8151-efa5-4a2d-9c84-52089b7a06e8","type":"message","user":"UAZ33BKV2","text":":h :command-bar","ts":"1604796308.186800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qi5"}]},{"client_msg_id":"7a843207-9a1e-4cf2-af86-20f7ac877dbb","type":"message","user":"U8996GYBF","text":"あれ、コマンドってbar付けたら連続実行してくれるってものではないんですか？\nそこ根本的に勘違いしてそう","ts":"1604796286.186500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"McP"}]},{"client_msg_id":"e06e95d0-ab83-4975-b720-fbcdd03c786c","type":"message","user":"UAZ33BKV2","text":"そもそも OrganizeImportが \u0026lt;BAR\u0026gt; を受けつけてくれるコマンド?","ts":"1604796248.185700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hB6"}]},{"client_msg_id":"216d47e6-952f-4866-814c-1485e4f08202","type":"message","user":"U8996GYBF","text":"あ、それですそれです\nあってそうですよねぇ","ts":"1604796226.185100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7RiJY"}]},{"client_msg_id":"e3f8bb96-4780-47e2-b64f-f4ceba9e051d","type":"message","user":"UAZ33BKV2","text":"これのことかな\n```  AlterCommand          mru Mru\u0026lt;Space\u0026gt;\u0026lt;Bar\u0026gt;\u0026lt;Space\u0026gt;copen\n  AlterCommand \u0026lt;cmdwin\u0026gt; mru Mru\u0026lt;Space\u0026gt;\u0026lt;Bar\u0026gt;\u0026lt;Space\u0026gt;copen```","ts":"1604796210.184700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JpZ"}]},{"client_msg_id":"de065760-f516-4d88-af15-1ca34554c74f","type":"message","user":"U8996GYBF","text":"\u003c@UAZ33BKV2\u003e 以前AlterCmdでmrについてちょっと書いたと思うんですけど、どうやってましたっけ\nなんか `MyAlterCommand ORE OrganizeImport\u0026lt;Space\u0026gt;\u0026lt;Bar\u0026gt;\u0026lt;Space\u0026gt;ESLintFix` って書いてもうまく動いてくれなくてどうやってたっけなーと思って","ts":"1604796139.184500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HKhB"}]}]
