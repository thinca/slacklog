[{"type":"message","user":"U0105HFF0SE","text":"<@U0105HFF0SE> has joined the channel","ts":"1584947949.053700","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"909a86bb-9dfe-4886-a048-dfb418e81823","type":"message","user":"UK7DT8URY","text":"質問です。\n現在編集中の(アクティブな)ウィンドウもしくはバッファ番号orIDはどうやって取得するのでしょうか。\n用途としては、ステータスラインに表示させる用です。","ts":"1584948996.055500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=i9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"801d3499-25f9-4d6d-bd44-744048704252","type":"message","user":"UK7DT8URY","text":"`win_getid()` `bufnr()` `winnr()` を試しましたが、各ウィンドウ/バッファの番号orIDが取得されて、一意な値になりませんでした(アクティブなモノを指さなかった)。","ts":"1584949210.056700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IX1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b508b3f1-75b5-40a1-b902-719e8f0dbfce","type":"message","user":"UAZ33BKV2","text":":h gettabwinvar","ts":"1584949244.056900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jYga"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UPZHKAM7W","text":"```\ngettabwinvar({tabnr}, {winnr}, {varname} [, {def}])             *gettabwinvar()*\n                タブページ{tabnr}内のウィンドウ{winnr}のウィンドウローカル変数\n                {varname}の値を取得する。\n                {varname}が空のときは全ウィンドウローカル変数からなる辞書を返\n                す。\n                {varname}が \"&amp;\" と等しい場合はすべてのウィンドウローカルオプ\n                ションの値を辞書に入れて返す。\n                {varname}が文字 \"&amp;\" で始まるときはウィンドウローカルオプション\n                の値を取得する。\n                Note {varname}は \"w:\" をつけずに指定しなければならない。\n                タブページ番号は1から始まる。カレントタブページを指定するには\n                |getwinvar()|を指定する。\n                {winnr} にはウィンドウ番号または|window-ID|が使える。\n                {winnr}が0のときはカレントウィンドウとなる。\n                グローバルオプション、バッファローカルオプション、ウィンドウ\n                ローカルオプションに対しても動作するが、グローバル変数やバッ\n                ファローカル変数に対しては動作しない。\n                ウィンドウやタブや変数が存在しないときは{def}または空文字列を\n                返し、エラーメッセージは表示されない。\n                例:  \n                        :let list_is_on = gettabwinvar(1, 2, '&amp;list')\n                        :echo \"myvar = \" . gettabwinvar(3, 1, 'myvar')\n \n                すべてのウィンドウローカル変数を取得するには:  \n                        gettabwinvar({tabnr}, {winnr}, '&amp;')\n \n                |method| としても使用できる:  \n                        GetTabnr()-&gt;gettabwinvar(winnr, varname)\n```","ts":"1584949244.057000","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"723a1e97-019d-48a9-a28f-658a60bbce72","type":"message","user":"UAZ33BKV2","text":"で winnrを0?","ts":"1584949252.057200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2TpfL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b4932e3c-f4ec-4c3e-a4cb-a67e720a60e9","type":"message","user":"UAZ33BKV2","text":"現在タブはどうにか取れたような?","ts":"1584949309.057500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D6tO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"20803c08-8107-4ef7-84a2-a95b50acf9cb","type":"message","user":"UK7DT8URY","text":"欲しいのはタブじゃなくてウィンドウなんですよね……","ts":"1584949380.058400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QdQBf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"39c01d14-361f-476d-b7b4-70e651902396","type":"message","user":"UAZ33BKV2","text":"カレントタブのwin=0=カレントウィンドウらしいので、それでは無理かな?","ts":"1584949408.058900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PRR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"164a4a9d-a1bc-41aa-8b38-edcf356c71d8","type":"message","user":"UAZ33BKV2","text":"良い方法がわからない...","ts":"1584949436.059700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OF+b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"52dc733f-7ff2-4271-bd57-5239e8c9c871","type":"message","user":"U72TB62UF","text":"ウインドウ情報取得できるメソッドが見つからない……あるはずなんだけど","ts":"1584949449.060200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oIKZM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c51ec388-99c4-4467-bdd9-d60af2925d33","type":"message","user":"UAZ33BKV2","text":"ここらへん取得方法の整理が必要な気がする..","ts":"1584949454.060400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jGR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4a17d18b-37ac-4a32-be73-19756b1a4c16","type":"message","user":"UAZ33BKV2","text":":help winnr","ts":"1584949531.060600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LC+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UPZHKAM7W","text":"```\n                                                        *winnr()*\nwinnr([{arg}])  結果は現在のウィンドウを示す数値。最上位のウィンドウは1であ\n                る。ポップアップウィンドウは0を返す。\n \n                省略可能な引数{arg}は以下の値をサポートする:\n                        $       最後のウィンドウの番号(ウィンドウ数)\n                        #       最後にアクセスしたウィンドウの番号(|CTRL-W_p|\n                                の行き先)。前のウィンドウがないか、別のタブペー\n                                ジにある場合は、0が返される。\n                        {N}j    現在のウィンドウの下N番目のウィンドウの番号\n                                (|CTRL-W_j| の行き先)。\n                        {N}k    現在のウィンドウの上N番目のウィンドウの番号\n                                (|CTRL-W_k| の行き先)。\n                        {N}h    現在のウィンドウの左N番目のウィンドウの番号\n                                (|CTRL-W_h| の行き先)。\n                        {N}l    現在のウィンドウの右N番目のウィンドウの番号\n                                (|CTRL-W_l| の行き先)。\n                この番号は|CTRL-W_w|と \":wincmd w\" で使える。|:wincmd|\n                |tabpagewinnr()|と|win_getid()|も参照。\n                例:  \n                        let window_count = winnr('$')\n                        let prev_window = winnr('#')\n                        let wnum = winnr('3k')\n \n                |method| としても使用できる:  \n                        GetWinval()-&gt;winnr()\n```","ts":"1584949532.060700","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"e7c41c2f-7112-44eb-b721-955869be8a2d","type":"message","user":"UAZ33BKV2","text":"...ちがうか?","ts":"1584949551.060900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=fI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"06aae5b0-766c-4bb7-a263-39649d2ec873","type":"message","user":"UK7DT8URY","text":"試してましたが、ダメでしたねそれ。","ts":"1584949874.061700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Hrt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ba34514-dae1-42df-86fe-45494a65d523","type":"message","user":"U06BRP8VD","text":"&gt; \tThe *g:statusline_winid* variable will be set to the |window-ID| of the\twindow that the status line belongs to.\n","ts":"1584949879.061800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v9e"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b42c899b-6428-4c0f-8234-c2271eea7b72","type":"message","user":"U06BRP8VD","text":"`set statusline=%!statusline_winid` でそれっぽいものでてるけど?","ts":"1584949924.062300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KJsA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1e7ba792-0541-4bc0-9222-879dec465ebc","type":"message","user":"U06BRP8VD","ts":"1584949949.062400","files":[{"id":"F010JD869GV","created":1584949945,"timestamp":1584949945,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U06BRP8VD","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":40812,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F010JD869GV/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F010JD869GV/download/image.png","original_h":217,"original_w":898,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F010JD869GV-52cfe3256b/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F010JD869GV-52cfe3256b/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F010JD869GV-52cfe3256b/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F010JD869GV-52cfe3256b/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":87,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-F010JD869GV-52cfe3256b/image_480.png","thumb_480_w":480,"thumb_480_h":116,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-F010JD869GV-52cfe3256b/image_720.png","thumb_720_w":720,"thumb_720_h":174,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U06BRP8VD/F010JD869GV/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-F010JD869GV-fa01a5cf2f","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-F010JD869GV-52cfe3256b/image_800.png","thumb_800_h":193,"thumb_800_w":800,"thumb_tiny":"AwALADCyRb/xbM+5prC27bPwNV5B85+tNoAtAW/qKX/R/VaqUUAW/wDRvVKB9m9U/Oq7TSbj87fnSedJ/fb86AP/2Q==","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"d97eb94e-a520-4909-9796-cb5ce64cd41f","type":"message","user":"UAZ33BKV2","text":"むう","ts":"1584949957.062800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eTDhR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d75f7a25-1683-42e7-98be-fa182eae3e1a","type":"message","user":"U06BRP8VD","text":"<https://vim-jp.org/vimdoc-ja/options.html#g:statusline_winid>\n\n&gt;  g:statusline_winid 変数はステータス行が属するウィンドウの window-IDに設定される。","ts":"1584950076.063400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SYB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e28933e4-700a-4ae1-8803-16e3794a5fb7","type":"message","user":"UK7DT8URY","text":"いや、これじゃないです","ts":"1584950103.063600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pwL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c651e5a1-4851-485d-8ee4-6d1476ad23c5","type":"message","user":"UK7DT8URY","text":"KoRoNさんの画像で言うと、 *全ての* ステータスラインで `1008` が返る関数が欲しいのです。","ts":"1584950184.065000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bve2b"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cb5503d2-0647-4e61-8bef-21b31c43bb18","type":"message","user":"U06BRP8VD","text":"すべてのかー","ts":"1584950368.065500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U0PD6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ae3bca4-d727-4435-9880-713ec64da21d","type":"message","user":"UAZ33BKV2","text":"activeなのを抽出する手段が必要、ということですね...","ts":"1584950398.066000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J09"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e7151ca3-d904-444b-955b-9a5ffcb6762c","type":"message","user":"U06BRP8VD","text":"`set statusline=%!winnr()` でウィンドウ番号は取れてるね。ただし","ts":"1584950456.067600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=s3IK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1acb535b-8c38-4a31-b3a4-d542c997262d","type":"message","user":"UK7DT8URY","text":"です、非アクティブなステータスラインを目立たないようにしたくて。\nわかりづらくて申し分ない :bow:","ts":"1584950459.067800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+kMt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c69db552-fd7e-4d95-9eff-27c7bd4b3ae9","type":"message","user":"U06BRP8VD","text":"更新(redraw)しないとカレントよりもあとのwindowのstatuslineが更新されない。","ts":"1584950503.068500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5kET"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2326d77b-be7a-4c58-a23f-45233d0427eb","type":"message","user":"U06BRP8VD","text":"hl-StatusLineNCの colorscheme を設定するんじゃダメなの?","ts":"1584950560.069000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ePsJc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e48cc99e-6bcf-434b-ace3-24b053fea637","type":"message","user":"U06BRP8VD","text":"&gt; \treal current buffer and \"g:actual_curwin\" to the |window-ID| of the\n&gt; \treal current window.  These values are strings.\n","ts":"1584950718.069300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wAb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d8468252-cfb3-47d3-bb63-4244f072eae9","type":"message","user":"U06BRP8VD","text":"こんなこともかいてあるな","ts":"1584950722.069500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QMae"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cb3010d5-a1ac-4291-8322-7d3f9006275f","type":"message","user":"U06BRP8VD","text":"`:set stl=g{g:actual_curwin}` ででるけど、やっぱ更新のないwindowのstatuslineには影響が出ないかも。","ts":"1584950859.070300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"faSdj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"010e374f-6546-44bf-98f5-368e3864b011","type":"message","user":"UAZ33BKV2","text":"redrawstatusを定期実行する?(自分は時計用にしてる)","ts":"1584951068.070800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nIjm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ecc0159d-cdb2-4804-9474-fa835409bd63","type":"message","user":"U06BRP8VD","text":"ですかね。あとは hl-StatusLineNC を絡めて実現すれば、ミニマムな更新にはなりそう。","ts":"1584951120.071600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"27=G9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"970017b5-ea22-4295-8a2a-0bf06d6af68a","type":"message","user":"U06BRP8VD","text":"current以外が目立たないhighlightはよくありますよね?","ts":"1584951149.072000","edited":{"user":"U06BRP8VD","ts":"1584951155.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zpMx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"beed5497-052f-416b-bd51-c587c666ebeb","type":"message","user":"UK7DT8URY","text":"`g:actual_curwin` これだー！ ありがとうございます :pray:","ts":"1584951408.072600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7uPuY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0bc310a0-198f-40fb-8527-72ad072fb03e","type":"message","user":"U06BRP8VD","text":"'statusline' の中にかいてありましたよ～","ts":"1584951509.073000","team":"T03C4RC8V","reactions":[{"name":"ari","count":1,"users":["UK7DT8URY"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q+ZC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8b3e4460-7436-4788-8b2b-1e8c1d6c5c42","type":"message","user":"U9S4G0LJW","text":"これなんでv:じゃなくてg:なんだろう、すごく微妙","ts":"1584952324.073600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u8i"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"015159df-7b27-41a5-8f60-d6404704eae0","type":"message","user":"U9S4G0LJW","text":"actual_curwinなんてグローバル変数使わないけどさ…","ts":"1584952342.074000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"f/Ab"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0492208C-2F29-4549-9CB8-2B1CE5868E43","type":"message","user":"UBQ2H65JQ","text":"隠しグローバル変数結構ある気がする。 `g:vim_indent_cont` も知る人ぞ知る変数だし","ts":"1584952575.075600","team":"T03C4RC8V","reactions":[{"name":"benri","count":4,"users":["U9S4G0LJW","UEBF2KQTD","UFP0GQZ4K","UL6CFN8NR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"88iFS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"af76e3fd-42ad-4ad3-9849-33869d86daf1","type":"message","user":"U9S4G0LJW","text":"あれはプラグインなのでまだ許容範囲","ts":"1584952612.076100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fxi6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"11f76de2-97ac-4182-907b-bf73f31dc627","type":"message","user":"U9S4G0LJW","text":"書き換えられもしないし","ts":"1584952632.076700","edited":{"user":"U9S4G0LJW","ts":"1584952638.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"amif3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0f2ea0f9-3148-45c9-a502-844dab15bb80","type":"message","user":"U06BRP8VD","text":"たぶん作られた時期なんじゃないの? まだ `v:` なかったとかさ","ts":"1584952675.077300","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"08sk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8059c288-b6c7-4ff5-a43b-5dc931501d8c","type":"message","user":"U03C71D7H","text":"`g:vim_indent_cont` はプラグインが参照するだけで普通のグローバル変数ですね。一方 `g:actual_curwin` は特殊な条件下で暗黙的に発生する謎の多い変数…","ts":"1584952784.078300","thread_ts":"1584952784.078300","reply_count":2,"replies":[{"user":"UAZ33BKV2","ts":"1584968529.083400"},{"user":"U03C71D7H","ts":"1584970202.084000"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M=3oz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ed61bab9-e477-4756-8c9c-3d73c17c5a66","type":"message","user":"U03C71D7H","text":"`b:changedtick` と言う特殊な変数もある。バッファの内容が何かしら変わる度に(undo であっても)カウントアップしていく。結構便利","ts":"1584952835.079200","team":"T03C4RC8V","reactions":[{"name":"tiken","count":3,"users":["UAZ33BKV2","UK7DT8URY","UFP0GQZ4K"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KRv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4fe54b44-06d3-4983-998a-08aa13c9123e","type":"message","user":"UK7DT8URY","text":"やっとやりたい事ができた……！\nステータスラインのモード表示に `DEACTIVE` が追加されました。\n(以前はコレが全部一斉にINSERTとかになって気持ち悪かった)","ts":"1584954985.079600","thread_ts":"1584954985.079600","reply_count":2,"replies":[{"user":"U7HFY4HFY","ts":"1584963750.081700"},{"user":"UK7DT8URY","ts":"1584969953.083800"}],"files":[{"id":"F010LB8FH7H","created":1584954976,"timestamp":1584954976,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"UK7DT8URY","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":1152601,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F010LB8FH7H/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F010LB8FH7H/download/image.png","original_h":1079,"original_w":1926,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F010LB8FH7H-5d101324ec/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F010LB8FH7H-5d101324ec/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F010LB8FH7H-5d101324ec/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F010LB8FH7H-5d101324ec/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":202,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-F010LB8FH7H-5d101324ec/image_480.png","thumb_480_w":480,"thumb_480_h":269,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-F010LB8FH7H-5d101324ec/image_720.png","thumb_720_w":720,"thumb_720_h":403,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-F010LB8FH7H-5d101324ec/image_960.png","thumb_960_w":960,"thumb_960_h":538,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-F010LB8FH7H-5d101324ec/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":574,"permalink":"https://vim-jp.slack.com/files/UK7DT8URY/F010LB8FH7H/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-F010LB8FH7H-e3646d763a","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-F010LB8FH7H-5d101324ec/image_800.png","thumb_800_h":448,"thumb_800_w":800,"thumb_tiny":"AwAaADCkOlJkZp2M9M4pNtAAtLjPNNxjPIo3H1FAAcA0cUmc9TRQA7tSH73JobtTaAFpKmh+61SDpQBVpas0hoA//9k=","username":""}],"upload":true,"reactions":[{"name":"tada","count":5,"users":["U9S4G0LJW","UAZ33BKV2","UDDCM376D","U06BRP8VD","UL6CFN8NR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oRXL/"}]},{"client_msg_id":"9f901cc0-880a-412c-af0f-d9eeae4bea93","type":"message","user":"UAZ33BKV2","text":"自分のを良く見たら、lightlineが切り替えてたので、どういう制御しているかソース見にいけばよかったかな...","ts":"1584955152.080900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vLaNI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9377cbea-79d2-49a3-ab55-f86ebe5a3b08","type":"message","user":"UAZ33BKV2","text":"ただ、非アクティブは別の設定にしてるから、ちょっと意図とあわないけど","ts":"1584955375.081400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4gQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"50ea39d6-3394-4dec-9449-e6bd741dea98","type":"message","user":"U7HFY4HFY","text":"INACTIVEでは？","ts":"1584963750.081700","thread_ts":"1584954985.079600","parent_user_id":"UK7DT8URY","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7NERM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d238d88a-b626-4048-be85-a5c49186760b","type":"message","user":"U7HFY4HFY","text":"非アクティブといえばこれおすすめます\n<https://qiita.com/Bakudankun/items/649aa6d8b9eccc1712b5>\nNeovimの人は最後の１行だけ読めば良いです","ts":"1584966324.082600","attachments":[{"fallback":"Qiita: Vimでウィンドウを出るときに明かりを消す - Qiita","id":1,"title":"Vimでウィンドウを出るときに明かりを消す - Qiita","title_link":"https://qiita.com/Bakudankun/items/649aa6d8b9eccc1712b5","text":"バクダンくんだよ。 最近のVimのアップデートのおかげで簡単に非アクティブウィンドウを暗くすることができたから紹介するよ。 こんなかんじ↓ ![qiita.gif](<https://qiita-image-store.s3.ap-n>...","image_url":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-1.2.2&w=1200&mark=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D380%26txt%3DVim%25E3%2581%25A7%25E3%2582%25A6%25E3%2582%25A3%25E3%2583%25B3%25E3%2583%2589%25E3%2582%25A6%25E3%2582%2592%25E5%2587%25BA%25E3%2582%258B%25E3%2581%25A8%25E3%2581%258D%25E3%2581%25AB%25E6%2598%258E%25E3%2581%258B%25E3%2582%258A%25E3%2582%2592%25E6%25B6%2588%25E3%2581%2599%26txt-color%3D%2523333%26txt-font%3DAvenir-Black%26txt-size%3D54%26txt-clip%3Dellipsis%26txt-align%3Dcenter%252Cmiddle%26s%3De44170ead4ba12421845791379903ec9&mark-align=center%2Cmiddle&blend=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D500%26txt%3D%2540Bakudankun%26txt-color%3D%2523333%26txt-font%3DAvenir-Black%26txt-size%3D45%26txt-align%3Dright%252Cbottom%26s%3Da56f4aa107d8b65cbe1ba7909877de42&blend-align=center%2Cmiddle&blend-mode=normal&s=6e7feed93fe419794ff2099d814e9c95","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png","from_url":"https://qiita.com/Bakudankun/items/649aa6d8b9eccc1712b5","original_url":"https://qiita.com/Bakudankun/items/649aa6d8b9eccc1712b5"}],"team":"T03C4RC8V","reactions":[{"name":"eyes","count":3,"users":["U9S4G0LJW","U7TMPGWJ0","URXD581E3"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zm="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"36575712-cbc2-4385-ae05-8e53690ada38","type":"message","user":"UAZ33BKV2","text":"vim-diminactiveから切り替えようかな...","ts":"1584966628.083200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CJDLu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"462021f0-3f75-4392-8f6b-0eec47659b1c","type":"message","user":"UAZ33BKV2","text":"ちょっと方向性は違いますが\n`g:colors_name`\nとかも特殊性ありますね、そういえば","ts":"1584968529.083400","thread_ts":"1584952784.078300","subtype":"thread_broadcast","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xKDh"}],"root":{"client_msg_id":"8059c288-b6c7-4ff5-a43b-5dc931501d8c","type":"message","user":"U03C71D7H","text":"`g:vim_indent_cont` はプラグインが参照するだけで普通のグローバル変数ですね。一方 `g:actual_curwin` は特殊な条件下で暗黙的に発生する謎の多い変数…","ts":"1584952784.078300","thread_ts":"1584952784.078300","reply_count":2,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M=3oz"}]}},{"client_msg_id":"80877d34-407f-4a42-9b56-3fa85061945a","type":"message","user":"UK7DT8URY","text":"typo警察だ！ありがとうございます :panda_dogeza:\nガンダムSEEDに引っ張られてこの表現しか頭になかった……","ts":"1584969953.083800","thread_ts":"1584954985.079600","parent_user_id":"UK7DT8URY","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1iv9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"91cbe42d-451b-4270-8284-615b0b0976e6","type":"message","user":"U03C71D7H","text":"使われ方は特殊ですけど、中身は普通の変数ですねー","ts":"1584970202.084000","thread_ts":"1584952784.078300","parent_user_id":"U03C71D7H","team":"T03C4RC8V","reactions":[{"name":"hai-small","count":1,"users":["UAZ33BKV2"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/Qx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"34020fb8-2992-42b8-9773-4d79df724d30","type":"message","user":"U0M7GCBPD","text":"<@U03C71D7H> themis で非同期のテストをするにはどうすればいいですか？\n具体的にはプラグインが `synstack()` して `synIDattr(id, 'name') == 'Comment'` かどうかを見てるんですが、\nテストから実行するとまだ syntax がついてないらしく空を返したりします。\n`:redraw!` しても非同期に実行されるっぽいので諦めて非同期でテストできないか調べてる所です。","ts":"1584973459.087400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A5Rp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5950f54e-312d-4a1d-b3e6-cef1c1f8645b","type":"message","user":"U03C71D7H","text":"本当に非同期の問題ですかね? ちょっと気になります","ts":"1584973849.087900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lQ96"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"228639e2-8bb7-44f6-9a78-c9ed5f4ffa7c","type":"message","user":"U0M7GCBPD","text":"すみません、違いました！\nこう書いたらちゃんと帰ってきた…\n```e {vimrc のパス}\nsetf vim\necho synstack(1, 1)```","ts":"1584974341.089400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cxCY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"45b6ae09-7241-44f9-8992-3c571692fc4c","type":"message","user":"U0M7GCBPD","text":"うーん themis の vim がバッチモードで走ってることに原因がある？（これ前も言ったな…）","ts":"1584974417.090300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5Cp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d9ca2d8-8501-4af6-ae5a-ff454601d46f","type":"message","user":"U03C71D7H","text":"それを実行したのは? 普通に起動した Vim ですか?","ts":"1584974466.090800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BPzZG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bc435810-207e-4719-9ead-e3ac7e76efb7","type":"message","user":"U0M7GCBPD","text":"`vim --clean -N -S {↑のスクリプト}` でした","ts":"1584974673.091200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zwGB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0c7979ae-5813-4043-9b27-abd51f0cc266","type":"message","user":"U0M7GCBPD","text":"あ、 `vim --clean -N --cmd 'source {↑の(ry}` だとダメっぽい","ts":"1584974764.092600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PZ/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d4e0a35-20f1-4b24-9f8a-5d1b917fbf37","type":"message","user":"U03C71D7H","text":"themis.vim は起動時になるべく余計な処理をしないので、 `filetype on` も `syntax enable` も必要なら自前で .themisrc に書かないとダメですよ。ちゃんと書いてますか?","ts":"1584974781.092900","edited":{"user":"U03C71D7H","ts":"1584974882.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PF2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9a4112e2-4989-4a96-bc57-3b31da054e35","type":"message","user":"U03C71D7H","text":"--clean は defaults.vim を読むので最小限のテストをしたい場合には適していません","ts":"1584974811.093500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ggb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9f68c8af-3e5b-42a6-9e43-d3e4708347c6","type":"message","user":"U0M7GCBPD","text":"あーそうだ…すみません before_each には書いたんですが .themisrc は試してなかった…","ts":"1584974951.094200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C35c"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1c844a5c-874f-4b28-8831-ef6b806c05e9","type":"message","user":"U0M7GCBPD","text":"かなり色々雑に聞いてしまった","ts":"1584974968.094600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PgMfV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"24bf8aa5-711c-4bed-951b-5236e834cb3c","type":"message","user":"U03C71D7H","text":"before each に書いてるなら行けそうな気もする","ts":"1584975005.095000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cL7J"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"870c7d13-c5ac-475b-8651-6e896cc3bdca","type":"message","user":"U0M7GCBPD","text":"最小限スクリプトに書いたらちゃんと出る","ts":"1584975162.095700","files":[{"id":"F0109CQS2U9","created":1584975161,"timestamp":1584975161,"name":"synstack.vim","title":"synstack.vim","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U0M7GCBPD","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":205,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F0109CQS2U9/synstack.vim","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F0109CQS2U9/download/synstack.vim","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U0M7GCBPD/F0109CQS2U9/synstack.vim","permalink_public":"https://slack-files.com/T03C4RC8V-F0109CQS2U9-74b4f3cc0f","edit_link":"https://vim-jp.slack.com/files/U0M7GCBPD/F0109CQS2U9/synstack.vim/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V4whA"}]},{"client_msg_id":"3d4f367c-1eec-4943-a30d-2df49bd18201","type":"message","user":"U03C71D7H","text":"バッチモード実行でも問題ないなら themis の問題ではなさそう?","ts":"1584975257.096300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"udEn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ae57bb0d-6dfd-4725-973f-922b5021d041","type":"message","user":"U0M7GCBPD","text":"あー完全に ftplugin の読み込みがミスってたみたいです…（ftplugin 読み込み部分を独自に書いてたけど `setf c` にしたらちゃんと返ってきた）","ts":"1584975364.097300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q716"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b4f082e1-d734-44b6-a807-53ae576c23cd","type":"message","user":"U0M7GCBPD","text":"お騒がせしました…","ts":"1584975367.097600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8ju"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"994e308c-98c1-421d-86da-404bf97d1c88","type":"message","user":"U03C71D7H","text":"ちなみに本当に非同期のテストがしたい場合、今の所ちゃんとしたサポートがなく、 :sleep を噛ませて裏の処理をちょっと動かす、みたいなことをしないといけない…","ts":"1584975464.098600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yfKq7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c299edae-df16-4a71-8bd8-907aaf11e0bb","type":"message","user":"U0M7GCBPD","text":":sleep って timer とか feedkeys() とか↑とかって動くんでしたっけ？","ts":"1584975553.099100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vcRu4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
