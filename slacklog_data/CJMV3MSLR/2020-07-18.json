[{"client_msg_id":"fa9ca46e-1f3e-466e-a974-cd65c7273fbd","type":"message","user":"U8996GYBF","text":"vimで\n```  silent !git rev-parse --show-toplevel &gt; /dev/null\n  if v:shell_error\n    echomsg 'The current directory is not a git project'\n    return ''\n  endif```\nみたいなことしたいんですけど、これやると端末全体の描画がぶっ壊れるんですが原因って何になるでしょうか\nneovimなら期待通りに動くんですが・・・","ts":"1595056125.070500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5nGTe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","ts":"1595056372.070600","files":[{"id":"F0174ERRJT0","created":1595056370,"timestamp":1595056370,"name":"Kapture 2020-07-18 at 16.12.40.mp4","title":"Kapture 2020-07-18 at 16.12.40.mp4","mimetype":"video/mp4","image_exif_rotation":0,"filetype":"mp4","pretty_type":"MPEG 4 Video","user":"U8996GYBF","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":154707,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F0174ERRJT0/kapture_2020-07-18_at_16.12.40.mp4","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F0174ERRJT0/download/kapture_2020-07-18_at_16.12.40.mp4","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U8996GYBF/F0174ERRJT0/kapture_2020-07-18_at_16.12.40.mp4","permalink_public":"https://slack-files.com/T03C4RC8V-F0174ERRJT0-3f1eb3697c","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"thumb_video":"https://files.slack.com/files-tmb/T03C4RC8V-F0174ERRJT0-87084233ee/kapture_2020-07-18_at_16.12.40_thumb_video.jpeg","display_as_bot":false,"has_rich_preview":false,"username":""}],"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"22110d3a-ef5c-4dd0-8a52-99b181582c61","type":"message","user":"U8996GYBF","text":"自分の環境では `:silent !git rev-parse --show-toplevel &gt; /dev/null` でこうなります","ts":"1595056380.071100","edited":{"user":"U8996GYBF","ts":"1595056400.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YbzFf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b5489b99-abf1-48f0-940c-85f90727e075","type":"message","user":"U9S4G0LJW","text":"仕様みたいなもん、redrawするしかない","ts":"1595056801.071700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GW+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fbcb5469-0aea-4332-a30e-5dba1396b421","type":"message","user":"U8996GYBF","text":"`:redraw!` をすればいいのかな\n試してみます","ts":"1595056854.072000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mpH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d784c7df-8531-4ecf-b014-692dca3cae55","type":"message","user":"U8996GYBF","text":"画面がフラッシュするけど、しかたないのかなこれは","ts":"1595056926.072300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QmNtu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ae3a25b0-c67d-4ea0-93b1-e2bd64155b6b","type":"message","user":"U8996GYBF","text":"あとは外部コマンドを使わず判定か","ts":"1595056972.073000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VCai"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d3600d54-b463-4616-8235-b5d347b08ce6","type":"message","user":"U9S4G0LJW","text":"system()使うのが楽そうな気がするけどどうだろうか","ts":"1595057046.073800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"==M"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4cfddf96-8a4c-4cdd-82ca-8944e85e2ff0","type":"message","user":"U8996GYBF","text":"あー、確かにそうかも","ts":"1595057064.074000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E7/X"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f9862630-8400-4f97-8771-2908b5de124c","type":"message","user":"U8996GYBF","text":"ちょっと試してみます、ありがとうございます！","ts":"1595057070.074200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0WZJE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bec12c4d-0b7d-425f-b513-1cf4643fe8ac","type":"message","user":"U8996GYBF","text":"`echo system('git rev-parse --show-toplevel 2&gt;/dev/null')` これで空文字列判定するのがよさそうかも\n書き換えてみますー","ts":"1595057227.074600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FJH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2a4e99b-e15e-4731-9451-d53f89ba4e17","type":"message","user":"U9S4G0LJW","text":"v:shell_error使えるらしいのでsilentの部分をcall systemにしたらよさそうな雰囲気ある","ts":"1595057479.075800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R=7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5d6df1be-6ab7-4179-b35e-9133dde94461","type":"message","user":"U9S4G0LJW","text":":h system()","ts":"1595057488.076100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2=KN2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UPZHKAM7W","text":"```\nsystem({expr} [, {input}])                              *system()* *E677*\n                シェルコマンド {expr} の実行結果を文字列として得る。リストとし\n                て受け取るには |systemlist()| を参照。\n \n                {input} に文字列が指定された場合、その文字列はファイルに書き出\n                され、コマンドの標準入力として渡される。この文字列はそのまま\n                (as-is) 書き出されるので、正しい改行文字を使うよう自分自身で気\n                をつけなければならない。\n                {input} にリスト (|List|) が指定された場合は、|writefile()| の\n                {binary} に \"b\" を指定したのと同様にファイルに書き出される (つ\n                まり、リストの各要素は改行文字で連結され、要素内の改行文字は\n                NUL 文字に変換される)。\n                {input} が指定され、それが数値で既存のバッファとして有効な id\n                であるならば、そのバッファの内容が 1 行ずつファイルに書き出さ\n                れる。それぞれの行は NL で終端され、テキスト中の NL は NUL 文\n                字に置き換えられる。\n \n                パイプは使用されず、'shelltemp' オプションは使用されない。\n \n                |:silent| が前置されたときは、端末は cooked モードには設定され\n                ない。これはユーザー入力を必要としないコマンドを使用することを\n                意味する。これは画面に不要な文字が表示されるのを防ぐ (|CTRL-L|\n                でそれをクリアする必要がなくなる)。  \n                        :silent let f = system('ls *.vim')\n \n                Note: コマンドの引数をエスケープするには、 |shellescape()|、\n                |expand()| の |::S|、または |fnamemodify()| を使用する。{expr}\n                内に改行文字があるとコマンドは失敗するだろう。'shellquote' や\n                'shellxquote' 内にある文字も問題を起こすかもしれない。\n                対話的なコマンドを使用することはできない。\n \n                戻り値は文字列。例:  \n                    :let files = system(\"ls \" .  shellescape(expand('%:h')))\n                    :let files = system('ls ' . expand('%:h:S'))\n \n                システムに依存しないような戻り値にするために、シェルの出力を\n                フィルタリングし、マッキントッシュにおいては&lt;CR&gt;を&lt;NL&gt;に変換\n                し、DOS系のシステムにおいては&lt;CR&gt;&lt;NL&gt;を&lt;NL&gt;に変換している。\n                文字列が NUL 文字で切れるのを防ぐため、すべての NUL 文字は SOH\n                (0x01) に置換される。\n \n                実行されるコマンドはいくつかのオプションを適用して構成される:\n        'shell' 'shellcmdflag' 'shellxquote' {expr} 'shellredir' {tmp} 'shellxquote'\n                ({tmp}は自動的に生成されるファイル名)\n                Unixではコマンドの連結ができるように{expr}の両側に波括弧が置か\n                れる。\n \n                コマンドは「cooked」モードで実行される。そのためCTRL-Cでコマン\n                ドを中断できる(少なくともUnixでは)。\n \n                エラーコードは|v:shell_error|に格納される。\n                この関数は|restricted-mode|では失敗する。\n \n                Note 上記のオプションに不正な値が入っていると、この関数の呼び\n                出しが失敗する可能性がある。セキュリティエージェントアプリケー\n                ションを使っていると失敗することがあるとも報告されている。\n                \":!cmd\" とは違い、ファイルが変更されているかのチェックは行わな\n                い。\n                明示的にチェックさせるには|:checktime|を使う。\n \n                |method| としても使用できる:  \n                        :echo GetCmd()-&gt;system()\n```","ts":"1595057489.076200","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"0cf70614-b5f4-46c3-a262-799c9831d487","type":"message","user":"U8996GYBF","text":"あ、そっちも使われるのか\nありがとうございます","ts":"1595057518.076500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5DSB="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e67e6f60-0ea1-43b0-afa9-36342a3636e4","type":"message","user":"U8996GYBF","text":"別関数で取得したpath使う部分もそのあとにあったりするんで、今回はsystemで取得した文字列の方がいいかもです\nちょっとそっちでやってみます","ts":"1595057596.077500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K0z1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eca98415-b1fd-453a-910b-935857117c42","type":"message","user":"U8996GYBF","text":"めっちゃ助かった・・・、ありがとうございます","ts":"1595057736.077800","team":"T03C4RC8V","reactions":[{"name":"tada","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sf46"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7f606fc6-4838-40dc-a829-16105f314174","type":"message","user":"UFGUGBCH3","text":"blogに書きました、みなさん回答ありがとうございました\n<https://budougumi0617.github.io/2020/07/18/use_fillstruct_of_goplus_on_vim/>","ts":"1595058158.077900","thread_ts":"1594976091.036200","subtype":"thread_broadcast","reactions":[{"name":"subara","count":3,"users":["U9S4G0LJW","U7B4ZD49X","U8CC7MDCL"]},{"name":"69b9bbe795f19442","count":3,"users":["U9S4G0LJW","UDDCM376D","U72TB62UF"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nm2ZN"}],"root":{"client_msg_id":"96e8fa4e-4fc9-490a-a1cf-c8b742dd8395","type":"message","user":"UFGUGBCH3","text":"みなさんありがとうございました、ブログに書いておきます！","ts":"1594976091.036200","thread_ts":"1594976091.036200","edited":{"user":"UFGUGBCH3","ts":"1594976096.000000"},"reply_count":3,"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3cqu8"}]}},{"client_msg_id":"c95d8986-e485-43b2-b7d6-cbb44dcf3c5c","type":"message","user":"UBQ2H65JQ","text":"Rootdirを得るのにsystem()使いたくないから、vimの組み込み関数で.gitをさがしにいっちゃうなぁ","ts":"1595059764.080500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"m4Z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d1a435b7-f7f1-4a91-ba53-1b40068d4075","type":"message","user":"U8996GYBF","text":"少し手間そうだったんで雑にコマンド使っちゃったんですよね、簡単にいけます？","ts":"1595059821.080900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Sm6m"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"57cf84a8-d1c7-4103-a39d-3013dbd620a2","type":"message","user":"UBQ2H65JQ","text":"let xs = split(dir, '[\\/]')\nwhile !empty(xs)\n     if isdirectory(join(xs + ['.git'], '/'))\n       return join(xs, '/')\n     endif\n     call remove(xs, -1)\n endwhile","ts":"1595059943.081600","edited":{"user":"UBQ2H65JQ","ts":"1595059970.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AuQpm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"def16459-0a30-46be-9798-1bb9d0e1ad26","type":"message","user":"U8996GYBF","text":"思ったより簡単そうだった、Vim script慣れてなくてダメですね・・・","ts":"1595060115.082900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"09YEI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aa141736-570b-4de1-aa7d-ab882daba2fe","type":"message","user":"UBQ2H65JQ","text":"<https://github.com/vim-jp/issues/issues/1176|https://github.com/vim-jp/issues/issues/1176>\nこれがあるからfinddir()使わないなんだけど、いまどうなんだろう","ts":"1595060200.084700","attachments":[{"fallback":"GitHub: C ドライブ直下での finddir() による上方検索の結果が想定した動作と異なる · Issue #1176 · vim-jp/issues","id":1,"title":"C ドライブ直下での finddir() による上方検索の結果が想定した動作と異なる · Issue #1176 · vim-jp/issues","title_link":"https://github.com/vim-jp/issues/issues/1176","text":"質問・報告の内容 C ドライブ直下での finddir() による上方検索の結果が、想定した動作と異なります。 &amp;quot; 前提条件、:pwd で見えるカレントディレクトリに .git フォルダがあって、 &amp;quot; C ドライブ直下には .git フォルダがない状態。 :echo finddir(&amp;#39;.git&amp;#39;, &amp;#39;C:\\&amp;#39;) &amp;quot; 何も表示されな...","thumb_url":"https://avatars2.githubusercontent.com/u/1051958?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/vim-jp/issues/issues/1176","original_url":"https://github.com/vim-jp/issues/issues/1176"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yebu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3f05d931-004c-4877-acc6-10cc4a8aa1bb","type":"message","user":"U6XP9LZ6V","text":"`.git` はファイルの場合もあるので注意。(submoduleとか)","ts":"1595061911.085800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qqx="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"efa4db58-bed6-4fd1-967f-94d9bceb163a","type":"message","user":"U03C71D7H","text":"(worktree とか)","ts":"1595069006.086100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+sY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"871f7856-46ff-4a9f-af96-8d2a5ebd74f9","type":"message","user":"UAZ33BKV2","text":"特には言ってなかったですが、vimのバージョン表示、`-version` だとハイフンが足りてなくてエラー出力になってますね...表示する内容はこれでもいいかもですが、例としてはちょっとだけ嬉しくないんじゃないかと","ts":"1595069803.086200","thread_ts":"1594976091.036200","parent_user_id":"UFGUGBCH3","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RLu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"33f1f771-d096-4840-800d-02c9d5424d86","type":"message","user":"UAZ33BKV2","text":"vim-lspでたしか...と確認したら\n<https://github.com/prabirshrestha/vim-lsp/blob/2ca2fe385409141974fba69aa90ed82ca20912b2/autoload/lsp/utils.vim#L93>","ts":"1595069988.086600","attachments":[{"fallback":"GitHub: prabirshrestha/vim-lsp","id":1,"title":"prabirshrestha/vim-lsp","title_link":"https://github.com/prabirshrestha/vim-lsp/blob/2ca2fe385409141974fba69aa90ed82ca20912b2/autoload/lsp/utils.vim#L93","text":"async language server protocol plugin for vim and neovim - prabirshrestha/vim-lsp","thumb_url":"https://avatars1.githubusercontent.com/u/287744?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/prabirshrestha/vim-lsp/blob/2ca2fe385409141974fba69aa90ed82ca20912b2/autoload/lsp/utils.vim#L93","original_url":"https://github.com/prabirshrestha/vim-lsp/blob/2ca2fe385409141974fba69aa90ed82ca20912b2/autoload/lsp/utils.vim#L93"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/f3v"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d44aae2c-3622-42c7-8da6-dbb7ce05f934","type":"message","user":"UAZ33BKV2","text":"素直に\n```    let l:relative_path = finddir(a:directoryname, a:path . ';')```\nしているな...","ts":"1595070014.087200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Jj+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a2c91bfa-fc2d-47d2-b9f8-141c8667c128","type":"message","user":"U6XP9LZ6V","text":"ちなみに、minpacでは現在のコミットIDやブランチを取得するのを、gitコマンドを使わずに `.git` を読んで自前で取得するようにしました。Windowsだとプロセス起動がクソ遅いので。","ts":"1595070656.089200","team":"T03C4RC8V","reactions":[{"name":"goodjob","count":2,"users":["U78A6ESHM","UEBF2KQTD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4Dd1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"F5FB371C-3939-47E8-A117-C67DFA049C05","type":"message","user":"UFGUGBCH3","text":"なんと！ブログまで確認ありがとうございます！\nあとでこっそり直しておきます...！！","ts":"1595072250.090200","thread_ts":"1594976091.036200","parent_user_id":"UFGUGBCH3","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dqjl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ce4e7338-90b2-4588-8832-9de69e1dcb4c","type":"message","user":"UGP5AJKU4","text":"おー、まだ試してなかったですが\nfillstructはデフォでcodeactionで動くものと思いこんでました…！\nここのチャンネル見ててよかった","ts":"1595000564.061800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k1GV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U016VHXDV0X","text":"<@U016VHXDV0X> has joined the channel","ts":"1595005981.062000","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"03f676d2-292e-4ae2-9c86-3ce794af3be6","type":"message","user":"U72TB62UF","text":"<https://www.getto.systems/entry/2020/01/31/003734#setup-efm-langserver>\nこの記事を参考に efm-langserverを使ってtextlintを使おうとしたのですが、\nfiletypeが shdというオレオレmarkdownを諸事情あって使おうと設定したとき、以下のようにエラーになります\n\n```## Output channel: languageserver.efm\n\n2020/07/18 12:09:44 efm-langserver: reading on stdin, writing on stdout\n2020/07/18 12:09:44 lint for LanguageID not supported: shd\n2020/07/18 12:09:45 lint for LanguageID not supported: shd```\ntextlintがlangserver扱いになるのかなと考えていたのですが、efm-langserverの対応lspにあるfiletypeしか\n使えないのでしょうか。","ts":"1595042008.064200","attachments":[{"fallback":"げっとシステムログ: coc.vim で textlint する話 - げっとシステムログ","id":1,"title":"coc.vim で textlint する話 - げっとシステムログ","title_link":"https://www.getto.systems/entry/2020/01/31/003734#setup-efm-langserver","text":"coc.vim で efm-langserver を利用して textlint をかけるようにセットアップしてみる CONTENTS 出来上がったもの coc.vim の設定 efm-langserver の設定 textlint の設定 まとめ 参考資料 出来上がったもの coc.vim -&gt; efm-langserver -&gt; textlint coc.vim の設定 :CocConfig は以下の通り。 { \"languageserver\": { \"efm\": { \"command\": \"efm-langserver\", \"args\": [], \"filetypes\": [\"markdo…","image_url":"https://ogimage.blog.st-hatena.com/10328537792368208553/26006613504895294/1580398654","blocks":null,"ts":1580398654,"service_name":"げっとシステムログ","service_icon":"https://cdn.image.st-hatena.com/image/apple_touch_icon/de8bb008e934dd03313a489bded305e913aa6dc5/version=1/https%3A%2F%2Fcdn.user.blog.st-hatena.com%2Fcustom_blog_icon%2F117930121%2F1514240106288414","from_url":"https://www.getto.systems/entry/2020/01/31/003734#setup-efm-langserver","original_url":"https://www.getto.systems/entry/2020/01/31/003734#setup-efm-langserver"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rW5N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"884CCB3C-BAD7-4090-BA8A-021C2F494E0C","type":"message","user":"U7TMPGWJ0","text":"coc側のことであればファイルタイプをマッピングする変数があったと思います。それをvimrcに設定してうまくいけば...ってところかなと。shdをmarkdownにマッピングする。","ts":"1595042670.068400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lH=q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ae84fda9-e4b0-4f0d-ab7a-6f13049687ff","type":"message","user":"U7TMPGWJ0","text":"例えば htmldjango, blade, jst 等のファイルタイプで html の LSP (coc-html) を動かしたい場合は下記のようにします。その感じで shd は markdown とすれば coc に登録した efm-langserver でも動くのかなーと(textlintとefm-langserverのは試してないですが)\n```let g:coc_filetype_map = {\n  \\ 'htmldjango': 'html',\n  \\ 'blade': 'html',\n  \\ 'jst': 'html',\n  \\ 'shd': 'markdown',\n  \\ }```","ts":"1595043456.069000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rm3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f47e7fd-363b-4196-ac79-531d96d7f924","type":"message","user":"U72TB62UF","text":"diagnostic.filetypeMapこれかな","ts":"1595043710.069200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1e55t"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
