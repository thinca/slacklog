[{"client_msg_id":"561273e4-91e4-4744-bbe0-4a83788d4e51","type":"message","user":"URAM81C5D","text":"すみません、質問させてください:bow:\nノーマルモード時に `ctrl + v` で矩形選択モードになるはずなのですが、自分の環境ではなぜか貼り付けになってしまいます。\nnnoremapで矩形選択モードをマッピングしないと使えない感じでしょうか。。。？\n以下僕の実行環境です。\n\n```$ cat /etc/os-release\nNAME=\"elementary OS\"\nVERSION=\"0.4.1 Loki\"\nID=\"elementary\"\nID_LIKE=ubuntu\nPRETTY_NAME=\"elementary OS 0.4.1 Loki\"\nVERSION_ID=\"0.4.1\"\nHOME_URL=\"<http://elementary.io/>\"\nSUPPORT_URL=\"<http://elementary.io/support/>\"\nBUG_REPORT_URL=\"<https://github.com/elementary/>\"\nVERSION_CODENAME=loki\nUBUNTU_CODENAME=loki```\nwinPCでデュアルブートしてUbuntuを使用しています。\nvim 8.2です、よろしくおねがいします:bow:","ts":"1576657297.136600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VgFa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8810270d-88b5-4da2-be21-de34c72ecfc4","type":"message","user":"U9S4G0LJW","text":"入ってるの、Ubuntuではなくelementary OSですね、多分付属のターミナルのせいでしょうね","ts":"1576657891.138200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9Hk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6bca340-7227-4496-8f75-d6ba62e6d5fe","type":"message","user":"U9S4G0LJW","text":"他のターミナルアプリもしくはgvimでも再現します？","ts":"1576657916.139000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qmQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bbd3664f-0cda-46a7-a87f-29eeebd05db2","type":"message","user":"URAM81C5D","text":"付属ターミナルのせいですか。。。たぶんgnome-terminalですかね。\n一応vimを入れた後、`+clipboard` にするためにvim-gnomeを入れて使ってるんですが、矩形選択にならないです…\nLinuxにしてから他のターミナルは使用したことがないので、以前macの時に使ってたiTerm2入れて試してみます:bow:","ts":"1576660169.142100","edited":{"user":"URAM81C5D","ts":"1576660909.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"dWM7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6c763412-85e1-4f0a-9d59-3f8aee6e1400","type":"message","user":"U03C71D7H","text":"ターミナルが &lt;C-v&gt; を奪ってしまっているのではないかって話ですかね。私はこの辺りの事情に詳しくないので話の流れを見た限りですが","ts":"1576661037.142900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Btr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1ef6ea05-9863-4ef7-8043-0686057fa84f","type":"message","user":"U9S4G0LJW","text":"そういう話です、elementary OSはpantheonって独自のWM使ってて、いじってないならgnome-terminalではなくWMの付属品が使われてるはずで、もしかしたらと思いまして","ts":"1576662882.145600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2PH3z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7b12982f-2af6-45db-816f-574baec42d6a","type":"message","user":"UG6DF6W87","text":"// elementary OS なんか聞いたことあるなと思ったら macOS っぽいやつか","ts":"1576662973.146100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qFzf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ae3d565e-0c46-427f-b50e-0644c7f84a60","type":"message","user":"UG6DF6W87","text":"iTerm2 は macOS 専用なので入らないでしょうね... &gt; 一応","ts":"1576663259.148000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JPl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"18402a13-c3ba-4835-b7c4-9e94e0d09849","type":"message","user":"U0M7GCBPD","text":"Guake とかあるようです <https://www.techradar.com/news/best-linux-terminal-emulator>","ts":"1576665457.148200","attachments":[{"fallback":"TechRadar: Best Linux terminal emulators of 2020","id":1,"title":"Best Linux terminal emulators of 2020","title_link":"https://www.techradar.com/news/best-linux-terminal-emulator","text":"Type in style – install an upgraded window to the shell","image_url":"https://cdn.mos.cms.futurecdn.net/MoPaHrcRvPHD8ypFjYCjS-1200-80.jpg","blocks":null,"service_name":"TechRadar","service_icon":"https://vanilla.futurecdn.net/techradar/151574/apple-touch-icon.png","from_url":"https://www.techradar.com/news/best-linux-terminal-emulator","original_url":"https://www.techradar.com/news/best-linux-terminal-emulator"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GU3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9a3d1963-7b39-42af-8020-18fc0177fab7","type":"message","user":"U0M7GCBPD","text":"安心と信頼の ArchWiki <https://wiki.archlinux.jp/index.php/%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA:%E3%82%BF%E3%83%BC%E3%83%9F%E3%83%8A%E3%83%AB%E3%82%A8%E3%83%9F%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%BF>","ts":"1576665610.148700","attachments":[{"fallback":"カテゴリ:ターミナルエミュレータ - ArchWiki","id":1,"title":"カテゴリ:ターミナルエミュレータ - ArchWiki","title_link":"https://wiki.archlinux.jp/index.php/%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA:%E3%82%BF%E3%83%BC%E3%83%9F%E3%83%8A%E3%83%AB%E3%82%A8%E3%83%9F%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%BF","text":"ようこそ ArchWiki へ。ArchWiki は Arch Linux のウェブドキュメントです。","thumb_url":"https://www.archlinux.jp/images/amplogo.png","blocks":null,"service_name":"wiki.archlinux.jp","service_icon":"https://www.archlinux.jp/images/favicon.ico","thumb_width":1024,"thumb_height":1024,"from_url":"https://wiki.archlinux.jp/index.php/%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA:%E3%82%BF%E3%83%BC%E3%83%9F%E3%83%8A%E3%83%AB%E3%82%A8%E3%83%9F%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%BF","original_url":"https://wiki.archlinux.jp/index.php/%E3%82%AB%E3%83%86%E3%82%B4%E3%83%AA:%E3%82%BF%E3%83%BC%E3%83%9F%E3%83%8A%E3%83%AB%E3%82%A8%E3%83%9F%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%BF"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vtNI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f125e3f-074b-4fe1-bf01-f1a857372b66","type":"message","user":"URAM81C5D","text":"&gt; iTerm2 は macOS 専用なので入らないでしょうね... &gt; 一応\nぐぐったら確かにありませんでした。。。\nみなさんありがとうございます:bow:\ngnome-terminalを使っているつもりだったんですが、<@U9S4G0LJW> さんがおっしゃってる通りpantheonが使われているようでした\n色々調べていたところ、tweaksのterminal設定でナチュラルコピー＆ペーストを無効にしたところ上手くいきました:bow:","ts":"1576671698.152500","team":"T03C4RC8V","reactions":[{"name":"tada","count":4,"users":["U0M7GCBPD","U78A6ESHM","UG6DF6W87","U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9Tb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb57fae1-4e91-4684-9cff-028df9822f09","type":"message","user":"ULSHV7A6R","text":"deoplete-lspを使ってみたいんですが、<https://github.com/h-michael/nvim-lsp-rc> を使えばいいんでしょうか？\nそれともNeovimのmasterブランチを使えばいいんでしょうか？\nh-michaelさんのプルリクはマージされたようですが。。。","ts":"1576674496.154100","attachments":[{"fallback":"GitHub: h-michael/nvim-lsp-rc","id":1,"title":"h-michael/nvim-lsp-rc","title_link":"https://github.com/h-michael/nvim-lsp-rc","text":"This is temporary repository for <https://github.com/neovim/neovim/pull/10222> . - h-michael/nvim-lsp-rc","thumb_url":"https://avatars3.githubusercontent.com/u/4556097?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":128,"thumb_height":128,"from_url":"https://github.com/h-michael/nvim-lsp-rc","original_url":"https://github.com/h-michael/nvim-lsp-rc"}],"edited":{"user":"ULSHV7A6R","ts":"1576674586.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LWhmt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"URUHYPN05","text":"<@URUHYPN05> has joined the channel","ts":"1576675354.154600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"c7e068ee-db81-4c7e-838e-a05cb707a8c8","type":"message","user":"U7JL1UKKL","text":"masterでよかったはず","ts":"1576676615.155100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9E20"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"242691f6-242d-4993-8675-94b44d8f1c48","type":"message","user":"ULSHV7A6R","text":"Vim(call):E117: 未知の関数です: lsp#add_server_config\nって怒られました。\n関数名が変わったんですかね","ts":"1576677575.155700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e/5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cec48aa0-ec6a-4380-be42-46ee0c22a2dd","type":"message","user":"U7JL1UKKL","text":"変わってます","ts":"1576678045.156000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x7I"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a5c56cfb-0362-4a36-88c1-5bb8ecdfefc1","type":"message","user":"U7JL1UKKL","text":"LSP回りはすさまじい勢いで開発が続いてるので私もチェックできてないです","ts":"1576678081.156900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vso"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f544f629-7a06-478c-bbf2-909cdd345a02","type":"message","user":"ULSHV7A6R","text":"なるほど。\nもう少し調べてみますが、わからなかったら私は落ち着いてから使おうかな。\nありがとうございました。","ts":"1576678161.158000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5kl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b8d07c8-ac50-4655-9611-8e44a0ba09c4","type":"message","user":"U03C71D7H","text":"果たして落ち着くのかな","ts":"1576680607.158500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pjKu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cc70b99f-8680-4fc6-bd20-09a41d001a50","type":"message","user":"U72TB62UF","text":"`質問です`\n:!ls  --color -laのように、コマンドラインから直接コマンドを実行したときに、\n色をつける方法はあるのでしょうか","ts":"1576634873.091700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e8os4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"01fd1dcd-32de-47ec-9562-13cff8d5eb2d","type":"message","user":"U03C6TEAZ","text":"gvim であれば `:set guioptions+=!`","ts":"1576635114.092000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1yJc="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"95d74a6d-140e-48c2-a599-786ba23d583b","type":"message","user":"U03C6TEAZ","text":"その代わり、いろいろな動作が変わってしまう可能性があるのでもし挙動が変わって困るなら、局所的に `guioptions+=!` した方がいいかも。","ts":"1576635160.092900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v=+QS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78aa3c9c-d9f7-4fc1-8201-00fd8be2efb6","type":"message","user":"U72TB62UF","text":"ありがとうございます。ターミナルからのvimはできないのでしょうか。シェルだから別の話になるのかなぁ。","ts":"1576635262.093500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MrQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bed398e6-b766-4080-8264-4b7e24f44e35","type":"message","user":"U03C6TEAZ","text":"あれ？色付きませんか？","ts":"1576635286.093800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YzbkY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e530b0f3-2cee-49f1-af85-265072ad67d0","type":"message","user":"U72TB62UF","text":"こんな感じになります。\nputtyでVMのdebianにアクセスしています。","ts":"1576635470.095100","files":[{"id":"FRHN2NLJD","created":1576635464,"timestamp":1576635464,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":1,"filetype":"png","pretty_type":"PNG","user":"U72TB62UF","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":149248,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FRHN2NLJD/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FRHN2NLJD/download/image.png","original_h":431,"original_w":1121,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FRHN2NLJD-a196dd5b00/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FRHN2NLJD-a196dd5b00/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FRHN2NLJD-a196dd5b00/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FRHN2NLJD-a196dd5b00/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":138,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-FRHN2NLJD-a196dd5b00/image_480.png","thumb_480_w":480,"thumb_480_h":185,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-FRHN2NLJD-a196dd5b00/image_720.png","thumb_720_w":720,"thumb_720_h":277,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-FRHN2NLJD-a196dd5b00/image_960.png","thumb_960_w":960,"thumb_960_h":369,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-FRHN2NLJD-a196dd5b00/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":394,"permalink":"https://vim-jp.slack.com/files/U72TB62UF/FRHN2NLJD/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FRHN2NLJD-2a496baf06","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-FRHN2NLJD-a196dd5b00/image_800.png","thumb_800_h":308,"thumb_800_w":800,"thumb_tiny":"AwASADCqTzimj7wpT1oH3hVEC9vwpGpe34UEe2aAGUUUUAO70D7wo70D7woAU9KRulKelI3SgBtFFFAH/9k=","username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5Db"}]},{"client_msg_id":"cf1133b6-3fc2-48e9-90a5-3161a8166800","type":"message","user":"U03C71D7H","text":"--color なしで付いてほしいってことじゃないですかね。\nその手のプログラムは stdout が端末かどうかを見て色を付けるかどうかを自動判断しています。Vim は `:!` でコマンドを実行する場合はわざわざ stdout を端末に繋いだりしないので、無理そう? (できるのかもしれないけど私は知らない)","ts":"1576635475.095500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wy/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b76c2092-acf3-4b6e-aa24-ec8c507d2ac2","type":"message","user":"U03C6TEAZ","text":"あー、なるほど","ts":"1576635501.096100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xBC="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0cd15efc-353a-49e5-83b1-69ecb5367992","type":"message","user":"U03C71D7H","text":"`:sh` でシェルを立ち上げちゃうか `:terminal` で Vim 内に端末を開いちゃうのが速い気がします","ts":"1576635526.096700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8oW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1ac6bc87-288d-4dfd-b9a2-76da8edb18c5","type":"message","user":"U03C71D7H","text":"`:term ls` で行けないかなと思ったけどこの場合もどうも stdout は端末じゃないらしい。色が付かなかった","ts":"1576635579.097600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fjx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"967b9d59-5d32-4c6c-904c-cc13177f772a","type":"message","user":"U03C71D7H","text":"これって仕様なんだろうか","ts":"1576635604.098000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0WMd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8164cb65-968a-41c0-b337-abea6aad2cb9","type":"message","user":"UG6DF6W87","text":"手元の nvim では色が付きますね &gt; `:term ls`","ts":"1576635616.098300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0Swr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb83c991-e1df-4272-a3a7-cf0da62168c1","type":"message","user":"U03C71D7H","text":"Vim のバグでは…","ts":"1576635627.098700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Rnv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ff323553-1c5f-4156-9051-2635a923391e","type":"message","user":"UG6DF6W87","text":"確かに色付いてほしい気がする","ts":"1576635634.099000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZAU2"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bd3c3c2d-e79e-4a26-93ab-2c1a6f261c48","type":"message","user":"U72TB62UF","text":"`:vert term ls --color -la`\nで色がつきました。が、vertで垂直分割できなかったのはどうしてだろう。","ts":"1576635650.099600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"d6CS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6efec4e-c7eb-4ea4-b632-962d861784b3","type":"message","user":"U03C71D7H","text":"`:term {cmd}` は出力を端末に繋いでほしい。端末に結果が出るんだから","ts":"1576635654.099800","team":"T03C4RC8V","reactions":[{"name":"wakaru","count":1,"users":["UG6DF6W87"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SOiha"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"15e5f689-8cee-4175-a4a9-183af7816e4b","type":"message","user":"U03C71D7H","text":"スクショちゃんと見てなかったけどよく見ると色を付けるエスケープシーケンスは出ているけど端末が解釈してないっぽく見えるな","ts":"1576635730.100700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VIo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6a23d38e-3cc4-443c-9c00-b7cd583e1b62","type":"message","user":"U03C6TEAZ","text":"`:term tty` で pty って出てるから terminal には繋いでると思います。","ts":"1576635822.101400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=XrUo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2196bda4-425c-43ae-9d8f-1babe77d1f07","type":"message","user":"U03C6TEAZ","text":"nvim の方 `:terminal stty`  と `:terminal stty -a` の結果を貰えませんか。","ts":"1576635878.102400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HXD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c7598d27-6498-4fec-b924-109e4d9415a3","type":"message","user":"UG6DF6W87","text":"あ、ちゃんと `:term ls --color` したら色付きました\n多分 .bash_profile かなんかを読めてないんですかね &gt; vim 8.1.2292\n\n以下 nvim の実行結果\n`:terminal stty`\n```speed 38400 baud; line = 0;\n-brkint -imaxbel```\n`:terminal stty -a`\n```speed 38400 baud; rows 26; columns 129; line = 0;\nintr = ^C; quit = ^\\; erase = ^?; kill = ^U; eof = ^D; eol = &lt;undef&gt;; eol2 = &lt;undef&gt;; swtch = &lt;undef&gt;; start = ^Q; stop = ^S;\nsusp = ^Z; rprnt = ^R; werase = ^W; lnext = ^V; discard = ^O; min = 1; time = 0;\n-parenb -parodd -cmspar cs8 -hupcl -cstopb cread -clocal -crtscts\n-ignbrk -brkint -ignpar -parmrk -inpck -istrip -inlcr -igncr icrnl -ixon -ixoff -iuclc -ixany -imaxbel -iutf8\nopost -olcuc -ocrnl onlcr -onocr -onlret -ofill -ofdel nl0 cr0 tab0 bs0 vt0 ff0\nisig icanon iexten echo echoe echok -echonl -noflsh -xcase -tostop -echoprt echoctl echoke -flusho -extproc```","ts":"1576635989.103900","edited":{"user":"UG6DF6W87","ts":"1576636016.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EO3I+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"71c0fff8-f14a-4eaf-8ca8-dee19c85efef","type":"message","user":"U03C6TEAZ","text":"ありがとうございます。","ts":"1576636036.104400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EDH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b93d0c44-33cd-4583-975b-fe4b75967765","type":"message","user":"U72TB62UF","text":"かぶった（ ；´。 ｀；）","ts":"1576636046.104800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EbT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ad164322-13e1-43ba-8fd7-39f078d8855a","type":"message","user":"U72TB62UF","text":"ので削除","ts":"1576636048.105000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R45"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6a3408a-2bce-448a-a3cc-068a96f17e73","type":"message","user":"U03C6TEAZ","text":"nvim は `:terminal` でシェルを実行するけど vim8 は直接コマンドを実行するのでその違いですね。","ts":"1576636083.105700","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":3,"users":["U72TB62UF","UG6DF6W87","UACD9MGA1"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FUs2Z"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e7595b33-fd50-4d57-9e10-6183416ebe63","type":"message","user":"UG6DF6W87","text":"あーなるほど","ts":"1576636125.106300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1u=K"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9bec96fd-0c58-4ecc-978e-d7928a432f33","type":"message","user":"U03C71D7H","text":"ああそうか。 `ls` の出力は環境変数の設定とかも影響するんだった。そう言えば私も zshrc でガッツリいじってたわ…","ts":"1576636135.106600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+/nGr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"71472cc6-87b6-40f0-9a46-8de430fdacd1","type":"message","user":"U03C71D7H","text":"むしろ正しいと言うことがわかった","ts":"1576636159.107100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yihSO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"db0edd83-2b90-4601-9a9c-1f1c093b9772","type":"message","user":"U03C6TEAZ","text":"```:terminal ls ```\n (空白おしりに1個) するとエラーになるので可愛い (可愛くない)","ts":"1576636199.107900","edited":{"user":"U03C6TEAZ","ts":"1576636231.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yUre"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"359c15a1-cc88-4fa1-bd16-fa7ebba95770","type":"message","user":"U03C71D7H","text":"`:term zsh -lc ls` で色が付いた","ts":"1576636200.108000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"49T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"54a5617f-6c48-4bf9-ad4b-92ea14d20be0","type":"message","user":"U03C6TEAZ","text":"`ls: cannot access '': No such file or directory`","ts":"1576636245.108400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vGh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d3c2b0d7-97ff-4e32-9d0d-faa5b7c2381e","type":"message","user":"U03C6TEAZ","text":"たぶん `[\"ls\", \"\"]` という引数で exec してる。","ts":"1576636268.109000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fjUL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7daaf063-393e-4a77-a1f7-2732672d5adb","type":"message","user":"U03C71D7H","text":"`:term` は引数の文字列を自力でパースしているのか… shell 経由しないならそりゃそうなるか","ts":"1576636291.109400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QnID"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0523adaa-ff95-423a-aa91-30c7b4c7415e","type":"message","user":"U03C71D7H","text":"にしても末尾スペースは無視してもいい気もする。今の状態で誰か困るのかと言うとわからんけど","ts":"1576636359.110000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KyTr"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e3e30f01-1d58-44f0-a7d5-51ff5409a778","type":"message","user":"U03C71D7H","text":"誤爆がつらいくらいか","ts":"1576636367.110200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WdX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"806c1ff4-de7b-4fef-95b4-21f1de0da4be","type":"message","user":"U03C6TEAZ","text":"Windows のコマンドプロンプトで `echo 1&gt;a` と `echo 1 &gt;a` で結果が違うのも知らない人いそう。","ts":"1576636425.110900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qCDI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a5a16e75-0858-4c70-a071-b701fa81779e","type":"message","user":"U03C71D7H","text":"コマンドプロンプトは闇","ts":"1576636587.111100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C2B"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"24aae2be-78dc-469d-87ce-ae9a80702fbe","type":"message","user":"U72TB62UF","text":"楽して色つきの結果を見たければ、terminalを分割で開いておいて、コマンドをterminalに流し込むようにすれば便利そう（すでにプラグインありそうな気もする）","ts":"1576637034.113000","edited":{"user":"U72TB62UF","ts":"1576637063.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ddh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7cd29fd5-846f-4ba9-a0db-1e8f88399c37","type":"message","user":"U6XP9LZ6V","text":"`echo 1&gt;a` だと fd 1 をリダイレクトするという解釈になり、 `ECHO は &lt;ON&gt; です` と書き込まれる罠。そして `echo 1 &gt;a` だと 1 の後にスペースが入る罠。","ts":"1576637437.118700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"PPto"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4b2810e5-1c8e-4bbc-81fb-4df7394c3b14","type":"message","user":"U03C71D7H","text":"一体どうすればいいんだ…","ts":"1576637489.118900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"z32"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"efae7eba-3246-4bdc-adec-ff27b92bc7fc","type":"message","user":"U03C71D7H","text":"`echo \"1\"&gt;a` だと `\"1\"` 自体が書き込まれるんだっけかな","ts":"1576637511.119500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6wFq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dfee4f71-dc77-43cd-9b96-542c8df5b705","type":"message","user":"U03C6TEAZ","text":"`(echo 1)&gt;a`","ts":"1576637512.119600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"X6Ln"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"179da5ea-3976-4610-b07b-173952ac083f","type":"message","user":"U03C71D7H","text":"カッコか。 :naruhodo:","ts":"1576637527.120000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"W3XD="}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ba865f9a-f4bb-4dc2-bead-3fafcc8ad635","type":"message","user":"U6XP9LZ6V","text":"`echo ^1&gt;a`","ts":"1576637543.120300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B3L"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"109965ee-44e1-4063-bd1c-24a8a41a0d06","type":"message","user":"U03C6TEAZ","text":"コマンドプロンプト、負の知見しかない。","ts":"1576637562.120800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"C4de"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eeb9bc44-415f-4cd7-8750-eee20547c2d1","type":"message","user":"U03C71D7H","text":"`^` のエスケープもありましたね…","ts":"1576637564.120900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9Hy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"265509d9-9f3c-4b3a-83e8-f1d990183b78","type":"message","user":"U03C71D7H","text":"難しすぎる","ts":"1576637567.121100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zyYgb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4d976f13-7e88-4e21-95ab-bef512d33e47","type":"message","user":"U03C6TEAZ","text":"なんとなく\n```:terminal nc -l localhost -p 8888```\nしておいて\n```!ls --color | nc -c localhost 8888```\nしたら面白いかもというアイデア(だけ)浮かんだ。","ts":"1576637608.121900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jQHE5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fa7bf022-3eda-477f-ac13-65c1a5c3f573","type":"message","user":"U7H4TJEG0","text":"<https://thinca.hatenablog.com/entry/20100210/1265813598>","ts":"1576637657.122100","attachments":[{"fallback":"永遠に未完成: cmd.exe のコマンドラインの仕様を解析してみた - 永遠に未完成","id":1,"title":"cmd.exe のコマンドラインの仕様を解析してみた - 永遠に未完成","title_link":"https://thinca.hatenablog.com/entry/20100210/1265813598","text":"cmd.exe の引数の扱いがあまりにもカオスだったのでちょっと頑張って調べてみた。 本来ならここは公式の資料に当たるのが正しいアプローチだと思うけど、どうしても公式の資料が見つからなかったので、色々試して推測してみることに。 断片的な資料は見付けたけど、完全じゃない。一応URL貼っておく。Windows Server 2003 のヘルプだけど、恐らくそんなに変わらないと思う。 コマンド シェルの概要 コマンド リダイレクト演算子を使用するなので、以下で述べる内容は間違いを含む可能性があります。というか正確さは一切保証されないのであしからず。 検証方法 以下のような引数をただ表示するだけの簡単…","image_url":"https://ogimage.blog.st-hatena.com/10328537792366815717/10328537792366816677/1457813543","blocks":null,"ts":1265813598,"service_name":"永遠に未完成","service_icon":"https://cdn.blog.st-hatena.com/images/touch-icon-iphone-retina.png","from_url":"https://thinca.hatenablog.com/entry/20100210/1265813598","original_url":"https://thinca.hatenablog.com/entry/20100210/1265813598"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"syp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"592d4476-4df2-46cc-9553-879b6d96e02a","type":"message","user":"UKHUVMBJR","text":"すげえ……いったんどんな人がここまで調べたんだ…… :thinca:","ts":"1576637707.122700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HGyut"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8bb583d4-29c5-473c-8236-1acc6246e807","type":"message","user":"U7H4TJEG0","text":":sasu_manbou:","ts":"1576637718.122900","team":"T03C4RC8V","reactions":[{"name":"thinca","count":6,"users":["U03C4RC8X","U7B4ZD49X","UKHUVMBJR","U8CC7MDCL","U6XP9LZ6V","UL6CFN8NR"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"18J"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5dc85e6d-d895-4056-bf17-1b3869715900","type":"message","user":"U03C71D7H","text":"コマンドプロンプトなにもわからない","ts":"1576637792.123300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FY5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d917ce37-e27a-4fa7-afe1-6c72f1527fef","type":"message","user":"U03C6TEAZ","text":"コマンドプロンプトもアレだし引数解析をコマンド自身でやってる Windows がそもそも","ts":"1576637901.123700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U7N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"efa2edf5-b7cd-4501-9884-8b73676f5921","type":"message","user":"UAZ33BKV2","text":"(ただ、OS/シェルが解析するとなると、その仕様も微妙に気になるときがなくもなく、でもマシだけど)","ts":"1576638377.124400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XQSK"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a27aa6d3-9aa9-4996-927f-cc8633583a95","type":"message","user":"U7HFY4HFY","text":"<https://twitter.com/Bakudankun/status/1069096105013469184|https://twitter.com/Bakudankun/status/1069096105013469184>","ts":"1576638892.125000","attachments":[{"fallback":"<https://twitter.com/Bakudankun|@Bakudankun>: コマンド プロンプトの闇 <https://pbs.twimg.com/media/DtYxAGxUUAA-zIS.jpg>","id":1,"author_name":"バクダンくん","author_subname":"@Bakudankun","author_link":"https://twitter.com/Bakudankun/status/1069096105013469184","author_icon":"https://pbs.twimg.com/profile_images/1113787564316487681/UivsjKxe_normal.png","text":"コマンド プロンプトの闇 <https://pbs.twimg.com/media/DtYxAGxUUAA-zIS.jpg>","image_url":"https://pbs.twimg.com/media/DtYxAGxUUAA-zIS.jpg","blocks":null,"footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png","ts":1543727348,"service_name":"twitter","from_url":"https://twitter.com/Bakudankun/status/1069096105013469184","original_url":"https://twitter.com/Bakudankun/status/1069096105013469184"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7b+x"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb9a0d67-c98b-4c9b-a228-3e45e60aa018","type":"message","user":"U03C6TEAZ","text":"バッチファイルは bash で言う source なんですよね。","ts":"1576639042.125400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ju5vl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b504a61c-7eb4-49ff-a838-75d7bfaf93b1","type":"message","user":"U03C6TEAZ","text":"なので汚したくない場合は setlocal 必須","ts":"1576639057.125700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wjq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"df8e8cca-0699-42a8-b669-30cc7c17f1e2","type":"message","user":"U7HFY4HFY","text":"と思いきや、↑の画像はパイプのあるなしで挙動が変わる図です\nパイプがあるとその両側で勝手に子プロセスが作られるので環境変数が引き継がれない","ts":"1576639257.128900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hAYT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"44889170-0b3f-4667-bccf-d524d0d482c0","type":"message","user":"U03C6TEAZ","text":"あー","ts":"1576639348.129100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eukZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fb12c329-3392-4926-8939-2ebe48de948c","type":"message","user":"U03C6TEAZ","text":"```call setenv.bat | notepad```\nでブロックしてるので、この場合の call は source じゃなくプロセスを起動してそう。","ts":"1576639463.129700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XJ3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4deb8cde-0714-4e79-9d86-492aeeacf755","type":"message","user":"U03C6TEAZ","text":"stdout を notepad の stdin に繋げる為に。","ts":"1576639491.130000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fhjyh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fa457519-14bf-4e2d-b587-316eca357211","type":"message","user":"U7HFY4HFY","text":"たぶん `cmd.exe /c` 相当が付加されてるので、例えば `()` ブロックの中から `call :label` で関数呼び出し的なことしたくなっても、 `()` ブロックの出力を別コマンドにパイプしてる場合は「スクリプト外からラベルは呼び出せない」と怒られます","ts":"1576640112.135000","edited":{"user":"U7HFY4HFY","ts":"1576641445.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c11iD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"URW1YJW9M","text":"<@URW1YJW9M> has joined the channel","ts":"1576653452.135600","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null}]
