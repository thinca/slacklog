[{"client_msg_id":"e8530971-7bb1-448a-bd20-ac74ba6161e6","type":"message","user":"UAZ33BKV2","text":"<https://vim-jp.slack.com/archives/CGABGC8LA/p1594971273476800>","ts":"1594971338.497700","attachments":[{"fallback":"[July 17th, 2020 12:34 AM] budougumi0617: 質問\nmacOS vim8.2 上でvim-lspを使ってgoplsを使う環境を構築中です（明日発売のSoftware Design 2020年8月号も買います！！）。\nmattnさんの次のtweetのようなコードを用意して `:LspCodeAction`  しても `No code actions found` となってしまいます。何がいけないのか、どこから調べればよいかどなたか教えていただけないでしょうか。\n<https://twitter.com/mattn_jp/status/1278333328903426048>\n```vim -version\nVIM - Vi IMproved 8.2 (2019 Dec 12, compiled May 19 2020 22:07:34)\nGarbage after option argument: \"-version\"\nMore info with: \"vim -h\"```\n使っているvimrcなどは次になります。\n<https://github.com/budougumi0617/dotfiles/blob/master/home/.vimrc>\n<https://github.com/budougumi0617/dotfiles/blob/master/home/.vim/dein.toml>","id":1,"author_id":"UFGUGBCH3","author_name":"Yoichiro Shimizu","author_subname":"Yoichiro Shimizu","author_link":"https://vim-jp.slack.com/team/UFGUGBCH3","author_icon":"https://avatars.slack-edge.com/2019-09-11/743073322722_bdf8016ab37bf661b19e_48.png","text":"質問\nmacOS vim8.2 上でvim-lspを使ってgoplsを使う環境を構築中です（明日発売のSoftware Design 2020年8月号も買います！！）。\nmattnさんの次のtweetのようなコードを用意して `:LspCodeAction`  しても `No code actions found` となってしまいます。何がいけないのか、どこから調べればよいかどなたか教えていただけないでしょうか。\n<https://twitter.com/mattn_jp/status/1278333328903426048>\n```vim -version\nVIM - Vi IMproved 8.2 (2019 Dec 12, compiled May 19 2020 22:07:34)\nGarbage after option argument: \"-version\"\nMore info with: \"vim -h\"```\n使っているvimrcなどは次になります。\n<https://github.com/budougumi0617/dotfiles/blob/master/home/.vimrc>\n<https://github.com/budougumi0617/dotfiles/blob/master/home/.vim/dein.toml>","mrkdwn_in":["text"],"blocks":null,"footer":"Posted in #lang-go","ts":1594971273.476800,"from_url":"https://vim-jp.slack.com/archives/CGABGC8LA/p1594971273476800","original_url":"https://vim-jp.slack.com/archives/CGABGC8LA/p1594971273476800"}],"team":"T03C4RC8V","reactions":[{"name":"pray","count":1,"users":["UFGUGBCH3"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"e+X"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"657adef3-e87b-4d1e-bb52-9d58dc7f4653","type":"message","user":"UFGUGBCH3","text":"誘導ありがとうございます！","ts":"1594971607.498100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NGSn5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4f3f28d7-bdc0-47ee-8198-4fb09418f5fa","type":"message","user":"UAZ33BKV2","text":"いえいえ、あと <#CQ57P4XU4|tech-lsp> もあるので、もしかしたらそっちも見ると参考になるかも\nとりあえずすぐ思いつくのは、go initとかでgo.modがあるか、とか.gitのあるリポジトリ内なのか(どっちもworkspaceを確定させるルートマーカーとして使われる)あたりが気になりますね","ts":"1594971841.499700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3TH1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6aa78609-5cac-4c18-8978-294b17e92c8b","type":"message","user":"U03C6TEAZ","text":"go.mod あるといけると思います。","ts":"1594971900.000000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RNq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U03C6TEAZ","text":"一応もっかい試したけど動きますね。","ts":"1594971955.000300","files":[{"id":"F017FC4FHGU","created":1594971946,"timestamp":1594971946,"name":"screenshot.gif","title":"screenshot.gif","mimetype":"image/gif","image_exif_rotation":0,"filetype":"gif","pretty_type":"GIF","user":"U03C6TEAZ","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":146220,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F017FC4FHGU/screenshot.gif","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F017FC4FHGU/download/screenshot.gif","original_h":522,"original_w":796,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F017FC4FHGU-600070c11e/screenshot_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F017FC4FHGU-600070c11e/screenshot_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F017FC4FHGU-600070c11e/screenshot_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F017FC4FHGU-600070c11e/screenshot_360.png","thumb_360_gif":"https://files.slack.com/files-tmb/T03C4RC8V-F017FC4FHGU-600070c11e/screenshot_360.gif","thumb_360_w":360,"thumb_360_h":236,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-F017FC4FHGU-600070c11e/screenshot_480.png","thumb_480_w":480,"thumb_480_h":315,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-F017FC4FHGU-600070c11e/screenshot_720.png","thumb_720_w":720,"thumb_720_h":472,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/F017FC4FHGU/screenshot.gif","permalink_public":"https://slack-files.com/T03C4RC8V-F017FC4FHGU-b25f517a08","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"deanimate_gif":"https://files.slack.com/files-tmb/T03C4RC8V-F017FC4FHGU-600070c11e/screenshot_deanimate_gif.png","display_as_bot":false,"has_rich_preview":false,"thumb_480_gif":"https://files.slack.com/files-tmb/T03C4RC8V-F017FC4FHGU-600070c11e/screenshot_480.gif","thumb_tiny":"AwAfADCkM4/+vTaXjtmkoAKKKKACiiigAop58rPBf8hTTtzxmgBKKX5felGzvu/CgVxtFPHl55L/AJCnfuPWX8hQM//Z","username":""}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"k5Dr"}]},{"client_msg_id":"17f33f9a-77ff-4bf7-8973-dda96f54de89","type":"message","user":"U03C6TEAZ","text":"今ってどんな感じになりますか？","ts":"1594972441.001100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Zvo"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b93506ef-6d50-4696-9c1c-8b4e86cdf638","type":"message","user":"U03C6TEAZ","text":"書いてあった &gt; No code actions","ts":"1594972459.001500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eI8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6626026-d129-46ab-a0b4-612e6d45abb5","type":"message","user":"UFGUGBCH3","text":"はい、GOPATH配下に置いたgo.modなどがあるこのリポジトリでやっても、 No code … になってしまい…goplsは先程 `go get -u <http://golang.org/x/tools/gopls|golang.org/x/tools/gopls>`  したので最新のはずですなんですが…\n<https://github.com/budougumi0617/cimg_go/>","ts":"1594972542.003000","attachments":[{"fallback":"GitHub: budougumi0617/cimg_go","id":1,"title":"budougumi0617/cimg_go","title_link":"https://github.com/budougumi0617/cimg_go/","text":"Continuous Integration for Go by the by CircleCI 2nd generation image(cimg/go) - budougumi0617/cimg_go","thumb_url":"https://avatars0.githubusercontent.com/u/1883265?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":365,"thumb_height":365,"from_url":"https://github.com/budougumi0617/cimg_go/","original_url":"https://github.com/budougumi0617/cimg_go/"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WFS"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c902fd88-bdf6-4cd7-b5e9-8de6cf8fc2a9","type":"message","user":"U03C6TEAZ","text":"ちなみに vim-lsp-settings で一度でも :LspInstallServer やった事がある場合は、そっちが優先されてしまいます。","ts":"1594972586.004200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7aM4M"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4c365239-7edf-4baa-8a16-d7d8bc83772d","type":"message","user":"U03C6TEAZ","text":"それが古いという可能性もありますね。","ts":"1594972591.004400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LyMv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6e2a8319-7491-4ccd-b87b-843e6116ab1e","type":"message","user":"U03C6TEAZ","text":"`:LspUninstallServer gopls` した後だと、 `go get` の方が使われるのでそれで試すのもありですし、もっかい `:LspInstallServer` するのもありです。","ts":"1594972651.005400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4tl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"25479db2-ce94-4bc3-bdaa-4dfa963b5a02","type":"message","user":"UNJ2DANJC","text":"-uつけたらだめらしい <https://github.com/golang/tools/blob/master/gopls/doc/user.md#installation|https://github.com/golang/tools/blob/master/gopls/doc/user.md#installation>","ts":"1594972673.005600","attachments":[{"fallback":"GitHub: golang/tools","id":1,"title":"golang/tools","title_link":"https://github.com/golang/tools/blob/master/gopls/doc/user.md#installation","text":"[mirror] Go Tools. Contribute to golang/tools development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/tools/blob/master/gopls/doc/user.md#installation","original_url":"https://github.com/golang/tools/blob/master/gopls/doc/user.md#installation"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IAR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4449932a-01e3-4813-b898-ae88ba9ba305","type":"message","user":"UFGUGBCH3","text":"はっ！なるほど。。！","ts":"1594972707.006200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0qg+s"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c266ed97-028d-46c5-8bdd-f1c9f3ece13e","type":"message","user":"UFGUGBCH3","text":"もう一度 `:LspInstallServer`  してみたのですが、かわらない気がしますね :sob:","ts":"1594972827.007200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Pkv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"644707dd-6ad1-4531-b758-18772a30c258","type":"message","user":"UDDCM376D","text":"```$ gopls version\n<http://golang.org/x/tools/gopls|golang.org/x/tools/gopls> 0.4.3\n    <http://golang.org/x/tools/gopls@v0.4.3|golang.org/x/tools/gopls@v0.4.3> h1:irz7Q+XdHNECamFKbNWKvMV2Ak6zBbwdwbZndG4545I=```","ts":"1594973052.007500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NUB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"94ecce02-5f17-4fb6-9f2f-0538aeefe8e6","type":"message","user":"UDDCM376D","text":"バージョン確認した方が良さそうな雰囲気","ts":"1594973071.007900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"D4sq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b464d3d9-ab30-4bc8-9ae9-a320223966d8","type":"message","user":"UDDCM376D","text":"ワイもだめだった…","ts":"1594973177.008100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zovkp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"38da7a72-27eb-455e-84b7-145a1f482c7a","type":"message","user":"UFGUGBCH3","text":"`:LspUninstallServer gopls`  してgo get したやつ（ターミナルから確認できるgopls）を使うようにしたのですが、ダメでした\n```$ gopls version\n<http://golang.org/x/tools/gopls|golang.org/x/tools/gopls> 0.4.3\n    <http://golang.org/x/tools/gopls@v0.4.3|golang.org/x/tools/gopls@v0.4.3> h1:irz7Q+XdHNECamFKbNWKvMV2Ak6zBbwdwbZndG4545I=```","ts":"1594973377.009100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5V3=l"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3474797f-c80f-4cc8-88c3-14f330aea988","type":"message","user":"U03C6TEAZ","text":"あーっ。","ts":"1594973572.009400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ESj/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c80ec209-3be2-4aaa-9cbe-1413a31b25e1","type":"message","user":"U03C6TEAZ","text":"あ、いや。そんな事なかった。","ts":"1594973593.009600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uLO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4fd0db33-075b-477c-a4a4-c5f779669e5f","type":"message","user":"UAZ33BKV2","text":"たしかにGIFと同じことした(はず)でも出てこないな...","ts":"1594973778.010000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sdj"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"41e7a5cd-17d2-43d6-855d-050400da9bb5","type":"message","user":"U03C6TEAZ","text":"まじすか","ts":"1594973853.010200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Wo9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fca572e9-7385-492f-8e4f-44711b99af02","type":"message","user":"UAZ33BKV2","text":"出てくるのはefmの自前のActionだけ...ですねいまんとこ","ts":"1594973890.010600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"s686"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"22aa25e1-5472-4ffe-b53f-107339a369d1","type":"message","user":"UAZ33BKV2","text":"いまさっき、gopls 0.3.4 入れて、GOPATH下にdir掘って go mod init して main.goに同じ内容(のはず)でやったんですが","ts":"1594973956.011500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zpvEf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"78e33ef0-6b57-42f8-a54f-a7bc2f5e1619","type":"message","user":"UAZ33BKV2","text":"goplsのOrg Import出てきたから、goplsが上手く呼べてないはない、と思われます。","ts":"1594974011.012200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AUIw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c5cdec3e-2402-4172-84bb-61bfd35b56c1","type":"message","user":"UAZ33BKV2","text":"むーん","ts":"1594974082.012500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"n1ZZF"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"06512b1e-76a2-4ca2-9fac-66b47d8efeae","type":"message","user":"UAZ33BKV2","text":"(LspDocumentFormatも動いてるし、なあ)","ts":"1594974102.013000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QfVm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2f022955-cbc3-4377-bc2f-49359d319313","type":"message","user":"UAZ33BKV2","text":"そもそも補完候補とかも出てるから、そこは問題ないか","ts":"1594974124.013300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Lhe3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"15dae5cb-f8a5-4191-a372-6cd9eca47c01","type":"message","user":"U03C6TEAZ","text":"一度\n```let g:lsp_settings = {\n\\  'gopls': {\n\\    'workspace_config': {\n\\      'usePlaceholders': v:true,\n\\    },\n\\    'initialization_options': {\n\\      'usePlaceholders': v:true,\n\\    },\n\\  }\n\\}```","ts":"1594974294.013700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x/1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e1ecf383-a1c4-4e95-80bd-f608510831ca","type":"message","user":"U03C6TEAZ","text":"ためして貰えますか。","ts":"1594974297.013900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"U/yYH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"19313ad6-baca-4643-9bd4-b5574a10405a","type":"message","user":"U03C6TEAZ","text":"あんま関係なさそうだけど、僕が設定してるのこれだけなんですよ。","ts":"1594974316.014300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"g4U"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a22bfd43-98fd-4cc5-8b03-de1397958fe0","type":"message","user":"UDDCM376D","text":"だめだった","ts":"1594974339.014500","thread_ts":"1594974339.014500","reply_count":2,"replies":[{"user":"UFGUGBCH3","ts":"1594974892.021400"},{"user":"UDDCM376D","ts":"1594987514.059800"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MnBR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0d1bf6a6-dd69-479c-a2bb-0272587ab38b","type":"message","user":"UDDCM376D","text":"↑の設定をしても","ts":"1594974342.014700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EyuN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UDDCM376D","ts":"1594974415.014800","files":[{"id":"F016UG7TJTH","created":1594974414,"timestamp":1594974414,"name":"image.png","title":"image.png","mimetype":"image/png","image_exif_rotation":0,"filetype":"png","pretty_type":"PNG","user":"UDDCM376D","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":28466,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F016UG7TJTH/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F016UG7TJTH/download/image.png","original_h":182,"original_w":1894,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F016UG7TJTH-eff4b5e7ff/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F016UG7TJTH-eff4b5e7ff/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F016UG7TJTH-eff4b5e7ff/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F016UG7TJTH-eff4b5e7ff/image_360.png","thumb_360_gif":"","thumb_360_w":360,"thumb_360_h":35,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-F016UG7TJTH-eff4b5e7ff/image_480.png","thumb_480_w":480,"thumb_480_h":46,"thumb_720":"https://files.slack.com/files-tmb/T03C4RC8V-F016UG7TJTH-eff4b5e7ff/image_720.png","thumb_720_w":720,"thumb_720_h":69,"thumb_960":"https://files.slack.com/files-tmb/T03C4RC8V-F016UG7TJTH-eff4b5e7ff/image_960.png","thumb_960_w":960,"thumb_960_h":92,"thumb_1024":"https://files.slack.com/files-tmb/T03C4RC8V-F016UG7TJTH-eff4b5e7ff/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":98,"permalink":"https://vim-jp.slack.com/files/UDDCM376D/F016UG7TJTH/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-F016UG7TJTH-c1445dc7b8","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_800":"https://files.slack.com/files-tmb/T03C4RC8V-F016UG7TJTH-eff4b5e7ff/image_800.png","thumb_800_h":77,"thumb_800_w":800,"thumb_tiny":"AwAEADCmcZ+6BSHHpQetB6UABA9KMD0oPSj1oAAB6Ucc8CgdTSHvQB//2Q==","username":""}],"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"58017eef-7950-4941-8fba-ccfa9b8db8c6","type":"message","user":"UDDCM376D","text":"ちゃんと設定できているな","ts":"1594974427.015300","edited":{"user":"UDDCM376D","ts":"1594974434.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vA3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4113a156-1e44-436d-bdff-245750508457","type":"message","user":"UDDCM376D","text":"```function! s:on_lsp_buffer_enabled() abort\n  setlocal omnifunc=lsp#complete\n  set completeopt^=popup\n  nmap &lt;Leader&gt;ho &lt;plug&gt;(lsp-hover)\n  nnoremap &lt;silent&gt; &lt;C-]&gt; :LspDefinition&lt;CR&gt;\n\n  \" enable signs\n  let g:lsp_signs_error = {'text': 'ｳﾎ'}\n  let g:lsp_signs_warning = {'text': '🍌'}\n  let g:lsp_signs_enabled = 1\n\n  let g:lsp_settings = {\n        \\  'gopls': {\n        \\    'workspace_config': {\n        \\      'usePlaceholders': v:true,\n        \\    },\n        \\    'initialization_options': {\n        \\      'usePlaceholders': v:true,\n        \\    },\n        \\  }\n        \\}\n  \"let g:lsp_log_verbose = 1\n  \"let g:lsp_log_file = expand('~/vim-lsp.log')\nendfunction```","ts":"1594974472.015700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LSy4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4fb7dd95-0dbb-4127-857f-48d8a98dc425","type":"message","user":"U03C6TEAZ","text":"`g:lsp_settings` は関数の外じゃないとあかんかも。","ts":"1594974560.016200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"l+m8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"95b84e80-12b0-4091-b2ed-8b3df8ffe134","type":"message","user":"UAZ33BKV2","text":"先行して設定しないとだめなはず\nそれはそれとして、入れてみたけどだめでした","ts":"1594974578.016600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eGP=H"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"75aa0514-7852-42ec-a61e-ad07b4808050","type":"message","user":"U7TMPGWJ0","text":"僕も動かないです...。ちなみにですが vim-lsp じゃなくて coc.nvim や nvim-lsp でも code action で fill struct 動きませんので vim-lsp の設定がということではなく、 gopls の何かだろうなと思います。ちなみにmasterです。\n```<http://golang.org/x/tools/gopls|golang.org/x/tools/gopls> master\n    <http://golang.org/x/tools/gopls@(devel)|golang.org/x/tools/gopls@(devel)>```","ts":"1594974612.016800","thread_ts":"1594974612.016800","edited":{"user":"U7TMPGWJ0","ts":"1594974630.000000"},"reply_count":1,"replies":[{"user":"UFGUGBCH3","ts":"1594974869.021200"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NLq+5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6994e70d-84a2-4405-897f-4fbda278b633","type":"message","user":"UAZ33BKV2","text":"master(devel)","ts":"1594974629.017100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ToKQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a6e7844f-87fa-4f8a-87b6-145b41d4153a","type":"message","user":"UAZ33BKV2","text":"すんません、緊張に耐えられなかった","ts":"1594974656.017900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ezy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"11ca2587-b8ce-4332-9bc9-188704115a19","type":"message","user":"U03C6TEAZ","text":"```<http://golang.org/x/tools/gopls|golang.org/x/tools/gopls> 0.4.2\n    <http://golang.org/x/tools/gopls@v0.4.2|golang.org/x/tools/gopls@v0.4.2> h1:SPpw/YOMhYKB5TjtZj77ddcTDQkpkUZtw4+0jtVYwro=```","ts":"1594974672.018300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nMhw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8efd2f04-cbcb-40e0-a8d5-ef565fd30ffd","type":"message","user":"UAZ33BKV2","text":"ハッシュ違いますねー","ts":"1594974691.018500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nefk5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ab16d2c4-6880-4e92-94f3-8bdd114c40da","type":"message","user":"UAZ33BKV2","text":"```<http://golang.org/x/tools/gopls|golang.org/x/tools/gopls> master\n    <http://golang.org/x/tools/gopls@v0.4.3|golang.org/x/tools/gopls@v0.4.3> h1:irz7Q+XdHNECamFKbNWKvMV2Ak6zBbwdwbZndG4545I=```","ts":"1594974799.019700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gNZfV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1829cbc8-505e-4b83-83c9-aaa4d6e7d042","type":"message","user":"U06BRP8VD","text":"# 僕は gopls は `@master` を取るようにしてる…","ts":"1594974834.020800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"q7lp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"70685151-79e7-4f68-8315-d4db7bcc51c4","type":"message","user":"UFGUGBCH3","text":"0.4.2だと動くんでしょうか？私ももうすこし詳しく経緯を言うと、最初（先週くらい）は動いていたきがしたのですが、golangci-lintのLSPいれたりしていろいろいじっていたらいつの間にか動かなくなっていて。","ts":"1594974840.021000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xfSii"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d767a1b5-d07b-48c7-992c-785dee1ed102","type":"message","user":"UAZ33BKV2","text":"というかバージョンが違うや","ts":"1594974840.021100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0Ixs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"eb5e334a-b652-4ad0-a1c5-349447b46d18","type":"message","user":"UFGUGBCH3","text":"補足情報ありがとうございます！！","ts":"1594974869.021200","thread_ts":"1594974612.016800","parent_user_id":"U7TMPGWJ0","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XgCiy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6585e96-e9d2-45a4-99d3-66355ac317ea","type":"message","user":"UFGUGBCH3","text":"ゴリラさんも補足情報ありがとうございます！","ts":"1594974892.021400","thread_ts":"1594974339.014500","parent_user_id":"UDDCM376D","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZgRNU"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dc9ac1c9-141b-49ba-9ccf-03423b0295d0","type":"message","user":"UDDCM376D","text":"0.4.2なのか","ts":"1594974966.022300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7wGJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"be07856f-2cc6-4ef5-89e6-deb797a6d170","type":"message","user":"UFGUGBCH3","text":"あ、","ts":"1594974974.022500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gqDE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"06a52135-4fa3-4fc7-8be8-1d9840f6ada9","type":"message","user":"UFGUGBCH3","text":"`go get <http://golang.org/x/tools/gopls@v0.4.2|golang.org/x/tools/gopls@v0.4.2>` したら動くようになりました！！！デグレしてる？","ts":"1594975000.022900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2u7C"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a3423747-ac35-4265-9094-e91a7119f0ec","type":"message","user":"U7TMPGWJ0","text":"僕はリポジトリ落として `GO111MODULE=on go install -a -v` してインストールしてました(手元のスクリプトで)。勿論 0.4.3 でも動かなかったです。今のナウいインストール方法わからない","ts":"1594975012.023100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pq0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"bb4a939e-7609-496f-a03c-0be8c6db76e8","type":"message","user":"UDDCM376D","text":"デグレ","ts":"1594975023.023400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MxVun"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b8f02f35-5368-4a2e-abab-a1580d8698a4","type":"message","user":"UDDCM376D","text":"か","ts":"1594975024.023600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J+u"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"99b02cc6-b96d-4174-bc90-1fb60cb4bfab","type":"message","user":"U7TMPGWJ0","text":"あっｔ、解決してた","ts":"1594975026.023800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KJNc"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a5d9bd53-a54d-4494-a87b-2778740e1c26","type":"message","user":"U03C6TEAZ","text":"マジすかw","ts":"1594975082.024100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8Cs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aeb5b78e-f045-4fd1-9329-a0c7ccf0c0a9","type":"message","user":"U03C6TEAZ","text":"それかオプトインになったとか？","ts":"1594975103.024600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lOG3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1aa9a58c-8ab6-4011-863f-e01a4a54f8d1","type":"message","user":"UAZ33BKV2","text":"なんかオプションが必要になったとかはありそうですねえ","ts":"1594975152.025100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hPCp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f1f2e9ee-d98c-4719-9b33-dc87811ba834","type":"message","user":"UFGUGBCH3","text":"デフォルトfalseになった？（goplsコードの読み方はわかっていません）\n<https://github.com/golang/tools/compare/gopls/v0.4.2...gopls/v0.4.3>","ts":"1594975307.026000","attachments":[{"fallback":"GitHub: golang/tools","id":1,"title":"golang/tools","title_link":"https://github.com/golang/tools/compare/gopls/v0.4.2...gopls/v0.4.3","text":"[mirror] Go Tools. Contribute to golang/tools development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/tools/compare/gopls/v0.4.2...gopls/v0.4.3","original_url":"https://github.com/golang/tools/compare/gopls/v0.4.2...gopls/v0.4.3"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9mhQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ceebeb26-7a72-4a7d-95b3-769d0092c44e","type":"message","user":"UFGUGBCH3","text":"なるほど（ちゃんと調べてなかったのに独りで納得すみません）\n<https://github.com/golang/tools/commit/0dca43fff13b95e02f929f8c7fd7e5952943e224>","ts":"1594975401.027000","attachments":[{"fallback":"GitHub: internal/lsp/source: disable fillstruct by default · golang/tools@0dca43f","id":1,"title":"internal/lsp/source: disable fillstruct by default · golang/tools@0dca43f","title_link":"https://github.com/golang/tools/commit/0dca43fff13b95e02f929f8c7fd7e5952943e224","text":"The discussion on golang/vscode-go#299 has uncovered the fact that go/printer is very expensive, and we&amp;#39;re calling it frequently on file changes. Analyzers whose suggested fixes require the ori...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":250,"thumb_height":250,"from_url":"https://github.com/golang/tools/commit/0dca43fff13b95e02f929f8c7fd7e5952943e224","original_url":"https://github.com/golang/tools/commit/0dca43fff13b95e02f929f8c7fd7e5952943e224"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"I0u"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7feaafae-83cc-44e8-869f-77a2eb295ec8","type":"message","user":"UAZ33BKV2","text":"いや、答えに到着できたからよかったよかった\nだた、なに設定するかみないとw","ts":"1594975440.027800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GXLf7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"297b1935-5485-4c92-9d90-6d25b302869f","type":"message","user":"UFGUGBCH3","text":"そうなんですよね、原因はわかったのですが、解決方法はまだわかっていないですｗ","ts":"1594975467.028400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7SzmT"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8d19bb58-6202-472a-8447-e2aa38ee2f16","type":"message","user":"UAZ33BKV2","text":"<https://github.com/golang/tools/releases/tag/gopls%2Fv0.4.3>\n```\"gopls\": {\n\t\"analyses\": {\t\t\n\t\t\"fillstruct\": true,\n\t}\n}```\nばあぁん","ts":"1594975505.028800","attachments":[{"fallback":"GitHub: Release gopls/v0.4.3 · golang/tools","id":1,"title":"Release gopls/v0.4.3 · golang/tools","title_link":"https://github.com/golang/tools/releases/tag/gopls%2Fv0.4.3","text":"Disable the fillstruct analysis by default. We recently uncovered some performance issues with the analysis, leading us to disable it by default. Once those issues are resolved, we will enable it b...","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/tools/releases/tag/gopls%2Fv0.4.3","original_url":"https://github.com/golang/tools/releases/tag/gopls%2Fv0.4.3"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"B6xdM"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cbfe5928-5030-48e0-9f4d-5a2332dedaeb","type":"message","user":"UAZ33BKV2","text":"リリースのとこにのってるw","ts":"1594975510.029100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"7/=f"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7e404a52-4c24-4b67-bdd5-ab0b7aeb8d97","type":"message","user":"UFGUGBCH3","text":"うおおお","ts":"1594975543.029400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Mn1Pd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"03509cb4-179a-4265-acfb-acda2561d694","type":"message","user":"UFGUGBCH3","text":"ちゃんとドキュメント読まないと案件だ :bow:","ts":"1594975574.030400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"BVjw+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"be24d521-4be5-44aa-acfc-fb01a6b2200f","type":"message","user":"U7TMPGWJ0","text":"あ、それで動きましたね","ts":"1594975584.030800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Js6R"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7d3319d2-385f-4a2b-b445-c5d17acd04c2","type":"message","user":"U7B4ZD49X","text":"これ第二、第三の被害者でそうな案件ですね。Qiitaとかに書いててあげると被害者減るかも","ts":"1594975607.031400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lawy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e8c7b42d-b53a-41bf-b810-f34449989ad6","type":"message","user":"UAZ33BKV2","text":"うごいたー","ts":"1594975704.032100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YZ7g"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"dff2db64-15e2-41b6-b0ce-d05b4d80446c","type":"message","user":"U7TMPGWJ0","text":"gopls のサキッチョのでもそれを workspace_config に設定( Vim なので `v:true` )したら fill struct 動きました。","ts":"1594975741.032800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1ps1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"afafeead-132e-4aca-b8e6-1401613d88e4","type":"message","user":"UAZ33BKV2","text":"いちおー、initにも書いたけど、たしかにそれで","ts":"1594975817.033100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1/j7"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c48d2103-28e9-4bbc-a2f8-4058cd3d3d98","type":"message","user":"UFGUGBCH3","text":"なるほど workspace_configに書くんですね（vim-lsp-settings民でlsp_settingsを何も書いていない）","ts":"1594975882.033900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"08pv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d7bda39f-ac80-4914-b125-e3324a80a946","type":"message","user":"UAZ33BKV2","text":"```  let g:lsp_settings = {}\n  let g:lsp_settings['gopls'] = {\n    \\  'workspace_config': {\n    \\    'usePlaceholders': v:true,\n    \\    'analyses': {\n    \\      'fillstruct': v:true,\n    \\    },\n    \\  },\n    \\  'initialization_options': {\n    \\    'usePlaceholders': v:true,\n    \\    'analyses': {\n    \\      'fillstruct': v:true,\n    \\    },\n    \\  },\n    \\}```\nを書けばいけると思います。","ts":"1594975936.034500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4Fz"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cf857989-a0e2-4e80-884a-eeb9b0736c01","type":"message","user":"UAZ33BKV2","text":"&gt;  We recently uncovered some performance issues with the analysis\nたしかになんか重くなるな","ts":"1594975971.034900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y3z3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e61a34b1-d418-45ac-8beb-a3622d2cf37c","type":"message","user":"UFGUGBCH3","text":"きたーーー動きました！","ts":"1594976018.035300","team":"T03C4RC8V","reactions":[{"name":"blob_tada","count":4,"users":["U7TMPGWJ0","UAZ33BKV2","U06BRP8VD","U8CC7MDCL"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3QYZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"96e8fa4e-4fc9-490a-a1cf-c8b742dd8395","type":"message","user":"UFGUGBCH3","text":"みなさんありがとうございました、ブログに書いておきます！","ts":"1594976091.036200","thread_ts":"1594976091.036200","edited":{"user":"UFGUGBCH3","ts":"1594976096.000000"},"reply_count":3,"replies":[{"user":"UFGUGBCH3","ts":"1595058158.077900"},{"user":"UAZ33BKV2","ts":"1595069803.086200"},{"user":"UFGUGBCH3","ts":"1595072250.090200"}],"team":"T03C4RC8V","reactions":[{"name":"+1","count":4,"users":["U06BRP8VD","U7B4ZD49X","U7TMPGWJ0","U03C6TEAZ"]},{"name":"goodpoem","count":3,"users":["U06BRP8VD","UAZ33BKV2","US90LD360"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3cqu8"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"563df563-dd08-4f80-9689-e76ff823258f","type":"message","user":"U7TMPGWJ0","text":"ここのドキュメントにせめて fillstruct の書いておいてほしいですね... <https://github.com/golang/tools/blob/master/gopls/doc/analyzers.md>","ts":"1594976695.037500","attachments":[{"fallback":"GitHub: golang/tools","id":1,"title":"golang/tools","title_link":"https://github.com/golang/tools/blob/master/gopls/doc/analyzers.md","text":"[mirror] Go Tools. Contribute to golang/tools development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/tools/blob/master/gopls/doc/analyzers.md","original_url":"https://github.com/golang/tools/blob/master/gopls/doc/analyzers.md"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"kd+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a7fb49f1-1d3a-4394-ab06-5a0d0189743c","type":"message","user":"UFGUGBCH3","text":"なるほど、そのアタリを見ると使い方がわかるんですね（みなさんのブログとかで読んでなんとなくレベルで使い始めており…","ts":"1594976906.038400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lJn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5ca7e96e-7520-4487-9ad3-57152fc08a3d","type":"message","user":"UFGUGBCH3","text":"ちなみに、このへんをみると `go test` などもLSPから実行できるように見えるのですが、 `:LspAction test`  みたいな使い方なんでしょうか？（ `:LspCodeAction` とはまた違うらしく…）\n<https://github.com/golang/tools/blob/0dca43fff13b95e02f929f8c7fd7e5952943e224/internal/lsp/source/options.go#L103-L109>\n```\t\t\tSupportedCommands: []string{\n\t\t\t\tCommandTest,\n\t\t\t\tCommandTidy,\n\t\t\t\tCommandUpgradeDependency,\n\t\t\t\tCommandGenerate,\n\t\t\t\tCommandRegenerateCgo,\n\t\t\t},```","ts":"1594976999.040300","attachments":[{"fallback":"GitHub: golang/tools","id":1,"title":"golang/tools","title_link":"https://github.com/golang/tools/blob/0dca43fff13b95e02f929f8c7fd7e5952943e224/internal/lsp/source/options.go#L103-L109","text":"[mirror] Go Tools. Contribute to golang/tools development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/tools/blob/0dca43fff13b95e02f929f8c7fd7e5952943e224/internal/lsp/source/options.go#L103-L109","original_url":"https://github.com/golang/tools/blob/0dca43fff13b95e02f929f8c7fd7e5952943e224/internal/lsp/source/options.go#L103-L109"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rmrw"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b01eb78-4c24-4776-90c6-3389a50f51ed","type":"message","user":"U03C6TEAZ","text":"コードアクションはいまいる場所に依存するのでテストファイル開いて実行じゃないすかね。","ts":"1594978372.042200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hCzSO"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97856cb5-33f1-4f29-865d-cb4e81cd9505","type":"message","user":"U03C6TEAZ","text":"試してないけど。","ts":"1594978378.042500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YEE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f426eb39-a2ae-4520-9fe0-796ef28e6d11","type":"message","user":"UAZ33BKV2","text":"プロジェクトルートと、その配下をターゲットにする感じになるのかなあ","ts":"1594978431.043100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9RfiJ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"65ce9af7-1be8-4bb9-a6cc-1098068ea65f","type":"message","user":"UFGUGBCH3","text":"コードアクションとは `vim-lsp` でいう`:LspCodeAction` の認識でよいでしょうか？\nコードアクション用のコマンド群は `SupportedCodeActions` のようなので、この `SupportedCommands` が何に使えるコマンド一覧なのかがちょっとわかっておらず。\n<https://github.com/golang/tools/blob/0dca43fff13b95e02f929f8c7fd7e5952943e224/internal/lsp/source/options.go#L91-L102>\n```\t\t\tSupportedCodeActions: map[FileKind]map[protocol.CodeActionKind]bool{\n\t\t\t\tGo: {\n\t\t\t\t\tprotocol.SourceFixAll:          true,\n\t\t\t\t\tprotocol.SourceOrganizeImports: true,\n\t\t\t\t\tprotocol.QuickFix:              true,\n\t\t\t\t\tprotocol.RefactorRewrite:       true,\n\t\t\t\t},\n\t\t\t\tMod: {\n\t\t\t\t\tprotocol.SourceOrganizeImports: true,\n\t\t\t\t},\n\t\t\t\tSum: {},\n\t\t\t},```\n`workspace/executeCommand` で呼べるコマンドの気がするのですが、 これが vim-lspからどうやって呼ぶのかなーと。","ts":"1594979571.046000","attachments":[{"fallback":"GitHub: golang/tools","id":1,"title":"golang/tools","title_link":"https://github.com/golang/tools/blob/0dca43fff13b95e02f929f8c7fd7e5952943e224/internal/lsp/source/options.go#L91-L102","text":"[mirror] Go Tools. Contribute to golang/tools development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/tools/blob/0dca43fff13b95e02f929f8c7fd7e5952943e224/internal/lsp/source/options.go#L91-L102","original_url":"https://github.com/golang/tools/blob/0dca43fff13b95e02f929f8c7fd7e5952943e224/internal/lsp/source/options.go#L91-L102"}],"edited":{"user":"UFGUGBCH3","ts":"1594979593.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E8QEa"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"459ec094-7966-4c41-87d6-4ab782d58d13","type":"message","user":"UFGUGBCH3","text":"<https://github.com/golang/tools/blob/99be2d6e796f9bc16b66c42a44c468872fd31f66/internal/lsp/protocol/tsserver.go#L383-L388>\n<https://github.com/golang/tools/blob/a8f9df4c95438d3076cd674426c066f6548874fc/internal/lsp/command.go#L22-L29>","ts":"1594979649.046500","attachments":[{"fallback":"GitHub: golang/tools","id":1,"title":"golang/tools","title_link":"https://github.com/golang/tools/blob/99be2d6e796f9bc16b66c42a44c468872fd31f66/internal/lsp/protocol/tsserver.go#L383-L388","text":"[mirror] Go Tools. Contribute to golang/tools development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/tools/blob/99be2d6e796f9bc16b66c42a44c468872fd31f66/internal/lsp/protocol/tsserver.go#L383-L388","original_url":"https://github.com/golang/tools/blob/99be2d6e796f9bc16b66c42a44c468872fd31f66/internal/lsp/protocol/tsserver.go#L383-L388"},{"fallback":"GitHub: golang/tools","id":2,"title":"golang/tools","title_link":"https://github.com/golang/tools/blob/a8f9df4c95438d3076cd674426c066f6548874fc/internal/lsp/command.go#L22-L29","text":"[mirror] Go Tools. Contribute to golang/tools development by creating an account on GitHub.","thumb_url":"https://avatars3.githubusercontent.com/u/4314092?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/golang/tools/blob/a8f9df4c95438d3076cd674426c066f6548874fc/internal/lsp/command.go#L22-L29","original_url":"https://github.com/golang/tools/blob/a8f9df4c95438d3076cd674426c066f6548874fc/internal/lsp/command.go#L22-L29"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hjn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a625c20c-24b0-41e6-9dd3-44769137feea","type":"message","user":"U8R597E9H","text":"Test は codelens として gopls 側に実装されているらしいです。手動でキックする方法があるかは不明です。。。","ts":"1594981123.047500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VcrjV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6BE87FAC-9DE0-4E93-A2B7-32AC4D771BC8","type":"message","user":"U7TMPGWJ0","text":"コードレンズのならgoplsのドキュメントに書いてた気がします。","ts":"1594981553.048800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zGpr5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"624DA0B8-41B2-43A2-8064-EB6E8527E51B","type":"message","user":"U7TMPGWJ0","text":"（スマホなので試せない）","ts":"1594981633.050000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"rP=T"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"A06626BD-789A-47E5-809C-062B671AA716","type":"message","user":"U77U7B85A","text":"codelensもオプションで有効化しないといけないです","ts":"1594981861.050600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sdw2v"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"A5BE1EF0-FC45-49F1-B57F-E4933A4E0D49","type":"message","user":"U77U7B85A","text":"ただテストの結果などを見る術が生ログしかないと思うので…","ts":"1594981900.051700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TFtDb"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ddc0cc18-75ab-4871-801e-3bba97307d54","type":"message","user":"U7TMPGWJ0","text":"こんなのを入れてテストファイルで `:LspCodeLens` すると動くには動きましたが...なんとも言えません。vim等のテキストエディタからはどのような振る舞いというかUIになるべき(するべき)なのか...。\n```\\ \"codelens\": {\n\\   \"test\": v:true\n\\ },```","ts":"1594982631.052700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IEF=O"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3c86b96c-b58a-4cd6-801d-e1009c2dcd29","type":"message","user":"U7TMPGWJ0","text":"7つくらいテストメソッドがあるファイルで叩くとこんなのが。うーん、、これでは。。\n```Retrieving code lenses ...\n1 - [gopls] run test\n2 - [gopls] run test\n3 - [gopls] run test\n4 - [gopls] run test\n5 - [gopls] run test\n6 - [gopls] run test\n7 - [gopls] run test\nType number and &lt;Enter&gt; or click with the mouse (q or empty cancels):```","ts":"1594982687.053100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FQh0s"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c6c814ae-5017-433b-a62e-45e523d94089","type":"message","user":"U8R597E9H","text":"VirtualText で codeLens 表示してキーマップで叩くみたいな UI にしてる Client が多い印象はありますよね。。。","ts":"1594982711.053500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2qOL9"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"1bc82d99-889f-4ae9-b490-cd92cf65e626","type":"message","user":"U7TMPGWJ0","text":"(ちなみに僕はテストは vim-test 使ってます。便利)","ts":"1594982728.053800","team":"T03C4RC8V","reactions":[{"name":"naruhodo","count":1,"users":["UFGUGBCH3"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DnIey"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a20723c5-6100-4374-88dd-ec3d6ed37748","type":"message","user":"U8R597E9H","text":"_でもたしかにそもそもテスト結果をどうやって閲覧するんだ感は。。。_","ts":"1594982742.054100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sUQxZ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"FE9C5D07-AC7F-4CE8-BE65-6DD82F3C7BCF","type":"message","user":"U7TMPGWJ0","text":"テストメソッド名くらいは表示されないと...ですね。","ts":"1594983311.055200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"uQ3Cf"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U77U7B85A","text":"vscodeがこんな感じだから `run test` なんですよね...","ts":"1594983988.055600","files":[{"id":"F0179G31Z8A","created":1594983971,"timestamp":1594983971,"name":"run test.png","title":"run test.png","mimetype":"image/png","image_exif_rotation":0,"filetype":"png","pretty_type":"PNG","user":"U77U7B85A","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":57189,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F0179G31Z8A/run_test.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F0179G31Z8A/download/run_test.png","original_h":590,"original_w":580,"thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-F0179G31Z8A-9a970639e9/run_test_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-F0179G31Z8A-9a970639e9/run_test_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-F0179G31Z8A-9a970639e9/run_test_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-F0179G31Z8A-9a970639e9/run_test_360.png","thumb_360_gif":"","thumb_360_w":354,"thumb_360_h":360,"thumb_480":"https://files.slack.com/files-tmb/T03C4RC8V-F0179G31Z8A-9a970639e9/run_test_480.png","thumb_480_w":472,"thumb_480_h":480,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U77U7B85A/F0179G31Z8A/run_test.png","permalink_public":"https://slack-files.com/T03C4RC8V-F0179G31Z8A-0dcaa37a2e","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"thumb_tiny":"AwAwAC+kvT7oP1p3JH+rWmetAzj7ufwoAPwozS88/KPypMH0oAM0ZpKKAClHTr+tFAzjjp9aADkUEk9aXe3940m5sYyaAEopSxPU0hOaAFoGccD9KOxozx0oAXe3t+VG44xx+VG7/ZWjPH3RQAhYn0/KgnJzSk+wFIeTQB//2Q==","username":""}],"reactions":[{"name":"naruhodo","count":1,"users":["U7TMPGWJ0"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IBh0"}]},{"client_msg_id":"1f1bf497-337c-4495-91c7-9e79a626f51a","type":"message","user":"U8996GYBF","text":"coc-jestどうやってるんだろうって見てみたらすごい頑張ってた\n<https://github.com/neoclide/coc-jest/blob/master/src/index.ts>","ts":"1594984125.056100","attachments":[{"fallback":"GitHub: neoclide/coc-jest","id":1,"title":"neoclide/coc-jest","title_link":"https://github.com/neoclide/coc-jest/blob/master/src/index.ts","text":"Jest extension for coc.nvim. Contribute to neoclide/coc-jest development by creating an account on GitHub.","thumb_url":"https://avatars0.githubusercontent.com/u/23586922?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":80,"thumb_height":80,"from_url":"https://github.com/neoclide/coc-jest/blob/master/src/index.ts","original_url":"https://github.com/neoclide/coc-jest/blob/master/src/index.ts"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Atdh"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"0D637515-8F94-4234-B88D-2451B30395FB","type":"message","user":"UFGUGBCH3","text":"なるほどー！しゅっと動かせるわけではないのですね。私は腕力があまりないのでvim-testを参考に設定してみます。スゴい勉強になりました！今夜Kindleに落ちてくるソフトウェアデザインも読んで（vim-lsp後編でしたよね）もう少し理解できるようにします！","ts":"1594986529.059600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+dD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d8fb5f35-7bf7-4bc6-b407-8192e2262199","type":"message","user":"UDDCM376D","text":"＾＾b","ts":"1594987514.059800","thread_ts":"1594974339.014500","parent_user_id":"UDDCM376D","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FDyn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"29ec29cb-37cc-4cf0-846b-f87013ca3787","type":"message","user":"U8996GYBF","text":"これ、手元で動かないんですけど動く方いらっしゃいます？\n<https://blog.ottijp.com/2020/06/08/vim-cmdline-fzf/>","ts":"1594911858.470500","edited":{"user":"U8996GYBF","ts":"1594912411.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ln2s"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"71e7b1b0-d4e3-4135-aab9-97206710b5bf","type":"message","user":"U8996GYBF","text":"最小こんな感じで動いて欲しいんだけど、vimだと全画面のfzf起動になって、neovimだとそもそも落ちる\n```function! s:foo()\n  let s:cmdtype = getcmdtype()\n  if s:cmdtype == ':'\n    let a = fzf#run({ 'source':  'ls -1', 'sink': { lines -&gt; lines } })\n    return a[0]\n  endif\nendfunction\ncnoremap &lt;expr&gt; &lt;C-r&gt; &lt;SID&gt;foo()```","ts":"1594911918.471300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ax0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"45708b7c-8d1c-4afa-bfea-6e4a71b8f51a","type":"message","user":"U8996GYBF","text":"コマンドラインの中でfzfを表示するみたいなのができない・・・","ts":"1594911983.471900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Uhu"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"aa0fd777-be74-4409-b52d-7b42243f02e3","type":"message","user":"U8996GYBF","text":"あ、vimだと（表示すごい微妙だけど・・・）できてしまった","ts":"1594912120.472100","edited":{"user":"U8996GYBF","ts":"1594912133.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2sEW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"77fafb97-2806-4732-be94-235f6f2e3330","type":"message","user":"U8996GYBF","text":"コマンドラインで補完するフレームワーク的なのを組もうと思ったけどNeovimレベルの制約でダメそうだ・・・","ts":"1594912769.473200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cZAE"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8ffc3dd7-7d98-4c7d-939a-46ca9ffa6c4b","type":"message","user":"U9S4G0LJW","text":"コマンドラインの中身を取得してキャンセル→fzf呼び出し→スクリプトでコマンドライン呼び出し、でいいのでは","ts":"1594912933.473900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Iuk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3b2bf5e7-ed79-4a67-909a-99ae0889daf7","type":"message","user":"U9S4G0LJW","text":"ノーマルモードに戻ったら動かない？","ts":"1594912940.474200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EXqGH"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"d64b9881-970f-4c0e-b4e6-965a6f0b71db","type":"message","user":"U8996GYBF","text":"あ、丁度それでできないかちょっと考えてました","ts":"1594912959.474700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cSV"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"19f064a2-8605-48af-b123-a61c3fe222fe","type":"message","user":"U8996GYBF","text":"`:Gina checkout &lt;Tab&gt;` とかで `git branch` から補完して `:Gina checkout {branch}` にfallbackしたい","ts":"1594913056.475700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"i5xav"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"05eef7c1-0566-4fb4-ae34-3303af148f09","type":"message","user":"U9S4G0LJW","text":"~なんというか、それで表示できるvimがおかしい気がする~","ts":"1594913104.476300","edited":{"user":"U9S4G0LJW","ts":"1594913628.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z=H"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U8996GYBF","ts":"1594913316.476400","files":[{"id":"F01768GLKQV","created":1594913313,"timestamp":1594913313,"name":"Kapture 2020-07-17 at 0.28.18.mp4","title":"Kapture 2020-07-17 at 0.28.18.mp4","mimetype":"video/mp4","image_exif_rotation":0,"filetype":"mp4","pretty_type":"MPEG 4 Video","user":"U8996GYBF","mode":"hosted","editable":false,"is_external":false,"external_type":"","size":111473,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F01768GLKQV/kapture_2020-07-17_at_0.28.18.mp4","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F01768GLKQV/download/kapture_2020-07-17_at_0.28.18.mp4","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U8996GYBF/F01768GLKQV/kapture_2020-07-17_at_0.28.18.mp4","permalink_public":"https://slack-files.com/T03C4RC8V-F01768GLKQV-d78c01a719","edit_link":"","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"thumb_video":"https://files.slack.com/files-tmb/T03C4RC8V-F01768GLKQV-02f2d0020f/kapture_2020-07-17_at_0.28.18_thumb_video.jpeg","display_as_bot":false,"has_rich_preview":false,"username":""}],"replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"b3f6d3aa-b4ba-4e73-b1c8-4c3433bcdddf","type":"message","user":"U8996GYBF","text":"なんかvimはこんな感じで動く、便利","ts":"1594913324.476900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1vvW"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5211647d-233f-40e8-b32e-dc6e54bb3de1","type":"message","user":"U9S4G0LJW","text":"確かに動くな、ウィンドウ開いたりしないからか","ts":"1594913581.477200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/Fe"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f6899107-b71c-4a16-8eb5-282f04a92b3a","type":"message","user":"U9S4G0LJW","text":"Neovimだとウィンドウ開こうとして落ちる","ts":"1594913657.478000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/Cq/x"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6C47CBF8-2652-4506-A4D0-15C6E88291B7","type":"message","user":"U8996GYBF","text":"fzfの中のコード追ってたんですけど、use_termって方に分岐するんですよね、どういう設定渡せばneovimでいい感じの動作するのか分からなかった","ts":"1594913715.479600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mNAQ"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"991D34B6-E8A9-434F-9472-131B0C40DBE1","type":"message","user":"U8996GYBF","text":"下手にfzfのwrapper使うより直でコマンド叩いてなんかやる実装を自分で挟んだ方が楽だったりするかな・・・","ts":"1594913891.481100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jHB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c43599ba-9b7d-4d13-8b6e-c45de1dfd80e","type":"message","user":"U9S4G0LJW","text":"use_term無理矢理潰した結果`Error running`と怒られました、現場からは以上です","ts":"1594913922.481600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"/Xq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e74f876c-7ce1-403a-b0b8-9e0ba37bef92","type":"message","user":"U9S4G0LJW","text":"素直にNormal mode経由するしかなさそう","ts":"1594913942.482000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qej3"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2FFD175E-9BC4-452C-97AE-671EE3D557FC","type":"message","user":"U8996GYBF","text":"はい、手間だけどそっちか・・・","ts":"1594913952.482400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ji4pk"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"C2641F8E-EBDE-4099-8D0D-8D72B43D1B6C","type":"message","user":"U8996GYBF","text":"一回ノーマルモード経由するときにコマンド履歴の汚染って起こらないんですかね？","ts":"1594913987.483100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Atny"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ccecea2e-8622-45d3-adc0-0a9edf3be174","type":"message","user":"U9S4G0LJW","text":"キャンセルしたらそもそも履歴残らないはず","ts":"1594914033.483700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HiKA"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"838D2BF0-CBCB-4F66-96D5-A434376BA0AD","type":"message","user":"U8996GYBF","text":"補完フレームワーク的なの構築してどれくらい便利かっていうのはあるなぁ、Gina・Fugitiveは便利として、あとファイラでディレクトリ指定するのとかも便利か","ts":"1594914122.485400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"x4AAx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e612e069-7445-4132-91d3-bdf151f55dcf","type":"message","user":"U9S4G0LJW","text":"コマンド内のexprからfeedkeysで戻るのだめかー","ts":"1594914308.485900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"v0F"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ED5D36CD-0236-42EC-AF43-BE49D769BE38","type":"message","user":"U8996GYBF","text":"keeppで関数実行してノーマルモードに戻ってからもう一回コマンドラインに入る？","ts":"1594914451.487400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hQwEs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"23ef3992-b11a-4bd7-9bbd-77a01aa2ef25","type":"message","user":"U9S4G0LJW","text":"ユーザーが入力してるのを仮定して、ゼロ秒タイマーを仕込んでexprはEsc返すとかかなー","ts":"1594914467.487800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L4dWD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b3e405d6-3af9-4982-bca8-75bdc03713df","type":"message","user":"U9S4G0LJW","text":"```function! s:run(...) abort\n  call fzf#run({'source': 'ls -l'})\nendfunction\n\nfunction! s:hoge() abort\n  call timer_start(0, funcref(\"s:run\"))\n  return \"\\&lt;Esc&gt;\"\nendfunction\n\ncnoremap &lt;expr&gt; a &lt;SID&gt;hoge()```\nこんなので出たのは出たけど、どうにかならんかな…","ts":"1594914663.488400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wp5Av"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"EC803620-6829-4DB5-A3A9-A7EDD42EE97E","type":"message","user":"U8996GYBF","text":"s:runの中でfzfから返ってきた値入れ直してコマンドラインに入る感じですよね","ts":"1594914793.489900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lM4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"6056efe9-2715-42aa-bee2-df088e5a40f3","type":"message","user":"U9S4G0LJW","text":"はい","ts":"1594914811.490700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9HCLN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"97A61CF5-AF50-4381-9518-D0EB55466976","type":"message","user":"U8996GYBF","text":"やりたいことはそうなんだけど・・・","ts":"1594914813.490800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4BpY1"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3EDFFC0D-821D-4F1B-9E7A-55BAA097A0EB","type":"message","user":"U8996GYBF","text":"思ったより手間そうだから有用性考えてからですかね\ngitプラグインとの強力な連携とかは思いつくけど、他のめちゃくちゃ便利な何かみたいなのがあんまり想像できてない","ts":"1594915045.492600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gOvB+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3e729eb1-007e-46b1-8520-b75395fbd657","type":"message","user":"U9S4G0LJW","text":"`:cnoremap a &lt;Esc&gt;`を実行した上で`:sa`とタイプすると`:s`が実行されるな、なんだこれ","ts":"1594915564.493600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tGiyd"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"fad55113-c943-48f0-a234-a3909befc8eb","type":"message","user":"U9S4G0LJW","text":":h c_Esc","ts":"1594915589.493800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SGhl"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UPZHKAM7W","text":"```\nCTRL-[                                          *c_CTRL-[* *c_&lt;Esc&gt;* *c_Esc*\n&lt;Esc&gt;           打ち込まれたときにオプション 'cpoptions' にフラグ 'x' が含まれ\n                ていなければ、コマンドを実行せずにコマンドラインモードを終了す\n                る。マクロ内で使われたとき、または 'cpoptions' に 'x' が含まれ\n                ているときは、コマンドラインを実行する。\n                Note: お使いのキーボードで &lt;Esc&gt; が押しづらい場合は、CTRL-[\n                を使うよう練習してください。\n```","ts":"1594915589.493900","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"e5b6ed41-fdd6-47e7-9b8c-d67552cb4244","type":"message","user":"U9S4G0LJW","text":":rikai:","ts":"1594915603.494100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"K0E"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"06c23b27-3f15-48c8-85a1-a8e27ac6d810","type":"message","user":"U9S4G0LJW","text":":h c_CTRL-C","ts":"1594915657.494600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LVn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UPZHKAM7W","text":"```\n                                                        *c_CTRL-C*\nCTRL-C          コマンドを実行せずにコマンドラインモードを終了する。\n```","ts":"1594915658.494700","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"325894c5-24dc-4157-9f59-2a6927b62813","type":"message","user":"U9S4G0LJW","text":"こちらにマッピングしないとだめか","ts":"1594915667.495000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qrUZg"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U016T0ZK31V","text":"<@U016T0ZK31V> has joined the channel","ts":"1594915671.495200","subtype":"channel_join","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"e0decc52-1d6c-4e07-805a-0986173fad67","type":"message","user":"U9S4G0LJW","text":"こんなので文脈見てやれば使い物になるかな","ts":"1594915851.495600","files":[{"id":"F017LC0GGF3","created":1594915849,"timestamp":1594915849,"name":"fzf-cmdline.vim","title":"fzf-cmdline.vim","mimetype":"text/plain","image_exif_rotation":0,"filetype":"text","pretty_type":"Plain Text","user":"U9S4G0LJW","mode":"snippet","editable":true,"is_external":false,"external_type":"","size":375,"url":"","url_download":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-F017LC0GGF3/fzf-cmdline.vim","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-F017LC0GGF3/download/fzf-cmdline.vim","original_h":0,"original_w":0,"thumb_64":"","thumb_80":"","thumb_160":"","thumb_360":"","thumb_360_gif":"","thumb_360_w":0,"thumb_360_h":0,"thumb_480":"","thumb_480_w":0,"thumb_480_h":0,"thumb_720":"","thumb_720_w":0,"thumb_720_h":0,"thumb_960":"","thumb_960_w":0,"thumb_960_h":0,"thumb_1024":"","thumb_1024_w":0,"thumb_1024_h":0,"permalink":"https://vim-jp.slack.com/files/U9S4G0LJW/F017LC0GGF3/fzf-cmdline.vim","permalink_public":"https://slack-files.com/T03C4RC8V-F017LC0GGF3-33ac5da6b8","edit_link":"https://vim-jp.slack.com/files/U9S4G0LJW/F017LC0GGF3/fzf-cmdline.vim/edit","preview":"","preview_highlight":"","lines":0,"lines_more":0,"is_public":true,"public_url_shared":false,"channels":null,"groups":null,"ims":null,"initial_comment":{},"comments_count":0,"num_stars":0,"is_starred":false,"shares":{"public":null,"private":null},"display_as_bot":false,"has_rich_preview":false,"username":""}],"upload":true,"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TaKmA"}]},{"client_msg_id":"2f0cc278-4a8f-4e27-880b-f8a1ffaa3d9e","type":"message","user":"U9S4G0LJW","text":"ここまで書いておいてなんだけどあんまりユースケースが思いつかない","ts":"1594915896.496300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+7x4"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"097d4262-d50d-4b23-8d27-8ecaf3903e98","type":"message","user":"U8996GYBF","text":"git logをpreviewしながらgit checkoutのブランチ選ぶとか、rebaseの補完候補に選ぶとかの想定だったんですけど、普通にvimを使う上では汎用的じゃないんですよねぇ","ts":"1594954470.497400","edited":{"user":"U8996GYBF","ts":"1594954671.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"xiwY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
