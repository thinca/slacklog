[{"client_msg_id":"1d0b585c-8a8e-41e7-a01c-ab2c961bba74","type":"message","user":"U7JL1UKKL","text":"deopleteに実装した","ts":"1602586939.020600","team":"T03C4RC8V","reactions":[{"name":"sasu","count":4,"users":["U7B4ZD49X","U8R597E9H","U72TB62UF","UEBF2KQTD"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TPCn"}]},{"client_msg_id":"102e40dc-83b1-420b-bed3-5f167b1195fc","type":"message","user":"U7JL1UKKL","text":"ふむふむ","ts":"1602575655.020200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"L157"}]},{"client_msg_id":"b9846a38-713a-4c2f-b281-5c89f50b2bff","type":"message","user":"U8R597E9H","text":"Vim が \u0026lt;BS\u0026gt; で pum を閉じる → テキスト変化でリクエスト → レスポンス受信で pum 表示\n\nという動きになって、ちらついているっぽいです。（なので、self:display を「テキストが変化する度に叩く」とやると、\n\nVim が \u0026lt;BS\u0026gt; で pum を閉じる → 現在持ってる情報で pum を表示（再表示） → 非同期〜\n\nとなってチラツキが減るっぽい","ts":"1602574762.020000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"H+u"}]},{"client_msg_id":"c76a9aad-cc1e-498c-9ee2-e12f31a1e993","type":"message","user":"U8R597E9H","text":"これ、coc や自作のやつだと LSP の「isIncomplete」に対応するために、テキストが変化する毎にサーバにリクエストが走る（非同期が走る）という動きをしているため","ts":"1602574509.018500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"5Xu3"}]},{"client_msg_id":"77f20817-ac2f-4146-a2db-10eea684588c","type":"message","user":"U7JL1UKKL","text":"あれ、確かにBSでちらつかなくなった気がするぞ","ts":"1602573039.017700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SLKYk"}]},{"client_msg_id":"632dd9de-a26e-40e1-9903-2e33d9d2fca5","type":"message","user":"U7JL1UKKL","text":"私も似たようなことやって見るか","ts":"1602573004.017200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"//m"}]},{"client_msg_id":"8f561f51-ae50-492b-8666-ea320068f81d","type":"message","user":"U7JL1UKKL","text":"うーん","ts":"1602571851.016900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Z3H"}]},{"client_msg_id":"471b8ca3-757f-4b10-8727-77c41e5ab3f3","type":"message","user":"U8R597E9H","text":"なのでこの場合は「とりあえずテキストが変化したので display する」、「その後、補完処理が終わったらもう一度 display する（かもしれない」というコードになります。","ts":"1602571755.016700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TD6H3"}]},{"client_msg_id":"e0e59a44-f154-4abe-9032-599da099e06a","type":"message","user":"U8R597E9H","text":"_trigger は、補完ソースに処理をさせて、コールバックで最終的には display を呼びます。_","ts":"1602571695.015900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XeXD"}]},{"client_msg_id":"a9454c68-0b0c-4b2e-96fb-8a0925551e61","type":"message","user":"U8R597E9H","text":"\u003chttps://github.com/hrsh7th/nvim-compe/blob/master/lua/compe/completion/init.lua#L54\u003e\n手元でこのコードを\n```self:trigger(context)\nself:display(context)```\nにしたら、チラツキがほとんどなくなりました。（原理が想像もできないですが。。。）","ts":"1602571618.015300","edited":{"user":"U8R597E9H","ts":"1602571625.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sqAwd"}]},{"client_msg_id":"fb2173eb-d8bd-4bb0-9dcd-42bae487e9f8","type":"message","user":"U7JL1UKKL","text":"ふむ","ts":"1602571566.014400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A2PY"}]},{"client_msg_id":"7b774988-9b27-4d22-bc90-b1482c93a39f","type":"message","user":"U8R597E9H","text":"ミニマムな条件じゃないので、なんと表現したものかという感じです。。。","ts":"1602571433.013500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"VFJ"}]},{"client_msg_id":"dd6861e5-bbba-4eb8-bc06-23880eeb30c0","type":"message","user":"U7JL1UKKL","text":"手法があるなら試したいんだけど","ts":"1602571368.013000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"WL6h"}]},{"client_msg_id":"00a9e7ff-9f34-4826-8274-57d9564a2161","type":"message","user":"U7JL1UKKL","text":"ん、なんか良い方法あるかな","ts":"1602571350.012700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gziq"}]},{"client_msg_id":"df42cfb7-2d3d-456e-ae43-48bd65a6b8f9","type":"message","user":"U8R597E9H","text":"あ、でもちょっとコード変えたら BS もちらつかせないこと自体は不可能ではないかもです。\nただ、ちょっと条件が違いますし、他プラグインの対応状況見ても一旦は \u0026lt;BS\u0026gt; は別問題として暑かったほうがいいかもしれない。","ts":"1602571311.012400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"3stSw"}]},{"client_msg_id":"8c27676c-3ff6-431b-8b58-3239ddb3c9ff","type":"message","user":"U7JL1UKKL","text":"入力時のちらつきはequalでよいはず。","ts":"1602571219.011300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"sZC"}]},{"client_msg_id":"f46d81ba-ad7a-4177-bc72-2d56767a8aa8","type":"message","user":"U7JL1UKKL","text":"コメントしておこう","ts":"1602571188.010700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"p4h"}]},{"client_msg_id":"2dd47962-337e-45c6-b35c-bede2d71df64","type":"message","user":"U7JL1UKKL","text":"じゃあバックスペースは勘違いだな。バックスペースのちらつきは防ぎようがない","ts":"1602571178.010500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KxIy"}]},{"client_msg_id":"ce15f76c-0045-4221-acde-69e409070983","type":"message","user":"U8R597E9H","text":"そうなんですよね。僕も自前のやつ持ってますが、BS はちらつく。","ts":"1602571144.009800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O2eW"}]},{"client_msg_id":"8ebd9579-5df4-43b2-b92f-8d9395113173","type":"message","user":"U7JL1UKKL","text":"cocで手元で試したけど、バックスペースはちらつく","ts":"1602571016.009500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"UZ3="}]},{"client_msg_id":"929e4c0e-6dc4-48d6-bfeb-116f39a58f81","type":"message","user":"U7JL1UKKL","text":"昔は専用のhack使っていた","ts":"1602570927.009000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JjDZD"}]},{"client_msg_id":"77c4c22b-c444-4177-be29-46a23744d031","type":"message","user":"U7JL1UKKL","text":"cocの実装を確認したのだけど、いまはequalしか使ってないようだ","ts":"1602570909.008400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"SABY8"}]},{"client_msg_id":"c0278602-ffe9-4c97-b155-188a46bf2c8c","type":"message","user":"U7JL1UKKL","text":"この話気になっている","ts":"1602570886.007600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Q6oA8"}]},{"client_msg_id":"095a02f4-c782-4e6a-a083-14d9f4c75979","type":"message","user":"U7JL1UKKL","text":"\u003chttps://github.com/nvim-lua/completion-nvim/issues/237|https://github.com/nvim-lua/completion-nvim/issues/237\u003e","ts":"1602570874.007200","team":"T03C4RC8V","reactions":[{"name":"eyes","count":1,"users":["U7B4ZD49X"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nYd"}]}]
