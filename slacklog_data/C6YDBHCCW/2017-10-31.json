[{"type":"message","text":"hi","ts":"1509430510.000022","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"kamichidu","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-10-10/254377792739_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"hi","ts":"1509430520.000208","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"<https://github.com/emacs-lsp/lsp-mode>","ts":"1509430592.000137","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"kamichidu","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-10-10/254377792739_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"以前thincaさんと話してた、ジェネリックなlspクライアント、emacsに見つけたぽい","ts":"1509430633.000054","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"kamichidu","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-10-10/254377792739_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"よさ","ts":"1509430648.000131","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"vim portingないかな","ts":"1509430662.000036","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"kamichidu","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-10-10/254377792739_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"<https://github.com/prabirshrestha/vim-lsp>","ts":"1509430687.000018","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"kamichidu","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-10-10/254377792739_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"下手に port するより Vim 向けのやつの方がいい気がする","ts":"1509430687.000054","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"こんなのあった","ts":"1509430693.000111","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"kamichidu","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-10-10/254377792739_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"それ試しにインストールだけして実際に動かして試すところまで行けてないやつだ","ts":"1509430716.000063","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"中身pythonのプロセス呼んでるみたい","ts":"1509430745.000041","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"kamichidu","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-10-10/254377792739_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"pure Vim script でやりたい","ts":"1509430759.000020","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"（`setbufline` だとバッファのコンテンツ削除できない・・・）","ts":"1509430776.000122","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"不便すぎる………","ts":"1509430790.000082","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"pythonじゃないのか？ lspの実装プロセスが外部プロセスなのかな","ts":"1509430793.000053","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"kamichidu","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-10-10/254377792739_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"（外のバッファのコンテンツ `%delete _` する方法希望）","ts":"1509430801.000075","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"vim-jp/issues に要望出しておいてください。直接 vim_dev でもいいけど","ts":"1509430822.000050","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"<https://github.com/prabirshrestha/vim-lsp/wiki/Servers-Docker>","ts":"1509430851.000057","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"kamichidu","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-10-10/254377792739_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"ついでに setbufline()、バグがある","ts":"1509430856.000092","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"お、ｍｊｋ","ts":"1509430922.000028","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"<https://github.com/vim-jp/issues/issues/1080>","ts":"1509430961.000107","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"ｍｊｋ．。。","ts":"1509430976.000086","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"パッチも書いてくれてるのでテストして送るだけ感がある…","ts":"1509430984.000015","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"送ってないのはもしかして私の動作確認待ちだったりするかな…だとしたら申し訳なさ………","ts":"1509431028.000031","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"とりあえず","ts":"1509431076.000094","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"```\n  \" <https://github.com/vim-jp/issues/issues/1080>\n  function! s:setbufline(expr, lnum, text) abort\n    let foldexpr = getbufvar(a:expr, '&amp;foldexpr')\n    try\n      call setbufline(a:expr, a:lnum, a:text)\n    finally\n      call setbufvar(a:expr, '&amp;foldexpr', foldexpr)\n    endtry\n  endfunction\n```","ts":"1509431077.000228","edited":{"user":"U776661HA","ts":"1509431093.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"あとは懸念も残ってるっぽいか\n&gt; window に付随する情報で予期しない変更が発生するかもしれません。","ts":"1509431079.000114","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"`foldexpr` を何に変えればいいかな","ts":"1509431107.000207","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"default: 0","ts":"1509431135.000004","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"ですね。0 とかでも再現するはず","ts":"1509431141.000059","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"あ、まちがえた","ts":"1509431166.000050","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"あとは foldmethod を expr に","ts":"1509431171.000049","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"```\n  \" <https://github.com/vim-jp/issues/issues/1080>\n  function! s:setbufline(expr, lnum, text) abort\n    let foldmethod = getbufvar(a:expr, '&amp;foldmethod')\n    try\n      call setbufvar(a:expr, '&amp;foldmethod', 'manual')\n      call setbufline(a:expr, a:lnum, a:text)\n    finally\n      call setbufvar(a:expr, '&amp;foldmethod', foldmethod)\n    endtry\n  endfunction\n```","ts":"1509431208.000001","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"これで Workaround か","ts":"1509431213.000057","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"foldmethod 変えるとたぶん再計算されるから副作用ありそうな予感","ts":"1509431310.000009","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"ぐぬぬ","ts":"1509431332.000135","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"例のパッチを試して送ってしまうのが良いかなぁ","ts":"1509431376.000046","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"それはそれとして setbufline() 顧客が本当に欲しかったものからだいぶかけ離れているのでモチベが","ts":"1509431403.000046","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"とりあえずカレントバッファ以外を操作すること自体は認められたので、ちゃんとした方法考えて提案するのがいいかもしれない","ts":"1509431461.000054","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"setbufline() を拡張か、全く別の関数","ts":"1509431484.000106","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"全削除か置き換え可能な感じのが欲しいですね","ts":"1509431542.000079","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"setbufline() の問題点は2つあって、\n1つはセットしかできない。削除ができない\nもう1つは、カレントバッファ以外のバッファの行数を取得する方法がないので、setline(line('$'), 'foo') ができない。line('$') が取れないので","ts":"1509431554.000053","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"`setline('$', 'foo')` は効いた","ts":"1509431598.000048","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"setbufline() でも '$' 効くかな? 試せばわかるか","ts":"1509431624.000009","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"聞きました","ts":"1509431634.000098","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"なるほど。じゃあそれはできるのか","ts":"1509431645.000033","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"なんかできたけど再描画されないなw","ts":"1509431705.000001","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"line('$') + 1 ができないじゃん","ts":"1509431773.000019","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"line のほかバッファ版も欲しいですよねー","ts":"1509431801.000181","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"通常 setline(line('$') + 1, 'foo') とすると末尾の下の行が追加される。これができない","ts":"1509431830.000021","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"bufline()","ts":"1509431845.000101","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"USLACKBOT","text":"disabled an integration in this channel: <https://vim-jp.slack.com/services/B06F5KG74|おすすめbot>","ts":"1509431860.000055","subtype":"bot_disable","bot_id":"B06F5KG74","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"len(getbufline('#', 1, '$'))\nキビしい","ts":"1509431891.000064","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"ｗｗｗ","ts":"1509431908.000074","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"U776661HA","text":"厳しすぎる","ts":"1509431911.000032","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"getbufinfo() で得られる情報に lnum というのがあるが、これはバッファの行数のことではない","ts":"1509431948.000004","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U776661HA","text":"顧客が本当に求めていたもの","ts":"1509432003.000086","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","text":"line('$') は置いといて、置き換えや削除については例えば、setbufline() の {lnum} に [{start}, {end}] を渡せるようにするという案が考えられる\nsetbufline(1, [1, '$'], [])\nこれで全削除とか","ts":"1509432129.000080","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"ただ過去の例から、あまりない引数ではある","ts":"1509432166.000007","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"あまりというか、たぶんない?","ts":"1509432179.000042","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U03C6TEAZ","text":"enabled an integration in this channel: <https://vim-jp.slack.com/services/B06F5KG74|おすすめbot>","ts":"1509440648.000162","subtype":"bot_enable","bot_id":"B06F5KG74","replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"line({lnum}, [{expr}]) のようにして expr で buffer 指定できるとよいですか？","ts":"1509441728.000001","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"ichizok","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235681004883_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"良さそう。\nあとは getbufinfo() の戻り値に含めるという方法も考えられそうだけど、この場合行だけ欲しい場合は余計な情報をいっぱい返す分遅くなりそうという懸念があるのでやっぱり line() がいいですかねぇ","ts":"1509441834.000070","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","text":"別の案としては、\ngetline() → getbufline()\nsetline() → setbufline()\nなので、\nline() → bufline()\nというのもありかもしれない。関数増やす意味あるのか微妙というのはあるけど","ts":"1509441910.000238","subtype":"bot_message","bot_id":"B7FUS2C9K","username":"thinca","icons":{"image_48":"https://slack-files2.s3-us-west-2.amazonaws.com/bot_icons/2017-09-03/235063553200_48.png"},"replace_original":false,"delete_original":false,"blocks":null},{"type":"message","user":"U03C4RC8X","text":":kokyakugahontounihitsuyoudattamono:","ts":"1509450384.000218","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null,"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
