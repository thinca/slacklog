[{"client_msg_id":"aa83fce7-a3d0-4f2b-9849-73133419d357","type":"message","user":"U03C71D7H","text":"act の問題説が濃厚だなぁ","ts":"1613472062.111400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"glP4"}]},{"client_msg_id":"e32eb2e6-8e2d-4ed1-abad-f779d7439c71","type":"message","user":"UP6PA1UBE","text":"act でしかやってないなら act の問題かもしれず、切り分けられないかも","ts":"1613469870.111000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"J6qe7"}]},{"client_msg_id":"91088381-635c-41aa-997c-5493bcdfb3f0","type":"message","user":"UAZ33BKV2","text":"あー、なるほど特殊なんだね、そうかコマンドの引数専用にしてあるのかな","ts":"1613469832.110400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qiEw"}]},{"client_msg_id":"75be6c83-545d-4853-8194-f5ac6f296f97","type":"message","user":"UP6PA1UBE","text":"おや","ts":"1613469822.110200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"h9q"}]},{"client_msg_id":"f314090c-af3e-4f07-873b-34b8dd8e204c","type":"message","user":"U06ECBRTJ","text":"まだ github actions にデプロイはしてないんですよね","ts":"1613469808.109700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XVI0"}]},{"client_msg_id":"42b097de-685c-47b4-8d28-ecb023f0979b","type":"message","user":"U06ECBRTJ","text":"\u003chttps://github.com/nektos/act\u003e act はこれ","ts":"1613469781.109300","attachments":[{"fallback":"GitHub: nektos/act","id":1,"title":"nektos/act","title_link":"https://github.com/nektos/act","text":"Run your GitHub Actions locally :rocket:. Contribute to nektos/act development by creating an account on GitHub.","thumb_url":"https://avatars.githubusercontent.com/u/3813618?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/nektos/act","original_url":"https://github.com/nektos/act"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OVvqD"}]},{"client_msg_id":"0bcb5829-3536-43e5-94dc-896952f69baf","type":"message","user":"UP6PA1UBE","text":"with.args は with とは別項でヘルプがあって\n\u0026gt; A `string` that defines the inputs for a Docker container. GitHub passes the `args` to the container's `ENTRYPOINT` when the container starts up. An `array of strings` is not supported by this parameter.\nとなってて `array of strings` に非対応って特別に書いてある。やっぱり何か処理が特別なのでは。","ts":"1613469774.109100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vpo"}]},{"client_msg_id":"0d1d6d66-aecf-424c-8875-8004353898ca","type":"message","user":"UAZ33BKV2","text":"サーバで動くならactの問題の可能性はあるけど...","ts":"1613469735.108400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pH6u"}]},{"client_msg_id":"95c499c4-481b-43f3-82ae-7f93d7279894","type":"message","user":"U8996GYBF","text":"act固有のバグの可能性があるのか","ts":"1613469686.107800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GVCH"}]},{"client_msg_id":"885d5bed-5e1f-464b-978c-39c4a322fbab","type":"message","user":"U8996GYBF","text":"コントリビュートチャンスかと思ったけどOSSじゃない？","ts":"1613469669.107300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"O/V7"}]},{"client_msg_id":"a8d44e76-90f2-4242-a0e7-aa4f9b144605","type":"message","user":"U8996GYBF","text":"なんかparseで変なの踏んでそう","ts":"1613469658.107000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4va"}]},{"client_msg_id":"8939a232-a38a-4dca-8b36-ae92f575a3e9","type":"message","user":"UAZ33BKV2","text":"だねえ、よくやるもんね","ts":"1613469652.106800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"82DdW"}]},{"client_msg_id":"76bf5650-379c-4e7c-832b-6544859ee82e","type":"message","user":"UP6PA1UBE","text":"```      - uses: actions/cache@v2\n        with:\n          path: .venv\n          key: venv-${{ runner.os }}-${{ steps.python-info.outputs.version }}```\nこれは動く","ts":"1613469632.106400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"gnaN"}]},{"client_msg_id":"135af5bc-39ee-44e7-8bbd-c06095b9aded","type":"message","user":"UAZ33BKV2","text":"withの中ならどれでもこの問題が出うるならまあ...だけど","ts":"1613469617.106200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"X1ok"}]},{"client_msg_id":"3297f635-0ec8-4c82-889b-f6f418e89bd0","type":"message","user":"UAZ33BKV2","text":"withは基本 action.yml で定義した変数への設定箇所だから、argsが特別ってことはないだろうと思います...","ts":"1613469598.105600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Ug76W"}]},{"client_msg_id":"2f993701-d8dd-45a6-a95d-35a005aab8a2","type":"message","user":"U8996GYBF","text":"なるほど・・・","ts":"1613469570.104900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RKb"}]},{"client_msg_id":"d7fb6dbd-ac29-45f4-94ef-8ab80da59090","type":"message","user":"UP6PA1UBE","text":"`-${{` は他のkeywordでは使えてます。","ts":"1613469564.104700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"R5U"}]},{"client_msg_id":"0d684e20-ca03-441b-a5a6-a6cccab6c968","type":"message","user":"U8996GYBF","text":"`_${{` にしたら変わるとか","ts":"1613469540.104200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"NYuGf"}]},{"client_msg_id":"8c90f533-abdd-4de8-95fb-1ab1a4fa9b3c","type":"message","user":"U8996GYBF","text":"`-${{` が解釈できないとかはありえないんですかね","ts":"1613469517.103900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=q9"}]},{"client_msg_id":"1b73010b-a25d-432a-ba6d-4a3f9421b076","type":"message","user":"UP6PA1UBE","text":"with.* に対して with.args だけ特殊なんですかね\n\u003chttps://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idstepswithargs\u003e","ts":"1613469500.103400","attachments":[{"fallback":"Workflow syntax for GitHub Actions - GitHub Docs","id":1,"title":"Workflow syntax for GitHub Actions - GitHub Docs","title_link":"https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idstepswithargs","text":"A workflow is a configurable automated process made up of one or more jobs. You must create a YAML file to define your workflow configuration.","blocks":null,"service_name":"docs.github.com","from_url":"https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idstepswithargs","original_url":"https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idstepswithargs"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"DmvD"}]},{"client_msg_id":"c0ecb499-10e6-4197-bd72-0fdf94249d7b","type":"message","user":"UAZ33BKV2","text":"ねえ?","ts":"1613469352.102800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cnby"}]},{"client_msg_id":"c9c321e5-eabd-43de-9b33-0fc6da29e2b4","type":"message","user":"UP6PA1UBE","text":"私も先に置換されると思ってたんですが……","ts":"1613469217.102000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4pfke"}]},{"client_msg_id":"d87e383b-9b38-40b1-8d8f-21a716599235","type":"message","user":"UP6PA1UBE","text":"```          args: 'zip -q -r ./hoge-${{ steps.ver.outputs.version }}.zip .'```\nこれで動くかな？","ts":"1613469197.101600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"t4k"}]},{"client_msg_id":"b6d733e1-fb7d-4e42-b523-0820158568f5","type":"message","user":"UAZ33BKV2","text":"ただ、それはツールの引数にいったあとだろうけど、その前にYAML上の特定の記号( `${{ }}` )を置換するはずなのにね","ts":"1613468993.100400","edited":{"user":"UAZ33BKV2","ts":"1613469007.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"+R/"}]},{"client_msg_id":"3cbee1c7-97dd-4da1-acde-0556fb23fda1","type":"message","user":"U06ECBRTJ","text":"あー `args` だから スペース区切りであると","ts":"1613468914.099500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Uqy"}]},{"client_msg_id":"81de8a52-0899-4c94-a702-58f44bc88fde","type":"message","user":"UAZ33BKV2","text":"トークンというか字句分割というか","ts":"1613468862.099000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"jFHWK"}]},{"client_msg_id":"0d5427fc-5ca5-4c6d-ad84-73bced59d3ea","type":"message","user":"UP6PA1UBE","text":"なるほど","ts":"1613468825.098700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eEQr"}]},{"client_msg_id":"980a4261-f277-4cd1-9774-6a43af3ab2a7","type":"message","user":"UAZ33BKV2","text":"あー、withがトークナイズされちゃってるんだな","ts":"1613468788.098400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"o7cvB"}]},{"client_msg_id":"4f71b093-66e6-4a8e-8329-3bf700c02620","type":"message","user":"U06ECBRTJ","text":"act の出力ですが、\n```[build/build]     docker run image=act-montudor-action-zip-v0-1-1:latest entrypoint=[] cmd=[\"zip\" \"-q\" \"-r\" \"./hoge-${{\" \"steps.ver.outputs.version\" \"}}.zip\" \".\"]```","ts":"1613468756.098100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4Qz"}]},{"client_msg_id":"869783ad-5cc5-48c4-8f62-818a2a7ff3b5","type":"message","user":"U06ECBRTJ","text":":x:\n```      - name: Create Zip File\n        uses: montudor/action-zip@v0.1.1\n        with:\n          args: zip -q -r ./hoge-${{ steps.ver.outputs.version }}.zip .```","ts":"1613468659.097400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N0O4e"}]},{"client_msg_id":"c76f5186-a5c6-4434-b5a3-0b1cfad234ee","type":"message","user":"UP6PA1UBE","text":"スペース入ってても動くはずなので、それ以前に YAML の文法がよくなかったのではないかと","ts":"1613468634.096800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M3gb"}]},{"client_msg_id":"9d4502fa-340f-473b-8b93-835f5d6687c2","type":"message","user":"UAZ33BKV2","text":"本来はこの部分は文字列として渡される前に内部のを展開するはずなんですけどね...なぜだ","ts":"1613468608.095900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"FM1Z"}]},{"client_msg_id":"98a27a0d-b7ea-4db8-934c-9a1c35c53890","type":"message","user":"UP6PA1UBE","text":"そこだけじゃなくてもっと具体的に","ts":"1613468588.095400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"QGI"}]},{"client_msg_id":"5e17ec48-18c3-4f0e-b117-3881bd65eadb","type":"message","user":"U06ECBRTJ","text":"慣習として、変数の前後にスペースいれるじゃないですか","ts":"1613468584.095200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"4k89"}]},{"client_msg_id":"98f6a5f0-6536-44cf-953c-ef14cb22a0f6","type":"message","user":"U06ECBRTJ","text":"`${{steps.ver.outputs.version}}`","ts":"1613468562.094200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"RsK/"}]},{"client_msg_id":"11ae18ec-89d4-490f-80e0-da6f18bf2c43","type":"message","user":"U06ECBRTJ","text":"後前の って言ったほうが正しいか","ts":"1613468551.093900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"TejxW"}]},{"client_msg_id":"059c2dea-0e81-4a92-bfa0-e2847304a6c9","type":"message","user":"UP6PA1UBE","text":"具体的に YAML でどう書いたら動かなかったんでしょう","ts":"1613468542.093700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Jqai"}]},{"client_msg_id":"ed244107-2e36-4229-a446-6f6ab79a6fe1","type":"message","user":"UP6PA1UBE","text":"前後の？","ts":"1613468502.093000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"iDA"}]},{"client_msg_id":"528d70c0-8f13-445b-bc07-cbfa3e08572a","type":"message","user":"UAZ33BKV2","text":"なんでだろ?","ts":"1613468350.092800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"64oE"}]},{"client_msg_id":"ec4736e2-2554-4d8b-935f-b86c4aa8a065","type":"message","user":"U06ECBRTJ","text":"個人的にハマりポイントだった","ts":"1613468328.092600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"b6+"}]},{"client_msg_id":"f078f677-b574-4846-8177-ae389eb996da","type":"message","user":"U06ECBRTJ","text":"\u003chttps://github.com/montudor/action-zip\u003e\nこれで、 zip の名前に `${{ steps.ver.outputs.version }}` って書いたら、処理されなくて、カッコの前後のスペース消したら通った… 辛い…","ts":"1613467156.092000","attachments":[{"fallback":"GitHub: montudor/action-zip","id":1,"title":"montudor/action-zip","title_link":"https://github.com/montudor/action-zip","text":"A GitHub action used to zip file contents. Contribute to montudor/action-zip development by creating an account on GitHub.","thumb_url":"https://avatars.githubusercontent.com/u/28864887?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/montudor/action-zip","original_url":"https://github.com/montudor/action-zip"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"vhI8"}]},{"client_msg_id":"5a10f959-f73d-41d0-877b-ab6f289a4964","type":"message","user":"U06ECBRTJ","text":"act コマンドが前より良くなった気がする","ts":"1613466971.090400","team":"T03C4RC8V","reactions":[{"name":"eyes","count":2,"users":["UGXMRNBUM","UBRTB4N5C"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"eAVb"}]},{"client_msg_id":"fab671c0-987a-414e-8cbe-8f452c45e1be","type":"message","user":"U06ECBRTJ","text":"Github Actions で依存ライブラリとかをまとめた zip ファイルを作ろうと思ってるんですが、artifacts に上げる zip を hoge-[branch or tag].zip みたいな名前にしようとすると、すごく面倒…","ts":"1613464823.089900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"JFxPa"}]},{"client_msg_id":"82ad7b1b-1e4f-42d2-8db6-7cad052c470c","type":"message","user":"UP6PA1UBE","text":"GitHub Actions の artifacts quota が上限に行ってしまってツライ……","ts":"1613463026.088400","team":"T03C4RC8V","reactions":[{"name":"totemoturai","count":5,"users":["U06ECBRTJ","UDDCM376D","U7JL1UKKL","U7B4ZD49X","U01BY3SDBRS"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pfR6"}]}]
