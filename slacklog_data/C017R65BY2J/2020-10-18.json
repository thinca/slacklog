[{"client_msg_id":"841ed8b8-0d72-49fa-931f-fea6b00e87b1","type":"message","user":"UAZ33BKV2","text":"まあよかった\n本当に最初ならPR側だけでも動く(forkとかだと許可は必要かもしれないが)はずだけど...まあいいか","ts":"1603025838.196600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"mSW"}]},{"client_msg_id":"bd82ea0c-f211-42e5-8e04-5c111de170c6","type":"message","user":"U8996GYBF","text":"なんかWeb UIからの設定で勝手に実行されるようになってしまったけど、本来やらないといけないことは\n- masterにCIのルール入れる\n- PRに対してmasterでrebaseしてforce pushしてもらう\nでうまくいくはずですよね\n\nありがとうございます！","ts":"1603025372.195800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"lEFj"}]},{"client_msg_id":"64e424a0-81d5-489e-9b54-ee43c564e022","type":"message","user":"U8996GYBF","text":"masterに設定を入れたあとに\n\u0026gt; Require status checks to pass before merging\nを設定したら既存PRに実行が始まったっぽい、なんだこの挙動は","ts":"1603025253.194400","edited":{"user":"U8996GYBF","ts":"1603025274.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Vn6T"}]},{"client_msg_id":"312b4623-acd7-486d-95bb-da3100b1dee9","type":"message","user":"UAZ33BKV2","text":"であればたしかにrebase(or merge master)でいいかな...","ts":"1603025151.193700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"E9L3+"}]},{"client_msg_id":"818bae5d-f306-4a40-8c55-e42d9cfba39b","type":"message","user":"UAZ33BKV2","text":"ん、もうmasterには入ってる?","ts":"1603025131.193300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"OhZt2"}]},{"client_msg_id":"208c76c4-8498-41eb-9764-170d79e2d7d7","type":"message","user":"U8996GYBF","text":"じゃあPRにCIが発火するよう変更を入れたからmasterをrebaseしてみて、でよさそうかな","ts":"1603025108.193000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"AGF"}]},{"client_msg_id":"4a52d591-804f-4766-a094-634cb107de2a","type":"message","user":"U8996GYBF","text":"PRに乗ってる設定ファイルに沿って、ですね\nありがとうございますー","ts":"1603025063.192200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"GtGXV"}]},{"client_msg_id":"994c9bab-e8f4-4771-b2a7-7adb9501ea47","type":"message","user":"UAZ33BKV2","text":"ああ、GitHub Actionsを設定してないリポジトリのPRにあとから入れたいと...\nであれば、PRに入れるだけでも反応はするはずです。\nscheduleじゃなければ、そのPRにのってる設定ファイルにそって動きますから","ts":"1603025019.191800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"A=I"}]},{"client_msg_id":"69953738-11fd-4970-a555-4c7b989dfb80","type":"message","user":"U8996GYBF","text":"って感じでした","ts":"1603024827.190600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fLit"}]},{"client_msg_id":"283fc1e5-4292-45fe-86e6-d7892cd53fa7","type":"message","user":"U8996GYBF","text":"すみません、今聞きたかったのは\n- 最終的な目的としては既存のPRに対してGitHub Actionsを実行したい\n- CircleCIとかだと、PRのブランチのconfigに変更を入れてpushしたときに反映される\n  - masterに変更入れても反映されない\n- 上記挙動についてGitHub Actionsではmasterのconfigが変更されたら実行されるようになる？\n- GitHub Actionsを既存PRに対して実行するベストプラクティス的なのがもしあれば知りたい","ts":"1603024820.190400","edited":{"user":"U8996GYBF","ts":"1603024850.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HuUOc"}]},{"client_msg_id":"e17e5a09-411a-453b-b414-8179f94046a8","type":"message","user":"UAZ33BKV2","text":"えーと、どういう動きが欲しいのか、リストアップできますか?\n五月雨に言葉で聞くとわかりにくくて...","ts":"1603024675.187700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qXv"}]},{"client_msg_id":"4d7421d5-285c-40f2-8eb0-784caf70d3b5","type":"message","user":"U8996GYBF","text":"GitHub ActionsってCircleCIと同じで対象のブランチに反映しないといけないです？\nmasterに入ってれば全部に反映される？","ts":"1603024639.186900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"8Mg"}]},{"client_msg_id":"a3ac36b0-ff5b-413b-a0ef-f0d10e14d8c3","type":"message","user":"U8996GYBF","text":"pushしたのはいいとして、既存の飛んできたPRに走らせる手段あるのか調べてみよう\nなさそう・・・","ts":"1603024581.185900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"j56"}]},{"client_msg_id":"51cd78e4-11d1-417f-98fe-a07a0aaf1a1b","type":"message","user":"U8996GYBF","text":"単位の名前間違えてたか、workflowになるんですね","ts":"1603024563.185500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u9hs"}]},{"client_msg_id":"3f9d2139-b6e6-4984-bb47-0d5a07e43a1a","type":"message","user":"UAZ33BKV2","text":"actionというかworkflowを別にすればOK","ts":"1603024541.185000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1s6I"}]},{"client_msg_id":"6232dc6f-bc97-46a9-aef1-2db01d882310","type":"message","user":"U8996GYBF","text":"別のaction作るになるのかな","ts":"1603024525.184700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"M4X"}]},{"client_msg_id":"a73ca259-0555-45fc-b54e-23142edb544d","type":"message","user":"U8996GYBF","text":"ですよね、まぁそれは仕方ないとして","ts":"1603024515.184500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MvVUn"}]},{"client_msg_id":"d2edc4ad-dd83-4283-a8ff-26270937d9b8","type":"message","user":"UAZ33BKV2","text":"それ要件として変になるし...","ts":"1603024490.184200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6HUt"}]},{"client_msg_id":"5c954328-f940-4f37-b2d0-92a70a17afd2","type":"message","user":"UAZ33BKV2","text":"あ、pull-reqのときでか...だとまあ無理ですね","ts":"1603024483.184000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"y9z"}]},{"client_msg_id":"636684e4-68bf-44a1-9953-e337d637f679","type":"message","user":"U8996GYBF","text":"あれ、できます？\nキーの衝突とかで無理かと思ったけど配列でできるとかかな","ts":"1603024445.183600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fcOvK"}]},{"client_msg_id":"20df8785-cfdf-4e4b-86eb-0fab34524f02","type":"message","user":"UAZ33BKV2","text":"ん、不可能じゃないとは重いますが","ts":"1603024416.182900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"zVm05"}]},{"client_msg_id":"6d6e1600-1b32-46ff-9788-ad8fc9401c7f","type":"message","user":"UAZ33BKV2","text":"\u003chttps://github.com/styfle/cancel-workflow-action\u003e","ts":"1603024406.182500","attachments":[{"fallback":"GitHub: styfle/cancel-workflow-action","id":1,"title":"styfle/cancel-workflow-action","title_link":"https://github.com/styfle/cancel-workflow-action","text":":black_square_for_stop: GitHub Action to cancel previous running workflows on push - styfle/cancel-workflow-action","thumb_url":"https://repository-images.githubusercontent.com/237695528/790bf580-8d6d-11ea-8524-57512d577f22","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":495,"thumb_height":250,"from_url":"https://github.com/styfle/cancel-workflow-action","original_url":"https://github.com/styfle/cancel-workflow-action"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EfA"}]},{"client_msg_id":"7c064a47-51c3-45b4-a5d4-4a9ca34bb595","type":"message","user":"U8996GYBF","text":"これって複数ルールのマージ的なのできないですよね、synchronized使いつつmasterはclosedのときだけ発火とかyamlで定義できなさそう","ts":"1603024393.182300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6mcQ"}]},{"client_msg_id":"ebe4da5c-9c95-42f7-ab0c-b5dd0b907f4f","type":"message","user":"UAZ33BKV2","text":"もし重い+連発する+前のCIはキャンセルしていい、ならcancel actionも入れるとかかな","ts":"1603024347.181400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"421"}]},{"client_msg_id":"cd2d574c-78e3-44d4-9954-1044876caad5","type":"message","user":"UAZ33BKV2","text":"あー、常に動いていいならそれで、そうじゃないなら例にあるようにpull-req target master closedでやればいけそうですね","ts":"1603024310.180600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"XGAgu"}]},{"client_msg_id":"43d23e6d-936c-4657-b7da-ae21f85b1e0b","type":"message","user":"U8996GYBF","text":"\u0026gt; マージされたプルリクエストは常にプッシュになるため、 push イベントを利用してもプルリクエスのとマージ時にワークフローの実行が可能です。\nだけでよさそうですね","ts":"1603024282.180000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"N34/f"}]},{"client_msg_id":"d449b039-0d7f-4438-8ed1-ae92bfcdd641","type":"message","user":"U8996GYBF","text":"それっぽい\n\u003chttps://qiita.com/okazy/items/7ab46f2c20ec341a2836\u003e","ts":"1603024250.179500","attachments":[{"fallback":"Qiita: GitHub Actions でプルリクのマージでワークフローを実行する - Qiita","id":1,"title":"GitHub Actions でプルリクのマージでワークフローを実行する - Qiita","title_link":"https://qiita.com/okazy/items/7ab46f2c20ec341a2836","text":"2020/07/11 コメントでご指摘いただきまして内容を修正しました。ありがとうございます。 GitHub Actions にはプルリクがマージされた際のイベントは用意されていません。 プルリクがクローズされた際のイベントとプルリ...","image_url":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-1.2.2\u0026w=1200\u0026mark=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D380%26txt%3DGitHub%2520Actions%2520%25E3%2581%25A7%25E3%2583%2597%25E3%2583%25AB%25E3%2583%25AA%25E3%2582%25AF%25E3%2581%25AE%25E3%2583%259E%25E3%2583%25BC%25E3%2582%25B8%25E3%2581%25A7%25E3%2583%25AF%25E3%2583%25BC%25E3%2582%25AF%25E3%2583%2595%25E3%2583%25AD%25E3%2583%25BC%25E3%2582%2592%25E5%25AE%259F%25E8%25A1%258C%25E3%2581%2599%25E3%2582%258B%26txt-color%3D%2523333%26txt-font%3DHiragino%2520Sans%2520W6%26txt-size%3D54%26txt-clip%3Dellipsis%26txt-align%3Dcenter%252Cmiddle%26s%3D25b666b531f963b516b554f0db867da9\u0026mark-align=center%2Cmiddle\u0026blend=https%3A%2F%2Fqiita-user-contents.imgix.net%2F~text%3Fixlib%3Drb-1.2.2%26w%3D840%26h%3D500%26txt%3D%2540okazy%26txt-color%3D%2523333%26txt-font%3DHiragino%2520Sans%2520W6%26txt-size%3D45%26txt-align%3Dright%252Cbottom%26s%3D2402c99b0dee89971a94322aadcff2d6\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=a230a2caef58fe8d9ca80bc144f05109","blocks":null,"service_name":"Qiita","service_icon":"https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png","from_url":"https://qiita.com/okazy/items/7ab46f2c20ec341a2836","original_url":"https://qiita.com/okazy/items/7ab46f2c20ec341a2836"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"0R=p"}]},{"client_msg_id":"fad287d3-a98e-4e27-8178-9eb6ee3a5c79","type":"message","user":"U8996GYBF","text":"マージされた直後に実行したい気持ち結構ありそうだけどそうでもないのかな","ts":"1603024181.179000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"9DS"}]},{"client_msg_id":"e608cc4d-d6c0-4fd2-a183-a36e6a203452","type":"message","user":"UAZ33BKV2","text":"\u003chttps://github.com/tsuyoshicho/vital-codec/blob/79a3b676cb6dfb128d89f8c7015d23780210a54d/.github/workflows/vimhelpdeploy.yml#L1-L5\u003e\nな感じで指定(pull-requestと合せて可能)するとmasterだけ動きますね、mergedあったっけ...","ts":"1603024132.178600","edited":{"user":"UAZ33BKV2","ts":"1603024236.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Lyg"}]},{"client_msg_id":"47b52a12-be93-4bb4-8d2a-16d0bf5df4df","type":"message","user":"UAZ33BKV2","text":"それは","ts":"1603024025.177900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"cWDg"}]},{"client_msg_id":"051a6fac-d710-4cf4-8ee5-fd64a45149ab","type":"message","user":"U8996GYBF","text":"今見てます、基本pull_requestだけでよくて\nmasterだけmergeとかpushのタイミングでCI走らせたかったらpushとmergedみたいなの探せばいいのかな","ts":"1603023931.177600","edited":{"user":"U8996GYBF","ts":"1603024066.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"6NE2T"}]},{"client_msg_id":"0409c578-f206-4938-8364-cb0a84f466e1","type":"message","user":"UAZ33BKV2","text":"テスト用にちょっとだけ違うけど、onの種別は変ってない","ts":"1603023798.176800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"c9Dc"}]},{"client_msg_id":"483394e8-61a8-491a-b6e7-00450114f5a7","type":"message","user":"UAZ33BKV2","text":"\u003chttps://github.com/tsuyoshicho/action-textlint/pull/87\u003e\nとりあえずでいうと\n\u003chttps://github.com/tsuyoshicho/action-textlint/runs/1269849918\u003e\n\u003chttps://github.com/tsuyoshicho/action-textlint/runs/1269866355\u003e\nこの反応はcommitの追加で\nというworkflow\n\u003chttps://github.com/tsuyoshicho/action-textlint/blob/5142a29a505f51c8451197de7da53f1812d72116/.github/workflows/reviewdog.yml#L1-L2\u003e","ts":"1603023762.176000","attachments":[{"fallback":"GitHub: tsuyoshicho/action-textlint","id":4,"title":"tsuyoshicho/action-textlint","title_link":"https://github.com/tsuyoshicho/action-textlint/blob/5142a29a505f51c8451197de7da53f1812d72116/.github/workflows/reviewdog.yml#L1-L2","text":"Run textlint with reviewdog on pull requests to improve document writing experience. - tsuyoshicho/action-textlint","thumb_url":"https://avatars2.githubusercontent.com/u/96727?s=400\u0026v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/tsuyoshicho/action-textlint/blob/5142a29a505f51c8451197de7da53f1812d72116/.github/workflows/reviewdog.yml#L1-L2","original_url":"https://github.com/tsuyoshicho/action-textlint/blob/5142a29a505f51c8451197de7da53f1812d72116/.github/workflows/reviewdog.yml#L1-L2"}],"edited":{"user":"UAZ33BKV2","ts":"1603023774.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=4c"}]},{"client_msg_id":"f386d911-a4b3-4d96-a8bb-3938be45a587","type":"message","user":"U8996GYBF","text":"あ、 `synchronized` がコミットの追加にそもそも反応するのか\nこの辺の説明ちゃんとしたのはどこにあるんだろう・・・","ts":"1603023563.175300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MMMHH"}]},{"client_msg_id":"39858226-1acd-441a-9b15-503d2cc8a4cf","type":"message","user":"U8996GYBF","text":"基本的にCIだと基本的にPRがopenedになったときにだけ反応して貰って、あとはpushで反応して貰えば多分大丈夫ですよねー","ts":"1603023062.174300","edited":{"user":"U8996GYBF","ts":"1603023114.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"IsD"}]},{"client_msg_id":"f8fc6218-3e7f-437c-82b9-be0056858abe","type":"message","user":"UAZ33BKV2","text":"PRでコミットが積み上ったときに反応すると思いますので、editでコミットが増えれば反応するだろうけど","ts":"1603023040.173700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=cy"}]},{"client_msg_id":"64ffc3be-7335-4833-abbb-55d901a4e7a7","type":"message","user":"U8996GYBF","text":"\u0026gt; 注: デフォルトでは、ワークフローが実行されるのはpull_request のアクティビティタイプが opened、synchronize、または reopened の場合だけです。 他のアクティビティタイプについてもワークフローをトリガーするには、types キーワードを使用してください。\n\u003chttps://docs.github.com/ja/free-pro-team@latest/actions/reference/events-that-trigger-workflows#pull_request\u003e\nこれか","ts":"1603023026.173200","edited":{"user":"U8996GYBF","ts":"1603023032.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"peDCF"}]},{"client_msg_id":"1ea03dbe-9942-4c7d-b8a6-d43375929b60","type":"message","user":"U8996GYBF","text":"editみたいなので反応してくれる必要ないし、2回目以降はpushの方で反応するのかな","ts":"1603022926.172300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"yeedL"}]},{"client_msg_id":"34044727-5b8d-46a9-8521-9cebd9a7bb66","type":"message","user":"U8996GYBF","text":"```on:\n  - push\n  - pull_request```\nってやってみてるんですけど、pull_requestってのがeditとかにも反応するかちょっと調べてみてるとこです","ts":"1603022888.171600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"CN2u4"}]},{"client_msg_id":"ac86eafd-2b51-4fee-b8f5-192e8d7513fc","type":"message","user":"UAZ33BKV2","text":"PRならpull-requestイベントじゃないとですね","ts":"1603022845.170900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZGCpc"}]},{"client_msg_id":"908a392b-64aa-46f2-9e33-3256aaafd30d","type":"message","user":"U8996GYBF","text":"この辺かな、頑張ろう\n\u003chttps://docs.github.com/ja/free-pro-team@latest/actions/reference/workflow-syntax-for-github-actions\u003e","ts":"1603022795.170500","attachments":[{"fallback":"GitHub Actionsのワークフロー構文 - GitHub Docs","id":1,"title":"GitHub Actionsのワークフロー構文 - GitHub Docs","title_link":"https://docs.github.com/ja/free-pro-team@latest/actions/reference/workflow-syntax-for-github-actions","text":"ワークフローは、1つ以上のジョブからなる設定可能な自動化プロセスです。 ワークフローの設定を定義するには、YAMLファイルを作成しなければなりません。","blocks":null,"service_name":"docs.github.com","from_url":"https://docs.github.com/ja/free-pro-team@latest/actions/reference/workflow-syntax-for-github-actions","original_url":"https://docs.github.com/ja/free-pro-team@latest/actions/reference/workflow-syntax-for-github-actions"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"clPl"}]},{"client_msg_id":"134a4a2a-76ae-4937-afb2-970e29011155","type":"message","user":"U8996GYBF","text":"送られてきたプルリクに対してCIが走ってないのどうにかしようと思ったけど知見不足だ\n`on: push` だけでPR含め反応してくれないかと思ってたけどダメなんですね","ts":"1603022787.170300","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pKpr"}]}]
