[{"client_msg_id":"36ebc533-1841-418e-8c46-b46796d2ef1d","type":"message","user":"U8R597E9H","text":"CursorMovedP 相当がないのでだめぽいです…研究は続く","ts":"1584775758.073600","thread_ts":"1584772192.073200","parent_user_id":"U8R597E9H","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"wMWIN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2eec6ba1-d5d4-4f0b-9935-8712704507a4","type":"message","user":"U7JL1UKKL","text":"Vimのネイティブなフィルタリングは無効にすることができます","ts":"1584782692.074300","thread_ts":"1584782692.074300","reply_count":1,"replies":[{"user":"U8R597E9H","ts":"1584788171.089500"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"r4dq"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"2ffb4f6f-b176-40dc-a079-3bec649ecce4","type":"message","user":"U7JL1UKKL","text":":help complete-items","ts":"1584782768.074800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Y8E5+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"type":"message","user":"UPZHKAM7W","text":"```\n                                                *complete-items*\nリストの各要素は文字列か辞書のどちらかであること。文字列の場合はそれが候補とな\nる。辞書の場合は以下の要素を含んでいること:\n        word            挿入されるテキスト。必須\n        abbr            \"word\" の略。これが空でなければ、メニューで \"word\" の\n                        代わりに表示される。\n        menu            ポップアップメニューにおける追加情報。\"word\" または\n                        \"abbr\" の後に表示される。\n        info            この要素についての追加情報。プレビューまたはポップアッ\n                        プウィンドウに表示することができる。\n        kind            候補の種類を表す1文字\n        icase           0 でないならば、候補同士を比較するとき大文字小文字は無\n                        視される。省略された場合は 0 となり、大文字小文字の違\n                        いしかない候補も追加される。\n        equal           ゼロ以外の場合、比較時にこの項目が常に等しいと見なされ\n                        る。つまり、\"equal=1\" はこのアイテムのフィルタリングを\n                        無効にする。\n        dup             0 でないならば、すでに同じ候補があってもこの候補を追加\n                        する。\n        empty           0 でないならば、空文字であってもこの候補を追加する。\n        user_data       この要素に関連付けられた |v:completed_item| で使用可能\n                        なカスタムデータ。任意の型が使用できる。既定は空文字\n                        列。\n \nこれらのうち \"icase\", \"equal\", \"dup\" および \"empty\" 以外は文字列でなければなら\nない。これらの要件が満たされない場合はエラーメッセージが表示され、リスト中のそ\nれ以降の要素は無視される。リストの中で文字列と辞書が混在していてもよい。\n \n\"menu\" はポップアップメニューに表示される。長すぎる場合は切り詰められるので、\n短くするとよい。\"info\" は 'completeopt' に \"preview\" が含まれている場合にプレ\nビューウィンドウに表示され、'completeopt' に \"popup\" が含まれている場合にポッ\nプアップウィンドウに表示されるので、これはもっと長くてもよい。プレビューウィン\nドウでは \"info\" はまた、ポップアップメニューが消えた後にもそのまま表示される。\nこれは関数の引数を表示する場合などに便利である。\"info\" にスペース1個を指定する\nと、プレビューウィンドウに表示されているテキストが消去される。プレビューウィン\nドウの大きさは 3 行だが、'previewheight' が 1 か 2 のときはその高さで表示され\nる。\n```","ts":"1584782769.074900","bot_id":"BPM858KEE","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":null},{"client_msg_id":"9dc9b993-f1ce-4f03-8ecb-13de04af8bff","type":"message","user":"UNJ2DANJC","text":"補完系の機能ってLSPを経由させるのか、そうではなく直接completion engineのsourceにするのか塩梅が難しそう","ts":"1584783067.079000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"=xN"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f2c4e06c-316e-4ca1-8a52-5894a7ea2652","type":"message","user":"U7JL1UKKL","text":"LSPだけだと補完source足りないから結局補完エンジンは必要になると思う","ts":"1584783226.079900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"1Ib"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"be9ddb41-e4b4-4138-bde3-1aba336fb0f5","type":"message","user":"U7JL1UKKL","text":"LSPはオムニ補完の代替でしかない","ts":"1584783244.080400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ZPB"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"a8ec5286-54d4-4953-a41e-8d630bdcd654","type":"message","user":"UAZ33BKV2","text":"vim上のあれこれをlspに伝えて、受けたデータを成形しないとですしねー。","ts":"1584783444.083200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"MHD0Q"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"5e508b98-8c50-4ee6-910d-29cbc26af6bf","type":"message","user":"UG6DF6W87","text":"<https://github.com/tennashi/gitsign.vim>\nvim-gitgutter ~のパクり~ を参考に自分で書いてみました\n// とくに gitgutter に比べてメリットがある訳ではないです、今のところ\n// diff 表示のロジックは ~gitgutter のやつよくわからなかったので~ VS Code を参考にシンプルにしてます","ts":"1584783698.085100","attachments":[{"fallback":"GitHub: tennashi/gitsign.vim","id":1,"title":"tennashi/gitsign.vim","title_link":"https://github.com/tennashi/gitsign.vim","text":"Contribute to tennashi/gitsign.vim development by creating an account on GitHub.","thumb_url":"https://avatars1.githubusercontent.com/u/10219626?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/tennashi/gitsign.vim","original_url":"https://github.com/tennashi/gitsign.vim"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hwtn"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"071379cd-a2ee-4201-9300-7cd27048739b","type":"message","user":"UNJ2DANJC","text":"LSPもcompletion engineからみるとsourceの一つでしかないんですよね。\nLSPサーバーはfiletypeごとに一つづつって感じですし、nextwordとかみたいなgenericなものはcompletion engineと直結させた方が良さそうな気がします。","ts":"1584784057.089200","edited":{"user":"UNJ2DANJC","ts":"1584784230.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2Lv"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cca4297a-33ab-45e6-9450-50b78e0f7c18","type":"message","user":"U8R597E9H","text":"なるほど…！equals 使えばいいんですね。試してみます！","ts":"1584788171.089500","thread_ts":"1584782692.074300","parent_user_id":"U7JL1UKKL","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"tBaTI"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"4863484c-12e9-45b2-81ac-3ac52b8737b7","type":"message","user":"UEA8SS1RN","text":"neovim on ArchLinuxでcheckhealthすると、\n```health#denite#check\n========================================================================\n## denite.nvim\n  - OK: has(\"python3\") was successful\n  - OK: Python 3.6.1+ was successful\n  - ERROR: Require msgpack 1.0.0+ was not successful\n    - ADVICE:\n      - Please install/upgrade msgpack 1.0.0+.```\nて言われるんですけど、pacman -Ssしてもmsgpackそのものって無いんですよね。msgpackってライブラリなんですか?なんにせよ、どれを入れたら良いのでしょうか？","ts":"1584789896.091400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"LdeR"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b06ef99e-8f96-400a-a131-414cb38e7e99","type":"message","user":"U9S4G0LJW","text":"Pacman経由で入れたなら何もする必要ないかと、エラーが出る原因はわからないけど依存で入ってるので(パッケージ名はmsgpack-cです)","ts":"1584789979.092200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"YGY"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"640076cb-dfd5-477d-b58b-c72f8412d3c3","type":"message","user":"U8996GYBF","text":"あれ、 `pip3 install msgpack` って話ではなく入っている？","ts":"1584790023.092700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oqC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"3f41bacd-a21e-43c7-ba28-5267e9b19d4c","type":"message","user":"U8996GYBF","text":"まとめて入ったならmsgpackが古い可能性がありそう、自分も同じエラー出たんでこの前\n`pip3 install --upgrade msgpack` しました","ts":"1584790048.093700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bFp"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"9b45ec92-aa3d-46e8-92f5-dab8b64fae65","type":"message","user":"U8996GYBF","text":"逆にneovimパッケージ側に同梱されてて古いんなら面倒そうな・・・","ts":"1584790070.094100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"EDpvD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"7759fda4-b5f5-4ea0-9567-7cdf65eb1e98","type":"message","user":"U8996GYBF","text":"ちゃんと読めてなかったけど `msgpack-c` っていうやつがあるんですね、それがdeniteで必要なmsgpackに対応していない？","ts":"1584790128.094800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"u9Hy"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"42fcf0de-4306-405b-aeea-98bc682d5b59","type":"message","user":"U9S4G0LJW","text":"完全に勘違いしてました、pipでインストールしたら解決するなこれ","ts":"1584790136.095000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"036"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"754c76ec-1b37-4677-acfd-b2cfd2f0205c","type":"message","user":"U9S4G0LJW","text":"pacmanのpython-msgpackが古い","ts":"1584790171.095400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2=xs"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"c64194a8-7075-4016-a1be-20b32ca60488","type":"message","user":"U8996GYBF","text":"そっち削除してpipで最新入れる感じですかね？\nなんかそっちからもpythonのライブラリ提供してると絡み合って事故りそうで怖い","ts":"1584790225.096400","team":"T03C4RC8V","reactions":[{"name":"sorena","count":1,"users":["U9S4G0LJW"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"HOm"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"8d96429b-946b-4751-8adf-71468b3bca1a","type":"message","user":"U9S4G0LJW","text":"これ入れておくとよさそう <https://www.archlinux.org/packages/community-testing/x86_64/python-msgpack/>","ts":"1584790318.096700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fNL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"46e17845-f37e-422f-85fc-3c148a2ef425","type":"message","user":"U8996GYBF","text":"話飛ぶんですけど、checkhealthでPython 2 providerのチェックが出ると思うんですけど、これもう捨てちゃっても基本的には大丈夫そうなんですかね\nMacはhomebrewからpython@2消えちゃったし","ts":"1584790514.098600","edited":{"user":"U8996GYBF","ts":"1584790548.000000"},"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"ryC"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ce24148a-8a7f-43cc-9d60-2eeaa60f5a0a","type":"message","user":"U9S4G0LJW","text":"Python2に依存するプラグインを入れていない限り入れなくても問題ないと思います","ts":"1584790577.099100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"nCPx"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"cb8bc96e-9611-40c2-a2c2-ac8022613f92","type":"message","user":"U8996GYBF","text":"有名どころって多分もう3ですよねぇ\n捨てちゃおうかな","ts":"1584790596.099500","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"20=d0"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"57feb4d7-4f0f-447b-8999-88eec9a243ef","type":"message","user":"U7JL1UKKL","text":"はい。Archのmsgpackが古いんです","ts":"1584790684.099900","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V/6"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"e16a4a22-8d25-4f46-8518-3e4b8f62a74f","type":"message","user":"UEA8SS1RN","text":"pip install --upgrade msgpack で解決しました。ありがとう御座います。","ts":"1584791249.100400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"V7f"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f7ec05c6-fc39-4e97-a419-c163d662cead","type":"message","user":"U7JL1UKKL","text":"<https://github.com/Shougo/deoplete-nextword|https://github.com/Shougo/deoplete-nextword>","ts":"1584757956.065000","attachments":[{"fallback":"GitHub: Shougo/deoplete-nextword","id":1,"title":"Shougo/deoplete-nextword","title_link":"https://github.com/Shougo/deoplete-nextword","text":"A deoplete source for nextword for completing words in English. - Shougo/deoplete-nextword","thumb_url":"https://avatars3.githubusercontent.com/u/41495?s=400&v=4","blocks":null,"service_name":"GitHub","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/github.png","thumb_width":400,"thumb_height":400,"from_url":"https://github.com/Shougo/deoplete-nextword","original_url":"https://github.com/Shougo/deoplete-nextword"}],"team":"T03C4RC8V","reactions":[{"name":"benri","count":5,"users":["U78A6ESHM","UAZ33BKV2","U72TB62UF","UNJ2DANJC","U7TMPGWJ0"]}],"replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KKXt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ac71051f-e337-459a-9b31-1ae38ea2ab3d","type":"message","user":"U7JL1UKKL","text":"neco-lookを置き換えることのできるsourceを作りました","ts":"1584757973.065700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"pEiss"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"83760194-f365-4102-967e-8f1c519f30a0","type":"message","user":"U7JL1UKKL","text":"英単語の入力にとても便利です","ts":"1584757986.066100","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"hR+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"67524862-19d8-4ebb-b56c-701cb265c6ec","type":"message","user":"U7JL1UKKL","text":"lookコマンドに依存しませんがnextlookコマンドをインストールする必要があります","ts":"1584758166.067000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"fyD"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"25a9ae07-a7e6-4afb-9131-eecf2173967f","type":"message","user":"U7JL1UKKL","text":"deniteにline/external sourceを追加中","ts":"1584765185.067800","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oZSsX"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b5359853-f749-4580-84ca-eea1b12f6171","type":"message","user":"U7JL1UKKL","text":"外部コマンドを用いてバッファ検索を行います。","ts":"1584765204.068400","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"Jrg5"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"816fed8e-81db-4f49-a383-8ab44f0615e8","type":"message","user":"U7JL1UKKL","text":"やれることに制約がありますが、とても高速に動作","ts":"1584765241.069000","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"KCwr+"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"891c38b4-5e6c-41f8-8133-f2eb0f2fceac","type":"message","user":"U7JL1UKKL","text":"パフォーマンスを上げなければ自分の作業に支障がでていた","ts":"1584766000.069700","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"qcU/"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"ebfddb65-1d14-4173-b628-4e8ded822295","type":"message","user":"U8996GYBF","text":"ruby_hl_lvar.vim、便利なんだけどバグを踏み抜く頻度が多くて辛い・・・","ts":"1584771429.070200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"oQgmL"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"b4655b16-5a11-4ef7-8bd3-b54c827c8b9f","type":"message","user":"U72TB62UF","text":"最近英語のドキュメント読み書きあるのでありがたし","ts":"1584772142.072200","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"bvt"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"f730a2fd-b7ce-480a-96b5-675a3527fea1","type":"message","user":"U8R597E9H","text":"最近趣味で vim の補完プラグインを作ったりしてみているんですが、面白い事に気づきました。\n普通 `入力のたびに候補一覧を計算しなおして complete() 関数を叩く` と実装すると思うのですが、ここで `TextChangedI, TextChangedP` を利用すると\nvim 側のネイティブな挙動としてのフィルタリングが走った後に plugin 側で「filter -&gt; complete」と走るので、ちらつきます。","ts":"1584772161.072600","team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2CG"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"},{"client_msg_id":"66355a12-0974-4378-b691-6248c4bdfd41","type":"message","user":"U8R597E9H","text":"プラグイン側で `CursorMovedI` を使うとちらつかない事がわかりました。（ただ移動しただけで発動するのがアレなので特別な制御がいりそうですが）","ts":"1584772192.073200","thread_ts":"1584772192.073200","reply_count":1,"replies":[{"user":"U8R597E9H","ts":"1584775758.073600"}],"team":"T03C4RC8V","replace_original":false,"delete_original":false,"blocks":[{"type":"rich_text","block_id":"2l6N"}],"source_team":"T03C4RC8V","user_team":"T03C4RC8V"}]
